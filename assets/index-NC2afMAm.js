(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var Ym={exports:{}},Zl={};var lT;function KC(){if(lT)return Zl;lT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=t,Zl.jsx=e,Zl.jsxs=e,Zl}var uT;function YC(){return uT||(uT=1,Ym.exports=KC()),Ym.exports}var x=YC(),Qm={exports:{}},Ct={};var cT;function QC(){if(cT)return Ct;cT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function D(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,L={};function K(k,tt,ct){this.props=k,this.context=tt,this.refs=L,this.updater=ct||j}K.prototype.isReactComponent={},K.prototype.setState=function(k,tt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,tt,"setState")},K.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function it(){}it.prototype=K.prototype;function $(k,tt,ct){this.props=k,this.context=tt,this.refs=L,this.updater=ct||j}var W=$.prototype=new it;W.constructor=$,q(W,K.prototype),W.isPureReactComponent=!0;var X=Array.isArray;function at(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(k,tt,ct){var ft=ct.ref;return{$$typeof:n,type:k,key:tt,ref:ft!==void 0?ft:null,props:ct}}function M(k,tt){return R(k.type,tt,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function P(k){var tt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ct){return tt[ct]})}var I=/\/+/g;function pt(k,tt){return typeof k=="object"&&k!==null&&k.key!=null?P(""+k.key):tt.toString(36)}function vt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(at,at):(k.status="pending",k.then(function(tt){k.status==="pending"&&(k.status="fulfilled",k.value=tt)},function(tt){k.status==="pending"&&(k.status="rejected",k.reason=tt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function H(k,tt,ct,ft,At){var Nt=typeof k;(Nt==="undefined"||Nt==="boolean")&&(k=null);var zt=!1;if(k===null)zt=!0;else switch(Nt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(k.$$typeof){case n:case t:zt=!0;break;case y:return zt=k._init,H(zt(k._payload),tt,ct,ft,At)}}if(zt)return At=At(k),zt=ft===""?"."+pt(k,0):ft,X(At)?(ct="",zt!=null&&(ct=zt.replace(I,"$&/")+"/"),H(At,tt,ct,"",function(Nr){return Nr})):At!=null&&(N(At)&&(At=M(At,ct+(At.key==null||k&&k.key===At.key?"":(""+At.key).replace(I,"$&/")+"/")+zt)),tt.push(At)),1;zt=0;var ke=ft===""?".":ft+":";if(X(k))for(var le=0;le<k.length;le++)ft=k[le],Nt=ke+pt(ft,le),zt+=H(ft,tt,ct,Nt,At);else if(le=D(k),typeof le=="function")for(k=le.call(k),le=0;!(ft=k.next()).done;)ft=ft.value,Nt=ke+pt(ft,le++),zt+=H(ft,tt,ct,Nt,At);else if(Nt==="object"){if(typeof k.then=="function")return H(vt(k),tt,ct,ft,At);throw tt=String(k),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function nt(k,tt,ct){if(k==null)return k;var ft=[],At=0;return H(k,ft,"","",function(Nt){return tt.call(ct,Nt,At++)}),ft}function lt(k){if(k._status===-1){var tt=k._result;tt=tt(),tt.then(function(ct){(k._status===0||k._status===-1)&&(k._status=1,k._result=ct)},function(ct){(k._status===0||k._status===-1)&&(k._status=2,k._result=ct)}),k._status===-1&&(k._status=0,k._result=tt)}if(k._status===1)return k._result.default;throw k._result}var xt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Mt={map:nt,forEach:function(k,tt,ct){nt(k,function(){tt.apply(this,arguments)},ct)},count:function(k){var tt=0;return nt(k,function(){tt++}),tt},toArray:function(k){return nt(k,function(tt){return tt})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ct.Activity=T,Ct.Children=Mt,Ct.Component=K,Ct.Fragment=e,Ct.Profiler=o,Ct.PureComponent=$,Ct.StrictMode=r,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Ct.cache=function(k){return function(){return k.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(k,tt,ct){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ft=q({},k.props),At=k.key;if(tt!=null)for(Nt in tt.key!==void 0&&(At=""+tt.key),tt)!A.call(tt,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&tt.ref===void 0||(ft[Nt]=tt[Nt]);var Nt=arguments.length-2;if(Nt===1)ft.children=ct;else if(1<Nt){for(var zt=Array(Nt),ke=0;ke<Nt;ke++)zt[ke]=arguments[ke+2];ft.children=zt}return R(k.type,At,ft)},Ct.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ct.createElement=function(k,tt,ct){var ft,At={},Nt=null;if(tt!=null)for(ft in tt.key!==void 0&&(Nt=""+tt.key),tt)A.call(tt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(At[ft]=tt[ft]);var zt=arguments.length-2;if(zt===1)At.children=ct;else if(1<zt){for(var ke=Array(zt),le=0;le<zt;le++)ke[le]=arguments[le+2];At.children=ke}if(k&&k.defaultProps)for(ft in zt=k.defaultProps,zt)At[ft]===void 0&&(At[ft]=zt[ft]);return R(k,Nt,At)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(k){return{$$typeof:m,render:k}},Ct.isValidElement=N,Ct.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:lt}},Ct.memo=function(k,tt){return{$$typeof:g,type:k,compare:tt===void 0?null:tt}},Ct.startTransition=function(k){var tt=C.T,ct={};C.T=ct;try{var ft=k(),At=C.S;At!==null&&At(ct,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(at,xt)}catch(Nt){xt(Nt)}finally{tt!==null&&ct.types!==null&&(tt.types=ct.types),C.T=tt}},Ct.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ct.use=function(k){return C.H.use(k)},Ct.useActionState=function(k,tt,ct){return C.H.useActionState(k,tt,ct)},Ct.useCallback=function(k,tt){return C.H.useCallback(k,tt)},Ct.useContext=function(k){return C.H.useContext(k)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(k,tt){return C.H.useDeferredValue(k,tt)},Ct.useEffect=function(k,tt){return C.H.useEffect(k,tt)},Ct.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Ct.useId=function(){return C.H.useId()},Ct.useImperativeHandle=function(k,tt,ct){return C.H.useImperativeHandle(k,tt,ct)},Ct.useInsertionEffect=function(k,tt){return C.H.useInsertionEffect(k,tt)},Ct.useLayoutEffect=function(k,tt){return C.H.useLayoutEffect(k,tt)},Ct.useMemo=function(k,tt){return C.H.useMemo(k,tt)},Ct.useOptimistic=function(k,tt){return C.H.useOptimistic(k,tt)},Ct.useReducer=function(k,tt,ct){return C.H.useReducer(k,tt,ct)},Ct.useRef=function(k){return C.H.useRef(k)},Ct.useState=function(k){return C.H.useState(k)},Ct.useSyncExternalStore=function(k,tt,ct){return C.H.useSyncExternalStore(k,tt,ct)},Ct.useTransition=function(){return C.H.useTransition()},Ct.version="19.2.0",Ct}var hT;function Eg(){return hT||(hT=1,Qm.exports=QC()),Qm.exports}var ot=Eg(),Xm={exports:{}},tu={},$m={exports:{}},Wm={};var fT;function XC(){return fT||(fT=1,(function(n){function t(H,nt){var lt=H.length;H.push(nt);t:for(;0<lt;){var xt=lt-1>>>1,Mt=H[xt];if(0<o(Mt,nt))H[xt]=nt,H[lt]=Mt,lt=xt;else break t}}function e(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var nt=H[0],lt=H.pop();if(lt!==nt){H[0]=lt;t:for(var xt=0,Mt=H.length,k=Mt>>>1;xt<k;){var tt=2*(xt+1)-1,ct=H[tt],ft=tt+1,At=H[ft];if(0>o(ct,lt))ft<Mt&&0>o(At,ct)?(H[xt]=At,H[ft]=lt,xt=ft):(H[xt]=ct,H[tt]=lt,xt=tt);else if(ft<Mt&&0>o(At,lt))H[xt]=At,H[ft]=lt,xt=ft;else break t}}return nt}function o(H,nt){var lt=H.sortIndex-nt.sortIndex;return lt!==0?lt:H.id-nt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],y=1,T=null,b=3,D=!1,j=!1,q=!1,L=!1,K=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function W(H){for(var nt=e(g);nt!==null;){if(nt.callback===null)r(g);else if(nt.startTime<=H)r(g),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=e(g)}}function X(H){if(q=!1,W(H),!j)if(e(p)!==null)j=!0,at||(at=!0,P());else{var nt=e(g);nt!==null&&vt(X,nt.startTime-H)}}var at=!1,C=-1,A=5,R=-1;function M(){return L?!0:!(n.unstable_now()-R<A)}function N(){if(L=!1,at){var H=n.unstable_now();R=H;var nt=!0;try{t:{j=!1,q&&(q=!1,it(C),C=-1),D=!0;var lt=b;try{e:{for(W(H),T=e(p);T!==null&&!(T.expirationTime>H&&M());){var xt=T.callback;if(typeof xt=="function"){T.callback=null,b=T.priorityLevel;var Mt=xt(T.expirationTime<=H);if(H=n.unstable_now(),typeof Mt=="function"){T.callback=Mt,W(H),nt=!0;break e}T===e(p)&&r(p),W(H)}else r(p);T=e(p)}if(T!==null)nt=!0;else{var k=e(g);k!==null&&vt(X,k.startTime-H),nt=!1}}break t}finally{T=null,b=lt,D=!1}nt=void 0}}finally{nt?P():at=!1}}}var P;if(typeof $=="function")P=function(){$(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pt=I.port2;I.port1.onmessage=N,P=function(){pt.postMessage(null)}}else P=function(){K(N,0)};function vt(H,nt){C=K(function(){H(n.unstable_now())},nt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var nt=3;break;default:nt=b}var lt=b;b=nt;try{return H()}finally{b=lt}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=b;b=H;try{return nt()}finally{b=lt}},n.unstable_scheduleCallback=function(H,nt,lt){var xt=n.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?xt+lt:xt):lt=xt,H){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=lt+Mt,H={id:y++,callback:nt,priorityLevel:H,startTime:lt,expirationTime:Mt,sortIndex:-1},lt>xt?(H.sortIndex=lt,t(g,H),e(p)===null&&H===e(g)&&(q?(it(C),C=-1):q=!0,vt(X,lt-xt))):(H.sortIndex=Mt,t(p,H),j||D||(j=!0,at||(at=!0,P()))),H},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(H){var nt=b;return function(){var lt=b;b=nt;try{return H.apply(this,arguments)}finally{b=lt}}}})(Wm)),Wm}var dT;function $C(){return dT||(dT=1,$m.exports=XC()),$m.exports}var Jm={exports:{}},en={};var mT;function WC(){if(mT)return en;mT=1;var n=Eg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,y)},en.flushSync=function(p){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=y,r.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,T=m(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:D}):y==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=m(y,g.crossOrigin);r.d.L(p,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},en.requestFormReset=function(p){r.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.0",en}var pT;function JC(){if(pT)return Jm.exports;pT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Jm.exports=WC(),Jm.exports}var gT;function ZC(){if(gT)return tu;gT=1;var n=$C(),t=Eg(),e=JC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),i;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),$=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function pt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case q:return"Fragment";case K:return"Profiler";case L:return"StrictMode";case X:return"Suspense";case at:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case $:return i.displayName||"Context";case it:return(i._context.displayName||"Context")+".Consumer";case W:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:pt(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return pt(i(s))}catch{}}return null}var vt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},xt=[],Mt=-1;function k(i){return{current:i}}function tt(i){0>Mt||(i.current=xt[Mt],xt[Mt]=null,Mt--)}function ct(i,s){Mt++,xt[Mt]=i.current,i.current=s}var ft=k(null),At=k(null),Nt=k(null),zt=k(null);function ke(i,s){switch(ct(Nt,s),ct(At,i),ct(ft,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?N_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=N_(s),i=V_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}tt(ft),ct(ft,i)}function le(){tt(ft),tt(At),tt(Nt)}function Nr(i){i.memoizedState!==null&&ct(zt,i);var s=ft.current,a=V_(s,i.type);s!==a&&(ct(At,i),ct(ft,a))}function Sa(i){At.current===i&&(tt(ft),tt(At)),zt.current===i&&(tt(zt),Xl._currentValue=lt)}var Aa,wa;function pi(i){if(Aa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Aa=s&&s[1]||"",wa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+i+wa}var Xo=!1;function Vr(i,s){if(!i||Xo)return"";Xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var G=Q}Reflect.construct(i,[],et)}else{try{et.call()}catch(Q){G=Q}i.call(et.prototype)}}else{try{throw Error()}catch(Q){G=Q}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var V=_.split(`
`),z=S.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===z.length)for(l=V.length-1,f=z.length-1;1<=l&&0<=f&&V[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==z[f]){var J=`
`+V[l].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=l&&0<=f);break}}}finally{Xo=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?pi(a):""}function $o(i,s){switch(i.tag){case 26:case 27:case 5:return pi(i.type);case 16:return pi("Lazy");case 13:return i.child!==s&&s!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Vr(i.type,!1);case 11:return Vr(i.type.render,!1);case 1:return Vr(i.type,!0);case 31:return pi("Activity");default:return""}}function Wo(i){try{var s="",a=null;do s+=$o(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,Pe=n.unstable_scheduleCallback,As=n.unstable_cancelCallback,Xf=n.unstable_shouldYield,$u=n.unstable_requestPaint,ln=n.unstable_now,Mr=n.unstable_getCurrentPriorityLevel,Jo=n.unstable_ImmediatePriority,Zo=n.unstable_UserBlockingPriority,ws=n.unstable_NormalPriority,$f=n.unstable_LowPriority,Wu=n.unstable_IdlePriority,Ju=n.log,Zu=n.unstable_setDisableYieldValue,$n=null,Ge=null;function Mn(i){if(typeof Ju=="function"&&Zu(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode($n,i)}catch{}}var ye=Math.clz32?Math.clz32:ec,tc=Math.log,xa=Math.LN2;function ec(i){return i>>>=0,i===0?32:31-(tc(i)/xa|0)|0}var gi=256,Or=262144,Ae=4194304;function yi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,d=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=yi(l):(_&=S,_!==0?f=yi(_):a||(a=S&~i,a!==0&&(f=yi(a))))):(S=l&~d,S!==0?f=yi(S):_!==0?f=yi(_):a||(a=l&~i,a!==0&&(f=yi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Wn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Wf(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function _i(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function kr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Jf(i,s,a,l,f,d){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,z=i.hiddenUpdates;for(a=_&~a;0<a;){var J=31-ye(a),et=1<<J;S[J]=0,V[J]=-1;var G=z[J];if(G!==null)for(z[J]=null,J=0;J<G.length;J++){var Q=G[J];Q!==null&&(Q.lane&=-536870913)}a&=~et}l!==0&&Pr(i,l,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(_&~s))}function Pr(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-ye(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function tl(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-ye(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function el(i,s){var a=s&-s;return a=(a&42)!==0?1:Lr(a),(a&(i.suspendedLanes|s))!==0?0:a}function Lr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Yi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ic(){var i=nt.p;return i!==0?i:(i=window.event,i===void 0?32:eT(i.type))}function Jn(i,s){var a=nt.p;try{return nt.p=i,s()}finally{nt.p=a}}var Zn=Math.random().toString(36).slice(2),we="__reactFiber$"+Zn,Be="__reactProps$"+Zn,Ti="__reactContainer$"+Zn,Ca="__reactEvents$"+Zn,Zf="__reactListeners$"+Zn,sc="__reactHandles$"+Zn,rc="__reactResources$"+Zn,Ei="__reactMarker$"+Zn;function Ra(i){delete i[we],delete i[Be],delete i[Ca],delete i[Zf],delete i[sc]}function bi(i){var s=i[we];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Ti]||a[we]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=j_(i);i!==null;){if(a=i[we])return a;i=j_(i)}return s}i=a,a=i.parentNode}return null}function On(i){if(i=i[we]||i[Ti]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Sn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Si(i){var s=i[rc];return s||(s=i[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xe(i){i[Ei]=!0}var nl=new Set,il={};function Ai(i,s){wi(i,s),wi(i+"Capture",s)}function wi(i,s){for(il[i]=s,i=0;i<s.length;i++)nl.add(s[i])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},al={};function ac(i){return Se.call(al,i)?!0:Se.call(rl,i)?!1:sl.test(i)?al[i]=!0:(rl[i]=!0,!1)}function Da(i,s,a){if(ac(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function An(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Ce(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function ze(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xs(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ol(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xt(i){if(!i._valueTracker){var s=xs(i)?"checked":"value";i._valueTracker=ol(i,s,""+i[s])}}function Ur(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=xs(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var jr=/[\n"\\]/g;function mn(i){return i.replace(jr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ia(i,s,a,l,f,d,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ze(s)):i.value!==""+ze(s)&&(i.value=""+ze(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?ll(i,_,ze(s)):a!=null?ll(i,_,ze(a)):l!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+ze(S):i.removeAttribute("name")}function oc(i,s,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Xt(i);return}a=a!=null?""+ze(a):"",s=s!=null?""+ze(s):a,S||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Xt(i)}function ll(i,s,a){s==="number"&&xi(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Cs(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function lc(i,s,a){if(s!=null&&(s=""+ze(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+ze(a):""}function Rs(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(vt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ze(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Xt(i)}function pn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||uc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function cl(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ul(i,f,l)}else for(var d in s)s.hasOwnProperty(d)&&ul(i,d,s[d])}function Na(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(i){return Ds.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ti(){}var hl=null;function kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Is=null,Ci=null;function Fr(i){var s=On(i);if(s&&(i=s.stateNode)){var a=i[Be]||null;t:switch(i=s.stateNode,s.type){case"input":if(Ia(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[Be]||null;if(!f)throw Error(r(90));Ia(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Ur(l)}break t;case"textarea":lc(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Cs(i,!!a.multiple,s,!1)}}}var Ma=!1;function Ns(i,s,a){if(Ma)return i(s,a);Ma=!0;try{var l=i(s);return l}finally{if(Ma=!1,(Is!==null||Ci!==null)&&(ih(),Is&&(s=Is,i=Ci,Ci=Is=null,Fr(s),i)))for(s=0;s<i.length;s++)Fr(i[s])}}function ei(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Be]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(Pn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Br=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Br=!1}var Ri=null,fl=null,zr=null;function dl(){if(zr)return zr;var i,s=fl,a=s.length,l,f="value"in Ri?Ri.value:Ri.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var _=a-i;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return zr=f.slice(i,1<l?1-l:void 0)}function Hr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Qi(){return!0}function ni(){return!1}function Ke(i){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:ni,this.isPropagationStopped=ni,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Ke(Xi),Vs=T({},Xi,{view:0,detail:0}),ml=Ke(Vs),Ms,Oa,Ii,ka=T({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ii&&(Ii&&i.type==="mousemove"?(Ms=i.screenX-Ii.screenX,Oa=i.screenY-Ii.screenY):Oa=Ms=0,Ii=i),Ms)},movementY:function(i){return"movementY"in i?i.movementY:Oa}}),pl=Ke(ka),qr=T({},ka,{dataTransfer:0}),hc=Ke(qr),fc=T({},Vs,{relatedTarget:0}),Gr=Ke(fc),gl=T({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),dc=Ke(gl),Pa=T({},Xi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),mc=Ke(Pa),pc=T({},Xi,{data:0}),Ni=Ke(pc),gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=vc[i])?!!s[i]:!1}function Os(){return _c}var un=T({},Vs,{key:function(i){if(i.key){var s=gc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Hr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(i){return i.type==="keypress"?Hr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Tc=Ke(un),Ec=T({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Ke(Ec),h=T({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),v=Ke(h),E=T({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ke(E),F=T({},ka,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ke(F),ut=T({},Xi,{newState:0,oldState:0}),Dt=Ke(ut),ve=[9,13,27,32],Kt=Pn&&"CompositionEvent"in window,ue=null;Pn&&"documentMode"in document&&(ue=document.documentMode);var Ln=Pn&&"TextEvent"in window&&!ue,Vi=Pn&&(!Kt||ue&&8<ue&&11>=ue),ii=" ",si=!1;function Kr(i,s){switch(i){case"keyup":return ve.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ua=!1;function gx(i,s){switch(i){case"compositionend":return La(s);case"keypress":return s.which!==32?null:(si=!0,ii);case"textInput":return i=s.data,i===ii&&si?null:i;default:return null}}function yx(i,s){if(Ua)return i==="compositionend"||!Kt&&Kr(i,s)?(i=dl(),zr=fl=Ri=null,Ua=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vi&&s.locale!=="ko"?null:s.data;default:return null}}var vx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!vx[i.type]:s==="textarea"}function Hy(i,s,a,l){Is?Ci?Ci.push(l):Ci=[l]:Is=l,s=ch(s,"onChange"),0<s.length&&(a=new Di("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var yl=null,vl=null;function _x(i){w_(i,0)}function bc(i){var s=Sn(i);if(Ur(s))return i}function qy(i,s){if(i==="change")return s}var Gy=!1;if(Pn){var td;if(Pn){var ed="oninput"in document;if(!ed){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),ed=typeof Ky.oninput=="function"}td=ed}else td=!1;Gy=td&&(!document.documentMode||9<document.documentMode)}function Yy(){yl&&(yl.detachEvent("onpropertychange",Qy),vl=yl=null)}function Qy(i){if(i.propertyName==="value"&&bc(vl)){var s=[];Hy(s,vl,i,kn(i)),Ns(_x,s)}}function Tx(i,s,a){i==="focusin"?(Yy(),yl=s,vl=a,yl.attachEvent("onpropertychange",Qy)):i==="focusout"&&Yy()}function Ex(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bc(vl)}function bx(i,s){if(i==="click")return bc(s)}function Sx(i,s){if(i==="input"||i==="change")return bc(s)}function Ax(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var wn=typeof Object.is=="function"?Object.is:Ax;function _l(i,s){if(wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Se.call(s,f)||!wn(i[f],s[f]))return!1}return!0}function Xy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $y(i,s){var a=Xy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xy(a)}}function Wy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Wy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Jy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=xi(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=xi(i.document)}return s}function nd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var wx=Pn&&"documentMode"in document&&11>=document.documentMode,ja=null,id=null,Tl=null,sd=!1;function Zy(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sd||ja==null||ja!==xi(l)||(l=ja,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&_l(Tl,l)||(Tl=l,l=ch(id,"onSelect"),0<l.length&&(s=new Di("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=ja)))}function Yr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Fa={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},rd={},t0={};Pn&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Qr(i){if(rd[i])return rd[i];if(!Fa[i])return i;var s=Fa[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in t0)return rd[i]=s[a];return i}var e0=Qr("animationend"),n0=Qr("animationiteration"),i0=Qr("animationstart"),xx=Qr("transitionrun"),Cx=Qr("transitionstart"),Rx=Qr("transitioncancel"),s0=Qr("transitionend"),r0=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function ri(i,s){r0.set(i,s),Ai(s,[i])}var Sc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Un=[],Ba=0,od=0;function Ac(){for(var i=Ba,s=od=Ba=0;s<i;){var a=Un[s];Un[s++]=null;var l=Un[s];Un[s++]=null;var f=Un[s];Un[s++]=null;var d=Un[s];if(Un[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&a0(a,f,d)}}function wc(i,s,a,l){Un[Ba++]=i,Un[Ba++]=s,Un[Ba++]=a,Un[Ba++]=l,od|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function ld(i,s,a,l){return wc(i,s,a,l),xc(i)}function Xr(i,s){return wc(i,null,null,s),xc(i)}function a0(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-ye(a),i=d.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function xc(i){if(50<zl)throw zl=0,ym=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var za={};function Dx(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(i,s,a,l){return new Dx(i,s,a,l)}function ud(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wi(i,s){var a=i.alternate;return a===null?(a=xn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function o0(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Cc(i,s,a,l,f,d){var _=0;if(l=i,typeof i=="function")ud(i)&&(_=1);else if(typeof i=="string")_=OC(i,a,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=xn(31,a,s,f),i.elementType=R,i.lanes=d,i;case q:return $r(a.children,f,d,s);case L:_=8,f|=24;break;case K:return i=xn(12,a,s,f|2),i.elementType=K,i.lanes=d,i;case X:return i=xn(13,a,s,f),i.elementType=X,i.lanes=d,i;case at:return i=xn(19,a,s,f),i.elementType=at,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:_=10;break t;case it:_=9;break t;case W:_=11;break t;case C:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=xn(_,a,s,f),s.elementType=i,s.type=l,s.lanes=d,s}function $r(i,s,a,l){return i=xn(7,i,l,s),i.lanes=a,i}function cd(i,s,a){return i=xn(6,i,null,s),i.lanes=a,i}function l0(i){var s=xn(18,null,null,0);return s.stateNode=i,s}function hd(i,s,a){return s=xn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var u0=new WeakMap;function jn(i,s){if(typeof i=="object"&&i!==null){var a=u0.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Wo(s)},u0.set(i,s),s)}return{value:i,source:s,stack:Wo(s)}}var Ha=[],qa=0,Rc=null,El=0,Fn=[],Bn=0,ks=null,Mi=1,Oi="";function Ji(i,s){Ha[qa++]=El,Ha[qa++]=Rc,Rc=i,El=s}function c0(i,s,a){Fn[Bn++]=Mi,Fn[Bn++]=Oi,Fn[Bn++]=ks,ks=i;var l=Mi;i=Oi;var f=32-ye(l)-1;l&=~(1<<f),a+=1;var d=32-ye(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Mi=1<<32-ye(s)+f|a<<f|l,Oi=d+i}else Mi=1<<d|a<<f|l,Oi=i}function fd(i){i.return!==null&&(Ji(i,1),c0(i,1,0))}function dd(i){for(;i===Rc;)Rc=Ha[--qa],Ha[qa]=null,El=Ha[--qa],Ha[qa]=null;for(;i===ks;)ks=Fn[--Bn],Fn[Bn]=null,Oi=Fn[--Bn],Fn[Bn]=null,Mi=Fn[--Bn],Fn[Bn]=null}function h0(i,s){Fn[Bn++]=Mi,Fn[Bn++]=Oi,Fn[Bn++]=ks,Mi=s.id,Oi=s.overflow,ks=i}var Ye=null,ie=null,Bt=!1,Ps=null,zn=!1,md=Error(r(519));function Ls(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(jn(s,i)),md}function f0(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[we]=i,s[Be]=l,a){case"dialog":kt("cancel",s),kt("close",s);break;case"iframe":case"object":case"embed":kt("load",s);break;case"video":case"audio":for(a=0;a<ql.length;a++)kt(ql[a],s);break;case"source":kt("error",s);break;case"img":case"image":case"link":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"input":kt("invalid",s),oc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":kt("invalid",s);break;case"textarea":kt("invalid",s),Rs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||D_(s.textContent,a)?(l.popover!=null&&(kt("beforetoggle",s),kt("toggle",s)),l.onScroll!=null&&kt("scroll",s),l.onScrollEnd!=null&&kt("scrollend",s),l.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||Ls(i,!0)}function d0(i){for(Ye=i.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ye=Ye.return}}function Ga(i){if(i!==Ye)return!1;if(!Bt)return d0(i),Bt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Vm(i.type,i.memoizedProps)),a=!a),a&&ie&&Ls(i),d0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=U_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=U_(i)}else s===27?(s=ie,Ws(i.type)?(i=Lm,Lm=null,ie=i):ie=s):ie=Ye?qn(i.stateNode.nextSibling):null;return!0}function Wr(){ie=Ye=null,Bt=!1}function pd(){var i=Ps;return i!==null&&(_n===null?_n=i:_n.push.apply(_n,i),Ps=null),i}function bl(i){Ps===null?Ps=[i]:Ps.push(i)}var gd=k(null),Jr=null,Zi=null;function Us(i,s,a){ct(gd,s._currentValue),s._currentValue=a}function ts(i){i._currentValue=gd.current,tt(gd)}function yd(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function vd(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var V=0;V<s.length;V++)if(S.context===s[V]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),yd(d.return,a,i),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),yd(_,a,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ka(i,s,a,l){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;wn(f.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(f===zt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Xl):i=[Xl])}f=f.return}i!==null&&vd(s,i,a,l),s.flags|=262144}function Dc(i){for(i=i.firstContext;i!==null;){if(!wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Zr(i){Jr=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qe(i){return m0(Jr,i)}function Ic(i,s){return Jr===null&&Zr(i),m0(i,s)}function m0(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Zi===null){if(i===null)throw Error(r(308));Zi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Zi=Zi.next=s;return a}var Ix=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},Nx=n.unstable_scheduleCallback,Vx=n.unstable_NormalPriority,Re={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new Ix,data:new Map,refCount:0}}function Sl(i){i.refCount--,i.refCount===0&&Nx(Vx,function(){i.controller.abort()})}var Al=null,Td=0,Ya=0,Qa=null;function Mx(i,s){if(Al===null){var a=Al=[];Td=0,Ya=Sm(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Td++,s.then(p0,p0),s}function p0(){if(--Td===0&&Al!==null){Qa!==null&&(Qa.status="fulfilled");var i=Al;Al=null,Ya=0,Qa=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Ox(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var g0=H.S;H.S=function(i,s){Zv=ln(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Mx(i,s),g0!==null&&g0(i,s)};var ta=k(null);function Ed(){var i=ta.current;return i!==null?i:ne.pooledCache}function Nc(i,s){s===null?ct(ta,ta.current):ct(ta,s.pool)}function y0(){var i=Ed();return i===null?null:{parent:Re._currentValue,pool:i}}var Xa=Error(r(460)),bd=Error(r(474)),Vc=Error(r(542)),Mc={then:function(){}};function v0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _0(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(ti,ti),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,E0(i),i;default:if(typeof s.status=="string")s.then(ti,ti);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,E0(i),i}throw na=s,Xa}}function ea(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,Xa):a}}var na=null;function T0(){if(na===null)throw Error(r(459));var i=na;return na=null,i}function E0(i){if(i===Xa||i===Vc)throw Error(r(483))}var $a=null,wl=0;function Oc(i){var s=wl;return wl+=1,$a===null&&($a=[]),_0($a,i,s)}function xl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function kc(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function b0(i){function s(U,O){if(i){var B=U.deletions;B===null?(U.deletions=[O],U.flags|=16):B.push(O)}}function a(U,O){if(!i)return null;for(;O!==null;)s(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function f(U,O){return U=Wi(U,O),U.index=0,U.sibling=null,U}function d(U,O,B){return U.index=B,i?(B=U.alternate,B!==null?(B=B.index,B<O?(U.flags|=67108866,O):B):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function S(U,O,B,Z){return O===null||O.tag!==6?(O=cd(B,U.mode,Z),O.return=U,O):(O=f(O,B),O.return=U,O)}function V(U,O,B,Z){var _t=B.type;return _t===q?J(U,O,B.props.children,Z,B.key):O!==null&&(O.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&ea(_t)===O.type)?(O=f(O,B.props),xl(O,B),O.return=U,O):(O=Cc(B.type,B.key,B.props,null,U.mode,Z),xl(O,B),O.return=U,O)}function z(U,O,B,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=hd(B,U.mode,Z),O.return=U,O):(O=f(O,B.children||[]),O.return=U,O)}function J(U,O,B,Z,_t){return O===null||O.tag!==7?(O=$r(B,U.mode,Z,_t),O.return=U,O):(O=f(O,B),O.return=U,O)}function et(U,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=cd(""+O,U.mode,B),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return B=Cc(O.type,O.key,O.props,null,U.mode,B),xl(B,O),B.return=U,B;case j:return O=hd(O,U.mode,B),O.return=U,O;case A:return O=ea(O),et(U,O,B)}if(vt(O)||P(O))return O=$r(O,U.mode,B,null),O.return=U,O;if(typeof O.then=="function")return et(U,Oc(O),B);if(O.$$typeof===$)return et(U,Ic(U,O),B);kc(U,O)}return null}function G(U,O,B,Z){var _t=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return _t!==null?null:S(U,O,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D:return B.key===_t?V(U,O,B,Z):null;case j:return B.key===_t?z(U,O,B,Z):null;case A:return B=ea(B),G(U,O,B,Z)}if(vt(B)||P(B))return _t!==null?null:J(U,O,B,Z,null);if(typeof B.then=="function")return G(U,O,Oc(B),Z);if(B.$$typeof===$)return G(U,O,Ic(U,B),Z);kc(U,B)}return null}function Q(U,O,B,Z,_t){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(B)||null,S(O,U,""+Z,_t);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return U=U.get(Z.key===null?B:Z.key)||null,V(O,U,Z,_t);case j:return U=U.get(Z.key===null?B:Z.key)||null,z(O,U,Z,_t);case A:return Z=ea(Z),Q(U,O,B,Z,_t)}if(vt(Z)||P(Z))return U=U.get(B)||null,J(O,U,Z,_t,null);if(typeof Z.then=="function")return Q(U,O,B,Oc(Z),_t);if(Z.$$typeof===$)return Q(U,O,B,Ic(O,Z),_t);kc(O,Z)}return null}function mt(U,O,B,Z){for(var _t=null,qt=null,gt=O,Vt=O=0,Lt=null;gt!==null&&Vt<B.length;Vt++){gt.index>Vt?(Lt=gt,gt=null):Lt=gt.sibling;var Gt=G(U,gt,B[Vt],Z);if(Gt===null){gt===null&&(gt=Lt);break}i&&gt&&Gt.alternate===null&&s(U,gt),O=d(Gt,O,Vt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt,gt=Lt}if(Vt===B.length)return a(U,gt),Bt&&Ji(U,Vt),_t;if(gt===null){for(;Vt<B.length;Vt++)gt=et(U,B[Vt],Z),gt!==null&&(O=d(gt,O,Vt),qt===null?_t=gt:qt.sibling=gt,qt=gt);return Bt&&Ji(U,Vt),_t}for(gt=l(gt);Vt<B.length;Vt++)Lt=Q(gt,U,Vt,B[Vt],Z),Lt!==null&&(i&&Lt.alternate!==null&&gt.delete(Lt.key===null?Vt:Lt.key),O=d(Lt,O,Vt),qt===null?_t=Lt:qt.sibling=Lt,qt=Lt);return i&&gt.forEach(function(nr){return s(U,nr)}),Bt&&Ji(U,Vt),_t}function Et(U,O,B,Z){if(B==null)throw Error(r(151));for(var _t=null,qt=null,gt=O,Vt=O=0,Lt=null,Gt=B.next();gt!==null&&!Gt.done;Vt++,Gt=B.next()){gt.index>Vt?(Lt=gt,gt=null):Lt=gt.sibling;var nr=G(U,gt,Gt.value,Z);if(nr===null){gt===null&&(gt=Lt);break}i&&gt&&nr.alternate===null&&s(U,gt),O=d(nr,O,Vt),qt===null?_t=nr:qt.sibling=nr,qt=nr,gt=Lt}if(Gt.done)return a(U,gt),Bt&&Ji(U,Vt),_t;if(gt===null){for(;!Gt.done;Vt++,Gt=B.next())Gt=et(U,Gt.value,Z),Gt!==null&&(O=d(Gt,O,Vt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return Bt&&Ji(U,Vt),_t}for(gt=l(gt);!Gt.done;Vt++,Gt=B.next())Gt=Q(gt,U,Vt,Gt.value,Z),Gt!==null&&(i&&Gt.alternate!==null&&gt.delete(Gt.key===null?Vt:Gt.key),O=d(Gt,O,Vt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return i&&gt.forEach(function(GC){return s(U,GC)}),Bt&&Ji(U,Vt),_t}function ee(U,O,B,Z){if(typeof B=="object"&&B!==null&&B.type===q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case D:t:{for(var _t=B.key;O!==null;){if(O.key===_t){if(_t=B.type,_t===q){if(O.tag===7){a(U,O.sibling),Z=f(O,B.props.children),Z.return=U,U=Z;break t}}else if(O.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&ea(_t)===O.type){a(U,O.sibling),Z=f(O,B.props),xl(Z,B),Z.return=U,U=Z;break t}a(U,O);break}else s(U,O);O=O.sibling}B.type===q?(Z=$r(B.props.children,U.mode,Z,B.key),Z.return=U,U=Z):(Z=Cc(B.type,B.key,B.props,null,U.mode,Z),xl(Z,B),Z.return=U,U=Z)}return _(U);case j:t:{for(_t=B.key;O!==null;){if(O.key===_t)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(U,O.sibling),Z=f(O,B.children||[]),Z.return=U,U=Z;break t}else{a(U,O);break}else s(U,O);O=O.sibling}Z=hd(B,U.mode,Z),Z.return=U,U=Z}return _(U);case A:return B=ea(B),ee(U,O,B,Z)}if(vt(B))return mt(U,O,B,Z);if(P(B)){if(_t=P(B),typeof _t!="function")throw Error(r(150));return B=_t.call(B),Et(U,O,B,Z)}if(typeof B.then=="function")return ee(U,O,Oc(B),Z);if(B.$$typeof===$)return ee(U,O,Ic(U,B),Z);kc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(U,O.sibling),Z=f(O,B),Z.return=U,U=Z):(a(U,O),Z=cd(B,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,O)}return function(U,O,B,Z){try{wl=0;var _t=ee(U,O,B,Z);return $a=null,_t}catch(gt){if(gt===Xa||gt===Vc)throw gt;var qt=xn(29,gt,null,U.mode);return qt.lanes=Z,qt.return=U,qt}finally{}}}var ia=b0(!0),S0=b0(!1),js=!1;function Sd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Bs(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=xc(i),a0(i,null,a),s}return wc(i,l,s,a),xc(i)}function Cl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,tl(i,a)}}function wd(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var xd=!1;function Rl(){if(xd){var i=Qa;if(i!==null)throw i}}function Dl(i,s,a,l){xd=!1;var f=i.updateQueue;js=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var V=S,z=V.next;V.next=null,_===null?d=z:_.next=z,_=V;var J=i.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==_&&(S===null?J.firstBaseUpdate=z:S.next=z,J.lastBaseUpdate=V))}if(d!==null){var et=f.baseState;_=0,J=z=V=null,S=d;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(Pt&G)===G:(l&G)===G){G!==0&&G===Ya&&(xd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=i,Et=S;G=s;var ee=a;switch(Et.tag){case 1:if(mt=Et.payload,typeof mt=="function"){et=mt.call(ee,et,G);break t}et=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Et.payload,G=typeof mt=="function"?mt.call(ee,et,G):mt,G==null)break t;et=T({},et,G);break t;case 2:js=!0}}G=S.callback,G!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(z=J=Q,V=et):J=J.next=Q,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(V=et),f.baseState=V,f.firstBaseUpdate=z,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Ks|=_,i.lanes=_,i.memoizedState=et}}function A0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function w0(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)A0(a[i],s)}var Wa=k(null),Pc=k(0);function x0(i,s){i=us,ct(Pc,i),ct(Wa,s),us=i|s.baseLanes}function Cd(){ct(Pc,us),ct(Wa,Wa.current)}function Rd(){us=Pc.current,tt(Wa),tt(Pc)}var Cn=k(null),Hn=null;function zs(i){var s=i.alternate;ct(_e,_e.current&1),ct(Cn,i),Hn===null&&(s===null||Wa.current!==null||s.memoizedState!==null)&&(Hn=i)}function Dd(i){ct(_e,_e.current),ct(Cn,i),Hn===null&&(Hn=i)}function C0(i){i.tag===22?(ct(_e,_e.current),ct(Cn,i),Hn===null&&(Hn=i)):Hs()}function Hs(){ct(_e,_e.current),ct(Cn,Cn.current)}function Rn(i){tt(Cn),Hn===i&&(Hn=null),tt(_e)}var _e=k(0);function Lc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||km(a)||Pm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var es=0,It=null,Zt=null,De=null,Uc=!1,Ja=!1,sa=!1,jc=0,Il=0,Za=null,kx=0;function de(){throw Error(r(321))}function Id(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!wn(i[a],s[a]))return!1;return!0}function Nd(i,s,a,l,f,d){return es=d,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=i===null||i.memoizedState===null?cv:Kd,sa=!1,d=a(l,f),sa=!1,Ja&&(d=D0(s,a,l,f)),R0(i),d}function R0(i){H.H=Ml;var s=Zt!==null&&Zt.next!==null;if(es=0,De=Zt=It=null,Uc=!1,Il=0,Za=null,s)throw Error(r(300));i===null||Ie||(i=i.dependencies,i!==null&&Dc(i)&&(Ie=!0))}function D0(i,s,a,l){It=i;var f=0;do{if(Ja&&(Za=null),Il=0,Ja=!1,25<=f)throw Error(r(301));if(f+=1,De=Zt=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=hv,d=s(a,l)}while(Ja);return d}function Px(){var i=H.H,s=i.useState()[0];return s=typeof s.then=="function"?Nl(s):s,i=i.useState()[0],(Zt!==null?Zt.memoizedState:null)!==i&&(It.flags|=1024),s}function Vd(){var i=jc!==0;return jc=0,i}function Md(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Od(i){if(Uc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Uc=!1}es=0,De=Zt=It=null,Ja=!1,Il=jc=0,Za=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?It.memoizedState=De=i:De=De.next=i,De}function Te(){if(Zt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var s=De===null?It.memoizedState:De.next;if(s!==null)De=s,Zt=i;else{if(i===null)throw It.alternate===null?Error(r(467)):Error(r(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},De===null?It.memoizedState=De=i:De=De.next=i}return De}function Fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(i){var s=Il;return Il+=1,Za===null&&(Za=[]),i=_0(Za,i,s),s=It,(De===null?s.memoizedState:De.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?cv:Kd),i}function Bc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nl(i);if(i.$$typeof===$)return Qe(i)}throw Error(r(438,String(i)))}function kd(i){var s=null,a=It.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Fc(),It.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=M;return s.index++,a}function ns(i,s){return typeof s=="function"?s(i):s}function zc(i){var s=Te();return Pd(s,Zt,i)}function Pd(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var S=_=null,V=null,z=s,J=!1;do{var et=z.lane&-536870913;if(et!==z.lane?(Pt&et)===et:(es&et)===et){var G=z.revertLane;if(G===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),et===Ya&&(J=!0);else if((es&G)===G){z=z.next,G===Ya&&(J=!0);continue}else et={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},V===null?(S=V=et,_=d):V=V.next=et,It.lanes|=G,Ks|=G;et=z.action,sa&&a(d,et),d=z.hasEagerState?z.eagerState:a(d,et)}else G={lane:et,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},V===null?(S=V=G,_=d):V=V.next=G,It.lanes|=et,Ks|=et;z=z.next}while(z!==null&&z!==s);if(V===null?_=d:V.next=S,!wn(d,i.memoizedState)&&(Ie=!0,J&&(a=Qa,a!==null)))throw a;i.memoizedState=d,i.baseState=_,i.baseQueue=V,l.lastRenderedState=d}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Ld(i){var s=Te(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=i(d,_.action),_=_.next;while(_!==f);wn(d,s.memoizedState)||(Ie=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function I0(i,s,a){var l=It,f=Te(),d=Bt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!wn((Zt||f).memoizedState,a);if(_&&(f.memoizedState=a,Ie=!0),f=f.queue,Fd(M0.bind(null,l,f,i),[i]),f.getSnapshot!==s||_||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,to(9,{destroy:void 0},V0.bind(null,l,f,a,s),null),ne===null)throw Error(r(349));d||(es&127)!==0||N0(l,s,a)}return a}function N0(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=It.updateQueue,s===null?(s=Fc(),It.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function V0(i,s,a,l){s.value=a,s.getSnapshot=l,O0(s)&&k0(i)}function M0(i,s,a){return a(function(){O0(s)&&k0(i)})}function O0(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!wn(i,a)}catch{return!0}}function k0(i){var s=Xr(i,2);s!==null&&Tn(s,i,2)}function Ud(i){var s=cn();if(typeof i=="function"){var a=i;if(i=a(),sa){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:i},s}function P0(i,s,a,l){return i.baseState=a,Pd(i,Zt,typeof l=="function"?l:ns)}function Lx(i,s,a,l,f){if(Gc(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,L0(s,d)):(d.next=a.next,s.pending=a.next=d)}}function L0(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var d=H.T,_={};H.T=_;try{var S=a(f,l),V=H.S;V!==null&&V(_,S),U0(i,s,S)}catch(z){jd(i,s,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),H.T=d}}else try{d=a(f,l),U0(i,s,d)}catch(z){jd(i,s,z)}}function U0(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){j0(i,s,l)},function(l){return jd(i,s,l)}):j0(i,s,a)}function j0(i,s,a){s.status="fulfilled",s.value=a,F0(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,L0(i,a)))}function jd(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,F0(s),s=s.next;while(s!==l)}i.action=null}function F0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function B0(i,s){return s}function z0(i,s){if(Bt){var a=ne.formState;if(a!==null){t:{var l=It;if(Bt){if(ie){e:{for(var f=ie,d=zn;f.nodeType!==8;){if(!d){f=null;break e}if(f=qn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ie=qn(f.nextSibling),l=f.data==="F!";break t}}Ls(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B0,lastRenderedState:s},a.queue=l,a=ov.bind(null,It,l),l.dispatch=a,l=Ud(!1),d=Gd.bind(null,It,!1,l.queue),l=cn(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=Lx.bind(null,It,f,d,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function H0(i){var s=Te();return q0(s,Zt,i)}function q0(i,s,a){if(s=Pd(i,s,B0)[0],i=zc(ns)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Nl(s)}catch(_){throw _===Xa?Vc:_}else l=s;s=Te();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(It.flags|=2048,to(9,{destroy:void 0},Ux.bind(null,f,a),null)),[l,d,i]}function Ux(i,s){i.action=s}function G0(i){var s=Te(),a=Zt;if(a!==null)return q0(s,a,i);Te(),s=s.memoizedState,a=Te();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function to(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=It.updateQueue,s===null&&(s=Fc(),It.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function K0(){return Te().memoizedState}function Hc(i,s,a,l){var f=cn();It.flags|=i,f.memoizedState=to(1|s,{destroy:void 0},a,l===void 0?null:l)}function qc(i,s,a,l){var f=Te();l=l===void 0?null:l;var d=f.memoizedState.inst;Zt!==null&&l!==null&&Id(l,Zt.memoizedState.deps)?f.memoizedState=to(s,d,a,l):(It.flags|=i,f.memoizedState=to(1|s,d,a,l))}function Y0(i,s){Hc(8390656,8,i,s)}function Fd(i,s){qc(2048,8,i,s)}function jx(i){It.flags|=4;var s=It.updateQueue;if(s===null)s=Fc(),It.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function Q0(i){var s=Te().memoizedState;return jx({ref:s,nextImpl:i}),function(){if((Yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function X0(i,s){return qc(4,2,i,s)}function $0(i,s){return qc(4,4,i,s)}function W0(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function J0(i,s,a){a=a!=null?a.concat([i]):null,qc(4,4,W0.bind(null,s,i),a)}function Bd(){}function Z0(i,s){var a=Te();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Id(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function tv(i,s){var a=Te();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Id(s,l[1]))return l[0];if(l=i(),sa){Mn(!0);try{i()}finally{Mn(!1)}}return a.memoizedState=[l,s],l}function zd(i,s,a){return a===void 0||(es&1073741824)!==0&&(Pt&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=e_(),It.lanes|=i,Ks|=i,a)}function ev(i,s,a,l){return wn(a,s)?a:Wa.current!==null?(i=zd(i,a,l),wn(i,s)||(Ie=!0),i):(es&42)===0||(es&1073741824)!==0&&(Pt&261930)===0?(Ie=!0,i.memoizedState=a):(i=e_(),It.lanes|=i,Ks|=i,s)}function nv(i,s,a,l,f){var d=nt.p;nt.p=d!==0&&8>d?d:8;var _=H.T,S={};H.T=S,Gd(i,!1,s,a);try{var V=f(),z=H.S;if(z!==null&&z(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=Ox(V,l);Vl(i,s,J,Nn(i))}else Vl(i,s,l,Nn(i))}catch(et){Vl(i,s,{then:function(){},status:"rejected",reason:et},Nn())}finally{nt.p=d,_!==null&&S.types!==null&&(_.types=S.types),H.T=_}}function Fx(){}function Hd(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=iv(i).queue;nv(i,f,s,lt,a===null?Fx:function(){return sv(i),a(l)})}function iv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:lt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function sv(i){var s=iv(i);s.next===null&&(s=i.alternate.memoizedState),Vl(i,s.next.queue,{},Nn())}function qd(){return Qe(Xl)}function rv(){return Te().memoizedState}function av(){return Te().memoizedState}function Bx(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Nn();i=Fs(a);var l=Bs(s,i,a);l!==null&&(Tn(l,s,a),Cl(l,s,a)),s={cache:_d()},i.payload=s;return}s=s.return}}function zx(i,s,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gc(i)?lv(s,a):(a=ld(i,s,a,l),a!==null&&(Tn(a,i,l),uv(a,s,l)))}function ov(i,s,a){var l=Nn();Vl(i,s,a,l)}function Vl(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gc(i))lv(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,wn(S,_))return wc(i,s,f,0),ne===null&&Ac(),!1}catch{}finally{}if(a=ld(i,s,f,l),a!==null)return Tn(a,i,l),uv(a,s,l),!0}return!1}function Gd(i,s,a,l){if(l={lane:2,revertLane:Sm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gc(i)){if(s)throw Error(r(479))}else s=ld(i,a,l,2),s!==null&&Tn(s,i,2)}function Gc(i){var s=i.alternate;return i===It||s!==null&&s===It}function lv(i,s){Ja=Uc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function uv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,tl(i,a)}}var Ml={readContext:Qe,use:Bc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Ml.useEffectEvent=de;var cv={readContext:Qe,use:Bc,useCallback:function(i,s){return cn().memoizedState=[i,s===void 0?null:s],i},useContext:Qe,useEffect:Y0,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Hc(4194308,4,W0.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Hc(4194308,4,i,s)},useInsertionEffect:function(i,s){Hc(4,2,i,s)},useMemo:function(i,s){var a=cn();s=s===void 0?null:s;var l=i();if(sa){Mn(!0);try{i()}finally{Mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=cn();if(a!==void 0){var f=a(s);if(sa){Mn(!0);try{a(s)}finally{Mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=zx.bind(null,It,i),[l.memoizedState,i]},useRef:function(i){var s=cn();return i={current:i},s.memoizedState=i},useState:function(i){i=Ud(i);var s=i.queue,a=ov.bind(null,It,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Bd,useDeferredValue:function(i,s){var a=cn();return zd(a,i,s)},useTransition:function(){var i=Ud(!1);return i=nv.bind(null,It,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=It,f=cn();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ne===null)throw Error(r(349));(Pt&127)!==0||N0(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Y0(M0.bind(null,l,d,i),[i]),l.flags|=2048,to(9,{destroy:void 0},V0.bind(null,l,d,a,s),null),a},useId:function(){var i=cn(),s=ne.identifierPrefix;if(Bt){var a=Oi,l=Mi;a=(l&~(1<<32-ye(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=jc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=kx++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:qd,useFormState:z0,useActionState:z0,useOptimistic:function(i){var s=cn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Gd.bind(null,It,!0,a),a.dispatch=s,[i,s]},useMemoCache:kd,useCacheRefresh:function(){return cn().memoizedState=Bx.bind(null,It)},useEffectEvent:function(i){var s=cn(),a={impl:i};return s.memoizedState=a,function(){if((Yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kd={readContext:Qe,use:Bc,useCallback:Z0,useContext:Qe,useEffect:Fd,useImperativeHandle:J0,useInsertionEffect:X0,useLayoutEffect:$0,useMemo:tv,useReducer:zc,useRef:K0,useState:function(){return zc(ns)},useDebugValue:Bd,useDeferredValue:function(i,s){var a=Te();return ev(a,Zt.memoizedState,i,s)},useTransition:function(){var i=zc(ns)[0],s=Te().memoizedState;return[typeof i=="boolean"?i:Nl(i),s]},useSyncExternalStore:I0,useId:rv,useHostTransitionStatus:qd,useFormState:H0,useActionState:H0,useOptimistic:function(i,s){var a=Te();return P0(a,Zt,i,s)},useMemoCache:kd,useCacheRefresh:av};Kd.useEffectEvent=Q0;var hv={readContext:Qe,use:Bc,useCallback:Z0,useContext:Qe,useEffect:Fd,useImperativeHandle:J0,useInsertionEffect:X0,useLayoutEffect:$0,useMemo:tv,useReducer:Ld,useRef:K0,useState:function(){return Ld(ns)},useDebugValue:Bd,useDeferredValue:function(i,s){var a=Te();return Zt===null?zd(a,i,s):ev(a,Zt.memoizedState,i,s)},useTransition:function(){var i=Ld(ns)[0],s=Te().memoizedState;return[typeof i=="boolean"?i:Nl(i),s]},useSyncExternalStore:I0,useId:rv,useHostTransitionStatus:qd,useFormState:G0,useActionState:G0,useOptimistic:function(i,s){var a=Te();return Zt!==null?P0(a,Zt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:kd,useCacheRefresh:av};hv.useEffectEvent=Q0;function Yd(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Qd={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Nn(),f=Fs(l);f.payload=s,a!=null&&(f.callback=a),s=Bs(i,f,l),s!==null&&(Tn(s,i,l),Cl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Nn(),f=Fs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Bs(i,f,l),s!==null&&(Tn(s,i,l),Cl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Nn(),l=Fs(a);l.tag=2,s!=null&&(l.callback=s),s=Bs(i,l,a),s!==null&&(Tn(s,i,a),Cl(s,i,a))}};function fv(i,s,a,l,f,d,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!_l(a,l)||!_l(f,d):!0}function dv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Qd.enqueueReplaceState(s,s.state,null)}function ra(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=T({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function mv(i){Sc(i)}function pv(i){console.error(i)}function gv(i){Sc(i)}function Kc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function yv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Xd(i,s,a){return a=Fs(a),a.tag=3,a.payload={element:null},a.callback=function(){Kc(i,s)},a}function vv(i){return i=Fs(i),i.tag=3,i}function _v(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;i.payload=function(){return f(d)},i.callback=function(){yv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){yv(s,a,l),typeof f!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Hx(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ka(s,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?sh():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Mc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Tm(i,l,f)),!1;case 22:return a.flags|=65536,l===Mc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Tm(i,l,f)),!1}throw Error(r(435,a.tag))}return Tm(i,l,f),sh(),!1}if(Bt)return s=Cn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==md&&(i=Error(r(422),{cause:l}),bl(jn(i,a)))):(l!==md&&(s=Error(r(423),{cause:l}),bl(jn(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=jn(l,a),f=Xd(i.stateNode,l,f),wd(i,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=jn(d,a),Bl===null?Bl=[d]:Bl.push(d),me!==4&&(me=2),s===null)return!0;l=jn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Xd(a.stateNode,l,i),wd(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ys===null||!Ys.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=vv(f),_v(f,i,a,l),wd(a,f),!1}a=a.return}while(a!==null);return!1}var $d=Error(r(461)),Ie=!1;function Xe(i,s,a,l){s.child=i===null?S0(s,null,a,l):ia(s,i.child,a,l)}function Tv(i,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Zr(s),l=Nd(i,s,a,_,d,f),S=Vd(),i!==null&&!Ie?(Md(i,s,f),is(i,s,f)):(Bt&&S&&fd(s),s.flags|=1,Xe(i,s,l,f),s.child)}function Ev(i,s,a,l,f){if(i===null){var d=a.type;return typeof d=="function"&&!ud(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,bv(i,s,d,l,f)):(i=Cc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!sm(i,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(_,l)&&i.ref===s.ref)return is(i,s,f)}return s.flags|=1,i=Wi(d,l),i.ref=s.ref,i.return=s,s.child=i}function bv(i,s,a,l,f){if(i!==null){var d=i.memoizedProps;if(_l(d,l)&&i.ref===s.ref)if(Ie=!1,s.pendingProps=l=d,sm(i,f))(i.flags&131072)!==0&&(Ie=!0);else return s.lanes=i.lanes,is(i,s,f)}return Wd(i,s,a,l,f)}function Sv(i,s,a,l){var f=l.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return Av(i,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nc(s,d!==null?d.cachePool:null),d!==null?x0(s,d):Cd(),C0(s);else return l=s.lanes=536870912,Av(i,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Nc(s,d.cachePool),x0(s,d),Hs(),s.memoizedState=null):(i!==null&&Nc(s,null),Cd(),Hs());return Xe(i,s,f,a),s.child}function Ol(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Av(i,s,a,l,f){var d=Ed();return d=d===null?null:{parent:Re._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&Nc(s,null),Cd(),C0(s),i!==null&&Ka(i,s,l,!0),s.childLanes=f,null}function Yc(i,s){return s=Xc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function wv(i,s,a){return ia(s,i.child,null,a),i=Yc(s,s.pendingProps),i.flags|=2,Rn(s),s.memoizedState=null,i}function qx(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Bt){if(l.mode==="hidden")return i=Yc(s,l),s.lanes=536870912,Ol(null,i);if(Dd(s),(i=ie)?(i=L_(i,zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ks!==null?{id:Mi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=l0(i),a.return=s,s.child=a,Ye=s,ie=null)):i=null,i===null)throw Ls(s);return s.lanes=536870912,null}return Yc(s,l)}var d=i.memoizedState;if(d!==null){var _=d.dehydrated;if(Dd(s),f)if(s.flags&256)s.flags&=-257,s=wv(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ie||Ka(i,s,a,!1),f=(a&i.childLanes)!==0,Ie||f){if(l=ne,l!==null&&(_=el(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Xr(i,_),Tn(l,i,_),$d;sh(),s=wv(i,s,a)}else i=d.treeContext,ie=qn(_.nextSibling),Ye=s,Bt=!0,Ps=null,zn=!1,i!==null&&h0(s,i),s=Yc(s,l),s.flags|=4096;return s}return i=Wi(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Qc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Wd(i,s,a,l,f){return Zr(s),a=Nd(i,s,a,l,void 0,f),l=Vd(),i!==null&&!Ie?(Md(i,s,f),is(i,s,f)):(Bt&&l&&fd(s),s.flags|=1,Xe(i,s,a,f),s.child)}function xv(i,s,a,l,f,d){return Zr(s),s.updateQueue=null,a=D0(s,l,a,f),R0(i),l=Vd(),i!==null&&!Ie?(Md(i,s,d),is(i,s,d)):(Bt&&l&&fd(s),s.flags|=1,Xe(i,s,a,d),s.child)}function Cv(i,s,a,l,f){if(Zr(s),s.stateNode===null){var d=za,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qe(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Sd(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qe(_):za,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Yd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qd.enqueueReplaceState(d,d.state,null),Dl(s,l,d,f),Rl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){d=s.stateNode;var S=s.memoizedProps,V=ra(a,S);d.props=V;var z=d.context,J=a.contextType;_=za,typeof J=="object"&&J!==null&&(_=Qe(J));var et=a.getDerivedStateFromProps;J=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||z!==_)&&dv(s,d,l,_),js=!1;var G=s.memoizedState;d.state=G,Dl(s,l,d,f),Rl(),z=s.memoizedState,S||G!==z||js?(typeof et=="function"&&(Yd(s,a,et,l),z=s.memoizedState),(V=js||fv(s,a,V,l,G,z,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=z),d.props=l,d.state=z,d.context=_,l=V):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Ad(i,s),_=s.memoizedProps,J=ra(a,_),d.props=J,et=s.pendingProps,G=d.context,z=a.contextType,V=za,typeof z=="object"&&z!==null&&(V=Qe(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==et||G!==V)&&dv(s,d,l,V),js=!1,G=s.memoizedState,d.state=G,Dl(s,l,d,f),Rl();var Q=s.memoizedState;_!==et||G!==Q||js||i!==null&&i.dependencies!==null&&Dc(i.dependencies)?(typeof S=="function"&&(Yd(s,a,S,l),Q=s.memoizedState),(J=js||fv(s,a,J,l,G,Q,V)||i!==null&&i.dependencies!==null&&Dc(i.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,V)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),d.props=l,d.state=Q,d.context=V,l=J):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),l=!1)}return d=l,Qc(i,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&l?(s.child=ia(s,i.child,null,f),s.child=ia(s,null,a,f)):Xe(i,s,a,f),s.memoizedState=d.state,i=s.child):i=is(i,s,f),i}function Rv(i,s,a,l){return Wr(),s.flags|=256,Xe(i,s,a,l),s.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(i){return{baseLanes:i,cachePool:y0()}}function tm(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=In),i}function Dv(i,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=i!==null&&i.memoizedState===null?!1:(_e.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(Bt){if(f?zs(s):Hs(),(i=ie)?(i=L_(i,zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ks!==null?{id:Mi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=l0(i),a.return=s,s.child=a,Ye=s,ie=null)):i=null,i===null)throw Ls(s);return Pm(i)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Hs(),f=s.mode,S=Xc({mode:"hidden",children:S},f),l=$r(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=Zd(a),l.childLanes=tm(i,_,a),s.memoizedState=Jd,Ol(null,l)):(zs(s),em(s,S))}var V=i.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(d)s.flags&256?(zs(s),s.flags&=-257,s=nm(i,s,a)):s.memoizedState!==null?(Hs(),s.child=i.child,s.flags|=128,s=null):(Hs(),S=l.fallback,f=s.mode,l=Xc({mode:"visible",children:l.children},f),S=$r(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,ia(s,i.child,null,a),l=s.child,l.memoizedState=Zd(a),l.childLanes=tm(i,_,a),s.memoizedState=Jd,s=Ol(null,l));else if(zs(s),Pm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,bl({value:l,source:null,stack:null}),s=nm(i,s,a)}else if(Ie||Ka(i,s,a,!1),_=(a&i.childLanes)!==0,Ie||_){if(_=ne,_!==null&&(l=el(_,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,Xr(i,l),Tn(_,i,l),$d;km(S)||sh(),s=nm(i,s,a)}else km(S)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,ie=qn(S.nextSibling),Ye=s,Bt=!0,Ps=null,zn=!1,i!==null&&h0(s,i),s=em(s,l.children),s.flags|=4096);return s}return f?(Hs(),S=l.fallback,f=s.mode,V=i.child,z=V.sibling,l=Wi(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,z!==null?S=Wi(z,S):(S=$r(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,Ol(null,l),l=s.child,S=i.child.memoizedState,S===null?S=Zd(a):(f=S.cachePool,f!==null?(V=Re._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=y0(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=tm(i,_,a),s.memoizedState=Jd,Ol(i.child,l)):(zs(s),a=i.child,i=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=a,s.memoizedState=null,a)}function em(i,s){return s=Xc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Xc(i,s){return i=xn(22,i,null,s),i.lanes=0,i}function nm(i,s,a){return ia(s,i.child,null,a),i=em(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Iv(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),yd(i.return,s,a)}function im(i,s,a,l,f,d){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Nv(i,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=_e.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,ct(_e,_),Xe(i,s,l,a),l=Bt?El:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Iv(i,a,s);else if(i.tag===19)Iv(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&Lc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),im(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Lc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}im(s,!0,a,null,d,l);break;case"together":im(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function is(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Ks|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ka(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Wi(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Wi(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function sm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Dc(i)))}function Gx(i,s,a){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),Us(s,Re,i.memoizedState.cache),Wr();break;case 27:case 5:Nr(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:Us(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(zs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Dv(i,s,a):(zs(s),i=is(i,s,a),i!==null?i.sibling:null);zs(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ka(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Nv(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(_e,_e.current),l)break;return null;case 22:return s.lanes=0,Sv(i,s,a,s.pendingProps);case 24:Us(s,Re,i.memoizedState.cache)}return is(i,s,a)}function Vv(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ie=!0;else{if(!sm(i,a)&&(s.flags&128)===0)return Ie=!1,Gx(i,s,a);Ie=(i.flags&131072)!==0}else Ie=!1,Bt&&(s.flags&1048576)!==0&&c0(s,El,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=ea(s.elementType),s.type=i,typeof i=="function")ud(i)?(l=ra(i,l),s.tag=1,s=Cv(null,s,i,l,a)):(s.tag=0,s=Wd(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===W){s.tag=11,s=Tv(null,s,i,l,a);break t}else if(f===C){s.tag=14,s=Ev(null,s,i,l,a);break t}}throw s=pt(i)||i,Error(r(306,s,""))}}return s;case 0:return Wd(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ra(l,s.pendingProps),Cv(i,s,l,f,a);case 3:t:{if(ke(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Ad(i,s),Dl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Us(s,Re,l),l!==d.cache&&vd(s,[Re],a,!0),Rl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Rv(i,s,l,a);break t}else if(l!==f){f=jn(Error(r(424)),s),bl(f),s=Rv(i,s,l,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ie=qn(i.firstChild),Ye=s,Bt=!0,Ps=null,zn=!0,a=S0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wr(),l===f){s=is(i,s,a);break t}Xe(i,s,l,a)}s=s.child}return s;case 26:return Qc(i,s),i===null?(a=H_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Bt||(a=s.type,i=s.pendingProps,l=hh(Nt.current).createElement(a),l[we]=s,l[Be]=i,$e(l,a,i),xe(l),s.stateNode=l):s.memoizedState=H_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Nr(s),i===null&&Bt&&(l=s.stateNode=F_(s.type,s.pendingProps,Nt.current),Ye=s,zn=!0,f=ie,Ws(s.type)?(Lm=f,ie=qn(l.firstChild)):ie=f),Xe(i,s,s.pendingProps.children,a),Qc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Bt&&((f=l=ie)&&(l=EC(l,s.type,s.pendingProps,zn),l!==null?(s.stateNode=l,Ye=s,ie=qn(l.firstChild),zn=!1,f=!0):f=!1),f||Ls(s)),Nr(s),f=s.type,d=s.pendingProps,_=i!==null?i.memoizedProps:null,l=d.children,Vm(f,d)?l=null:_!==null&&Vm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Nd(i,s,Px,null,null,a),Xl._currentValue=f),Qc(i,s),Xe(i,s,l,a),s.child;case 6:return i===null&&Bt&&((i=a=ie)&&(a=bC(a,s.pendingProps,zn),a!==null?(s.stateNode=a,Ye=s,ie=null,i=!0):i=!1),i||Ls(s)),null;case 13:return Dv(i,s,a);case 4:return ke(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=ia(s,null,l,a):Xe(i,s,l,a),s.child;case 11:return Tv(i,s,s.type,s.pendingProps,a);case 7:return Xe(i,s,s.pendingProps,a),s.child;case 8:return Xe(i,s,s.pendingProps.children,a),s.child;case 12:return Xe(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Us(s,s.type,l.value),Xe(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Zr(s),f=Qe(f),l=l(f),s.flags|=1,Xe(i,s,l,a),s.child;case 14:return Ev(i,s,s.type,s.pendingProps,a);case 15:return bv(i,s,s.type,s.pendingProps,a);case 19:return Nv(i,s,a);case 31:return qx(i,s,a);case 22:return Sv(i,s,a,s.pendingProps);case 24:return Zr(s),l=Qe(Re),i===null?(f=Ed(),f===null&&(f=ne,d=_d(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Sd(s),Us(s,Re,f)):((i.lanes&a)!==0&&(Ad(i,s),Dl(s,null,null,a),Rl()),f=i.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Us(s,Re,l)):(l=d.cache,Us(s,Re,l),l!==f.cache&&vd(s,[Re],a,!0))),Xe(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ss(i){i.flags|=4}function rm(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(r_())i.flags|=8192;else throw na=Mc,bd}else i.flags&=-16777217}function Mv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Q_(s))if(r_())i.flags|=8192;else throw na=Mc,bd}function $c(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?nc():536870912,i.lanes|=s,so|=s)}function kl(i,s){if(!Bt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function se(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function Kx(i,s,a){var l=s.pendingProps;switch(dd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(s),null;case 1:return se(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ts(Re),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ga(s)?ss(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,pd())),se(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(ss(s),d!==null?(se(s),Mv(s,d)):(se(s),rm(s,f,null,l,a))):d?d!==i.memoizedState?(ss(s),se(s),Mv(s,d)):(se(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&ss(s),se(s),rm(s,f,i,l,a)),null;case 27:if(Sa(s),a=Nt.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}i=ft.current,Ga(s)?f0(s):(i=F_(f,l,a),s.stateNode=i,ss(s))}return se(s),null;case 5:if(Sa(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}if(d=ft.current,Ga(s))f0(s);else{var _=hh(Nt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[we]=s,d[Be]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch($e(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ss(s)}}return se(s),rm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&ss(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=Nt.current,Ga(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Ye,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[we]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||D_(i.nodeValue,a)),i||Ls(s,!0)}else i=hh(i).createTextNode(l),i[we]=s,s.stateNode=i}return se(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=Ga(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[we]=s}else Wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),i=!1}else a=pd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Rn(s),s):(Rn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return se(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ga(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[we]=s}else Wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),f=!1}else f=pd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Rn(s),s):(Rn(s),null)}return Rn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),$c(s,s.updateQueue),se(s),null);case 4:return le(),i===null&&Cm(s.stateNode.containerInfo),se(s),null;case 10:return ts(s.type),se(s),null;case 19:if(tt(_e),l=s.memoizedState,l===null)return se(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)kl(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=Lc(i),d!==null){for(s.flags|=128,kl(l,!1),i=d.updateQueue,s.updateQueue=i,$c(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)o0(a,i),a=a.sibling;return ct(_e,_e.current&1|2),Bt&&Ji(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&ln()>eh&&(s.flags|=128,f=!0,kl(l,!1),s.lanes=4194304)}else{if(!f)if(i=Lc(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,$c(s,i),kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Bt)return se(s),null}else 2*ln()-l.renderingStartTime>eh&&a!==536870912&&(s.flags|=128,f=!0,kl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(i=l.last,i!==null?i.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=ln(),i.sibling=null,a=_e.current,ct(_e,f?a&1|2:a&1),Bt&&Ji(s,l.treeForkCount),i):(se(s),null);case 22:case 23:return Rn(s),Rd(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(se(s),s.subtreeFlags&6&&(s.flags|=8192)):se(s),a=s.updateQueue,a!==null&&$c(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&tt(ta),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ts(Re),se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Yx(i,s){switch(dd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ts(Re),le(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Sa(s),null;case 31:if(s.memoizedState!==null){if(Rn(s),s.alternate===null)throw Error(r(340));Wr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Rn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Wr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return tt(_e),null;case 4:return le(),null;case 10:return ts(s.type),null;case 22:case 23:return Rn(s),Rd(),i!==null&&tt(ta),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ts(Re),null;case 25:return null;default:return null}}function Ov(i,s){switch(dd(s),s.tag){case 3:ts(Re),le();break;case 26:case 27:case 5:Sa(s);break;case 4:le();break;case 31:s.memoizedState!==null&&Rn(s);break;case 13:Rn(s);break;case 19:tt(_e);break;case 10:ts(s.type);break;case 22:case 23:Rn(s),Rd(),i!==null&&tt(ta);break;case 24:ts(Re)}}function Pl(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Wt(s,s.return,S)}}function qs(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&i)===i){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var V=a,z=S;try{z()}catch(J){Wt(f,V,J)}}}l=l.next}while(l!==d)}}catch(J){Wt(s,s.return,J)}}function kv(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{w0(s,a)}catch(l){Wt(i,i.return,l)}}}function Pv(i,s,a){a.props=ra(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(i,s,l)}}function Ll(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Wt(i,s,f)}}function ki(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Wt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Wt(i,s,f)}else a.current=null}function Lv(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Wt(i,i.return,f)}}function am(i,s,a){try{var l=i.stateNode;pC(l,i.type,a,s),l[Be]=s}catch(f){Wt(i,i.return,f)}}function Uv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ws(i.type)||i.tag===4}function om(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Uv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ws(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lm(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ti));else if(l!==4&&(l===27&&Ws(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(lm(i,s,a),i=i.sibling;i!==null;)lm(i,s,a),i=i.sibling}function Wc(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Ws(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Wc(i,s,a),i=i.sibling;i!==null;)Wc(i,s,a),i=i.sibling}function jv(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);$e(s,l,a),s[we]=i,s[Be]=a}catch(d){Wt(i,i.return,d)}}var rs=!1,Ne=!1,um=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,He=null;function Qx(i,s){if(i=i.containerInfo,Im=vh,i=Jy(i),nd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,V=-1,z=0,J=0,et=i,G=null;e:for(;;){for(var Q;et!==a||f!==0&&et.nodeType!==3||(S=_+f),et!==d||l!==0&&et.nodeType!==3||(V=_+l),et.nodeType===3&&(_+=et.nodeValue.length),(Q=et.firstChild)!==null;)G=et,et=Q;for(;;){if(et===i)break e;if(G===a&&++z===f&&(S=_),G===d&&++J===l&&(V=_),(Q=et.nextSibling)!==null)break;et=G,G=et.parentNode}et=Q}a=S===-1||V===-1?null:{start:S,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nm={focusedElem:i,selectionRange:a},vh=!1,He=s;He!==null;)if(s=He,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,He=i;else for(;He!==null;){switch(s=He,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=ra(a.type,f);i=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(Et){Wt(a,a.return,Et)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Om(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Om(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,He=i;break}He=s.return}}function Bv(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:os(i,a),l&4&&Pl(5,a);break;case 1:if(os(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(_){Wt(a,a.return,_)}else{var f=ra(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(a,a.return,_)}}l&64&&kv(a),l&512&&Ll(a,a.return);break;case 3:if(os(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{w0(i,s)}catch(_){Wt(a,a.return,_)}}break;case 27:s===null&&l&4&&jv(a);case 26:case 5:os(i,a),s===null&&l&4&&Lv(a),l&512&&Ll(a,a.return);break;case 12:os(i,a);break;case 31:os(i,a),l&4&&qv(i,a);break;case 13:os(i,a),l&4&&Gv(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=iC.bind(null,a),SC(i,a))));break;case 22:if(l=a.memoizedState!==null||rs,!l){s=s!==null&&s.memoizedState!==null||Ne,f=rs;var d=Ne;rs=l,(Ne=s)&&!d?ls(i,a,(a.subtreeFlags&8772)!==0):os(i,a),rs=f,Ne=d}break;case 30:break;default:os(i,a)}}function zv(i){var s=i.alternate;s!==null&&(i.alternate=null,zv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ra(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ce=null,gn=!1;function as(i,s,a){for(a=a.child;a!==null;)Hv(i,s,a),a=a.sibling}function Hv(i,s,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Ne||ki(a,s),as(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||ki(a,s);var l=ce,f=gn;Ws(a.type)&&(ce=a.stateNode,gn=!1),as(i,s,a),Kl(a.stateNode),ce=l,gn=f;break;case 5:Ne||ki(a,s);case 6:if(l=ce,f=gn,ce=null,as(i,s,a),ce=l,gn=f,ce!==null)if(gn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){Wt(a,s,d)}else try{ce.removeChild(a.stateNode)}catch(d){Wt(a,s,d)}break;case 18:ce!==null&&(gn?(i=ce,k_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),fo(i)):k_(ce,a.stateNode));break;case 4:l=ce,f=gn,ce=a.stateNode.containerInfo,gn=!0,as(i,s,a),ce=l,gn=f;break;case 0:case 11:case 14:case 15:qs(2,a,s),Ne||qs(4,a,s),as(i,s,a);break;case 1:Ne||(ki(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pv(a,s,l)),as(i,s,a);break;case 21:as(i,s,a);break;case 22:Ne=(l=Ne)||a.memoizedState!==null,as(i,s,a),Ne=l;break;default:as(i,s,a)}}function qv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{fo(i)}catch(a){Wt(s,s.return,a)}}}function Gv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fo(i)}catch(a){Wt(s,s.return,a)}}function Xx(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Fv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Fv),s;default:throw Error(r(435,i.tag))}}function Jc(i,s){var a=Xx(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=sC.bind(null,i,l);l.then(f,f)}})}function yn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=i,_=s,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Ws(S.type)){ce=S.stateNode,gn=!1;break t}break;case 5:ce=S.stateNode,gn=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,gn=!0;break t}S=S.return}if(ce===null)throw Error(r(160));Hv(d,_,f),ce=null,gn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Kv(s,i),s=s.sibling}var ai=null;function Kv(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:yn(s,i),vn(i),l&4&&(qs(3,i,i.return),Pl(3,i),qs(5,i,i.return));break;case 1:yn(s,i),vn(i),l&512&&(Ne||a===null||ki(a,a.return)),l&64&&rs&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(yn(s,i),vn(i),l&512&&(Ne||a===null||ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ei]||d[we]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$e(d,l,a),d[we]=i,xe(d),l=d;break t;case"link":var _=K_("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),$e(d,l,a),f.head.appendChild(d);break;case"meta":if(_=K_("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),$e(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[we]=i,xe(d),l=d}i.stateNode=l}else Y_(f,i.type,i.stateNode);else i.stateNode=G_(f,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Y_(f,i.type,i.stateNode):G_(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&am(i,i.memoizedProps,a.memoizedProps)}break;case 27:yn(s,i),vn(i),l&512&&(Ne||a===null||ki(a,a.return)),a!==null&&l&4&&am(i,i.memoizedProps,a.memoizedProps);break;case 5:if(yn(s,i),vn(i),l&512&&(Ne||a===null||ki(a,a.return)),i.flags&32){f=i.stateNode;try{pn(f,"")}catch(mt){Wt(i,i.return,mt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,am(i,f,a!==null?a.memoizedProps:f)),l&1024&&(um=!0);break;case 6:if(yn(s,i),vn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(mt){Wt(i,i.return,mt)}}break;case 3:if(mh=null,f=ai,ai=fh(s.containerInfo),yn(s,i),ai=f,vn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fo(s.containerInfo)}catch(mt){Wt(i,i.return,mt)}um&&(um=!1,Yv(i));break;case 4:l=ai,ai=fh(i.stateNode.containerInfo),yn(s,i),vn(i),ai=l;break;case 12:yn(s,i),vn(i);break;case 31:yn(s,i),vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Jc(i,l)));break;case 13:yn(s,i),vn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(th=ln()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Jc(i,l)));break;case 22:f=i.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,z=rs,J=Ne;if(rs=z||f,Ne=J||V,yn(s,i),Ne=J,rs=z,vn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||V||rs||Ne||aa(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(d=V.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=V.stateNode;var et=V.memoizedProps.style,G=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(mt){Wt(V,V.return,mt)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(mt){Wt(V,V.return,mt)}}}else if(s.tag===18){if(a===null){V=s;try{var Q=V.stateNode;f?P_(Q,!0):P_(V.stateNode,!1)}catch(mt){Wt(V,V.return,mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jc(i,a))));break;case 19:yn(s,i),vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Jc(i,l)));break;case 30:break;case 21:break;default:yn(s,i),vn(i)}}function vn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(Uv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=om(i);Wc(i,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(pn(_,""),a.flags&=-33);var S=om(i);Wc(i,S,_);break;case 3:case 4:var V=a.stateNode.containerInfo,z=om(i);lm(i,z,V);break;default:throw Error(r(161))}}catch(J){Wt(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Yv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Yv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function os(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Bv(i,s.alternate,s),s=s.sibling}function aa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:qs(4,s,s.return),aa(s);break;case 1:ki(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Pv(s,s.return,a),aa(s);break;case 27:Kl(s.stateNode);case 26:case 5:ki(s,s.return),aa(s);break;case 22:s.memoizedState===null&&aa(s);break;case 30:aa(s);break;default:aa(s)}i=i.sibling}}function ls(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:ls(f,d,a),Pl(4,d);break;case 1:if(ls(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Wt(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)A0(V[f],S)}catch(z){Wt(l,l.return,z)}}a&&_&64&&kv(d),Ll(d,d.return);break;case 27:jv(d);case 26:case 5:ls(f,d,a),a&&l===null&&_&4&&Lv(d),Ll(d,d.return);break;case 12:ls(f,d,a);break;case 31:ls(f,d,a),a&&_&4&&qv(f,d);break;case 13:ls(f,d,a),a&&_&4&&Gv(f,d);break;case 22:d.memoizedState===null&&ls(f,d,a),Ll(d,d.return);break;case 30:break;default:ls(f,d,a)}s=s.sibling}}function cm(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Sl(a))}function hm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Sl(i))}function oi(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Qv(i,s,a,l),s=s.sibling}function Qv(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:oi(i,s,a,l),f&2048&&Pl(9,s);break;case 1:oi(i,s,a,l);break;case 3:oi(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Sl(i)));break;case 12:if(f&2048){oi(i,s,a,l),i=s.stateNode;try{var d=s.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Wt(s,s.return,V)}}else oi(i,s,a,l);break;case 31:oi(i,s,a,l);break;case 13:oi(i,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?oi(i,s,a,l):Ul(i,s):d._visibility&2?oi(i,s,a,l):(d._visibility|=2,eo(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&cm(_,s);break;case 24:oi(i,s,a,l),f&2048&&hm(s.alternate,s);break;default:oi(i,s,a,l)}}function eo(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,_=s,S=a,V=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:eo(d,_,S,V,f),Pl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?eo(d,_,S,V,f):Ul(d,_):(J._visibility|=2,eo(d,_,S,V,f)),f&&z&2048&&cm(_.alternate,_);break;case 24:eo(d,_,S,V,f),f&&z&2048&&hm(_.alternate,_);break;default:eo(d,_,S,V,f)}s=s.sibling}}function Ul(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:Ul(a,l),f&2048&&cm(l.alternate,l);break;case 24:Ul(a,l),f&2048&&hm(l.alternate,l);break;default:Ul(a,l)}s=s.sibling}}var jl=8192;function no(i,s,a){if(i.subtreeFlags&jl)for(i=i.child;i!==null;)Xv(i,s,a),i=i.sibling}function Xv(i,s,a){switch(i.tag){case 26:no(i,s,a),i.flags&jl&&i.memoizedState!==null&&kC(a,ai,i.memoizedState,i.memoizedProps);break;case 5:no(i,s,a);break;case 3:case 4:var l=ai;ai=fh(i.stateNode.containerInfo),no(i,s,a),ai=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=jl,jl=16777216,no(i,s,a),jl=l):no(i,s,a));break;default:no(i,s,a)}}function $v(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Fl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];He=l,Jv(l,i)}$v(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wv(i),i=i.sibling}function Wv(i){switch(i.tag){case 0:case 11:case 15:Fl(i),i.flags&2048&&qs(9,i,i.return);break;case 3:Fl(i);break;case 12:Fl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Zc(i)):Fl(i);break;default:Fl(i)}}function Zc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];He=l,Jv(l,i)}$v(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:qs(8,s,s.return),Zc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(s));break;default:Zc(s)}i=i.sibling}}function Jv(i,s){for(;He!==null;){var a=He;switch(a.tag){case 0:case 11:case 15:qs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,He=l;else t:for(a=i;He!==null;){l=He;var f=l.sibling,d=l.return;if(zv(l),l===a){He=null;break t}if(f!==null){f.return=d,He=f;break t}He=d}}}var $x={getCacheForType:function(i){var s=Qe(Re),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Qe(Re).controller.signal}},Wx=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,Ot=null,Pt=0,$t=0,Dn=null,Gs=!1,io=!1,fm=!1,us=0,me=0,Ks=0,oa=0,dm=0,In=0,so=0,Bl=null,_n=null,mm=!1,th=0,Zv=0,eh=1/0,nh=null,Ys=null,Le=0,Qs=null,ro=null,cs=0,pm=0,gm=null,t_=null,zl=0,ym=null;function Nn(){return(Yt&2)!==0&&Pt!==0?Pt&-Pt:H.T!==null?Sm():ic()}function e_(){if(In===0)if((Pt&536870912)===0||Bt){var i=Or;Or<<=1,(Or&3932160)===0&&(Or=262144),In=i}else In=536870912;return i=Cn.current,i!==null&&(i.flags|=32),In}function Tn(i,s,a){(i===ne&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(ao(i,0),Xs(i,Pt,In,!1)),kr(i,a),((Yt&2)===0||i!==ne)&&(i===ne&&((Yt&2)===0&&(oa|=a),me===4&&Xs(i,Pt,In,!1)),Pi(i))}function n_(i,s,a){if((Yt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Wn(i,s),f=l?tC(i,s):_m(i,s,!0),d=l;do{if(f===0){io&&!l&&Xs(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!Jx(a)){f=_m(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var S=i;f=Bl;var V=S.current.memoizedState.isDehydrated;if(V&&(ao(S,_).flags|=256),_=_m(S,_,!1),_!==2){if(fm&&!V){S.errorRecoveryDisabledLanes|=d,oa|=d,f=4;break t}d=_n,_n=f,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ao(i,0),Xs(i,s,0,!0);break}t:{switch(l=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Xs(l,s,In,!Gs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=th+300-ln(),10<f)){if(Xs(l,s,In,!Gs),vi(l,0,!0)!==0)break t;cs=s,l.timeoutHandle=M_(i_.bind(null,l,a,_n,nh,mm,s,In,oa,so,Gs,d,"Throttled",-0,0),f);break t}i_(l,a,_n,nh,mm,s,In,oa,so,Gs,d,null,-0,0)}}break}while(!0);Pi(i)}function i_(i,s,a,l,f,d,_,S,V,z,J,et,G,Q){if(i.timeoutHandle=-1,et=s.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Xv(s,d,et);var mt=(d&62914560)===d?th-ln():(d&4194048)===d?Zv-ln():0;if(mt=PC(et,mt),mt!==null){cs=d,i.cancelPendingCommit=mt(h_.bind(null,i,s,d,a,l,f,_,S,V,J,et,null,G,Q)),Xs(i,d,_,!z);return}}h_(i,s,d,a,l,f,_,S,V)}function Jx(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xs(i,s,a,l){s&=~dm,s&=~oa,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var d=31-ye(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Pr(i,a,s)}function ih(){return(Yt&6)===0?(Hl(0),!1):!0}function vm(){if(Ot!==null){if($t===0)var i=Ot.return;else i=Ot,Zi=Jr=null,Od(i),$a=null,wl=0,i=Ot;for(;i!==null;)Ov(i.alternate,i),i=i.return;Ot=null}}function ao(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,vC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),cs=0,vm(),ne=i,Ot=a=Wi(i.current,null),Pt=s,$t=0,Dn=null,Gs=!1,io=Wn(i,s),fm=!1,so=In=dm=oa=Ks=me=0,_n=Bl=null,mm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-ye(l),d=1<<f;s|=i[f],l&=~d}return us=s,Ac(),a}function s_(i,s){It=null,H.H=Ml,s===Xa||s===Vc?(s=T0(),$t=3):s===bd?(s=T0(),$t=4):$t=s===$d?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,Ot===null&&(me=1,Kc(i,jn(s,i.current)))}function r_(){var i=Cn.current;return i===null?!0:(Pt&4194048)===Pt?Hn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?i===Hn:!1}function a_(){var i=H.H;return H.H=Ml,i===null?Ml:i}function o_(){var i=H.A;return H.A=$x,i}function sh(){me=4,Gs||(Pt&4194048)!==Pt&&Cn.current!==null||(io=!0),(Ks&134217727)===0&&(oa&134217727)===0||ne===null||Xs(ne,Pt,In,!1)}function _m(i,s,a){var l=Yt;Yt|=2;var f=a_(),d=o_();(ne!==i||Pt!==s)&&(nh=null,ao(i,s)),s=!1;var _=me;t:do try{if($t!==0&&Ot!==null){var S=Ot,V=Dn;switch($t){case 8:vm(),_=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(s=!0);var z=$t;if($t=0,Dn=null,oo(i,S,V,z),a&&io){_=0;break t}break;default:z=$t,$t=0,Dn=null,oo(i,S,V,z)}}Zx(),_=me;break}catch(J){s_(i,J)}while(!0);return s&&i.shellSuspendCounter++,Zi=Jr=null,Yt=l,H.H=f,H.A=d,Ot===null&&(ne=null,Pt=0,Ac()),_}function Zx(){for(;Ot!==null;)l_(Ot)}function tC(i,s){var a=Yt;Yt|=2;var l=a_(),f=o_();ne!==i||Pt!==s?(nh=null,eh=ln()+500,ao(i,s)):io=Wn(i,s);t:do try{if($t!==0&&Ot!==null){s=Ot;var d=Dn;e:switch($t){case 1:$t=0,Dn=null,oo(i,s,d,1);break;case 2:case 9:if(v0(d)){$t=0,Dn=null,u_(s);break}s=function(){$t!==2&&$t!==9||ne!==i||($t=7),Pi(i)},d.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:v0(d)?($t=0,Dn=null,u_(s)):($t=0,Dn=null,oo(i,s,d,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var S=Ot;if(_?Q_(_):S.stateNode.complete){$t=0,Dn=null;var V=S.sibling;if(V!==null)Ot=V;else{var z=S.return;z!==null?(Ot=z,rh(z)):Ot=null}break e}}$t=0,Dn=null,oo(i,s,d,5);break;case 6:$t=0,Dn=null,oo(i,s,d,6);break;case 8:vm(),me=6;break t;default:throw Error(r(462))}}eC();break}catch(J){s_(i,J)}while(!0);return Zi=Jr=null,H.H=l,H.A=f,Yt=a,Ot!==null?0:(ne=null,Pt=0,Ac(),me)}function eC(){for(;Ot!==null&&!Xf();)l_(Ot)}function l_(i){var s=Vv(i.alternate,i,us);i.memoizedProps=i.pendingProps,s===null?rh(i):Ot=s}function u_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=xv(a,s,s.pendingProps,s.type,void 0,Pt);break;case 11:s=xv(a,s,s.pendingProps,s.type.render,s.ref,Pt);break;case 5:Od(s);default:Ov(a,s),s=Ot=o0(s,us),s=Vv(a,s,us)}i.memoizedProps=i.pendingProps,s===null?rh(i):Ot=s}function oo(i,s,a,l){Zi=Jr=null,Od(s),$a=null,wl=0;var f=s.return;try{if(Hx(i,f,s,a,Pt)){me=1,Kc(i,jn(a,i.current)),Ot=null;return}}catch(d){if(f!==null)throw Ot=f,d;me=1,Kc(i,jn(a,i.current)),Ot=null;return}s.flags&32768?(Bt||l===1?i=!0:io||(Pt&536870912)!==0?i=!1:(Gs=i=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),c_(s,i)):rh(s)}function rh(i){var s=i;do{if((s.flags&32768)!==0){c_(s,Gs);return}i=s.return;var a=Kx(s.alternate,s,us);if(a!==null){Ot=a;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=i}while(s!==null);me===0&&(me=5)}function c_(i,s){do{var a=Yx(i.alternate,i);if(a!==null){a.flags&=32767,Ot=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Ot=i;return}Ot=i=a}while(i!==null);me=6,Ot=null}function h_(i,s,a,l,f,d,_,S,V){i.cancelPendingCommit=null;do ah();while(Le!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=od,Jf(i,a,d,_,S,V),i===ne&&(Ot=ne=null,Pt=0),ro=s,Qs=i,cs=a,pm=d,gm=f,t_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,rC(ws,function(){return g_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,f=nt.p,nt.p=2,_=Yt,Yt|=4;try{Qx(i,s,a)}finally{Yt=_,nt.p=f,H.T=l}}Le=1,f_(),d_(),m_()}}function f_(){if(Le===1){Le=0;var i=Qs,s=ro,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var f=Yt;Yt|=4;try{Kv(s,i);var d=Nm,_=Jy(i.containerInfo),S=d.focusedElem,V=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Wy(S.ownerDocument.documentElement,S)){if(V!==null&&nd(S)){var z=V.start,J=V.end;if(J===void 0&&(J=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(J,S.value.length);else{var et=S.ownerDocument||document,G=et&&et.defaultView||window;if(G.getSelection){var Q=G.getSelection(),mt=S.textContent.length,Et=Math.min(V.start,mt),ee=V.end===void 0?Et:Math.min(V.end,mt);!Q.extend&&Et>ee&&(_=ee,ee=Et,Et=_);var U=$y(S,Et),O=$y(S,ee);if(U&&O&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var B=et.createRange();B.setStart(U.node,U.offset),Q.removeAllRanges(),Et>ee?(Q.addRange(B),Q.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),Q.addRange(B))}}}}for(et=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var Z=et[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}vh=!!Im,Nm=Im=null}finally{Yt=f,nt.p=l,H.T=a}}i.current=s,Le=2}}function d_(){if(Le===2){Le=0;var i=Qs,s=ro,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var f=Yt;Yt|=4;try{Bv(i,s.alternate,s)}finally{Yt=f,nt.p=l,H.T=a}}Le=3}}function m_(){if(Le===4||Le===3){Le=0,$u();var i=Qs,s=ro,a=cs,l=t_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Le=5:(Le=0,ro=Qs=null,p_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ys=null),Yi(a),s=s.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot($n,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=H.T,f=nt.p,nt.p=2,H.T=null;try{for(var d=i.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{H.T=s,nt.p=f}}(cs&3)!==0&&ah(),Pi(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===ym?zl++:(zl=0,ym=i):zl=0,Hl(0)}}function p_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Sl(s)))}function ah(){return f_(),d_(),m_(),g_()}function g_(){if(Le!==5)return!1;var i=Qs,s=pm;pm=0;var a=Yi(cs),l=H.T,f=nt.p;try{nt.p=32>a?32:a,H.T=null,a=gm,gm=null;var d=Qs,_=cs;if(Le=0,ro=Qs=null,cs=0,(Yt&6)!==0)throw Error(r(331));var S=Yt;if(Yt|=4,Wv(d.current),Qv(d,d.current,_,a),Yt=S,Hl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{nt.p=f,H.T=l,p_(i,s)}}function y_(i,s,a){s=jn(a,s),s=Xd(i.stateNode,s,2),i=Bs(i,s,2),i!==null&&(kr(i,2),Pi(i))}function Wt(i,s,a){if(i.tag===3)y_(i,i,a);else for(;s!==null;){if(s.tag===3){y_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ys===null||!Ys.has(l))){i=jn(a,i),a=vv(2),l=Bs(s,a,2),l!==null&&(_v(a,l,s,i),kr(l,2),Pi(l));break}}s=s.return}}function Tm(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new Wx;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(fm=!0,f.add(a),i=nC.bind(null,i,s,a),s.then(i,i))}function nC(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ne===i&&(Pt&a)===a&&(me===4||me===3&&(Pt&62914560)===Pt&&300>ln()-th?(Yt&2)===0&&ao(i,0):dm|=a,so===Pt&&(so=0)),Pi(i)}function v_(i,s){s===0&&(s=nc()),i=Xr(i,s),i!==null&&(kr(i,s),Pi(i))}function iC(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),v_(i,a)}function sC(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),v_(i,a)}function rC(i,s){return Pe(i,s)}var oh=null,lo=null,Em=!1,lh=!1,bm=!1,$s=0;function Pi(i){i!==lo&&i.next===null&&(lo===null?oh=lo=i:lo=lo.next=i),lh=!0,Em||(Em=!0,oC())}function Hl(i,s){if(!bm&&lh){bm=!0;do for(var a=!1,l=oh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ye(42|i)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=Pt,d=vi(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,b_(l,d));l=l.next}while(a);bm=!1}}function aC(){__()}function __(){lh=Em=!1;var i=0;$s!==0&&yC()&&(i=$s);for(var s=ln(),a=null,l=oh;l!==null;){var f=l.next,d=T_(l,s);d===0?(l.next=null,a===null?oh=f:a.next=f,f===null&&(lo=a)):(a=l,(i!==0||(d&3)!==0)&&(lh=!0)),l=f}Le!==0&&Le!==5||Hl(i),$s!==0&&($s=0)}function T_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var _=31-ye(d),S=1<<_,V=f[_];V===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Wf(S,s)):V<=s&&(i.expiredLanes|=S),d&=~S}if(s=ne,a=Pt,a=vi(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&($t===2||$t===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&As(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Wn(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&As(l),Yi(a)){case 2:case 8:a=Zo;break;case 32:a=ws;break;case 268435456:a=Wu;break;default:a=ws}return l=E_.bind(null,i),a=Pe(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&As(l),i.callbackPriority=2,i.callbackNode=null,2}function E_(i,s){if(Le!==0&&Le!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(ah()&&i.callbackNode!==a)return null;var l=Pt;return l=vi(i,i===ne?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(n_(i,l,s),T_(i,ln()),i.callbackNode!=null&&i.callbackNode===a?E_.bind(null,i):null)}function b_(i,s){if(ah())return null;n_(i,s,!0)}function oC(){_C(function(){(Yt&6)!==0?Pe(Jo,aC):__()})}function Sm(){if($s===0){var i=Ya;i===0&&(i=gi,gi<<=1,(gi&261888)===0&&(gi=256)),$s=i}return $s}function S_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Va(""+i)}function A_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function lC(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=S_((f[Be]||null).action),_=l.submitter;_&&(s=(s=_[Be]||null)?S_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var S=new Di("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var V=_?A_(f,_):new FormData(f);Hd(a,{pending:!0,data:V,method:f.method,action:d},null,V)}}else typeof d=="function"&&(S.preventDefault(),V=_?A_(f,_):new FormData(f),Hd(a,{pending:!0,data:V,method:f.method,action:d},d,V))},currentTarget:f}]})}}for(var Am=0;Am<ad.length;Am++){var wm=ad[Am],uC=wm.toLowerCase(),cC=wm[0].toUpperCase()+wm.slice(1);ri(uC,"on"+cC)}ri(e0,"onAnimationEnd"),ri(n0,"onAnimationIteration"),ri(i0,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(xx,"onTransitionRun"),ri(Cx,"onTransitionStart"),ri(Rx,"onTransitionCancel"),ri(s0,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function w_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],V=S.instance,z=S.currentTarget;if(S=S.listener,V!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=z;try{d(f)}catch(J){Sc(J)}f.currentTarget=null,d=V}else for(_=0;_<l.length;_++){if(S=l[_],V=S.instance,z=S.currentTarget,S=S.listener,V!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=z;try{d(f)}catch(J){Sc(J)}f.currentTarget=null,d=V}}}}function kt(i,s){var a=s[Ca];a===void 0&&(a=s[Ca]=new Set);var l=i+"__bubble";a.has(l)||(x_(s,i,2,!1),a.add(l))}function xm(i,s,a){var l=0;s&&(l|=4),x_(a,i,l,s)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Cm(i){if(!i[uh]){i[uh]=!0,nl.forEach(function(a){a!=="selectionchange"&&(hC.has(a)||xm(a,!1,i),xm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[uh]||(s[uh]=!0,xm("selectionchange",!1,s))}}function x_(i,s,a,l){switch(eT(s)){case 2:var f=jC;break;case 8:f=FC;break;default:f=zm}a=f.bind(null,s,a,i),f=void 0,!Br||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Rm(i,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=bi(S),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Ns(function(){var z=d,J=kn(a),et=[];t:{var G=r0.get(i);if(G!==void 0){var Q=Di,mt=i;switch(i){case"keypress":if(Hr(a)===0)break t;case"keydown":case"keyup":Q=Tc;break;case"focusin":mt="focus",Q=Gr;break;case"focusout":mt="blur",Q=Gr;break;case"beforeblur":case"afterblur":Q=Gr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v;break;case e0:case n0:case i0:Q=dc;break;case s0:Q=w;break;case"scroll":case"scrollend":Q=ml;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=mc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=$i;break;case"toggle":case"beforetoggle":Q=Dt}var Et=(s&4)!==0,ee=!Et&&(i==="scroll"||i==="scrollend"),U=Et?G!==null?G+"Capture":null:G;Et=[];for(var O=z,B;O!==null;){var Z=O;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||U===null||(Z=ei(O,U),Z!=null&&Et.push(Gl(O,Z,B))),ee)break;O=O.return}0<Et.length&&(G=new Q(G,mt,null,a,J),et.push({event:G,listeners:Et}))}}if((s&7)===0){t:{if(G=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",G&&a!==hl&&(mt=a.relatedTarget||a.fromElement)&&(bi(mt)||mt[Ti]))break t;if((Q||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(mt=a.relatedTarget||a.toElement,Q=z,mt=mt?bi(mt):null,mt!==null&&(ee=u(mt),Et=mt.tag,mt!==ee||Et!==5&&Et!==27&&Et!==6)&&(mt=null)):(Q=null,mt=z),Q!==mt)){if(Et=pl,Z="onMouseLeave",U="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(Et=$i,Z="onPointerLeave",U="onPointerEnter",O="pointer"),ee=Q==null?G:Sn(Q),B=mt==null?G:Sn(mt),G=new Et(Z,O+"leave",Q,a,J),G.target=ee,G.relatedTarget=B,Z=null,bi(J)===z&&(Et=new Et(U,O+"enter",mt,a,J),Et.target=B,Et.relatedTarget=ee,Z=Et),ee=Z,Q&&mt)e:{for(Et=fC,U=Q,O=mt,B=0,Z=U;Z;Z=Et(Z))B++;Z=0;for(var _t=O;_t;_t=Et(_t))Z++;for(;0<B-Z;)U=Et(U),B--;for(;0<Z-B;)O=Et(O),Z--;for(;B--;){if(U===O||O!==null&&U===O.alternate){Et=U;break e}U=Et(U),O=Et(O)}Et=null}else Et=null;Q!==null&&C_(et,G,Q,Et,!1),mt!==null&&ee!==null&&C_(et,ee,mt,Et,!0)}}t:{if(G=z?Sn(z):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var qt=qy;else if(zy(G))if(Gy)qt=Sx;else{qt=Ex;var gt=Tx}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?z&&Na(z.elementType)&&(qt=qy):qt=bx;if(qt&&(qt=qt(i,z))){Hy(et,qt,a,J);break t}gt&&gt(i,G,z),i==="focusout"&&z&&G.type==="number"&&z.memoizedProps.value!=null&&ll(G,"number",G.value)}switch(gt=z?Sn(z):window,i){case"focusin":(zy(gt)||gt.contentEditable==="true")&&(ja=gt,id=z,Tl=null);break;case"focusout":Tl=id=ja=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Zy(et,a,J);break;case"selectionchange":if(wx)break;case"keydown":case"keyup":Zy(et,a,J)}var Vt;if(Kt)t:{switch(i){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ua?Kr(i,a)&&(Lt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Vi&&a.locale!=="ko"&&(Ua||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ua&&(Vt=dl()):(Ri=J,fl="value"in Ri?Ri.value:Ri.textContent,Ua=!0)),gt=ch(z,Lt),0<gt.length&&(Lt=new Ni(Lt,i,null,a,J),et.push({event:Lt,listeners:gt}),Vt?Lt.data=Vt:(Vt=La(a),Vt!==null&&(Lt.data=Vt)))),(Vt=Ln?gx(i,a):yx(i,a))&&(Lt=ch(z,"onBeforeInput"),0<Lt.length&&(gt=new Ni("onBeforeInput","beforeinput",null,a,J),et.push({event:gt,listeners:Lt}),gt.data=Vt)),lC(et,i,z,a,J)}w_(et,s)})}function Gl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function ch(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(i,a),f!=null&&l.unshift(Gl(i,f,d)),f=ei(i,s),f!=null&&l.push(Gl(i,f,d))),i.tag===3)return l;i=i.return}return[]}function fC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function C_(i,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var S=a,V=S.alternate,z=S.stateNode;if(S=S.tag,V!==null&&V===l)break;S!==5&&S!==26&&S!==27||z===null||(V=z,f?(z=ei(a,d),z!=null&&_.unshift(Gl(a,z,V))):f||(z=ei(a,d),z!=null&&_.push(Gl(a,z,V)))),a=a.return}_.length!==0&&i.push({event:s,listeners:_})}var dC=/\r\n?/g,mC=/\u0000|\uFFFD/g;function R_(i){return(typeof i=="string"?i:""+i).replace(dC,`
`).replace(mC,"")}function D_(i,s){return s=R_(s),R_(i)===s}function te(i,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||pn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&pn(i,""+l);break;case"className":An(i,"class",l);break;case"tabIndex":An(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,a,l);break;case"style":cl(i,l,d);break;case"data":if(s!=="object"){An(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Va(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&te(i,s,"name",f.name,f,null),te(i,s,"formEncType",f.formEncType,f,null),te(i,s,"formMethod",f.formMethod,f,null),te(i,s,"formTarget",f.formTarget,f,null)):(te(i,s,"encType",f.encType,f,null),te(i,s,"method",f.method,f,null),te(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Va(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ti);break;case"onScroll":l!=null&&kt("scroll",i);break;case"onScrollEnd":l!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Va(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":kt("beforetoggle",i),kt("toggle",i),Da(i,"popover",l);break;case"xlinkActuate":Ce(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cc.get(a)||a,Da(i,a,l))}}function Dm(i,s,a,l,f,d){switch(a){case"style":cl(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?pn(i,l):(typeof l=="number"||typeof l=="bigint")&&pn(i,""+l);break;case"onScroll":l!=null&&kt("scroll",i);break;case"onScrollEnd":l!=null&&kt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[Be]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Da(i,a,l)}}}function $e(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(i,s,d,_,a,null)}}f&&te(i,s,"srcSet",a.srcSet,a,null),l&&te(i,s,"src",a.src,a,null);return;case"input":kt("invalid",i);var S=d=_=f=null,V=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":_=J;break;case"checked":V=J;break;case"defaultChecked":z=J;break;case"value":d=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:te(i,s,l,J,a,null)}}oc(i,d,S,V,z,_,f,!1);return;case"select":kt("invalid",i),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:te(i,s,f,S,a,null)}s=d,a=_,i.multiple=!!l,s!=null?Cs(i,!!l,s,!1):a!=null&&Cs(i,!!l,a,!0);return;case"textarea":kt("invalid",i),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:te(i,s,_,S,a,null)}Rs(i,l,f,d);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(i,s,V,l,a,null)}return;case"dialog":kt("beforetoggle",i),kt("toggle",i),kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(l=0;l<ql.length;l++)kt(ql[l],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(i,s,z,l,a,null)}return;default:if(Na(s)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Dm(i,s,J,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&te(i,s,S,l,a,null))}function pC(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,V=null,z=null,J=null;for(Q in a){var et=a[Q];if(a.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=et;default:l.hasOwnProperty(Q)||te(i,s,Q,null,l,et)}}for(var G in l){var Q=l[G];if(et=a[G],l.hasOwnProperty(G)&&(Q!=null||et!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":z=Q;break;case"defaultChecked":J=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==et&&te(i,s,G,Q,l,et)}}Ia(i,_,S,V,z,J,d,f);return;case"select":Q=_=S=G=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":Q=V;default:l.hasOwnProperty(d)||te(i,s,d,null,l,V)}for(f in l)if(d=l[f],V=a[f],l.hasOwnProperty(f)&&(d!=null||V!=null))switch(f){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==V&&te(i,s,f,d,l,V)}s=S,a=_,l=Q,G!=null?Cs(i,!!a,G,!1):!!l!=!!a&&(s!=null?Cs(i,!!a,s,!0):Cs(i,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:te(i,s,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&te(i,s,_,f,l,d)}lc(i,G,Q);return;case"option":for(var mt in a)if(G=a[mt],a.hasOwnProperty(mt)&&G!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:te(i,s,mt,null,l,G)}for(V in l)if(G=l[V],Q=a[V],l.hasOwnProperty(V)&&G!==Q&&(G!=null||Q!=null))switch(V){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:te(i,s,V,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)G=a[Et],a.hasOwnProperty(Et)&&G!=null&&!l.hasOwnProperty(Et)&&te(i,s,Et,null,l,G);for(z in l)if(G=l[z],Q=a[z],l.hasOwnProperty(z)&&G!==Q&&(G!=null||Q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:te(i,s,z,G,l,Q)}return;default:if(Na(s)){for(var ee in a)G=a[ee],a.hasOwnProperty(ee)&&G!==void 0&&!l.hasOwnProperty(ee)&&Dm(i,s,ee,void 0,l,G);for(J in l)G=l[J],Q=a[J],!l.hasOwnProperty(J)||G===Q||G===void 0&&Q===void 0||Dm(i,s,J,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&te(i,s,U,null,l,G);for(et in l)G=l[et],Q=a[et],!l.hasOwnProperty(et)||G===Q||G==null&&Q==null||te(i,s,et,G,l,Q)}function I_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&I_(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var V=a[l],z=V.startTime;if(z>S)break;var J=V.transferSize,et=V.initiatorType;J&&I_(et)&&(V=V.responseEnd,_+=J*(V<S?1:(S-z)/(V-z)))}if(--l,s+=8*(d+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Im=null,Nm=null;function hh(i){return i.nodeType===9?i:i.ownerDocument}function N_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Vm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mm=null;function yC(){var i=window.event;return i&&i.type==="popstate"?i===Mm?!1:(Mm=i,!0):(Mm=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,vC=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,_C=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(i){return O_.resolve(null).then(i).catch(TC)}:M_;function TC(i){setTimeout(function(){throw i})}function Ws(i){return i==="head"}function k_(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),fo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Kl(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Ei]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Kl(i.ownerDocument.body);a=f}while(a);fo(s)}function P_(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Om(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Om(a),Ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function EC(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ei])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=qn(i.nextSibling),i===null)break}return null}function bC(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=qn(i.nextSibling),i===null))return null;return i}function L_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=qn(i.nextSibling),i===null))return null;return i}function km(i){return i.data==="$?"||i.data==="$~"}function Pm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function SC(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function qn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Lm=null;function U_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return qn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function j_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function F_(i,s,a){switch(s=hh(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ra(i)}var Gn=new Map,B_=new Set;function fh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hs=nt.d;nt.d={f:AC,r:wC,D:xC,C:CC,L:RC,m:DC,X:NC,S:IC,M:VC};function AC(){var i=hs.f(),s=ih();return i||s}function wC(i){var s=On(i);s!==null&&s.tag===5&&s.type==="form"?sv(s):hs.r(i)}var uo=typeof document>"u"?null:document;function z_(i,s,a){var l=uo;if(l&&typeof s=="string"&&s){var f=mn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),B_.has(f)||(B_.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),$e(s,"link",i),xe(s),l.head.appendChild(s)))}}function xC(i){hs.D(i),z_("dns-prefetch",i,null)}function CC(i,s){hs.C(i,s),z_("preconnect",i,s)}function RC(i,s,a){hs.L(i,s,a);var l=uo;if(l&&i&&s){var f='link[rel="preload"][as="'+mn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+mn(a.imageSizes)+'"]')):f+='[href="'+mn(i)+'"]';var d=f;switch(s){case"style":d=co(i);break;case"script":d=ho(i)}Gn.has(d)||(i=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Gn.set(d,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Yl(d))||s==="script"&&l.querySelector(Ql(d))||(s=l.createElement("link"),$e(s,"link",i),xe(s),l.head.appendChild(s)))}}function DC(i,s){hs.m(i,s);var a=uo;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(i)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ho(i)}if(!Gn.has(d)&&(i=T({rel:"modulepreload",href:i},s),Gn.set(d,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(d)))return}l=a.createElement("link"),$e(l,"link",i),xe(l),a.head.appendChild(l)}}}function IC(i,s,a){hs.S(i,s,a);var l=uo;if(l&&i){var f=Si(l).hoistableStyles,d=co(i);s=s||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Yl(d)))S.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Gn.get(d))&&Um(i,a);var V=_=l.createElement("link");xe(V),$e(V,"link",i),V._p=new Promise(function(z,J){V.onload=z,V.onerror=J}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,dh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function NC(i,s){hs.X(i,s);var a=uo;if(a&&i){var l=Si(a).hoistableScripts,f=ho(i),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(i=T({src:i,async:!0},s),(s=Gn.get(f))&&jm(i,s),d=a.createElement("script"),xe(d),$e(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function VC(i,s){hs.M(i,s);var a=uo;if(a&&i){var l=Si(a).hoistableScripts,f=ho(i),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(i=T({src:i,async:!0,type:"module"},s),(s=Gn.get(f))&&jm(i,s),d=a.createElement("script"),xe(d),$e(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function H_(i,s,a,l){var f=(f=Nt.current)?fh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=co(a.href),a=Si(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=co(a.href);var d=Si(f).hoistableStyles,_=d.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,_),(d=f.querySelector(Yl(i)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(i,a),d||MC(f,i,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ho(a),a=Si(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function co(i){return'href="'+mn(i)+'"'}function Yl(i){return'link[rel="stylesheet"]['+i+"]"}function q_(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function MC(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),$e(s,"link",a),xe(s),i.head.appendChild(s))}function ho(i){return'[src="'+mn(i)+'"]'}function Ql(i){return"script[async]"+i}function G_(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+mn(a.href)+'"]');if(l)return s.instance=l,xe(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),xe(l),$e(l,"style",f),dh(l,a.precedence,i),s.instance=l;case"stylesheet":f=co(a.href);var d=i.querySelector(Yl(f));if(d)return s.state.loading|=4,s.instance=d,xe(d),d;l=q_(a),(f=Gn.get(f))&&Um(l,f),d=(i.ownerDocument||i).createElement("link"),xe(d);var _=d;return _._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),$e(d,"link",l),s.state.loading|=4,dh(d,a.precedence,i),s.instance=d;case"script":return d=ho(a.src),(f=i.querySelector(Ql(d)))?(s.instance=f,xe(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),jm(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),xe(f),$e(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,dh(l,a.precedence,i));return s.instance}function dh(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Um(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function jm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var mh=null;function K_(i,s,a){if(mh===null){var l=new Map,f=mh=new Map;f.set(a,l)}else f=mh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[Ei]||d[we]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=i+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Y_(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function OC(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Q_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function kC(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=co(l.href),d=s.querySelector(Yl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=ph.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,xe(d);return}d=s.ownerDocument||s,l=q_(l),(f=Gn.get(f))&&Um(l,f),d=d.createElement("link"),xe(d);var _=d;_._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),$e(d,"link",l),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=ph.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Fm=0;function PC(i,s){return i.stylesheets&&i.count===0&&yh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&yh(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&Fm===0&&(Fm=62500*gC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&yh(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>Fm?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gh=null;function yh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gh=new Map,s.forEach(LC,i),gh=null,ph.call(i))}function LC(i,s){if(!(s.state.loading&4)){var a=gh.get(i);if(a)var l=a.get(null);else{a=new Map,gh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=ph.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Xl={$$typeof:$,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function UC(i,s,a,l,f,d,_,S,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function X_(i,s,a,l,f,d,_,S,V,z,J,et){return i=new UC(i,s,a,_,V,z,J,et,S),s=1,d===!0&&(s|=24),d=xn(3,null,null,s),i.current=d,d.stateNode=i,s=_d(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Sd(d),i}function $_(i){return i?(i=za,i):za}function W_(i,s,a,l,f,d){f=$_(f),l.context===null?l.context=f:l.pendingContext=f,l=Fs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Bs(i,l,s),a!==null&&(Tn(a,i,s),Cl(a,i,s))}function J_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Bm(i,s){J_(i,s),(i=i.alternate)&&J_(i,s)}function Z_(i){if(i.tag===13||i.tag===31){var s=Xr(i,67108864);s!==null&&Tn(s,i,67108864),Bm(i,67108864)}}function tT(i){if(i.tag===13||i.tag===31){var s=Nn();s=Lr(s);var a=Xr(i,s);a!==null&&Tn(a,i,s),Bm(i,s)}}var vh=!0;function jC(i,s,a,l){var f=H.T;H.T=null;var d=nt.p;try{nt.p=2,zm(i,s,a,l)}finally{nt.p=d,H.T=f}}function FC(i,s,a,l){var f=H.T;H.T=null;var d=nt.p;try{nt.p=8,zm(i,s,a,l)}finally{nt.p=d,H.T=f}}function zm(i,s,a,l){if(vh){var f=Hm(l);if(f===null)Rm(i,s,l,_h,a),nT(i,l);else if(zC(f,i,s,a,l))l.stopPropagation();else if(nT(i,l),s&4&&-1<BC.indexOf(i)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var V=1<<31-ye(_);S.entanglements[1]|=V,_&=~V}Pi(d),(Yt&6)===0&&(eh=ln()+500,Hl(0))}}break;case 31:case 13:S=Xr(d,2),S!==null&&Tn(S,d,2),ih(),Bm(d,2)}if(d=Hm(l),d===null&&Rm(i,s,l,_h,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Rm(i,s,l,null,a)}}function Hm(i){return i=kn(i),qm(i)}var _h=null;function qm(i){if(_h=null,i=bi(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return _h=i,null}function eT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mr()){case Jo:return 2;case Zo:return 8;case ws:case $f:return 32;case Wu:return 268435456;default:return 32}default:return 32}}var Gm=!1,Js=null,Zs=null,tr=null,$l=new Map,Wl=new Map,er=[],BC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nT(i,s){switch(i){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":$l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(s.pointerId)}}function Jl(i,s,a,l,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=On(s),s!==null&&Z_(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function zC(i,s,a,l,f){switch(s){case"focusin":return Js=Jl(Js,i,s,a,l,f),!0;case"dragenter":return Zs=Jl(Zs,i,s,a,l,f),!0;case"mouseover":return tr=Jl(tr,i,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return $l.set(d,Jl($l.get(d)||null,i,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Wl.set(d,Jl(Wl.get(d)||null,i,s,a,l,f)),!0}return!1}function iT(i){var s=bi(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Jn(i.priority,function(){tT(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,Jn(i.priority,function(){tT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Th(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Hm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return s=On(a),s!==null&&Z_(s),i.blockedOn=a,!1;s.shift()}return!0}function sT(i,s,a){Th(i)&&a.delete(s)}function HC(){Gm=!1,Js!==null&&Th(Js)&&(Js=null),Zs!==null&&Th(Zs)&&(Zs=null),tr!==null&&Th(tr)&&(tr=null),$l.forEach(sT),Wl.forEach(sT)}function Eh(i,s){i.blockedOn===s&&(i.blockedOn=null,Gm||(Gm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,HC)))}var bh=null;function rT(i){bh!==i&&(bh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bh===i&&(bh=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(qm(l||a)===null)continue;break}var d=On(a);d!==null&&(i.splice(s,3),s-=3,Hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function fo(i){function s(V){return Eh(V,i)}Js!==null&&Eh(Js,i),Zs!==null&&Eh(Zs,i),tr!==null&&Eh(tr,i),$l.forEach(s),Wl.forEach(s);for(var a=0;a<er.length;a++){var l=er[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<er.length&&(a=er[0],a.blockedOn===null);)iT(a),a.blockedOn===null&&er.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Be]||null;if(typeof d=="function")_||rT(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Be]||null)S=_.formAction;else if(qm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),rT(a)}}}function aT(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Km(i){this._internalRoot=i}Sh.prototype.render=Km.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Nn();W_(a,l,i,s,null,null)},Sh.prototype.unmount=Km.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;W_(i.current,2,null,i,null,null),ih(),s[Ti]=null}};function Sh(i){this._internalRoot=i}Sh.prototype.unstable_scheduleHydration=function(i){if(i){var s=ic();i={blockedOn:null,target:i,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,i),a===0&&iT(i)}};var oT=t.version;if(oT!=="19.2.0")throw Error(r(527,oT,"19.2.0"));nt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var qC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{$n=Ah.inject(qC),Ge=Ah}catch{}}return tu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=mv,d=pv,_=gv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=X_(i,1,!1,null,null,a,l,null,f,d,_,aT),i[Ti]=s.current,Cm(i),new Km(s)},tu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",d=mv,_=pv,S=gv,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),s=X_(i,1,!0,s,a??null,l,f,V,d,_,S,aT),s.context=$_(null),a=s.current,l=Nn(),l=Lr(l),f=Fs(l),f.callback=null,Bs(a,f,l),a=l,s.current.lanes=a,kr(s,a),Pi(s),i[Ti]=s.current,Cm(i),new Sh(s)},tu.version="19.2.0",tu}var yT;function tR(){if(yT)return Xm.exports;yT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Xm.exports=ZC(),Xm.exports}var eR=tR();const nR=()=>{};var vT={};const sS=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},iR=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],m=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},rS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,y=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,D=g&63;p||(D=64,c||(b=64)),r.push(e[y],e[T],e[b],e[D])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(sS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):iR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],m=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const T=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new sR;const b=u<<2|m>>4;if(r.push(b),g!==64){const D=m<<4&240|g>>2;if(r.push(D),T!==64){const j=g<<6&192|T;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rR=function(n){const t=sS(n);return rS.encodeByteArray(t,!0)},Xh=function(n){return rR(n).replace(/\./g,"")},aS=function(n){try{return rS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function aR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oR=()=>aR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof vT>"u")return;const n=vT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&aS(n[1]);return t&&JSON.parse(t)},Sf=()=>{try{return nR()||oR()||lR()||uR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oS=n=>Sf()?.emulatorHosts?.[n],cR=n=>{const t=oS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},lS=()=>Sf()?.config,uS=n=>Sf()?.[`_${n}`];class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function jo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cS(n){return(await fetch(n,{credentials:"include"})).ok}function fR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Xh(JSON.stringify(e)),Xh(JSON.stringify(c)),""].join(".")}const cu={};function dR(){const n={prod:[],emulator:[]};for(const t of Object.keys(cu))cu[t]?n.emulator.push(t):n.prod.push(t);return n}function mR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let _T=!1;function hS(n,t){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||cu[n]===t||cu[n]||_T)return;cu[n]=t;function e(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=dR().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{_T=!0,c()},b}function y(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=mR(r),D=e("text"),j=document.getElementById(D)||document.createElement("span"),q=e("learnmore"),L=document.getElementById(q)||document.createElement("a"),K=e("preprendIcon"),it=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const $=b.element;m($),y(L,q);const W=g();p(it,K),$.append(it,j,L,W),document.body.appendChild($)}u?(j.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function gR(){const n=Sf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TR(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ER(){return!gR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bR(){try{return typeof indexedDB=="object"}catch{return!1}}function SR(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const AR="FirebaseError";class Ss extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=AR,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?wR(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ss(o,m,r)}}function wR(n,t){return n.replace(xR,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const xR=/\{\$([^}]+)}/g;function CR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function vr(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(TT(u)&&TT(c)){if(!vr(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function TT(n){return n!==null&&typeof n=="object"}function ku(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function RR(n,t){const e=new DR(n,t);return e.subscribe.bind(e)}class DR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");IR(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Zm),o.error===void 0&&(o.error=Zm),o.complete===void 0&&(o.complete=Zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Zm(){}function dn(n){return n&&n._delegate?n._delegate:n}class ga{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ua="[DEFAULT]";class NR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new hR;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MR(t))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ua){return this.instances.has(t)}getOptions(t=ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VR(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ua){return this.component?this.component.multipleInstances?t:ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VR(n){return n===ua?void 0:n}function MR(n){return n.instantiationMode==="EAGER"}class OR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new NR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ut||(Ut={}));const kR={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},PR=Ut.INFO,LR={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},UR=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=LR[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bg{constructor(t){this.name=t,this._logLevel=PR,this._logHandler=UR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const jR=(n,t)=>t.some(e=>n instanceof e);let ET,bT;function FR(){return ET||(ET=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BR(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fS=new WeakMap,Cp=new WeakMap,dS=new WeakMap,tp=new WeakMap,Sg=new WeakMap;function zR(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(hr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&fS.set(e,n)}).catch(()=>{}),Sg.set(t,n),t}function HR(n){if(Cp.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Cp.set(n,t)}let Rp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Cp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||dS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return hr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function qR(n){Rp=n(Rp)}function GR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(ep(this),t,...e);return dS.set(r,t.sort?t.sort():[t]),hr(r)}:BR().includes(n)?function(...t){return n.apply(ep(this),t),hr(fS.get(this))}:function(...t){return hr(n.apply(ep(this),t))}}function KR(n){return typeof n=="function"?GR(n):(n instanceof IDBTransaction&&HR(n),jR(n,FR())?new Proxy(n,Rp):n)}function hr(n){if(n instanceof IDBRequest)return zR(n);if(tp.has(n))return tp.get(n);const t=KR(n);return t!==n&&(tp.set(n,t),Sg.set(t,n)),t}const ep=n=>Sg.get(n);function YR(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=hr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(hr(c.result),p.oldVersion,p.newVersion,hr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const QR=["get","getKey","getAll","getAllKeys","count"],XR=["put","add","delete","clear"],np=new Map;function ST(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(np.get(t))return np.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=XR.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||QR.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return np.set(t,u),u}qR(n=>({...n,get:(t,e,r)=>ST(t,e)||n.get(t,e,r),has:(t,e)=>!!ST(t,e)||n.has(t,e)}));class $R{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(WR(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function WR(n){return n.getComponent()?.type==="VERSION"}const Dp="@firebase/app",AT="0.14.7";const ys=new bg("@firebase/app"),JR="@firebase/app-compat",ZR="@firebase/analytics-compat",t2="@firebase/analytics",e2="@firebase/app-check-compat",n2="@firebase/app-check",i2="@firebase/auth",s2="@firebase/auth-compat",r2="@firebase/database",a2="@firebase/data-connect",o2="@firebase/database-compat",l2="@firebase/functions",u2="@firebase/functions-compat",c2="@firebase/installations",h2="@firebase/installations-compat",f2="@firebase/messaging",d2="@firebase/messaging-compat",m2="@firebase/performance",p2="@firebase/performance-compat",g2="@firebase/remote-config",y2="@firebase/remote-config-compat",v2="@firebase/storage",_2="@firebase/storage-compat",T2="@firebase/firestore",E2="@firebase/ai",b2="@firebase/firestore-compat",S2="firebase",A2="12.8.0";const Ip="[DEFAULT]",w2={[Dp]:"fire-core",[JR]:"fire-core-compat",[t2]:"fire-analytics",[ZR]:"fire-analytics-compat",[n2]:"fire-app-check",[e2]:"fire-app-check-compat",[i2]:"fire-auth",[s2]:"fire-auth-compat",[r2]:"fire-rtdb",[a2]:"fire-data-connect",[o2]:"fire-rtdb-compat",[l2]:"fire-fn",[u2]:"fire-fn-compat",[c2]:"fire-iid",[h2]:"fire-iid-compat",[f2]:"fire-fcm",[d2]:"fire-fcm-compat",[m2]:"fire-perf",[p2]:"fire-perf-compat",[g2]:"fire-rc",[y2]:"fire-rc-compat",[v2]:"fire-gcs",[_2]:"fire-gcs-compat",[T2]:"fire-fst",[b2]:"fire-fst-compat",[E2]:"fire-vertex","fire-js":"fire-js",[S2]:"fire-js-all"};const $h=new Map,x2=new Map,Np=new Map;function wT(n,t){try{n.container.addComponent(t)}catch(e){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Io(n){const t=n.name;if(Np.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;Np.set(t,n);for(const e of $h.values())wT(e,n);for(const e of x2.values())wT(e,n);return!0}function Ag(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ci(n){return n==null?!1:n.settings!==void 0}const C2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Ou("app","Firebase",C2);class R2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Fo=A2;function mS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Ip,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(e||(e=lS()),!e)throw fr.create("no-options");const u=$h.get(o);if(u){if(vr(e,u.options)&&vr(r,u.config))return u;throw fr.create("duplicate-app",{appName:o})}const c=new OR(o);for(const p of Np.values())c.addComponent(p);const m=new R2(e,r,c);return $h.set(o,m),m}function pS(n=Ip){const t=$h.get(n);if(!t&&n===Ip&&lS())return mS();if(!t)throw fr.create("no-app",{appName:n});return t}function dr(n,t,e){let r=w2[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(c.join(" "));return}Io(new ga(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const D2="firebase-heartbeat-database",I2=1,Tu="firebase-heartbeat-store";let ip=null;function gS(){return ip||(ip=YR(D2,I2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Tu)}catch(e){console.warn(e)}}}}).catch(n=>{throw fr.create("idb-open",{originalErrorMessage:n.message})})),ip}async function N2(n){try{const e=(await gS()).transaction(Tu),r=await e.objectStore(Tu).get(yS(n));return await e.done,r}catch(t){if(t instanceof Ss)ys.warn(t.message);else{const e=fr.create("idb-get",{originalErrorMessage:t?.message});ys.warn(e.message)}}}async function xT(n,t){try{const r=(await gS()).transaction(Tu,"readwrite");await r.objectStore(Tu).put(t,yS(n)),await r.done}catch(e){if(e instanceof Ss)ys.warn(e.message);else{const r=fr.create("idb-set",{originalErrorMessage:e?.message});ys.warn(r.message)}}}function yS(n){return`${n.name}!${n.options.appId}`}const V2=1024,M2=30;class O2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new P2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=CT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>M2){const o=L2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=CT(),{heartbeatsToSend:e,unsentEntries:r}=k2(this._heartbeatsCache.heartbeats),o=Xh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ys.warn(t),""}}}function CT(){return new Date().toISOString().substring(0,10)}function k2(n,t=V2){const e=[];let r=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),RT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),RT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class P2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bR()?SR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await N2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return xT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return xT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function RT(n){return Xh(JSON.stringify({version:2,heartbeats:n})).length}function L2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function U2(n){Io(new ga("platform-logger",t=>new $R(t),"PRIVATE")),Io(new ga("heartbeat",t=>new O2(t),"PRIVATE")),dr(Dp,AT,n),dr(Dp,AT,"esm2020"),dr("fire-js","")}U2("");var j2="firebase",F2="12.8.0";dr(j2,F2,"app");function vS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B2=vS,_S=new Ou("auth","Firebase",vS());const Wh=new bg("@firebase/auth");function z2(n,...t){Wh.logLevel<=Ut.WARN&&Wh.warn(`Auth (${Fo}): ${n}`,...t)}function kh(n,...t){Wh.logLevel<=Ut.ERROR&&Wh.error(`Auth (${Fo}): ${n}`,...t)}function vs(n,...t){throw wg(n,...t)}function Ui(n,...t){return wg(n,...t)}function TS(n,t,e){const r={...B2(),[t]:e};return new Ou("auth","Firebase",r).create(t,{appName:n.name})}function mr(n){return TS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return _S.create(n,...t)}function St(n,t,...e){if(!n)throw wg(t,...e)}function ms(n){const t="INTERNAL ASSERTION FAILED: "+n;throw kh(t),new Error(t)}function _s(n,t){n||ms(t)}function Vp(){return typeof self<"u"&&self.location?.href||""}function H2(){return DT()==="http:"||DT()==="https:"}function DT(){return typeof self<"u"&&self.location?.protocol||null}function q2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H2()||vR()||"connection"in navigator)?navigator.onLine:!0}function G2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Pu{constructor(t,e){this.shortDelay=t,this.longDelay=e,_s(e>t,"Short delay should be less than long delay!"),this.isMobile=pR()||_R()}get(){return q2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xg(n,t){_s(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class ES{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Y2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q2=new Pu(3e4,6e4);function Af(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Bo(n,t,e,r,o={}){return bS(n,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=ku({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return yR()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&jo(n.emulatorConfig.host)&&(g.credentials="include"),ES.fetch()(await AS(n,n.config.apiHost,e,m),g)})}async function bS(n,t,e){n._canInitEmulator=!1;const r={...K2,...t};try{const o=new X2(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw wh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw wh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw wh(n,"user-disabled",c);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw TS(n,y,g);vs(n,y)}}catch(o){if(o instanceof Ss)throw o;vs(n,"network-request-failed",{message:String(o)})}}async function SS(n,t,e,r,o={}){const u=await Bo(n,t,e,r,o);return"mfaPendingCredential"in u&&vs(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function AS(n,t,e,r){const o=`${t}${e}?${r}`,u=n,c=u.config.emulator?xg(n.config,o):`${n.config.apiScheme}://${o}`;return Y2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class X2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),Q2.get())})}}function wh(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Ui(n,t,r);return o.customData._tokenResponse=e,o}async function $2(n,t){return Bo(n,"POST","/v1/accounts:delete",t)}async function Jh(n,t){return Bo(n,"POST","/v1/accounts:lookup",t)}function hu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function W2(n,t=!1){const e=dn(n),r=await e.getIdToken(t),o=Cg(r);St(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:hu(sp(o.auth_time)),issuedAtTime:hu(sp(o.iat)),expirationTime:hu(sp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sp(n){return Number(n)*1e3}function Cg(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const o=aS(e);return o?JSON.parse(o):(kh("Failed to decode base64 JWT payload"),null)}catch(o){return kh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function IT(n){const t=Cg(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Eu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Ss&&J2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function J2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Z2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Mp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zh(n){const t=n.auth,e=await n.getIdToken(),r=await Eu(n,Jh(t,{idToken:e}));St(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?wS(o.providerUserInfo):[],c=eD(n.providerData,u),m=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=m?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function tD(n){const t=dn(n);await Zh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eD(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function wS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function nD(n,t){const e=await bS(n,{},async()=>{const r=ku({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await AS(n,o,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return n.emulatorConfig&&jo(n.emulatorConfig.host)&&(p.credentials="include"),ES.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function iD(n,t){return Bo(n,"POST","/v2/accounts:revokeToken",Af(n,t))}class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):IT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=IT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await nD(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new So;return r&&(St(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(St(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return ms("not implemented")}}function ir(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Eu(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return W2(this,t)}reload(){return tD(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(mr(this.auth));const t=await this.getIdToken();return await Eu(this,$2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:D,providerData:j,stsTokenManager:q}=e;St(T&&q,t,"internal-error");const L=So.fromJSON(this.name,q);St(typeof T=="string",t,"internal-error"),ir(r,t.name),ir(o,t.name),St(typeof b=="boolean",t,"internal-error"),St(typeof D=="boolean",t,"internal-error"),ir(u,t.name),ir(c,t.name),ir(m,t.name),ir(p,t.name),ir(g,t.name),ir(y,t.name);const K=new hi({uid:T,auth:t,email:o,emailVerified:b,displayName:r,isAnonymous:D,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:y});return j&&Array.isArray(j)&&(K.providerData=j.map(it=>({...it}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(t,e,r=!1){const o=new So;o.updateFromServerResponse(e);const u=new hi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Zh(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?wS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new So;m.updateFromIdToken(r);const p=new hi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const NT=new Map;function ps(n){_s(n instanceof Function,"Expected a class definition");let t=NT.get(n);return t?(_s(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,NT.set(n,t),t)}class xS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}xS.type="NONE";const VT=xS;function Ph(n,t,e){return`firebase:${n}:${t}:${e}`}class Ao{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ph("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Jh(this.auth,{idToken:t}).catch(()=>{});return e?hi._fromGetAccountInfoResponse(this.auth,e,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Ao(ps(VT),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ps(VT);const c=Ph(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const b=await Jh(t,{idToken:y}).catch(()=>{});if(!b)break;T=await hi._fromGetAccountInfoResponse(t,b,y)}else T=hi._fromJSON(t,y);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ao(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Ao(u,t,r))}}function MT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(IS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(CS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VS(t))return"Blackberry";if(MS(t))return"Webos";if(RS(t))return"Safari";if((t.includes("chrome/")||DS(t))&&!t.includes("edge/"))return"Chrome";if(NS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function CS(n=on()){return/firefox\//i.test(n)}function RS(n=on()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DS(n=on()){return/crios\//i.test(n)}function IS(n=on()){return/iemobile/i.test(n)}function NS(n=on()){return/android/i.test(n)}function VS(n=on()){return/blackberry/i.test(n)}function MS(n=on()){return/webos/i.test(n)}function Rg(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sD(n=on()){return Rg(n)&&!!window.navigator?.standalone}function rD(){return TR()&&document.documentMode===10}function OS(n=on()){return Rg(n)||NS(n)||MS(n)||VS(n)||/windows phone/i.test(n)||IS(n)}function kS(n,t=[]){let e;switch(n){case"Browser":e=MT(on());break;case"Worker":e=`${MT(on())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fo}/${r}`}class aD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function oD(n,t={}){return Bo(n,"GET","/v2/passwordPolicy",Af(n,t))}const lD=6;class uD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??lD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class cD{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OT(this),this.idTokenSubscription=new OT(this),this.beforeStateQueue=new aD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ps(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Jh(this,{idToken:t}),r=await hi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ci(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Zh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=G2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ci(this.app))return Promise.reject(mr(this));const e=t?dn(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ci(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oD(this),e=new uD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ou("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await iD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ps(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[ps(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&z2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function wf(n){return dn(n)}class OT{constructor(t){this.auth=t,this.observer=null,this.addObserver=RR(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hD(n){Dg=n}function fD(n){return Dg.loadJS(n)}function dD(){return Dg.gapiScript}function mD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function pD(n,t){const e=Ag(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(vr(u,t??{}))return o;vs(o,"already-initialized")}return e.initialize({options:t})}function gD(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(ps);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function yD(n,t,e){const r=wf(n);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=PS(t),{host:c,port:m}=vD(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},y=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(vr(g,r.config.emulator)&&vr(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,jo(c)?(cS(`${u}//${c}${p}`),hS("Auth",!0)):_D()}function PS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function vD(n){const t=PS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:kT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:kT(c)}}}function kT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function _D(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class LS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ms("not implemented")}_getIdTokenResponse(t){return ms("not implemented")}_linkToIdToken(t,e){return ms("not implemented")}_getReauthenticationResolver(t){return ms("not implemented")}}async function wo(n,t){return SS(n,"POST","/v1/accounts:signInWithIdp",Af(n,t))}const TD="http://localhost";class ya extends LS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):vs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new ya(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return wo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,wo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,wo(t,e)}buildRequest(){const t={requestUri:TD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ku(e)}return t}}class US{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Lu extends US{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class rr extends Lu{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ya._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return ar.credential(e,r)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class or extends Lu{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";class lr extends Lu{constructor(){super("twitter.com")}static credential(t,e){return ya._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return lr.credential(e,r)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function ED(n,t){return SS(n,"POST","/v1/accounts:signUp",Af(n,t))}class _r{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await hi._fromIdTokenResponse(t,r,o),c=PT(r);return new _r({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=PT(r);return new _r({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function PT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function jS(n){if(ci(n.app))return Promise.reject(mr(n));const t=wf(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new _r({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await ED(t,{returnSecureToken:!0}),r=await _r._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}class tf extends Ss{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new tf(t,e,r,o)}}function FS(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(n,u,t,r):u})}async function bD(n,t,e=!1){const r=await Eu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return _r._forOperation(n,"link",r)}async function SD(n,t,e=!1){const{auth:r}=n;if(ci(r.app))return Promise.reject(mr(r));const o="reauthenticate";try{const u=await Eu(n,FS(r,o,t,n),e);St(u.idToken,r,"internal-error");const c=Cg(u.idToken);St(c,r,"internal-error");const{sub:m}=c;return St(n.uid===m,r,"user-mismatch"),_r._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),u}}async function AD(n,t,e=!1){if(ci(n.app))return Promise.reject(mr(n));const r="signIn",o=await FS(n,r,t),u=await _r._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}function wD(n,t,e,r){return dn(n).onIdTokenChanged(t,e,r)}function xD(n,t,e){return dn(n).beforeAuthStateChanged(t,e)}const ef="__sak";class BS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const CD=1e3,RD=10;class zS extends BS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);rD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,RD):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}zS.type="LOCAL";const DD=zS;class HS extends BS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}HS.type="SESSION";const qS=HS;function ID(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class xf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new xf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await ID(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xf.receivers=[];function Ig(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}class ND{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Ig("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ji(){return window}function VD(n){ji().location.href=n}function GS(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function MD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OD(){return navigator?.serviceWorker?.controller||null}function kD(){return GS()?self:null}const KS="firebaseLocalStorageDb",PD=1,nf="firebaseLocalStorage",YS="fbase_key";class Uu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Cf(n,t){return n.transaction([nf],t?"readwrite":"readonly").objectStore(nf)}function LD(){const n=indexedDB.deleteDatabase(KS);return new Uu(n).toPromise()}function Op(){const n=indexedDB.open(KS,PD);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(nf,{keyPath:YS})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(nf)?t(r):(r.close(),await LD(),t(await Op()))})})}async function LT(n,t,e){const r=Cf(n,!0).put({[YS]:t,value:e});return new Uu(r).toPromise()}async function UD(n,t){const e=Cf(n,!1).get(t),r=await new Uu(e).toPromise();return r===void 0?null:r.value}function UT(n,t){const e=Cf(n,!0).delete(t);return new Uu(e).toPromise()}const jD=800,FD=3;class QS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>FD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xf._getInstance(kD()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MD(),!this.activeServiceWorker)return;this.sender=new ND(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||OD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Op();return await LT(t,ef,"1"),await UT(t,ef),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>LT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>UD(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>UT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Cf(o,!1).getAll();return new Uu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QS.type="LOCAL";const BD=QS;new Pu(3e4,6e4);function zD(n,t){return t?ps(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Ng extends LS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return wo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return wo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function HD(n){return AD(n.auth,new Ng(n),n.bypassAuthState)}function qD(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),SD(e,new Ng(n),n.bypassAuthState)}async function GD(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),bD(e,new Ng(n),n.bypassAuthState)}class XS{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return qD;default:vs(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KD=new Pu(2e3,1e4);class vo extends XS{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=Ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KD.get())};t()}}vo.currentPopupAction=null;const YD="pendingRedirect",Lh=new Map;class QD extends XS{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Lh.get(this.auth._key());if(!t){try{const r=await XD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Lh.set(this.auth._key(),t)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XD(n,t){const e=JD(t),r=WD(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function $D(n,t){Lh.set(n._key(),t)}function WD(n){return ps(n._redirectPersistence)}function JD(n){return Ph(YD,n.config.apiKey,n.name)}async function ZD(n,t,e=!1){if(ci(n.app))return Promise.reject(mr(n));const r=wf(n),o=zD(r,t),c=await new QD(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const tI=600*1e3;class eI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!$S(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ui(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tI&&this.cachedEventUids.clear(),this.cachedEventUids.has(jT(t))}saveEventToCache(t){this.cachedEventUids.add(jT(t)),this.lastProcessedEventTime=Date.now()}}function jT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function $S({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function nI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $S(n);default:return!1}}async function iI(n,t={}){return Bo(n,"GET","/v1/projects",t)}const sI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rI=/^https?/;async function aI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await iI(n);for(const e of t)try{if(oI(e))return}catch{}vs(n,"unauthorized-domain")}function oI(n){const t=Vp(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!rI.test(e))return!1;if(sI.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const lI=new Pu(3e4,6e4);function FT(){const n=ji().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function uI(n){return new Promise((t,e)=>{function r(){FT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{FT(),e(Ui(n,"network-request-failed"))},timeout:lI.get()})}if(ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ji().gapi?.load)r();else{const o=mD("iframefcb");return ji()[o]=()=>{gapi.load?r():e(Ui(n,"network-request-failed"))},fD(`${dD()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Uh=null,t})}let Uh=null;function cI(n){return Uh=Uh||uI(n),Uh}const hI=new Pu(5e3,15e3),fI="__/auth/iframe",dI="emulator/auth/iframe",mI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gI(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?xg(t,dI):`https://${n.config.authDomain}/${fI}`,r={apiKey:t.apiKey,appName:n.name,v:Fo},o=pI.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${ku(r).slice(1)}`}async function yI(n){const t=await cI(n),e=ji().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:gI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Ui(n,"network-request-failed"),m=ji().setTimeout(()=>{u(c)},hI.get());function p(){ji().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const vI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_I=500,TI=600,EI="_blank",bI="http://localhost";class BT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SI(n,t,e,r=_I,o=TI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...vI,width:r.toString(),height:o.toString(),top:u,left:c},g=on().toLowerCase();e&&(m=DS(g)?EI:e),CS(g)&&(t=t||bI,p.scrollbars="yes");const y=Object.entries(p).reduce((b,[D,j])=>`${b}${D}=${j},`,"");if(sD(g)&&m!=="_self")return AI(t||"",m),new BT(null);const T=window.open(t||"",m,y);St(T,n,"popup-blocked");try{T.focus()}catch{}return new BT(T)}function AI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const wI="__/auth/handler",xI="emulator/auth/handler",CI=encodeURIComponent("fac");async function zT(n,t,e,r,o,u){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Fo,eventId:o};if(t instanceof US){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",CR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof Lu){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const p=await n._getAppCheckToken(),g=p?`#${CI}=${encodeURIComponent(p)}`:"";return`${RI(n)}?${ku(m).slice(1)}${g}`}function RI({config:n}){return n.emulator?xg(n,xI):`https://${n.authDomain}/${wI}`}const rp="webStorageSupport";class DI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qS,this._completeRedirectFn=ZD,this._overrideRedirectResult=$D}async _openPopup(t,e,r,o){_s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await zT(t,e,r,Vp(),o);return SI(t,u,Ig())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await zT(t,e,r,Vp(),o);return VD(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(_s(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await yI(t),r=new eI(t);return e.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(rp,{type:rp},o=>{const u=o?.[0]?.[rp];u!==void 0&&e(!!u),vs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=aI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return OS()||RS()||Rg()}}const II=DI;var HT="@firebase/auth",qT="1.12.0";class NI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MI(n){Io(new ga("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kS(n)},g=new cD(r,o,u,p);return gD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Io(new ga("auth-internal",t=>{const e=wf(t.getProvider("auth").getImmediate());return(r=>new NI(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(HT,qT,VI(n)),dr(HT,qT,"esm2020")}const OI=300,kI=uS("authIdTokenMaxAge")||OI;let GT=null;const PI=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>kI)return;const o=e?.token;GT!==o&&(GT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LI(n=pS()){const t=Ag(n,"auth");if(t.isInitialized())return t.getImmediate();const e=pD(n,{popupRedirectResolver:II,persistence:[BD,DD,qS]}),r=uS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=PI(u.toString());xD(e,c,()=>c(e.currentUser)),wD(e,m=>c(m))}}const o=oS("auth");return o&&yD(e,`http://${o}`),e}function UI(){return document.getElementsByTagName("head")?.[0]??document}hD({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=Ui("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",UI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MI("Browser");var KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,WS;(function(){var n;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,N,P){for(var I=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)I[pt-2]=arguments[pt];return A.prototype[N].apply(M,I)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],N=C.g[2];let P=C.g[3],I;I=A+(P^R&(N^P))+M[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=P+(N^A&(R^N))+M[1]+3905402710&4294967295,P=A+(I<<12&4294967295|I>>>20),I=N+(R^P&(A^R))+M[2]+606105819&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(A^N&(P^A))+M[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=A+(P^R&(N^P))+M[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=P+(N^A&(R^N))+M[5]+1200080426&4294967295,P=A+(I<<12&4294967295|I>>>20),I=N+(R^P&(A^R))+M[6]+2821735955&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(A^N&(P^A))+M[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=A+(P^R&(N^P))+M[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=P+(N^A&(R^N))+M[9]+2336552879&4294967295,P=A+(I<<12&4294967295|I>>>20),I=N+(R^P&(A^R))+M[10]+4294925233&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(A^N&(P^A))+M[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=A+(P^R&(N^P))+M[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=P+(N^A&(R^N))+M[13]+4254626195&4294967295,P=A+(I<<12&4294967295|I>>>20),I=N+(R^P&(A^R))+M[14]+2792965006&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(A^N&(P^A))+M[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=A+(N^P&(R^N))+M[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(A^R))+M[6]+3225465664&4294967295,P=A+(I<<9&4294967295|I>>>23),I=N+(A^R&(P^A))+M[11]+643717713&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(N^P))+M[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=A+(N^P&(R^N))+M[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(A^R))+M[10]+38016083&4294967295,P=A+(I<<9&4294967295|I>>>23),I=N+(A^R&(P^A))+M[15]+3634488961&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(N^P))+M[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=A+(N^P&(R^N))+M[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(A^R))+M[14]+3275163606&4294967295,P=A+(I<<9&4294967295|I>>>23),I=N+(A^R&(P^A))+M[3]+4107603335&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(N^P))+M[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=A+(N^P&(R^N))+M[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(A^R))+M[2]+4243563512&4294967295,P=A+(I<<9&4294967295|I>>>23),I=N+(A^R&(P^A))+M[7]+1735328473&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(N^P))+M[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=A+(R^N^P)+M[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^N)+M[8]+2272392833&4294967295,P=A+(I<<11&4294967295|I>>>21),I=N+(P^A^R)+M[11]+1839030562&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^A)+M[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=A+(R^N^P)+M[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^N)+M[4]+1272893353&4294967295,P=A+(I<<11&4294967295|I>>>21),I=N+(P^A^R)+M[7]+4139469664&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^A)+M[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=A+(R^N^P)+M[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^N)+M[0]+3936430074&4294967295,P=A+(I<<11&4294967295|I>>>21),I=N+(P^A^R)+M[3]+3572445317&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^A)+M[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=A+(R^N^P)+M[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^N)+M[12]+3873151461&4294967295,P=A+(I<<11&4294967295|I>>>21),I=N+(P^A^R)+M[15]+530742520&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^A)+M[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=A+(N^(R|~P))+M[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~N))+M[7]+1126891415&4294967295,P=A+(I<<10&4294967295|I>>>22),I=N+(A^(P|~R))+M[14]+2878612391&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~A))+M[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=A+(N^(R|~P))+M[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~N))+M[3]+2399980690&4294967295,P=A+(I<<10&4294967295|I>>>22),I=N+(A^(P|~R))+M[10]+4293915773&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~A))+M[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=A+(N^(R|~P))+M[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~N))+M[15]+4264355552&4294967295,P=A+(I<<10&4294967295|I>>>22),I=N+(A^(P|~R))+M[6]+2734768916&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~A))+M[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=A+(N^(R|~P))+M[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~N))+M[11]+3174756917&4294967295,P=A+(I<<10&4294967295|I>>>22),I=N+(A^(P|~R))+M[2]+718787259&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~A))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+P&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,M=this.C;let N=this.h,P=0;for(;P<A;){if(N==0)for(;P<=R;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<A;)if(M[N++]=C.charCodeAt(P++),N==this.blockSize){o(this,M),N=0;break}}else for(;P<A;)if(M[N++]=C[P++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[A++]=this.g[R]>>>M&255;return C};function u(C,A){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function c(C,A){this.h=A;const R=[];let M=!0;for(let N=C.length-1;N>=0;N--){const P=C[N]|0;M&&P==A||(R[N]=P,M=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return L(g(-C));const A=[];let R=1;for(let M=0;C>=R;M++)A[M]=C/R|0,R*=4294967296;return new c(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return L(y(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let M=T;for(let P=0;P<C.length;P+=8){var N=Math.min(8,C.length-P);const I=parseInt(C.substring(P,P+N),A);N<8?(N=g(Math.pow(A,N)),M=M.j(N).add(g(I))):(M=M.j(R),M=M.add(g(I)))}return M}var T=p(0),b=p(1),D=p(16777216);n=c.prototype,n.m=function(){if(q(this))return-L(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*A,A*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(j(this))return"0";if(q(this))return"-"+L(this).toString(C);const A=g(Math.pow(C,6));var R=this;let M="";for(;;){const N=W(R,A).g;R=K(R,N.j(A));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,j(R))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function j(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function q(C){return C.h==-1}n.l=function(C){return C=K(this,C),q(C)?-1:j(C)?0:1};function L(C){const A=C.g.length,R=[];for(let M=0;M<A;M++)R[M]=~C.g[M];return new c(R,~C.h).add(b)}n.abs=function(){return q(this)?L(this):this},n.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let N=0;N<=A;N++){let P=M+(this.i(N)&65535)+(C.i(N)&65535),I=(P>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=I>>>16,P&=65535,I&=65535,R[N]=I<<16|P}return new c(R,R[R.length-1]&-2147483648?-1:0)};function K(C,A){return C.add(L(A))}n.j=function(C){if(j(this)||j(C))return T;if(q(this))return q(C)?L(this).j(L(C)):L(L(this).j(C));if(q(C))return L(this.j(L(C)));if(this.l(D)<0&&C.l(D)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const P=this.i(M)>>>16,I=this.i(M)&65535,pt=C.i(N)>>>16,vt=C.i(N)&65535;R[2*M+2*N]+=I*vt,it(R,2*M+2*N),R[2*M+2*N+1]+=P*vt,it(R,2*M+2*N+1),R[2*M+2*N+1]+=I*pt,it(R,2*M+2*N+1),R[2*M+2*N+2]+=P*pt,it(R,2*M+2*N+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new c(R,0)};function it(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function $(C,A){this.g=C,this.h=A}function W(C,A){if(j(A))throw Error("division by zero");if(j(C))return new $(T,T);if(q(C))return A=W(L(C),A),new $(L(A.g),L(A.h));if(q(A))return A=W(C,L(A)),new $(L(A.g),A.h);if(C.g.length>30){if(q(C)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,M=A;M.l(C)<=0;)R=X(R),M=X(M);var N=at(R,1),P=at(M,1);for(M=at(M,2),R=at(R,2);!j(M);){var I=P.add(M);I.l(C)<=0&&(N=N.add(R),P=I),M=at(M,1),R=at(R,1)}return A=K(C,N.j(A)),new $(N,A)}for(N=T;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=g(R),I=P.j(A);q(I)||I.l(C)>0;)R-=M,P=g(R),I=P.j(A);j(P)&&(P=b),N=N.add(P),C=K(C,I)}return new $(N,C)}n.B=function(C){return W(this,C).h},n.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)&C.i(M);return new c(R,this.h&C.h)},n.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)|C.i(M);return new c(R,this.h|C.h)},n.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)^C.i(M);return new c(R,this.h^C.h)};function X(C){const A=C.g.length+1,R=[];for(let M=0;M<A;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(R,C.h)}function at(C,A){const R=A>>5;A%=32;const M=C.g.length-R,N=[];for(let P=0;P<M;P++)N[P]=A>0?C.i(P+R)>>>A|C.i(P+R+1)<<32-A:C.i(P+R);return new c(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,pr=c}).apply(typeof KT<"u"?KT:typeof self<"u"?self:typeof window<"u"?window:{});var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JS,iu,ZS,jh,kp,tA,eA,nA;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xh=="object"&&xh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=e(this);function o(h,v){if(v)t:{var E=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var F=h[w];if(!(F in E))break t;E=E[F]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var E=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&E.push([w,v[w]]);return E}});var u=u||{},c=this||self;function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=p,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function T(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,F,Y){for(var ut=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)ut[Dt-2]=arguments[Dt];return v.prototype[F].apply(w,ut)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const v=h.length;if(v>0){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function j(h,v){for(let w=1;w<arguments.length;w++){const F=arguments[w];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const Y=F.length||0;h.length=E+Y;for(let ut=0;ut<Y;ut++)h[E+ut]=F[ut]}else h.push(F)}}class q{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(h){c.setTimeout(()=>{throw h},0)}function K(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class it{constructor(){this.h=this.g=null}add(v,E){const w=$.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var $=new q(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let X,at=!1,C=new it,A=()=>{const h=Promise.resolve(void 0);X=()=>{h.then(R)}};function R(){for(var h;h=K();){try{h.h.call(h.g)}catch(E){L(E)}var v=$;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}at=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function pt(h,v){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(pt,N),pt.prototype.init=function(h,v){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&pt.Z.h.call(this)},pt.prototype.h=function(){pt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(h,v,E,w,F){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=F,this.key=++H,this.da=this.fa=!1}function lt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xt(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function Mt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function k(h){const v={};for(const E in h)v[E]=h[E];return v}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,v){let E,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(E in w)h[E]=w[E];for(let Y=0;Y<tt.length;Y++)E=tt[Y],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,E,w,F){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ut=Nt(h,v,w,F);return ut>-1?(v=h[ut],E||(v.fa=!1)):(v=new nt(v,this.src,Y,!!w,F),v.fa=E,h.push(v)),v};function At(h,v){const E=v.type;if(E in h.g){var w=h.g[E],F=Array.prototype.indexOf.call(w,v,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(w,F,1),Y&&(lt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Nt(h,v,E,w){for(let F=0;F<h.length;++F){const Y=h[F];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==w)return F}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),ke={};function le(h,v,E,w,F){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)le(h,v[Y],E,w,F);return null}return E=Wo(E),h&&h[vt]?h.J(v,E,m(w)?!!w.capture:!1,F):Nr(h,v,E,!1,w,F)}function Nr(h,v,E,w,F,Y){if(!v)throw Error("Invalid event type");const ut=m(F)?!!F.capture:!!F;let Dt=Vr(h);if(Dt||(h[zt]=Dt=new ft(h)),E=Dt.add(v,E,w,ut,Y),E.proxy)return E;if(w=Sa(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)P||(F=ut),F===void 0&&(F=!1),h.addEventListener(v.toString(),w,F);else if(h.attachEvent)h.attachEvent(pi(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Sa(){function h(E){return v.call(h.src,h.listener,E)}const v=Xo;return h}function Aa(h,v,E,w,F){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Aa(h,v[Y],E,w,F);else w=m(w)?!!w.capture:!!w,E=Wo(E),h&&h[vt]?(h=h.i,Y=String(v).toString(),Y in h.g&&(v=h.g[Y],E=Nt(v,E,w,F),E>-1&&(lt(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Vr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Nt(v,E,w,F)),(E=h>-1?v[h]:null)&&wa(E))}function wa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[vt])At(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(pi(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=Vr(v))?(At(E,h),E.h==0&&(E.src=null,v[zt]=null)):lt(h)}}}function pi(h){return h in ke?ke[h]:ke[h]="on"+h}function Xo(h,v){if(h.da)h=!0;else{v=new pt(v,this);const E=h.listener,w=h.ha||h.src;h.fa&&wa(h),h=E.call(w,v)}return h}function Vr(h){return h=h[zt],h instanceof ft?h:null}var $o="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wo(h){return typeof h=="function"?h:(h[$o]||(h[$o]=function(v){return h.handleEvent(v)}),h[$o])}function Se(){M.call(this),this.i=new ft(this),this.M=this,this.G=null}T(Se,M),Se.prototype[vt]=!0,Se.prototype.removeEventListener=function(h,v,E,w){Aa(this,h,v,E,w)};function Pe(h,v){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new N(v,h);else if(v instanceof N)v.target=v.target||h;else{var F=v;v=new N(w,h),ct(v,F)}F=!0;let Y,ut;if(E)for(ut=E.length-1;ut>=0;ut--)Y=v.g=E[ut],F=As(Y,w,!0,v)&&F;if(Y=v.g=h,F=As(Y,w,!0,v)&&F,F=As(Y,w,!1,v)&&F,E)for(ut=0;ut<E.length;ut++)Y=v.g=E[ut],F=As(Y,w,!1,v)&&F}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let w=0;w<E.length;w++)lt(E[w]);delete h.g[v],h.h--}}this.G=null},Se.prototype.J=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},Se.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function As(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let Y=0;Y<v.length;++Y){const ut=v[Y];if(ut&&!ut.da&&ut.capture==E){const Dt=ut.listener,ve=ut.ha||ut.src;ut.fa&&At(h.i,ut),F=Dt.call(ve,w)!==!1&&F}}return F&&!w.defaultPrevented}function Xf(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function $u(h){h.g=Xf(()=>{h.g=null,h.i&&(h.i=!1,$u(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ln extends M{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$u(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(h){M.call(this),this.h=h,this.g={}}T(Mr,M);var Jo=[];function Zo(h){xt(h.g,function(v,E){this.g.hasOwnProperty(E)&&wa(v)},h),h.g={}}Mr.prototype.N=function(){Mr.Z.N.call(this),Zo(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ws=c.JSON.stringify,$f=c.JSON.parse,Wu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ju(){}function Zu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}T(Ge,N);function Mn(){N.call(this,"c")}T(Mn,N);var ye={},tc=null;function xa(){return tc=tc||new Se}ye.Ia="serverreachability";function ec(h){N.call(this,ye.Ia,h)}T(ec,N);function gi(h){const v=xa();Pe(v,new ec(v))}ye.STAT_EVENT="statevent";function Or(h,v){N.call(this,ye.STAT_EVENT,h),this.stat=v}T(Or,N);function Ae(h){const v=xa();Pe(v,new Or(v,h))}ye.Ja="timingevent";function yi(h,v){N.call(this,ye.Ja,h),this.size=v}T(yi,N);function vi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Wf(h,v,E,w,F,Y){h.info(function(){if(h.g)if(Y){var ut="",Dt=Y.split("&");for(let Kt=0;Kt<Dt.length;Kt++){var ve=Dt[Kt].split("=");if(ve.length>1){const ue=ve[0];ve=ve[1];const Ln=ue.split("_");ut=Ln.length>=2&&Ln[1]=="type"?ut+(ue+"="+ve+"&"):ut+(ue+"=redacted&")}}}else ut=null;else ut=Y;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+v+`
`+E+`
`+ut})}function nc(h,v,E,w,F,Y,ut){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+v+`
`+E+`
`+Y+" "+ut})}function _i(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Jf(h,E)+(w?" "+w:"")})}function kr(h,v){h.info(function(){return"TIMEOUT: "+v})}Wn.prototype.info=function(){};function Jf(h,v){if(!h.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ut=1;ut<w.length;ut++)w[ut]=""}}}}return ws(Y)}catch{return v}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function Lr(){}T(Lr,Ju),Lr.prototype.g=function(){return new XMLHttpRequest},el=new Lr;function Yi(h){return encodeURIComponent(String(h))}function ic(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function Jn(h,v,E,w){this.j=h,this.i=v,this.l=E,this.S=w||1,this.V=new Mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var we={},Be={};function Ti(h,v,E){h.M=1,h.A=Ur(Ce(v)),h.u=E,h.R=!0,Ca(h,null)}function Ca(h,v){h.F=Date.now(),Ei(h),h.B=Ce(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Na(E.i,"t",w),h.C=0,E=h.j.L,h.h=new Zn,h.g=vc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new ln(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,w=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Jo[0]=F.toString()),F=Jo);for(let Y=0;Y<F.length;Y++){const ut=le(E,F[Y],w||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),gi(),Wf(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ni(h)==3?v.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)t:{const Dt=ni(this.g),ve=this.g.ya(),Kt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Dt!=4||ve==7||(ve==8||Kt<=0?gi(3):gi(2)),bi(this);var v=this.g.ca();this.X=v;var E=Zf(this);if(this.o=v==200,nc(this.i,this.v,this.B,this.l,this.S,Dt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var Y=w;break e}}Y=null}if(h=Y)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,h);else{this.o=!1,this.m=3,Ae(12),Sn(this),On(this);break t}}if(this.R){h=!0;let ue;for(;!this.K&&this.C<E.length;)if(ue=rc(this,E),ue==Be){Dt==4&&(this.m=4,Ae(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==we){this.m=4,Ae(15),_i(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,ue,null),Si(this,ue);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),gl(ut),ut.P=!0,Ae(11))}}else _i(this.i,this.l,E,null),Si(this,E);Dt==4&&Sn(this),this.o&&!this.K&&(Dt==4?mc(this.j,this):(this.o=!1,Ei(this)))}else Xi(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Sn(this),On(this)}}}catch{}finally{}};function Zf(h){if(!sc(h))return h.g.la();const v=Ke(h.g);if(v==="")return"";let E="";const w=v.length,F=ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),On(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<w;Y++)h.h.h=!0,E+=h.h.i.decode(v[Y],{stream:!(F&&Y==w-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function sc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function rc(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?Be:(E=Number(v.substring(E,w)),isNaN(E)?we:(w+=1,w+E>v.length?Be:(v=v.slice(w,w+E),h.C=w+E,v)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function Ei(h){h.T=Date.now()+h.H,Ra(h,h.H)}function Ra(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(g(h.aa,h),v)}function bi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(kr(this.i,this.B),this.M!=2&&(gi(),Ae(17)),Sn(this),this.m=2,On(this)):Ra(this,this.T-h)};function On(h){h.j.I==0||h.K||mc(h.j,h)}function Sn(h){bi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Zo(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Si(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||wi(E.h,h))){if(!h.L&&wi(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Pa(E),Ms(E);else break t;Gr(E),Ae(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vi(g(E.Va,E),6e3));Ai(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ni(E,11)}else if((h.L||E.g==h)&&Pa(E),!I(v))for(F=E.Ba.g.parse(v),v=0;v<F.length;v++){let Kt=F[v];const ue=Kt[0];if(!(ue<=E.K))if(E.K=ue,Kt=Kt[1],E.I==2)if(Kt[0]=="c"){E.M=Kt[1],E.ba=Kt[2];const Ln=Kt[3];Ln!=null&&(E.ka=Ln,E.j.info("VER="+E.ka));const Vi=Kt[4];Vi!=null&&(E.za=Vi,E.j.info("SVER="+E.za));const ii=Kt[5];ii!=null&&typeof ii=="number"&&ii>0&&(w=1.5*ii,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const si=h.g;if(si){const Kr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var Y=w.h;Y.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(sl(Y,Y.h),Y.h=null))}if(w.G){const La=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(w.wa=La,Xt(w.J,w.G,La))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ut=h;if(w.na=yc(w,w.L?w.ba:null,w.W),ut.L){rl(w.h,ut);var Dt=ut,ve=w.O;ve&&(Dt.H=ve),Dt.D&&(bi(Dt),Ei(Dt)),w.g=ut}else fc(w);E.i.length>0&&Ii(E)}else Kt[0]!="stop"&&Kt[0]!="close"||Ni(E,7);else E.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ni(E,7):ml(E):Kt[0]!="noop"&&E.l&&E.l.qa(Kt),E.A=0)}}gi(4)}catch{}}var xe=class{constructor(h,v){this.g=h,this.map=v}};function nl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ai(h){return h.h?1:h.g?h.g.size:0}function wi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function sl(h,v){h.g?h.g.add(v):h.h=v}function rl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function al(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return D(h.i)}var ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let F,Y=null;w>=0?(F=h[E].substring(0,w),Y=h[E].substring(w+1)):F=h[E],v(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,ze(this,h.j),this.o=h.o,this.g=h.g,xs(this,h.u),this.h=h.h,ol(this,cc(h.i)),this.m=h.m):h&&(v=String(h).match(ac))?(this.l=!1,ze(this,v[1]||"",!0),this.o=xi(v[2]||""),this.g=xi(v[3]||"",!0),xs(this,v[4]),this.h=xi(v[5]||"",!0),ol(this,v[6]||"",!0),this.m=xi(v[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(jr(v,Ia,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(jr(v,Ia,!0),"@"),h.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(jr(E,E.charAt(0)=="/"?ll:oc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",jr(E,lc)),h.join("")},An.prototype.resolve=function(h){const v=Ce(this);let E=!!h.j;E?ze(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var w=h.h;if(E)xs(v,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=v.h.lastIndexOf("/");F!=-1&&(w=v.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let ut=0;ut<F.length;){const Dt=F[ut++];Dt=="."?w&&ut==F.length&&Y.push(""):Dt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),w&&ut==F.length&&Y.push("")):(Y.push(Dt),w=!0)}w=Y.join("/")}else w=F}return E?v.h=w:E=h.i.toString()!=="",E?ol(v,cc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Ce(h){return new An(h)}function ze(h,v,E){h.j=E?xi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function xs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function ol(h,v,E){v instanceof Rs?(h.i=v,Va(h.i,h.l)):(E||(v=jr(v,Cs)),h.i=new Rs(v,h.l))}function Xt(h,v,E){h.i.set(v,E)}function Ur(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function jr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,mn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ia=/[#\/\?@]/g,oc=/[#\?:]/g,ll=/[#\?]/g,Cs=/[#\?@]/g,lc=/#/g;function Rs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Da(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Rs.prototype,n.add=function(h,v){pn(this),this.i=null,h=Ds(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function uc(h,v){pn(h),v=Ds(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ul(h,v){return pn(h),v=Ds(h,v),h.g.has(v)}n.forEach=function(h,v){pn(this),this.g.forEach(function(E,w){E.forEach(function(F){h.call(v,F,w,this)},this)},this)};function cl(h,v){pn(h);let E=[];if(typeof v=="string")ul(h,v)&&(E=E.concat(h.g.get(Ds(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}n.set=function(h,v){return pn(this),this.i=null,h=Ds(this,h),ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=cl(this,h),h.length>0?String(h[0]):v):v};function Na(h,v,E){uc(h,v),E.length>0&&(h.i=null,h.g.set(Ds(h,v),D(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var E=v[w];const F=Yi(E);E=cl(this,E);for(let Y=0;Y<E.length;Y++){let ut=F;E[Y]!==""&&(ut+="="+Yi(E[Y])),h.push(ut)}}return this.i=h.join("&")};function cc(h){const v=new Rs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ds(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Va(h,v){v&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(E,w){const F=w.toLowerCase();w!=F&&(uc(this,w),Na(this,F,E))},h)),h.j=v}function ti(h,v){const E=new Wn;if(c.Image){const w=new Image;w.onload=y(kn,E,"TestLoadImage: loaded",!0,v,w),w.onerror=y(kn,E,"TestLoadImage: error",!1,v,w),w.onabort=y(kn,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=y(kn,E,"TestLoadImage: timeout",!1,v,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function hl(h,v){const E=new Wn,w=new AbortController,F=setTimeout(()=>{w.abort(),kn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(Y=>{clearTimeout(F),Y.ok?kn(E,"TestPingServer: ok",!0,v):kn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),kn(E,"TestPingServer: error",!1,v)})}function kn(h,v,E,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(E)}catch{}}function Is(){this.g=new Wu}function Ci(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ci,Ju),Ci.prototype.g=function(){return new Fr(this.i,this.h)};function Fr(h,v){Se.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Fr,Se),n=Fr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ei(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ma(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ma(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ns(this):ei(this),this.readyState==3&&Ma(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ns(this))},n.Na=function(h){this.g&&(this.response=h,Ns(this))},n.ga=function(){this.g&&Ns(this)};function Ns(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let v="";return xt(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function Br(h,v,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=Pn(E),typeof h=="string"?E!=null&&Yi(E):Xt(h,v,E))}function Jt(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Jt,Se);var Ri=/^https?$/i,fl=["POST","PUT"];n=Jt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){zr(this,Y);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)E.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())E.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(fl,v,void 0)>=0)||w||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ut]of E)this.g.setRequestHeader(Y,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){zr(this,Y)}};function zr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,dl(h),Qi(h)}function dl(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),Qi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Jt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},n.Xa=function(){Hr(this)};function Hr(h){if(h.h&&typeof u<"u"){if(h.v&&ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),ni(h)==4){h.h=!1;try{const Y=h.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var w;if(w=Y===0){let ut=String(h.D).match(ac)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),w=!Ri.test(ut?ut.toLowerCase():"")}E=w}if(E)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var F=ni(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",dl(h)}}finally{Qi(h)}}}}function Qi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Pe(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}n.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),$f(v)}};function Ke(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(h){const v={};h=(h.g&&ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(I(h[w]))continue;var E=ic(h[w]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[F]||[];v[F]=Y,Y.push(E)}Mt(v,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Vs(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,h),this.Za=Di("retryDelaySeedMs",1e4,h),this.Ta=Di("forwardChannelMaxRetries",2,h),this.va=Di("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(h&&h.concurrentRequestLimit),this.Ba=new Is,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Vs.prototype,n.ka=8,n.I=1,n.connect=function(h,v,E,w){Ae(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=yc(this,null,this.W),Ii(this)};function ml(h){if(Oa(h),h.I==3){var v=h.V++,E=Ce(h.J);if(Xt(E,"SID",h.M),Xt(E,"RID",v),Xt(E,"TYPE","terminate"),qr(h,E),v=new Jn(h,h.j,v),v.M=2,v.A=Ur(Ce(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=vc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ei(v)}gc(h)}function Ms(h){h.g&&(gl(h),h.g.cancel(),h.g=null)}function Oa(h){Ms(h),h.v&&(c.clearTimeout(h.v),h.v=null),Pa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ii(h){if(!il(h.h)&&!h.m){h.m=!0;var v=h.Ea;X||A(),at||(X(),at=!0),C.add(v,h),h.D=0}}function ka(h,v){return Ai(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(g(h.Ea,h,v),pc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Jn(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=k(Y),ct(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=hc(this,F,v),E=Ce(this.J),Xt(E,"RID",h),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),qr(this,E),Y&&(this.R?v="headers="+Yi(Pn(Y))+"&"+v:this.u&&Br(E,this.u,Y)),sl(this.h,F),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",v),Xt(E,"SID","null"),F.U=!0,Ti(F,E,null)):Ti(F,E,v),this.I=2}}else this.I==3&&(h?pl(this,h):this.i.length==0||il(this.h)||pl(this))};function pl(h,v){var E;v?E=v.l:E=h.V++;const w=Ce(h.J);Xt(w,"SID",h.M),Xt(w,"RID",E),Xt(w,"AID",h.K),qr(h,w),h.u&&h.o&&Br(w,h.u,h.o),E=new Jn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=hc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),sl(h.h,E),Ti(E,w,v)}function qr(h,v){h.H&&xt(h.H,function(E,w){Xt(v,w,E)}),h.l&&xt({},function(E,w){Xt(v,w,E)})}function hc(h,v,E){E=Math.min(h.i.length,E);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var F=h.i;let Dt=-1;for(;;){const ve=["count="+E];Dt==-1?E>0?(Dt=F[0].g,ve.push("ofs="+Dt)):Dt=0:ve.push("ofs="+Dt);let Kt=!0;for(let ue=0;ue<E;ue++){var Y=F[ue].g;const Ln=F[ue].map;if(Y-=Dt,Y<0)Dt=Math.max(0,F[ue].g-100),Kt=!1;else try{Y="req"+Y+"_"||"";try{var ut=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Vi,ii]of ut){let si=ii;m(ii)&&(si=ws(ii)),ve.push(Y+Vi+"="+encodeURIComponent(si))}}catch(Vi){throw ve.push(Y+"type="+encodeURIComponent("_badmap")),Vi}}catch{w&&w(Ln)}}if(Kt){ut=ve.join("&");break t}}ut=void 0}return h=h.i.splice(0,E),v.G=h,ut}function fc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;X||A(),at||(X(),at=!0),C.add(v,h),h.A=0}}function Gr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(g(h.Da,h),pc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,dc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Ms(this),dc(this))};function gl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function dc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Ce(h.na);Xt(v,"RID","rpc"),Xt(v,"SID",h.M),Xt(v,"AID",h.K),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(v,"TO",h.ia),Xt(v,"TYPE","xmlhttp"),qr(h,v),h.u&&h.o&&Br(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ur(Ce(v)),E.u=null,E.R=!0,Ca(E,h)}n.Va=function(){this.C!=null&&(this.C=null,Ms(this),Gr(this),Ae(19))};function Pa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function mc(h,v){var E=null;if(h.g==v){Pa(h),gl(h),h.g=null;var w=2}else if(wi(h.h,v))E=v.G,rl(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var F=h.D;w=xa(),Pe(w,new yi(w,E)),Ii(h)}else fc(h);else if(F=v.m,F==3||F==0&&v.X>0||!(w==1&&ka(h,v)||w==2&&Gr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),F){case 1:Ni(h,5);break;case 4:Ni(h,10);break;case 3:Ni(h,6);break;default:Ni(h,2)}}}function pc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Ni(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),w=h.Ua;const F=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ze(w,"https"),Ur(w),F?ti(w.toString(),E):hl(w.toString(),E)}else Ae(2);h.I=0,h.l&&h.l.pa(v),gc(h),Oa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function gc(h){if(h.I=0,h.ja=[],h.l){const v=al(h.h);(v.length!=0||h.i.length!=0)&&(j(h.ja,v),j(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function yc(h,v,E){var w=E instanceof An?Ce(E):new An(E);if(w.g!="")v&&(w.g=v+"."+w.g),xs(w,w.u);else{var F=c.location;w=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const Y=new An(null);w&&ze(Y,w),v&&(Y.g=v),F&&xs(Y,F),E&&(Y.h=E),w=Y}return E=h.G,v=h.wa,E&&v&&Xt(w,E,v),Xt(w,"VER",h.ka),qr(h,w),w}function vc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Jt(new Ci({ab:E})):new Jt(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}n=_c.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Os(){}Os.prototype.g=function(h,v){return new un(h,v)};function un(h,v){Se.call(this),this.g=new Vs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!I(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new $i(this)}T(un,Se),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){ml(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=ws(h),h=E);v.i.push(new xe(v.Ya++,h)),v.I==3&&Ii(v)},un.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,un.Z.N.call(this)};function Tc(h){Ge.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(Tc,Ge);function Ec(){Mn.call(this),this.status=1}T(Ec,Mn);function $i(h){this.g=h}T($i,_c),$i.prototype.ra=function(){Pe(this.g,"a")},$i.prototype.qa=function(h){Pe(this.g,new Tc(h))},$i.prototype.pa=function(h){Pe(this.g,new Ec)},$i.prototype.oa=function(){Pe(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,nA=function(){return new Os},eA=function(){return xa()},tA=ye,kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,jh=Pr,tl.COMPLETE="complete",ZS=tl,Zu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Se.prototype.listen=Se.prototype.J,iu=Zu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,JS=Jt}).apply(typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let zo="12.8.0";function jI(n){zo=n}const va=new bg("@firebase/firestore");function mo(){return va.logLevel}function ht(n,...t){if(va.logLevel<=Ut.DEBUG){const e=t.map(Vg);va.debug(`Firestore (${zo}): ${n}`,...e)}}function Ts(n,...t){if(va.logLevel<=Ut.ERROR){const e=t.map(Vg);va.error(`Firestore (${zo}): ${n}`,...e)}}function No(n,...t){if(va.logLevel<=Ut.WARN){const e=t.map(Vg);va.warn(`Firestore (${zo}): ${n}`,...e)}}function Vg(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function bt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,iA(n,r,e)}function iA(n,t,e){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Ts(r),new Error(r)}function Qt(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||iA(t,o,r)}function Rt(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Ss{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class sA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(sn.UNAUTHENTICATED)))}shutdown(){}}class BI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class zI{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new sA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class HI{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qI{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new HI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const r=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new YT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function KI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class Mg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=KI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function jt(n,t){return n<t?-1:n>t?1:0}function Pp(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return ap(o)===ap(u)?jt(o,u):ap(o)?1:-1}return jt(n.length,t.length)}const YI=55296,QI=57343;function ap(n){const t=n.charCodeAt(0);return t>=YI&&t<=QI}function Vo(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}const QT="__name__";class Li{constructor(t,e,r){e===void 0?e=0:e>t.length&&bt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&bt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Li.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return jt(t.length,e.length)}static compareSegments(t,e){const r=Li.isNumericId(t),o=Li.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Li.extractNumericId(t).compare(Li.extractNumericId(e)):Pp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return pr.fromString(t.substring(4,t.length-2))}}class re extends Li{construct(t,e,r){return new re(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new re(e)}static emptyPath(){return new re([])}}const XI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Li{construct(t,e,r){return new Ze(t,e,r)}static isValidIdentifier(t){return XI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QT}static keyField(){return new Ze([QT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new yt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new yt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new yt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(re.fromString(t))}static fromName(t){return new Tt(re.fromString(t).popFirst(5))}static empty(){return new Tt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new re(t.slice()))}}function rA(n,t,e){if(!e)throw new yt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function $I(n,t,e,r){if(t===!0&&r===!0)throw new yt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function XT(n){if(!Tt.isDocumentKey(n))throw new yt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $T(n){if(Tt.isDocumentKey(n))throw new yt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Og(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":bt(12329,{type:typeof n})}function fi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Og(n);throw new yt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Oe(n,t){const e={typeString:n};return t&&(e.value=t),e}function ju(n,t){if(!aA(n))throw new yt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new yt(rt.INVALID_ARGUMENT,e);return!0}const WT=-62135596800,JT=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*JT);return new ae(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<WT)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JT}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ju(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-WT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Oe("string",ae._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ae(0,0))}static max(){return new wt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bu=-1;function WI(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(r===1e9?new ae(e+1,0):new ae(e,r));return new Tr(o,Tt.empty(),t)}function JI(n){return new Tr(n.readTime,n.key,bu)}class Tr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Tr(wt.min(),Tt.empty(),bu)}static max(){return new Tr(wt.max(),Tt.empty(),bu)}}function ZI(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Tt.comparator(n.documentKey,t.documentKey),e!==0?e:jt(n.largestBatchId,t.largestBatchId))}const tN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ho(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==tN)throw n;ht("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,r)=>{e(t)}))}static reject(t){return new st(((e,r)=>{r(t)}))}static waitFor(t){return new st(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=st.resolve(!1);for(const r of t)e=e.next((o=>o?st.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new st(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((y=>{c[g]=y,++m,m===u&&r(c)}),(y=>o(y)))}}))}static doWhile(t,e){return new st(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function nN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function qo(n){return n.name==="IndexedDbTransactionError"}class Rf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rf.ce=-1;const kg=-1;function Df(n){return n==null}function sf(n){return n===0&&1/n==-1/0}function iN(n){return typeof n=="number"&&Number.isInteger(n)&&!sf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const oA="";function sN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ZT(t)),t=rN(n.get(e),t);return ZT(t)}function rN(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case oA:e+="";break;default:e+=u}}return e}function ZT(n){return n+oA+""}function tE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Rr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function lA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class fe{constructor(t,e){this.comparator=t,this.root=e||Je.EMPTY}insert(t,e){return new fe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ch(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ch(this.root,t,this.comparator,!0)}}class Ch{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Je.RED,this.left=o??Je.EMPTY,this.right=u??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Je(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Je(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new eE(this.data.getIterator())}getIteratorFrom(t){return new eE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Fe(this.comparator);return e.data=t,e}}class eE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Vn([])}unionWith(t){let e=new Fe(Ze.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Vn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Vo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uA("Invalid base64 string: "+u):u}})(t);return new tn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const aN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=aN.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function br(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}const cA="server_timestamp",hA="__type__",fA="__previous_value__",dA="__local_write_time__";function Pg(n){return(n?.mapValue?.fields||{})[hA]?.stringValue===cA}function If(n){const t=n.mapValue.fields[fA];return Pg(t)?If(t):t}function Su(n){const t=Er(n.mapValue.fields[dA].timestampValue);return new ae(t.seconds,t.nanos)}class oN{constructor(t,e,r,o,u,c,m,p,g,y,T){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=T}}const rf="(default)";class Au{constructor(t,e){this.projectId=t,this.database=e||rf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===rf}isEqual(t){return t instanceof Au&&t.projectId===this.projectId&&t.database===this.database}}function lN(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new yt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(n.options.projectId,t)}const mA="__type__",uN="__max__",Rh={mapValue:{}},pA="__vector__",af="value";function Sr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pg(n)?4:hN(n)?9007199254740991:cN(n)?10:11:bt(28295,{value:n})}function qi(n,t){if(n===t)return!0;const e=Sr(n);if(e!==Sr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Su(n).isEqual(Su(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Er(o.timestampValue),m=Er(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return br(o.bytesValue).isEqual(br(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ee(o.doubleValue),m=Ee(u.doubleValue);return c===m?sf(c)===sf(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return Vo(n.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(tE(c)!==tE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!qi(c[p],m[p])))return!1;return!0})(n,t);default:return bt(52216,{left:n})}}function wu(n,t){return(n.values||[]).find((e=>qi(e,t)))!==void 0}function Mo(n,t){if(n===t)return 0;const e=Sr(n),r=Sr(t);if(e!==r)return jt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Ee(u.integerValue||u.doubleValue),p=Ee(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return nE(n.timestampValue,t.timestampValue);case 4:return nE(Su(n),Su(t));case 5:return Pp(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=br(u),p=br(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const y=jt(m[g],p[g]);if(y!==0)return y}return jt(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=jt(Ee(u.latitude),Ee(c.latitude));return m!==0?m:jt(Ee(u.longitude),Ee(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return iE(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[af]?.arrayValue,y=p[af]?.arrayValue,T=jt(g?.values?.length||0,y?.values?.length||0);return T!==0?T:iE(g,y)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Rh.mapValue&&c===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let T=0;T<p.length&&T<y.length;++T){const b=Pp(p[T],y[T]);if(b!==0)return b;const D=Mo(m[p[T]],g[y[T]]);if(D!==0)return D}return jt(p.length,y.length)})(n.mapValue,t.mapValue);default:throw bt(23264,{he:e})}}function nE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return jt(n,t);const e=Er(n),r=Er(t),o=jt(e.seconds,r.seconds);return o!==0?o:jt(e.nanos,r.nanos)}function iE(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Mo(e[o],r[o]);if(u)return u}return jt(e.length,r.length)}function Oo(n){return Lp(n)}function Lp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Er(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return br(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Tt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Lp(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Lp(e.fields[c])}`;return o+"}"})(n.mapValue):bt(61005,{value:n})}function Fh(n){switch(Sr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=If(n);return t?16+Fh(t):16;case 5:return 2*n.stringValue.length;case 6:return br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Fh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Rr(r.fields,((u,c)=>{o+=u.length+Fh(c)})),o})(n.mapValue);default:throw bt(13486,{value:n})}}function Up(n){return!!n&&"integerValue"in n}function Lg(n){return!!n&&"arrayValue"in n}function sE(n){return!!n&&"nullValue"in n}function rE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bh(n){return!!n&&"mapValue"in n}function cN(n){return(n?.mapValue?.fields||{})[mA]?.stringValue===pA}function fu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Rr(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=fu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=fu(n.arrayValue.values[e]);return t}return{...n}}function hN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uN}class bn{constructor(t){this.value=t}static empty(){return new bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Bh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=fu(e)}setAll(t){let e=Ze.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=fu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Bh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Rr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new bn(fu(this.value))}}function gA(n){const t=[];return Rr(n.fields,((e,r)=>{const o=new Ze([e]);if(Bh(r)){const u=gA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Vn(t)}class rn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new rn(t,0,wt.min(),wt.min(),wt.min(),bn.empty(),0)}static newFoundDocument(t,e,r,o){return new rn(t,1,e,wt.min(),r,o,0)}static newNoDocument(t,e){return new rn(t,2,e,wt.min(),wt.min(),bn.empty(),0)}static newUnknownDocument(t,e){return new rn(t,3,e,wt.min(),wt.min(),bn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(t,e){this.position=t,this.inclusive=e}}function aE(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=Tt.comparator(Tt.fromName(c.referenceValue),e.key):r=Mo(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function oE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!qi(n.position[e],t.position[e]))return!1;return!0}class lf{constructor(t,e="asc"){this.field=t,this.dir=e}}function fN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class yA{}class je extends yA{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new mN(t,e,r):e==="array-contains"?new yN(t,r):e==="in"?new vN(t,r):e==="not-in"?new _N(t,r):e==="array-contains-any"?new TN(t,r):new je(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new pN(t,r):new gN(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Mo(e,this.value)):e!==null&&Sr(this.value)===Sr(e)&&this.matchesComparison(Mo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends yA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Gi(t,e)}matches(t){return vA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vA(n){return n.op==="and"}function _A(n){return dN(n)&&vA(n)}function dN(n){for(const t of n.filters)if(t instanceof Gi)return!1;return!0}function jp(n){if(n instanceof je)return n.field.canonicalString()+n.op.toString()+Oo(n.value);if(_A(n))return n.filters.map((t=>jp(t))).join(",");{const t=n.filters.map((e=>jp(e))).join(",");return`${n.op}(${t})`}}function TA(n,t){return n instanceof je?(function(r,o){return o instanceof je&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(n,t):n instanceof Gi?(function(r,o){return o instanceof Gi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&TA(c,o.filters[m])),!0):!1})(n,t):void bt(19439)}function EA(n){return n instanceof je?(function(e){return`${e.field.canonicalString()} ${e.op} ${Oo(e.value)}`})(n):n instanceof Gi?(function(e){return e.op.toString()+" {"+e.getFilters().map(EA).join(" ,")+"}"})(n):"Filter"}class mN extends je{constructor(t,e,r){super(t,e,r),this.key=Tt.fromName(r.referenceValue)}matches(t){const e=Tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class pN extends je{constructor(t,e){super(t,"in",e),this.keys=bA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class gN extends je{constructor(t,e){super(t,"not-in",e),this.keys=bA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function bA(n,t){return(t.arrayValue?.values||[]).map((e=>Tt.fromName(e.referenceValue)))}class yN extends je{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Lg(e)&&wu(e.arrayValue,this.value)}}class vN extends je{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&wu(this.value.arrayValue,e)}}class _N extends je{constructor(t,e){super(t,"not-in",e)}matches(t){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!wu(this.value.arrayValue,e)}}class TN extends je{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Lg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>wu(this.value.arrayValue,r)))}}class EN{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function lE(n,t=null,e=[],r=[],o=null,u=null,c=null){return new EN(n,t,e,r,o,u,c)}function Ug(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>jp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Df(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Oo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Oo(r))).join(",")),t.Te=e}return t.Te}function jg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!fN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!TA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!oE(n.startAt,t.startAt)&&oE(n.endAt,t.endAt)}function Fp(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Nf{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bN(n,t,e,r,o,u,c,m){return new Nf(n,t,e,r,o,u,c,m)}function Vf(n){return new Nf(n)}function uE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SN(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function AN(n){return n.collectionGroup!==null}function du(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Fe(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new lf(u,r))})),e.has(Ze.keyField().canonicalString())||t.Ie.push(new lf(Ze.keyField(),r))}return t.Ie}function Fi(n){const t=Rt(n);return t.Ee||(t.Ee=wN(t,du(n))),t.Ee}function wN(n,t){if(n.limitType==="F")return lE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new lf(o.field,u)}));const e=n.endAt?new of(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new of(n.startAt.position,n.startAt.inclusive):null;return lE(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Bp(n,t,e){return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Mf(n,t){return jg(Fi(n),Fi(t))&&n.limitType===t.limitType}function SA(n){return`${Ug(Fi(n))}|lt:${n.limitType}`}function po(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>EA(o))).join(", ")}]`),Df(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Oo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Oo(o))).join(",")),`Target(${r})`})(Fi(n))}; limitType=${n.limitType})`}function Of(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Tt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of du(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=aE(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,du(r),o)||r.endAt&&!(function(c,m,p){const g=aE(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,du(r),o))})(n,t)}function xN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AA(n){return(t,e)=>{let r=!1;for(const o of du(n)){const u=CN(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function CN(n,t,e){const r=n.field.isKeyField()?Tt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Mo(p,g):bt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:n.dir})}}class Ea{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Rr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return lA(this.inner)}size(){return this.innerSize}}const RN=new fe(Tt.comparator);function Es(){return RN}const wA=new fe(Tt.comparator);function su(...n){let t=wA;for(const e of n)t=t.insert(e.key,e);return t}function xA(n){let t=wA;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function ha(){return mu()}function CA(){return mu()}function mu(){return new Ea((n=>n.toString()),((n,t)=>n.isEqual(t)))}const DN=new fe(Tt.comparator),IN=new Fe(Tt.comparator);function Ft(...n){let t=IN;for(const e of n)t=t.add(e);return t}const NN=new Fe(jt);function VN(){return NN}function Fg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(t)?"-0":t}}function RA(n){return{integerValue:""+n}}function MN(n,t){return iN(t)?RA(t):Fg(n,t)}class kf{constructor(){this._=void 0}}function ON(n,t,e){return n instanceof xu?(function(o,u){const c={fields:{[hA]:{stringValue:cA},[dA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pg(u)&&(u=If(u)),u&&(c.fields[fA]=u),{mapValue:c}})(e,t):n instanceof ko?IA(n,t):n instanceof Cu?NA(n,t):(function(o,u){const c=DA(o,u),m=cE(c)+cE(o.Ae);return Up(c)&&Up(o.Ae)?RA(m):Fg(o.serializer,m)})(n,t)}function kN(n,t,e){return n instanceof ko?IA(n,t):n instanceof Cu?NA(n,t):e}function DA(n,t){return n instanceof uf?(function(r){return Up(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class xu extends kf{}class ko extends kf{constructor(t){super(),this.elements=t}}function IA(n,t){const e=VA(t);for(const r of n.elements)e.some((o=>qi(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Cu extends kf{constructor(t){super(),this.elements=t}}function NA(n,t){let e=VA(t);for(const r of n.elements)e=e.filter((o=>!qi(o,r)));return{arrayValue:{values:e}}}class uf extends kf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function cE(n){return Ee(n.integerValue||n.doubleValue)}function VA(n){return Lg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class MA{constructor(t,e){this.field=t,this.transform=e}}function PN(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof ko&&o instanceof ko||r instanceof Cu&&o instanceof Cu?Vo(r.elements,o.elements,qi):r instanceof uf&&o instanceof uf?qi(r.Ae,o.Ae):r instanceof xu&&o instanceof xu})(n.transform,t.transform)}class LN{constructor(t,e){this.version=t,this.transformResults=e}}class di{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Pf{}function OA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new PA(n.key,di.none()):new Fu(n.key,n.data,di.none());{const e=n.data,r=bn.empty();let o=new Fe(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Dr(n.key,r,new Vn(o.toArray()),di.none())}}function UN(n,t,e){n instanceof Fu?(function(o,u,c){const m=o.value.clone(),p=fE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):n instanceof Dr?(function(o,u,c){if(!zh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=fE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(kA(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function pu(n,t,e,r){return n instanceof Fu?(function(u,c,m,p){if(!zh(u.precondition,c))return m;const g=u.value.clone(),y=dE(u.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,r):n instanceof Dr?(function(u,c,m,p){if(!zh(u.precondition,c))return m;const g=dE(u.fieldTransforms,p,c),y=c.data;return y.setAll(kA(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(n,t,e,r):(function(u,c,m){return zh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,e)}function jN(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=DA(r.transform,o||null);u!=null&&(e===null&&(e=bn.empty()),e.set(r.field,u))}return e||null}function hE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Vo(r,o,((u,c)=>PN(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Fu extends Pf{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dr extends Pf{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function fE(n,t,e){const r=new Map;Qt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,kN(c,m,e[o]))}return r}function dE(n,t,e){const r=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);r.set(o.field,ON(u,c,t))}return r}class PA extends Pf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FN extends Pf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BN{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&UN(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=pu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=pu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=CA();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=OA(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(wt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&Vo(this.mutations,t.mutations,((e,r)=>hE(e,r)))&&Vo(this.baseMutations,t.baseMutations,((e,r)=>hE(e,r)))}}class Bg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return DN})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Bg(t,e,r,o)}}class zN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HN{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ve,Ht;function qN(n){switch(n){case rt.OK:return bt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return bt(15467,{code:n})}}function LA(n){if(n===void 0)return Ts("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Ve.OK:return rt.OK;case Ve.CANCELLED:return rt.CANCELLED;case Ve.UNKNOWN:return rt.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return rt.INTERNAL;case Ve.UNAVAILABLE:return rt.UNAVAILABLE;case Ve.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ve.NOT_FOUND:return rt.NOT_FOUND;case Ve.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ve.ABORTED:return rt.ABORTED;case Ve.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ve.DATA_LOSS:return rt.DATA_LOSS;default:return bt(39323,{code:n})}}(Ht=Ve||(Ve={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function GN(){return new TextEncoder}const KN=new pr([4294967295,4294967295],0);function mE(n){const t=GN().encode(n),e=new WS;return e.update(t),new Uint8Array(e.digest())}function pE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new pr([e,r],0),new pr([o,u],0)]}class zg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new ru(`Invalid padding: ${e}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new ru(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=pr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(pr.fromNumber(r)));return o.compare(KN)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=mE(t),[r,o]=pE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new zg(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=mE(t),[r,o]=pE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Bu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Lf(wt.min(),o,new fe(jt),Es(),Ft())}}class Bu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Bu(r,e,Ft(),Ft(),Ft())}}class Hh{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=o}}class UA{constructor(t,e){this.targetId=t,this.Ce=e}}class jA{constructor(t,e,r=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class gE{constructor(){this.ve=0,this.Fe=yE(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),e=Ft(),r=Ft();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:u})}})),new Bu(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=yE()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class YN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Es(),this.He=Dh(),this.Je=Dh(),this.Ze=new fe(jt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Fp(u))if(r===0){const c=new Tt(u.path);this.et(e,c,rn.newNoDocument(c,wt.min()))}else Qt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=br(r).toUint8Array()}catch(p){if(p instanceof uA)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zg(c,o,u)}catch(p){return No(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Fp(m.target)){const p=new Tt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,rn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.Ke())}}));let r=Ft();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Lf(t,e,this.Ze,this.je,r);return this.je=Es(),this.He=Dh(),this.Je=Dh(),this.Ze=new fe(jt),o}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.qe(e,1):o.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new gE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Fe(jt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Fe(jt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new gE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Dh(){return new fe(Tt.comparator)}function yE(){return new fe(Tt.comparator)}const QN={asc:"ASCENDING",desc:"DESCENDING"},XN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$N={and:"AND",or:"OR"};class WN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function zp(n,t){return n.useProto3Json||Df(t)?t:{value:t}}function cf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function JN(n,t){return cf(n,t.toTimestamp())}function Bi(n){return Qt(!!n,49232),wt.fromTimestamp((function(e){const r=Er(e);return new ae(r.seconds,r.nanos)})(n))}function Hg(n,t){return Hp(n,t).canonicalString()}function Hp(n,t){const e=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function BA(n){const t=re.fromString(n);return Qt(KA(t),10190,{key:t.toString()}),t}function qp(n,t){return Hg(n.databaseId,t.path)}function op(n,t){const e=BA(t);if(e.get(1)!==n.databaseId.projectId)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Tt(HA(e))}function zA(n,t){return Hg(n.databaseId,t)}function ZN(n){const t=BA(n);return t.length===4?re.emptyPath():HA(t)}function Gp(n){return new re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HA(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vE(n,t,e){return{name:qp(n,t),fields:e.value.mapValue.fields}}function tV(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,y){return g.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const y=g.code===void 0?rt.UNKNOWN:LA(g.code);return new yt(y,g.message||"")})(c);e=new jA(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=op(n,r.document.name),u=Bi(r.document.updateTime),c=r.document.createTime?Bi(r.document.createTime):wt.min(),m=new bn({mapValue:{fields:r.document.fields}}),p=rn.newFoundDocument(o,u,c,m),g=r.targetIds||[],y=r.removedTargetIds||[];e=new Hh(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=op(n,r.document),u=r.readTime?Bi(r.readTime):wt.min(),c=rn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Hh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=op(n,r.document),u=r.removedTargetIds||[];e=new Hh([],u,o,null)}else{if(!("filter"in t))return bt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new HN(o,u),m=r.targetId;e=new UA(m,c)}}return e}function eV(n,t){let e;if(t instanceof Fu)e={update:vE(n,t.key,t.value)};else if(t instanceof PA)e={delete:qp(n,t.key)};else if(t instanceof Dr)e={update:vE(n,t.key,t.data),updateMask:cV(t.fieldMask)};else{if(!(t instanceof FN))return bt(16599,{dt:t.type});e={verify:qp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ko)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw bt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:JN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(n,t.precondition)),e}function nV(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?Bi(o.updateTime):Bi(u);return c.isEqual(wt.min())&&(c=Bi(u)),new LN(c,o.transformResults||[])})(e,t)))):[]}function iV(n,t){return{documents:[zA(n,t.path)]}}function sV(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=zA(n,o);const u=(function(g){if(g.length!==0)return GA(Gi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((y=>(function(b){return{field:go(b.field),direction:oV(b.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=zp(n,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function rV(n){let t=ZN(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Qt(r===1,65062);const y=e.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];e.where&&(u=(function(T){const b=qA(T);return b instanceof Gi&&_A(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((b=>(function(j){return new lf(yo(j.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(b)))})(e.orderBy));let m=null;e.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Df(b)?null:b})(e.limit));let p=null;e.startAt&&(p=(function(T){const b=!!T.before,D=T.values||[];return new of(D,b)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const b=!T.before,D=T.values||[];return new of(D,b)})(e.endAt)),bN(t,o,c,u,m,"F",p,g)}function aV(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function qA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=yo(e.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(e.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(e.unaryFilter.field);return je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=yo(e.unaryFilter.field);return je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return je.create(yo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Gi.create(e.compositeFilter.filters.map((r=>qA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(e.compositeFilter.op))})(n):bt(30097,{filter:n})}function oV(n){return QN[n]}function lV(n){return XN[n]}function uV(n){return $N[n]}function go(n){return{fieldPath:n.canonicalString()}}function yo(n){return Ze.fromServerFormat(n.fieldPath)}function GA(n){return n instanceof je?(function(e){if(e.op==="=="){if(rE(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NAN"}};if(sE(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(rE(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NOT_NAN"}};if(sE(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(e.field),op:lV(e.op),value:e.value}}})(n):n instanceof Gi?(function(e){const r=e.getFilters().map((o=>GA(o)));return r.length===1?r[0]:{compositeFilter:{op:uV(e.op),filters:r}}})(n):bt(54877,{filter:n})}function cV(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function KA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function YA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ur{constructor(t,e,r,o,u=wt.min(),c=wt.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class hV{constructor(t){this.yt=t}}function fV(n){const t=rV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bp(t,t.limit,"L"):t}class dV{constructor(){this.Sn=new mV}addToCollectionParentIndex(t,e){return this.Sn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Tr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Tr.min())}updateCollectionGroup(t,e,r){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class mV{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Fe(re.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Fe(re.comparator)).toArray()}}const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QA=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(QA,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class Po{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Po(0)}static ar(){return new Po(-1)}}const TE="LruGarbageCollector",pV=1048576;function EE([n,t],[e,r]){const o=jt(n,e);return o===0?jt(t,r):o}class gV{constructor(t){this.Pr=t,this.buffer=new Fe(EE),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();EE(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class yV{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ht(TE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){qo(e)?ht(TE,"Ignoring IndexedDB error during garbage collection: ",e):await Ho(e)}await this.Ar(3e5)}))}}class vV{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(Rf.ce);const r=new gV(e);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(_E)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,o,u,c,m,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),mo()<=Ut.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function _V(n,t){return new vV(n,t)}class TV{constructor(){this.changes=new Ea((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?st.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class EV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class bV{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&pu(r.mutation,o,Vn.empty(),ae.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Ft()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Ft()){const o=ha();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=su();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=ha();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Ft())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=Es();const c=mu(),m=(function(){return mu()})();return e.forEach(((p,g)=>{const y=r.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Dr)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),pu(y.mutation,g,y.mutation.getFieldMask(),ae.now())):c.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,y)=>c.set(g,y))),e.forEach(((g,y)=>m.set(g,new EV(y,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=mu();let o=new fe(((c,m)=>c-m)),u=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let y=r.get(p)||Vn.empty();y=m.applyToLocalView(g,y),r.set(p,y);const T=(o.get(m.batchId)||Ft()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,y=p.value,T=CA();y.forEach((b=>{if(!u.has(b)){const D=OA(e.get(b),r.get(b));D!==null&&T.set(b,D),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return st.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return SN(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):AN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):st.resolve(ha());let m=bu,p=u;return c.next((g=>st.forEach(g,((y,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{p=p.insert(y,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ft()))).next((y=>({batchId:m,changes:xA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tt(e)).next((r=>{let o=su();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=su();return this.indexManager.getCollectionParents(t,u).next((m=>st.forEach(m,(p=>{const g=(function(T,b){return new Nf(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((y=>{y.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,rn.newInvalidDocument(y)))}));let m=su();return c.forEach(((p,g)=>{const y=u.get(p);y!==void 0&&pu(y.mutation,g,Vn.empty(),ae.now()),Of(e,g)&&(m=m.insert(p,g))})),m}))}}class SV{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return st.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(o){return{name:o.name,query:fV(o.bundledQuery),readTime:Bi(o.readTime)}})(e)),st.resolve()}}class AV{constructor(){this.overlays=new fe(Tt.comparator),this.Lr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ha();return st.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.bt(t,e,u)})),st.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),st.resolve()}getOverlaysForCollection(t,e,r){const o=ha(),u=e.length+1,c=new Tt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return st.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new fe(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let y=u.get(g.largestBatchId);y===null&&(y=ha(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=ha(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>m.set(g,y))),!(m.size()>=o)););return st.resolve(m)}bt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new zN(e,r));let u=this.Lr.get(e);u===void 0&&(u=Ft(),this.Lr.set(e,u)),this.Lr.set(e,u.add(r.key))}}class wV{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class qg{constructor(){this.kr=new Fe(qe.Kr),this.qr=new Fe(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new qe(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new qe(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new Tt(new re([])),r=new qe(e,t),o=new qe(e,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new Tt(new re([])),r=new qe(e,t),o=new qe(e,t+1);let u=Ft();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new qe(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return Tt.comparator(t.key,e.key)||jt(t.Hr,e.Hr)}static Ur(t,e){return jt(t.Hr,e.Hr)||Tt.comparator(t.key,e.key)}}class xV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe(qe.Kr)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new BN(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?kg:this.Yn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new qe(e,0),o=new qe(e,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Fe(jt);return e.forEach((o=>{const u=new qe(o,0),c=new qe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),st.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;Tt.isDocumentKey(u)||(u=u.child(""));const c=new qe(new Tt(u),0);let m=new Fe(jt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),st.resolve(this.Yr(m))}Yr(t){const e=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Qt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return st.forEach(e.mutations,(o=>{const u=new qe(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new qe(e,0),o=this.Jr.firstAfterOrEqual(r);return st.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class CV{constructor(t){this.ti=t,this.docs=(function(){return new fe(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return st.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(e))}getEntries(t,e){let r=Es();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),st.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Es();const c=e.path,m=new Tt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||ZI(JI(y),r)<=0||(o.has(y.key)||Of(e,y))&&(u=u.insert(y.key,y.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,e,r,o){bt(9500)}ni(t,e){return st.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new RV(this)}getSize(t){return st.resolve(this.size)}}class RV extends TV{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),st.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class DV{constructor(t){this.persistence=t,this.ri=new Ea((e=>Ug(e)),jg),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.ii=0,this.si=new qg,this.targetCount=0,this.oi=Po._r()}forEachTarget(t,e){return this.ri.forEach(((r,o)=>e(o))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),st.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Po(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.lr(e),st.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),st.waitFor(u).next((()=>o))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return st.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),st.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),st.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return st.resolve(r)}containsKey(t,e){return st.resolve(this.si.containsKey(e))}}class XA{constructor(t,e){this._i={},this.overlays={},this.ai=new Rf(0),this.ui=!1,this.ui=!0,this.ci=new wV,this.referenceDelegate=t(this),this.li=new DV(this),this.indexManager=new dV,this.remoteDocumentCache=(function(o){return new CV(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new hV(e),this.Pi=new SV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new AV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new xV(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){ht("MemoryPersistence","Starting transaction:",t);const o=new IV(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,e){return st.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class IV extends eN{constructor(t){super(),this.currentSequenceNumber=t}}class Gg{constructor(t){this.persistence=t,this.Ri=new qg,this.Ai=null}static Vi(t){return new Gg(t)}get di(){if(this.Ai)return this.Ai;throw bt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),st.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(r=>{const o=Tt.fromPath(r);return this.mi(t,o).next((u=>{u||e.removeEntry(o,wt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class hf{constructor(t,e){this.persistence=t,this.fi=new Ea((r=>sN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=_V(this,e)}static Vi(t,e){return new hf(t,e)}Ti(){}Ii(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return st.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?st.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,e).next((m=>{m||(r++,u.removeEntry(c,wt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),st.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),st.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Fh(t.data.value)),e}wr(t,e,r){return st.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.fi.get(e);return st.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Kg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=o}static Es(t,e){let r=Ft(),o=Ft();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kg(t,e.fromCache,r,o)}}class NV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class VV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ER()?8:nN(on())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.gs(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new NV;return this.ys(t,e,c).next((m=>{if(u.result=m,this.As)return this.ws(t,e,c,m.size)}))})).next((()=>u.result))}ws(t,e,r,o){return r.documentReadCount<this.Vs?(mo()<=Ut.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",po(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(mo()<=Ut.DEBUG&&ht("QueryEngine","Query:",po(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(mo()<=Ut.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",po(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fi(e))):st.resolve())}gs(t,e){if(uE(e))return st.resolve(null);let r=Fi(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Bp(e,null,"F"),r=Fi(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ft(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(e,m);return this.Ss(e,g,c,p.readTime)?this.gs(t,Bp(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,r,o){return uE(e)||o.isEqual(wt.min())?st.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(e,u);return this.Ss(e,c,r,o)?st.resolve(null):(mo()<=Ut.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(e)),this.Ds(t,c,e,WI(o,bu)).next((m=>m)))}))}bs(t,e){let r=new Fe(AA(t));return e.forEach(((o,u)=>{Of(t,u)&&(r=r.add(u))})),r}Ss(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,e,r){return mo()<=Ut.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",po(e)),this.fs.getDocumentsMatchingQuery(t,e,Tr.min(),r)}Ds(t,e,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Yg="LocalStore",MV=3e8;class OV{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.vs=new fe(jt),this.Fs=new Ea((u=>Ug(u)),jg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function kV(n,t,e,r){return new OV(n,t,e,r)}async function $A(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ft();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of u){m.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function PV(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,y){const T=g.batch,b=T.keys();let D=st.resolve();return b.forEach((j=>{D=D.next((()=>y.getEntry(p,j))).next((q=>{const L=g.docVersions.get(j);Qt(L!==null,48541),q.version.compareTo(L)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),y.addEntry(q)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ft();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function WA(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function LV(n,t){const e=Rt(n),r=t.snapshotVersion;let o=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});o=e.vs;const m=[];t.targetChanges.forEach(((y,T)=>{const b=o.get(T);if(!b)return;m.push(e.li.removeMatchingKeys(u,y.removedDocuments,T).next((()=>e.li.addMatchingKeys(u,y.addedDocuments,T))));let D=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(tn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(y.resumeToken,r)),o=o.insert(T,D),(function(q,L,K){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=MV?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(b,D,y)&&m.push(e.li.updateTargetData(u,D))}));let p=Es(),g=Ft();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,y))})),m.push(UV(u,c,t.documentUpdates).next((y=>{p=y.Bs,g=y.Ls}))),!r.isEqual(wt.min())){const y=e.li.getLastRemoteSnapshotVersion(u).next((T=>e.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(y)}return st.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.vs=o,u)))}function UV(n,t,e){let r=Ft(),o=Ft();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Es();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ht(Yg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function jV(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=kg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function FV(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.li.getTargetData(r,t).next((u=>u?(o=u,st.resolve(o)):e.li.allocateTargetId(r).next((c=>(o=new ur(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function Kp(n,t,e){const r=Rt(n),o=r.vs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!qo(c))throw c;ht(Yg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function bE(n,t,e){const r=Rt(n);let o=wt.min(),u=Ft();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const T=Rt(p),b=T.Fs.get(y);return b!==void 0?st.resolve(T.vs.get(b)):T.li.getTargetData(g,y)})(r,c,Fi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?o:wt.min(),e?u:Ft()))).next((m=>(BV(r,xN(t),m),{documents:m,ks:u})))))}function BV(n,t,e){let r=n.Ms.get(t)||wt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Ms.set(t,r)}class SE{constructor(){this.activeTargetIds=VN()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zV{constructor(){this.vo=new SE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new SE,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class HV{Mo(t){}shutdown(){}}const AE="ConnectivityMonitor";class wE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(AE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ht(AE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function Yp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const lp="RestConnection",qV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GV{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===rf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,u){const c=Yp(),m=this.Qo(t,e.toUriEncodedString());ht(lp,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),y=jo(g);return this.zo(t,m,p,r,y).then((T=>(ht(lp,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw No(lp,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(t,e,r,o,u,c){return this.Wo(t,e,r,o,u)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,e){const r=qV[t];let o=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class KV{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const nn="WebChannelConnection",eu=(n,t,e)=>{n.listen(t,(r=>{try{e(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class xo extends GV{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!xo.c_){const t=eA();eu(t,tA.STAT_EVENT,(e=>{e.stat===kp.PROXY?ht(nn,"STAT_EVENT: detected buffering proxy"):e.stat===kp.NOPROXY&&ht(nn,"STAT_EVENT: detected no buffering proxy")})),xo.c_=!0}}zo(t,e,r,o,u){const c=Yp();return new Promise(((m,p)=>{const g=new JS;g.setWithCredentials(!0),g.listenOnce(ZS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case jh.NO_ERROR:const T=g.getResponseJson();ht(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case jh.TIMEOUT:ht(nn,`RPC '${t}' ${c} timed out`),p(new yt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const b=g.getStatus();if(ht(nn,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D?.error;if(j&&j.status&&j.message){const q=(function(K){const it=K.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(it)>=0?it:rt.UNKNOWN})(j.status);p(new yt(q,j.message))}else p(new yt(rt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new yt(rt.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(nn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);ht(nn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",y,r,15)}))}T_(t,e,r){const o=Yp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const g=u.join("");ht(nn,`Creating RPC '${t}' stream ${o}: ${g}`,m);const y=c.createWebChannel(g,m);this.I_(y);let T=!1,b=!1;const D=new KV({Ho:j=>{b?ht(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(T||(ht(nn,`Opening RPC '${t}' stream ${o} transport.`),y.open(),T=!0),ht(nn,`RPC '${t}' stream ${o} sending:`,j),y.send(j))},Jo:()=>y.close()});return eu(y,iu.EventType.OPEN,(()=>{b||(ht(nn,`RPC '${t}' stream ${o} transport opened.`),D.i_())})),eu(y,iu.EventType.CLOSE,(()=>{b||(b=!0,ht(nn,`RPC '${t}' stream ${o} transport closed`),D.o_(),this.E_(y))})),eu(y,iu.EventType.ERROR,(j=>{b||(b=!0,No(nn,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),D.o_(new yt(rt.UNAVAILABLE,"The operation could not be completed")))})),eu(y,iu.EventType.MESSAGE,(j=>{if(!b){const q=j.data[0];Qt(!!q,16349);const L=q,K=L?.error||L[0]?.error;if(K){ht(nn,`RPC '${t}' stream ${o} received error:`,K);const it=K.status;let $=(function(at){const C=Ve[at];if(C!==void 0)return LA(C)})(it),W=K.message;$===void 0&&($=rt.INTERNAL,W="Unknown error status: "+it+" with message "+K.message),b=!0,D.o_(new yt($,W)),y.close()}else ht(nn,`RPC '${t}' stream ${o} received:`,q),D.__(q)}})),xo.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nA()}}function YV(n){return new xo(n)}function up(){return typeof document<"u"?document:null}function Uf(n){return new WN(n,!0)}xo.c_=!1;class JA{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const xE="PersistentStream";class ZA{constructor(t,e,r,o,u,c,m,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Ts(e.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new yt(rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(xE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ht(xE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QV extends ZA{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=tV(this.serializer,t),r=(function(u){if(!("targetChange"in u))return wt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Bi(c.readTime):wt.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=Gp(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=Fp(p)?{documents:iV(u,p)}:{query:sV(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=FA(u,c.resumeToken);const g=zp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(wt.min())>0){m.readTime=cf(u,c.snapshotVersion.toTimestamp());const g=zp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=aV(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=Gp(this.serializer),e.removeTarget=t,this.K_(e)}}class XV extends ZA{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=nV(t.writeResults,t.commitTime),r=Bi(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Gp(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>eV(this.serializer,r)))};this.K_(e)}}class $V{}class WV extends $V{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,Hp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(rt.UNKNOWN,u.toString())}))}jo(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,Hp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JV(n,t,e,r){return new WV(n,t,e,r)}class ZV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _a="RemoteStore";class tM{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{ba(this)&&(ht(_a,"Restarting streams for network reachability change."),await(async function(p){const g=Rt(p);g.Ea.add(4),await zu(g),g.Va.set("Unknown"),g.Ea.delete(4),await jf(g)})(this))}))})),this.Va=new ZV(r,o)}}async function jf(n){if(ba(n))for(const t of n.Ra)await t(!0)}async function zu(n){for(const t of n.Ra)await t(!1)}function t1(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Wg(e)?$g(e):Go(e).O_()&&Xg(e,t))}function Qg(n,t){const e=Rt(n),r=Go(e);e.Ia.delete(t),r.O_()&&e1(e,t),e.Ia.size===0&&(r.O_()?r.L_():ba(e)&&e.Va.set("Unknown"))}function Xg(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Go(n).Z_(t)}function e1(n,t){n.da.$e(t),Go(n).X_(t)}function $g(n){n.da=new YN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Go(n).start(),n.Va.ua()}function Wg(n){return ba(n)&&!Go(n).x_()&&n.Ia.size>0}function ba(n){return Rt(n).Ea.size===0}function n1(n){n.da=void 0}async function eM(n){n.Va.set("Online")}async function nM(n){n.Ia.forEach(((t,e)=>{Xg(n,t)}))}async function iM(n,t){n1(n),Wg(n)?(n.Va.ha(t),$g(n)):n.Va.set("Unknown")}async function sM(n,t,e){if(n.Va.set("Online"),t instanceof jA&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(n,t)}catch(r){ht(_a,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ff(n,r)}else if(t instanceof Hh?n.da.Xe(t):t instanceof UA?n.da.st(t):n.da.tt(t),!e.isEqual(wt.min()))try{const r=await WA(n.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=u.Ia.get(g);y&&u.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const y=u.Ia.get(p);if(!y)return;u.Ia.set(p,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),e1(u,p);const T=new ur(y.target,p,g,y.sequenceNumber);Xg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(n,e)}catch(r){ht(_a,"Failed to raise snapshot:",r),await ff(n,r)}}async function ff(n,t,e){if(!qo(t))throw t;n.Ea.add(1),await zu(n),n.Va.set("Offline"),e||(e=()=>WA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(_a,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await jf(n)}))}function i1(n,t){return t().catch((e=>ff(n,e,t)))}async function Ff(n){const t=Rt(n),e=Ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:kg;for(;rM(t);)try{const o=await jV(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,aM(t,o)}catch(o){await ff(t,o)}s1(t)&&r1(t)}function rM(n){return ba(n)&&n.Ta.length<10}function aM(n,t){n.Ta.push(t);const e=Ar(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function s1(n){return ba(n)&&!Ar(n).x_()&&n.Ta.length>0}function r1(n){Ar(n).start()}async function oM(n){Ar(n).ra()}async function lM(n){const t=Ar(n);for(const e of n.Ta)t.ea(e.mutations)}async function uM(n,t,e){const r=n.Ta.shift(),o=Bg.from(r,t,e);await i1(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Ff(n)}async function cM(n,t){t&&Ar(n).Y_&&await(async function(r,o){if((function(c){return qN(c)&&c!==rt.ABORTED})(o.code)){const u=r.Ta.shift();Ar(r).B_(),await i1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ff(r)}})(n,t),s1(n)&&r1(n)}async function CE(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ht(_a,"RemoteStore received new credentials");const r=ba(e);e.Ea.add(3),await zu(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await jf(e)}async function hM(n,t){const e=Rt(n);t?(e.Ea.delete(2),await jf(e)):t||(e.Ea.add(2),await zu(e),e.Va.set("Unknown"))}function Go(n){return n.ma||(n.ma=(function(e,r,o){const u=Rt(e);return u.sa(),new QV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:eM.bind(null,n),Yo:nM.bind(null,n),t_:iM.bind(null,n),J_:sM.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Wg(n)?$g(n):n.Va.set("Unknown")):(await n.ma.stop(),n1(n))}))),n.ma}function Ar(n){return n.fa||(n.fa=(function(e,r,o){const u=Rt(e);return u.sa(),new XV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:oM.bind(null,n),t_:cM.bind(null,n),ta:lM.bind(null,n),na:uM.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Ff(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(_a,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Jg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new Jg(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(n,t){if(Ts("AsyncQueue",`${t}: ${n}`),qo(n))return new yt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class Co{static emptySet(t){return new Co(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Tt.comparator(e.key,r.key):(e,r)=>Tt.comparator(e.key,r.key),this.keyedMap=su(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Co)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Co;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class RE{constructor(){this.ga=new fe(Tt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):bt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Lo{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new Lo(t,e,Co.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class fM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class dM{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Rt(e),u=o.queries;o.queries=DE(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new yt(rt.ABORTED,"Firestore shutting down"))}}function DE(){return new Ea((n=>SA(n)),Mf)}async function a1(n,t){const e=Rt(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new fM,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Zg(c,`Initialization of query '${po(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.ba.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&ty(e)}async function o1(n,t){const e=Rt(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function mM(n,t){const e=Rt(n);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&ty(e)}function pM(n,t,e){const r=Rt(n),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(e);r.queries.delete(t)}function ty(n){n.Ca.forEach((t=>{t.next()}))}var Qp,IE;(IE=Qp||(Qp={})).Ma="default",IE.Cache="cache";class l1{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Lo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qp.Cache}}class u1{constructor(t){this.key=t}}class c1{constructor(t){this.key=t}}class gM{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ft(),this.mutatedKeys=Ft(),this.eu=AA(t),this.tu=new Co(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new RE,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,T)=>{const b=o.get(y),D=Of(this.query,T)?T:null,j=!!b&&this.mutatedKeys.has(b.key),q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;b&&D?b.data.isEqual(D.data)?j!==q&&(r.track({type:3,doc:D}),L=!0):this.su(b,D)||(r.track({type:2,doc:D}),L=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!b&&D?(r.track({type:0,doc:D}),L=!0):b&&!D&&(r.track({type:1,doc:b}),L=!0,(p||g)&&(m=!0)),L&&(D?(c=c.add(D),u=q?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,T)=>(function(D,j){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:L})}};return q(D)-q(j)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Lo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new c1(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new u1(r))})),e}cu(t){this.Za=t.ks,this.Ya=Ft();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ey="SyncEngine";class yM{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class vM{constructor(t){this.key=t,this.hu=!1}}class _M{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ea((m=>SA(m)),Mf),this.Iu=new Map,this.Eu=new Set,this.Ru=new fe(Tt.comparator),this.Au=new Map,this.Vu=new qg,this.du={},this.mu=new Map,this.fu=Po.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TM(n,t,e=!0){const r=g1(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await h1(r,t,e,!0),o}async function EM(n,t){const e=g1(n);await h1(e,t,!0,!1)}async function h1(n,t,e,r){const o=await FV(n.localStore,Fi(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await bM(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&t1(n.remoteStore,o),m}async function bM(n,t,e,r,o){n.pu=(T,b,D)=>(async function(q,L,K,it){let $=L.view.ru(K);$.Ss&&($=await bE(q.localStore,L.query,!1).then((({documents:C})=>L.view.ru(C,$))));const W=it&&it.targetChanges.get(L.targetId),X=it&&it.targetMismatches.get(L.targetId)!=null,at=L.view.applyChanges($,q.isPrimaryClient,W,X);return VE(q,L.targetId,at.au),at.snapshot})(n,T,b,D);const u=await bE(n.localStore,t,!0),c=new gM(t,u.ks),m=c.ru(u.documents),p=Bu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);VE(n,e,g.au);const y=new yM(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function SM(n,t,e){const r=Rt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Mf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Kp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Qg(r.remoteStore,o.targetId),Xp(r,o.targetId)})).catch(Ho)):(Xp(r,o.targetId),await Kp(r.localStore,o.targetId,!0))}async function AM(n,t){const e=Rt(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Qg(e.remoteStore,r.targetId))}async function wM(n,t,e){const r=VM(n);try{const o=await(function(c,m){const p=Rt(c),g=ae.now(),y=m.reduce(((D,j)=>D.add(j.key)),Ft());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let j=Es(),q=Ft();return p.xs.getEntries(D,y).next((L=>{j=L,j.forEach(((K,it)=>{it.isValidDocument()||(q=q.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,j))).next((L=>{T=L;const K=[];for(const it of m){const $=jN(it,T.get(it.key).overlayedDocument);$!=null&&K.push(new Dr(it.key,$,gA($.value.mapValue),di.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,K,m)})).next((L=>{b=L;const K=L.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(D,L.batchId,K)}))})).then((()=>({batchId:b.batchId,changes:xA(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new fe(jt)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,e),await Hu(r,o.changes),await Ff(r.remoteStore)}catch(o){const u=Zg(o,"Failed to persist write");e.reject(u)}}async function f1(n,t){const e=Rt(n);try{const r=await LV(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Qt(c.hu,14607):o.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await Hu(e,r,t)}catch(r){await Ho(r)}}function NE(n,t,e){const r=Rt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Rt(c);p.onlineState=m;let g=!1;p.queries.forEach(((y,T)=>{for(const b of T.ba)b.va(m)&&(g=!0)})),g&&ty(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xM(n,t,e){const r=Rt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new fe(Tt.comparator);c=c.insert(u,rn.newNoDocument(u,wt.min()));const m=Ft().add(u),p=new Lf(wt.min(),new Map,new fe(jt),c,m);await f1(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(t),ny(r)}else await Kp(r.localStore,t,!1).then((()=>Xp(r,t,e))).catch(Ho)}async function CM(n,t){const e=Rt(n),r=t.batch.batchId;try{const o=await PV(e.localStore,t);m1(e,r,null),d1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(e,o)}catch(o){await Ho(o)}}async function RM(n,t,e){const r=Rt(n);try{const o=await(function(c,m){const p=Rt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qt(T!==null,37113),y=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(r.localStore,t);m1(r,t,e),d1(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Hu(r,o)}catch(o){await Ho(o)}}function d1(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function m1(n,t,e){const r=Rt(n);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function Xp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||p1(n,r)}))}function p1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(Qg(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),ny(n))}function VE(n,t,e){for(const r of e)r instanceof u1?(n.Vu.addReference(r.key,t),DM(n,r)):r instanceof c1?(ht(ey,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||p1(n,r.key)):bt(19791,{wu:r})}function DM(n,t){const e=t.key,r=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(r)||(ht(ey,"New document in limbo: "+e),n.Eu.add(r),ny(n))}function ny(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Tt(re.fromString(t)),r=n.fu.next();n.Au.set(r,new vM(e)),n.Ru=n.Ru.insert(e,r),t1(n.remoteStore,new ur(Fi(Vf(e.path)),r,"TargetPurposeLimboResolution",Rf.ce))}}async function Hu(n,t,e){const r=Rt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){o.push(g);const y=Kg.Es(p.targetId,g);u.push(y)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const y=Rt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>st.forEach(g,(b=>st.forEach(b.Ts,(D=>y.persistence.referenceDelegate.addReference(T,b.targetId,D))).next((()=>st.forEach(b.Is,(D=>y.persistence.referenceDelegate.removeReference(T,b.targetId,D)))))))))}catch(T){if(!qo(T))throw T;ht(Yg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const D=y.vs.get(b),j=D.snapshotVersion,q=D.withLastLimboFreeSnapshotVersion(j);y.vs=y.vs.insert(b,q)}}})(r.localStore,u))}async function IM(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ht(ey,"User change. New user:",t.toKey());const r=await $A(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new yt(rt.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Hu(e,r.Ns)}}function NM(n,t){const e=Rt(n),r=e.Au.get(t);if(r&&r.hu)return Ft().add(r.key);{let o=Ft();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function g1(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xM.bind(null,t),t.Pu.J_=mM.bind(null,t.eventManager),t.Pu.yu=pM.bind(null,t.eventManager),t}function VM(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RM.bind(null,t),t}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return kV(this.persistence,new VV,t.initialUser,this.serializer)}Cu(t){return new XA(Gg.Vi,this.serializer)}Du(t){return new zV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class MM extends df{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof hf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yV(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new XA((r=>hf.Vi(r,e)),this.serializer)}}class $p{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IM.bind(null,this.syncEngine),await hM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new dM})()}createDatastore(t){const e=Uf(t.databaseInfo.databaseId),r=YV(t.databaseInfo);return JV(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new tM(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>NE(this.syncEngine,e,0)),(function(){return wE.v()?new wE:new HV})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,y){const T=new _M(o,u,c,m,p,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Rt(e);ht(_a,"RemoteStore shutting down."),r.Ea.add(5),await zu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$p.provider={build:()=>new $p};class y1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const wr="FirestoreClient";class OM{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ht(wr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ht(wr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Zg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function cp(n,t){n.asyncQueue.verifyOperationInProgress(),ht(wr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await $A(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function ME(n,t){n.asyncQueue.verifyOperationInProgress();const e=await kM(n);ht(wr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>CE(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>CE(t.remoteStore,o))),n._onlineComponents=t}async function kM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(wr,"Using user provided OfflineComponentProvider");try{await cp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;No("Error using user provided cache. Falling back to memory cache: "+e),await cp(n,new df)}}else ht(wr,"Using default OfflineComponentProvider"),await cp(n,new MM(void 0));return n._offlineComponents}async function v1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(wr,"Using user provided OnlineComponentProvider"),await ME(n,n._uninitializedComponentsProvider._online)):(ht(wr,"Using default OnlineComponentProvider"),await ME(n,new $p))),n._onlineComponents}function PM(n){return v1(n).then((t=>t.syncEngine))}async function Wp(n){const t=await v1(n),e=t.eventManager;return e.onListen=TM.bind(null,t.syncEngine),e.onUnlisten=SM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=EM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=AM.bind(null,t.syncEngine),e}function LM(n,t,e,r){const o=new y1(r),u=new l1(t,o,e);return n.asyncQueue.enqueueAndForget((async()=>a1(await Wp(n),u))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>o1(await Wp(n),u)))}}function UM(n,t,e={}){const r=new gr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const y=new y1({next:b=>{y.Nu(),c.enqueueAndForget((()=>o1(u,T)));const D=b.docs.has(m);!D&&b.fromCache?g.reject(new yt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new yt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new l1(Vf(m.path),y,{includeMetadataChanges:!0,Ka:!0});return a1(u,T)})(await Wp(n),n.asyncQueue,t,e,r))),r.promise}function jM(n,t){const e=new gr;return n.asyncQueue.enqueueAndForget((async()=>wM(await PM(n),t,e))),e.promise}function _1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const FM="ComponentProvider",OE=new Map;function BM(n,t,e,r,o){return new oN(n,t,e,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,_1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const T1="firestore.googleapis.com",kE=!0;class PE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=kE}else this.host=t.host,this.ssl=t.ssl??kE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=QA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pV)throw new yt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$I("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bf{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new FI;switch(r.type){case"firstParty":return new qI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=OE.get(e);r&&(ht(FM,"Removing Datastore"),OE.delete(e),r.terminate())})(this),Promise.resolve()}}function zM(n,t,e,r={}){n=fi(n,Bf);const o=jo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${e}`;o&&(cS(`https://${m}`),hS("Firestore",!0)),u.host!==T1&&u.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!vr(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=sn.MOCK_USER;else{g=fR(r.mockUserToken,n._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new yt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(T)}n._authCredentials=new BI(new sA(g,y))}}class zf{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new zf(this.firestore,t,this._query)}}class be{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(ju(e,be._jsonSchema))return new be(t,r||null,new Tt(re.fromString(e.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:Oe("string",be._jsonSchemaVersion),referencePath:Oe("string")};class yr extends zf{constructor(t,e,r){super(t,e,Vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new Tt(t))}withConverter(t){return new yr(this.firestore,t,this._path)}}function HM(n,t,...e){if(n=dn(n),rA("collection","path",t),n instanceof Bf){const r=re.fromString(t,...e);return $T(r),new yr(n,null,r)}{if(!(n instanceof be||n instanceof yr))throw new yt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(re.fromString(t,...e));return $T(r),new yr(n.firestore,null,r)}}function ds(n,t,...e){if(n=dn(n),arguments.length===1&&(t=Mg.newId()),rA("doc","path",t),n instanceof Bf){const r=re.fromString(t,...e);return XT(r),new be(n,null,new Tt(r))}{if(!(n instanceof be||n instanceof yr))throw new yt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(re.fromString(t,...e));return XT(r),new be(n.firestore,n instanceof yr?n.converter:null,new Tt(r))}}const LE="AsyncQueue";class UE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JA(this,"async_queue_retry"),this._c=()=>{const r=up();r&&ht(LE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=up();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=up();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!qo(t))throw t;ht(LE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",jE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Jg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:jE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function jE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Ta extends Bf{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new UE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new UE(t),this._firestoreClient=void 0,await t}}}function qM(n,t){const e=typeof n=="object"?n:pS(),r=typeof n=="string"?n:rf,o=Ag(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=cR("firestore");u&&zM(o,...u)}return o}function iy(n){if(n._terminated)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GM(n),n._firestoreClient}function GM(n){const t=n._freezeSettings(),e=BM(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new OM(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(tn.fromBase64String(t))}catch(e){throw new yt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ju(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Oe("string",Yn._jsonSchemaVersion),bytes:Oe("string")};class sy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qu{constructor(t){this._methodName=t}}class zi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(ju(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Oe("string",zi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class mi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ju(t,mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new mi(t.vectorValues);throw new yt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Oe("string",mi._jsonSchemaVersion),vectorValues:Oe("object")};const KM=/^__.*__$/;class YM{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Dr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Fu(t,this.data,e,this.fieldTransforms)}}class E1{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Dr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function b1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{dataSource:n})}}class Hf{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Hf({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return mf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(b1(this.dataSource)&&KM.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class QM{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Uf(t)}createContext(t,e,r,o=!1){return new Hf({dataSource:t,methodName:e,targetDoc:r,path:Ze.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ry(n){const t=n._freezeSettings(),e=Uf(n._databaseId);return new QM(n._databaseId,!!t.ignoreUndefinedProperties,e)}function S1(n,t,e,r,o,u={}){const c=n.createContext(u.merge||u.mergeFields?2:0,t,e,o);ly("Data must be an object, but it was:",c,r);const m=A1(r,c);let p,g;if(u.merge)p=new Vn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const T of u.mergeFields){const b=Ru(t,T,e);if(!c.contains(b))throw new yt(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);C1(y,b)||y.push(b)}p=new Vn(y),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new YM(new bn(m),p,g)}class qf extends qu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qf}}function XM(n,t,e){return new Hf({dataSource:3,targetDoc:t.settings.targetDoc,methodName:n._methodName,arrayElement:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ay extends qu{_toFieldTransform(t){return new MA(t.path,new xu)}isEqual(t){return t instanceof ay}}class oy extends qu{constructor(t,e){super(t),this.Ac=e}_toFieldTransform(t){const e=XM(this,t,!0),r=this.Ac.map((u=>Gu(u,e))),o=new ko(r);return new MA(t.path,o)}isEqual(t){return t instanceof oy&&vr(this.Ac,t.Ac)}}function $M(n,t,e,r){const o=n.createContext(1,t,e);ly("Data must be an object, but it was:",o,r);const u=[],c=bn.empty();Rr(r,((p,g)=>{const y=x1(t,p,e);g=dn(g);const T=o.childContextForFieldPath(y);if(g instanceof qf)u.push(y);else{const b=Gu(g,T);b!=null&&(u.push(y),c.set(y,b))}}));const m=new Vn(u);return new E1(c,m,o.fieldTransforms)}function WM(n,t,e,r,o,u){const c=n.createContext(1,t,e),m=[Ru(t,r,e)],p=[o];if(u.length%2!=0)throw new yt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Ru(t,u[b])),p.push(u[b+1]);const g=[],y=bn.empty();for(let b=m.length-1;b>=0;--b)if(!C1(g,m[b])){const D=m[b];let j=p[b];j=dn(j);const q=c.childContextForFieldPath(D);if(j instanceof qf)g.push(D);else{const L=Gu(j,q);L!=null&&(g.push(D),y.set(D,L))}}const T=new Vn(g);return new E1(y,T,c.fieldTransforms)}function Gu(n,t){if(w1(n=dn(n)))return ly("Unsupported field value:",t,n),A1(n,t);if(n instanceof qu)return(function(r,o){if(!b1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=Gu(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ae.fromDate(r);return{timestampValue:cf(o.serializer,u)}}if(r instanceof ae){const u=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cf(o.serializer,u)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:FA(o.serializer,r._byteString)};if(r instanceof be){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof mi)return(function(c,m){const p=c instanceof mi?c.toArray():c;return{mapValue:{fields:{[mA]:{stringValue:pA},[af]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw m.createError("VectorValues must only contain numeric values.");return Fg(m.serializer,y)}))}}}}}})(r,o);if(YA(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Og(r)}`)})(n,t)}function A1(n,t){const e={};return lA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rr(n,((r,o)=>{const u=Gu(o,t.childContextForField(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function w1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ae||n instanceof zi||n instanceof Yn||n instanceof be||n instanceof qu||n instanceof mi||YA(n))}function ly(n,t,e){if(!w1(e)||!aA(e)){const r=Og(e);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function Ru(n,t,e){if((t=dn(t))instanceof sy)return t._internalPath;if(typeof t=="string")return x1(n,t);throw mf("Field path arguments must be of type string or ",n,!1,void 0,e)}const JM=new RegExp("[~\\*/\\[\\]]");function x1(n,t,e){if(t.search(JM)>=0)throw mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new sy(...t.split("."))._internalPath}catch{throw mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function mf(n,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new yt(rt.INVALID_ARGUMENT,m+n+p)}function C1(n,t){return n.some((e=>e.isEqual(t)))}class ZM{convertValue(t,e="none"){switch(Sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Rr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[af].arrayValue?.values?.map((r=>Ee(r.doubleValue)));return new mi(e)}convertGeoPoint(t){return new zi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=If(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Su(t));default:return null}}convertTimestamp(t){const e=Er(t);return new ae(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=re.fromString(t);Qt(KA(r),9688,{name:t});const o=new Au(r.get(1),r.get(3)),u=new Tt(r.popFirst(5));return o.isEqual(e)||Ts(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}class R1 extends ZM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,e)}}function pf(){return new ay("serverTimestamp")}function t4(...n){return new oy("arrayUnion",n)}const FE="@firebase/firestore",BE="4.10.0";function zE(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class D1{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new e4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Ru("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class e4 extends D1{data(){return super.data()}}function n4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function I1(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class au{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ma extends D1{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Ru("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ma._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:Oe("string",ma._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class qh extends ma{data(t={}){return super.data(t)}}class Ro{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new au(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new qh(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:i4(m.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ro._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function i4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:n})}}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Oe("string",Ro._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};function s4(n){n=fi(n,be);const t=fi(n.firestore,Ta),e=iy(t);return UM(e,n._key).then((r=>N1(t,n,r)))}function ou(n,t,e){n=fi(n,be);const r=fi(n.firestore,Ta),o=I1(n.converter,t,e),u=ry(r);return uy(r,[S1(u,"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,di.none())])}function r4(n,t,e,...r){n=fi(n,be);const o=fi(n.firestore,Ta),u=ry(o);let c;return c=typeof(t=dn(t))=="string"||t instanceof sy?WM(u,"updateDoc",n._key,t,e,r):$M(u,"updateDoc",n._key,t),uy(o,[c.toMutation(n._key,di.exists(!0))])}function a4(n,t){const e=fi(n.firestore,Ta),r=ds(n),o=I1(n.converter,t),u=ry(n.firestore);return uy(e,[S1(u,"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then((()=>r))}function o4(n,...t){n=dn(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||zE(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(zE(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,m;if(n instanceof be)c=fi(n.firestore,Ta),m=Vf(n._key.path),u={next:g=>{t[r]&&t[r](N1(c,n,g))},error:t[r+1],complete:t[r+2]};else{const g=fi(n,zf);c=fi(g.firestore,Ta),m=g._query;const y=new R1(c);u={next:T=>{t[r]&&t[r](new Ro(c,y,g,T))},error:t[r+1],complete:t[r+2]},n4(n._query)}const p=iy(c);return LM(p,m,o,u)}function uy(n,t){const e=iy(n);return jM(e,t)}function N1(n,t,e){const r=e.docs.get(t._key),o=new R1(n);return new ma(n,o,t._key,r,new au(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){jI(Fo),Io(new ga("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Ta(new zI(r.getProvider("auth-internal")),new GI(c,r.getProvider("app-check-internal")),lN(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),dr(FE,BE,t),dr(FE,BE,"esm2020")})();const l4={apiKey:"AIzaSyAMYFQeR-nSXC5TrC1_EG8O1dvV72grdPk",authDomain:"gatheringfun-9f90b.firebaseapp.com",projectId:"gatheringfun-9f90b",storageBucket:"gatheringfun-9f90b.firebasestorage.app",messagingSenderId:"127856246038",appId:"1:127856246038:web:15ccb418ad1828eff2e437",measurementId:"G-3L2YMD21VG"},V1=mS(l4),pe=LI(V1),fs=qM(V1),u4={Taiwan:{" (Taipei)":["","","",""]," (New Taipei)":["","","",""]," (Taichung)":["","",""]," (Kaohsiung)":["","",""]},Malaysia:{"Kuala Lumpur":["Bukit Bintang","KLCC","Bangsar","Cheras"],Selangor:["Petaling Jaya","Subang Jaya","Shah Alam","Klang"],Penang:["George Town","Bayan Lepas","Butterworth"],Johor:["Johor Bahru","Skudai","Mount Austin"]}},c4=["Taiwanese","Chinese","Western","Japanese","Korean","Thai","Indian","Italian","Malay","Nyonya"],h4=({onSubmit:n,loading:t})=>{const[e,r]=ot.useState({name:"",startDate:"",endDate:"",country:"Taiwan",locations:[],cuisines:[],minPrice:100,maxPrice:1e3,waitMinutes:10}),o=p=>{const{name:g,value:y}=p.target;r(g==="country"?T=>({...T,[g]:y,locations:[]}):T=>({...T,[g]:y}))},u=(p,g)=>{r(y=>{const T=y[p],b=T.includes(g)?T.filter(D=>D!==g):[...T,g];return{...y,[p]:b}})},c=p=>{if(p.preventDefault(),!e.name||!e.startDate||!e.endDate||e.locations.length===0){alert("Please fill in required fields, including at least one location");return}n(e)},m=u4[e.country];return x.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center",children:"Start a New Gathering"}),x.jsxs("form",{onSubmit:c,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Gathering Name"}),x.jsx("input",{type:"text",name:"name",value:e.name,onChange:o,placeholder:"e.g., Friday Dinner Party",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),x.jsx("input",{type:"date",name:"startDate",value:e.startDate,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),x.jsx("input",{type:"date",name:"endDate",value:e.endDate,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),x.jsxs("select",{name:"country",value:e.country,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[x.jsx("option",{value:"Taiwan",children:"Taiwan"}),x.jsx("option",{value:"Malaysia",children:"Malaysia"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min Price"}),x.jsx("input",{type:"number",name:"minPrice",value:e.minPrice,onChange:o,min:"100",max:"1000",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Max Price"}),x.jsx("input",{type:"number",name:"maxPrice",value:e.maxPrice,onChange:o,min:"100",max:"1000",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Locations (Select multiple Districts/Areas)"}),x.jsx("div",{className:"max-h-60 overflow-y-auto space-y-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:Object.entries(m).map(([p,g])=>x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-bold text-gray-500 mb-2",children:p}),x.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>x.jsx("button",{type:"button",onClick:()=>u("locations",`${p} - ${y}`),className:`px-3 py-1 bg-white dark:bg-gray-700 rounded-md border transition-all text-xs font-medium ${e.locations.includes(`${p} - ${y}`)?"border-blue-500 ring-2 ring-blue-500/20 text-blue-600":"border-gray-200 dark:border-gray-600 text-gray-600"}`,children:y},y))})]},p))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",e.cuisines.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[e.cuisines.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:c4.map(p=>x.jsxs("button",{type:"button",onClick:()=>u("cuisines",p),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${e.cuisines.includes(p)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[e.cuisines.includes(p)&&" ",p]},p))}),e.cuisines.length===0&&x.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"Click to select multiple cuisines (optional)"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wait Duration (Minutes)"}),x.jsx("input",{type:"number",name:"waitMinutes",value:e.waitMinutes,onChange:o,min:"1",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Wait for participants to join before generating results."})]}),x.jsx("button",{type:"submit",disabled:t,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${t?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600"}`,children:t?"Creating...":"Create Gathering Link"})]})]})},f4=({sessionId:n,onJoined:t})=>{const[e,r]=ot.useState(null),[o,u]=ot.useState(!1),[c,m]=ot.useState(null),[p,g]=ot.useState({dates:[],timePeriods:[],locations:[],cuisines:[]});ot.useEffect(()=>{n&&y()},[n]);const y=async()=>{u(!0);try{const L=ds(fs,"sessions",n),K=await s4(L);K.exists()?r({id:K.id,...K.data()}):m("Session not found")}catch{m("Error fetching session")}finally{u(!1)}},T=(L,K)=>{g(it=>{const $=it[L],W=$.includes(K)?$.filter(X=>X!==K):[...$,K];return{...it,[L]:W}})},b=async L=>{if(L.preventDefault(),p.dates.length===0||p.timePeriods.length===0||p.locations.length===0){alert("Please select at least one date, time period, and location");return}u(!0);try{pe.currentUser||await jS(pe);const K=ds(fs,"sessions",n);await ou(K,{participants:t4(pe.currentUser.uid),participantPreferences:{[pe.currentUser.uid]:{...p,submittedAt:pf()}}},{merge:!0}),t(n,{...p,submittedAt:pf()})}catch(K){console.error(K),alert("Failed to join session")}finally{u(!1)}},D=L=>{const K=new Date(L),it=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${it[K.getDay()]}, ${$[K.getMonth()]} ${K.getDate()}`},j=()=>{if(!e)return[];const L=[],K=new Date(e.startDate),it=new Date(e.endDate);for(let $=new Date(K);$<=it;$.setDate($.getDate()+1))L.push(new Date($).toISOString().split("T")[0]);return L};if(o&&!e)return x.jsx("div",{className:"text-center py-20 text-blue-600 font-bold",children:"Loading Session..."});if(c)return x.jsx("div",{className:"text-center py-20 text-red-500 font-bold",children:c});if(!e)return null;const q=j();return x.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[x.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:['Join "',e.name,'"']}),x.jsx("p",{className:"text-gray-500 text-center mb-8 italic",children:"Choose your preferences from the host's list"}),x.jsxs("form",{onSubmit:b,className:"space-y-8",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Available Dates",p.dates.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[p.dates.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:q.map(L=>x.jsxs("button",{type:"button",onClick:()=>T("dates",L),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.dates.includes(L)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.dates.includes(L)&&" ",D(L)]},L))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Time Periods",p.timePeriods.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded-full",children:[p.timePeriods.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:["Morning","Afternoon","Evening","Night"].map(L=>x.jsxs("button",{type:"button",onClick:()=>T("timePeriods",L),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.timePeriods.includes(L)?"bg-orange-500 text-white shadow-lg ring-2 ring-orange-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.timePeriods.includes(L)&&" ",L]},L))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Locations",p.locations.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-0.5 rounded-full",children:[p.locations.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:e.locations.map(L=>x.jsxs("button",{type:"button",onClick:()=>T("locations",L),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.locations.includes(L)?"bg-green-600 text-white shadow-lg ring-2 ring-green-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.locations.includes(L)&&" ",L]},L))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",p.cuisines.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-0.5 rounded-full",children:[p.cuisines.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:e.cuisines.map(L=>x.jsxs("button",{type:"button",onClick:()=>T("cuisines",L),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${p.cuisines.includes(L)?"bg-purple-600 text-white shadow-lg ring-2 ring-purple-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.cuisines.includes(L)&&" ",L]},L))})]}),x.jsx("button",{type:"submit",disabled:o,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${o?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:o?"Joining...":"Submit Preferences & Join "})]})]})},d4=({sessionData:n,onSubmit:t,loading:e})=>{const[r,o]=ot.useState({dates:[],timePeriods:[],locations:[],cuisines:[]}),u=(y,T)=>{o(b=>{const D=b[y],j=D.includes(T)?D.filter(q=>q!==T):[...D,T];return{...b,[y]:j}})},c=y=>{if(y.preventDefault(),r.dates.length===0||r.locations.length===0){alert("Please select at least one date, time period, and location");return}t(r)},m=y=>{const T=new Date(y),b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${b[T.getDay()]}, ${D[T.getMonth()]} ${T.getDate()}`},g=(()=>{const y=[],T=new Date(n.startDate),b=new Date(n.endDate);for(let D=new Date(T);D<=b;D.setDate(D.getDate()+1))y.push(new Date(D).toISOString().split("T")[0]);return y})();return x.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:"Select Your Preferences"}),x.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-8",children:"Choose from the options set by the host"}),x.jsxs("form",{onSubmit:c,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Available Dates",r.dates.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[r.dates.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>x.jsxs("button",{type:"button",onClick:()=>u("dates",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.dates.includes(y)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.dates.includes(y)&&" ",m(y)]},y))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Time Periods",r.timePeriods.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded-full",children:[r.timePeriods.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:["Morning","Afternoon","Evening","Night"].map(y=>x.jsxs("button",{type:"button",onClick:()=>u("timePeriods",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.timePeriods.includes(y)?"bg-orange-500 text-white shadow-lg ring-2 ring-orange-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.timePeriods.includes(y)&&" ",y]},y))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Locations",r.locations.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-0.5 rounded-full",children:[r.locations.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:n.locations.map(y=>x.jsxs("button",{type:"button",onClick:()=>u("locations",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.locations.includes(y)?"bg-green-600 text-white shadow-lg ring-2 ring-green-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.locations.includes(y)&&" ",y]},y))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",r.cuisines.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-0.5 rounded-full",children:[r.cuisines.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:n.cuisines.map(y=>x.jsxs("button",{type:"button",onClick:()=>u("cuisines",y),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${r.cuisines.includes(y)?"bg-purple-600 text-white shadow-lg ring-2 ring-purple-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.cuisines.includes(y)&&" ",y]},y))}),x.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"Cuisine selection is optional"})]}),x.jsx("button",{type:"submit",disabled:e,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${e?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:e?"Saving...":"Submit Preferences & Start Swiping "})]})]})},cy=ot.createContext({});function hy(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const M1=typeof window<"u",O1=M1?ot.useLayoutEffect:ot.useEffect,Gf=ot.createContext(null);function fy(n,t){n.indexOf(t)===-1&&n.push(t)}function dy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ki=(n,t,e)=>e>t?t:e<n?n:e;let my=()=>{};const bs={},k1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function P1(n){return typeof n=="object"&&n!==null}const L1=n=>/^0[^.\s]+$/u.test(n);function py(n){let t;return()=>(t===void 0&&(t=n()),t)}const Xn=n=>n,m4=(n,t)=>e=>t(n(e)),Ku=(...n)=>n.reduce(m4),Du=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class gy{constructor(){this.subscriptions=[]}add(t){return fy(this.subscriptions,t),()=>dy(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gs=n=>n*1e3,Qn=n=>n/1e3;function U1(n,t){return t?n*(1e3/t):0}const j1=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,p4=1e-7,g4=12;function y4(n,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=j1(c,r,o)-n,u>0?e=c:t=c;while(Math.abs(u)>p4&&++m<g4);return c}function Yu(n,t,e,r){if(n===t&&e===r)return Xn;const o=u=>y4(u,0,1,n,e);return u=>u===0||u===1?u:j1(o(u),t,r)}const F1=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,B1=n=>t=>1-n(1-t),z1=Yu(.33,1.53,.69,.99),yy=B1(z1),H1=F1(yy),q1=n=>(n*=2)<1?.5*yy(n):.5*(2-Math.pow(2,-10*(n-1))),vy=n=>1-Math.sin(Math.acos(n)),G1=B1(vy),K1=F1(vy),v4=Yu(.42,0,1,1),_4=Yu(0,0,.58,1),Y1=Yu(.42,0,.58,1),T4=n=>Array.isArray(n)&&typeof n[0]!="number",Q1=n=>Array.isArray(n)&&typeof n[0]=="number",E4={linear:Xn,easeIn:v4,easeInOut:Y1,easeOut:_4,circIn:vy,circInOut:K1,circOut:G1,backIn:yy,backInOut:H1,backOut:z1,anticipate:q1},b4=n=>typeof n=="string",HE=n=>{if(Q1(n)){my(n.length===4);const[t,e,r,o]=n;return Yu(t,e,r,o)}else if(b4(n))return E4[n];return n},Nh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function S4(n,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),n()),y(m)}const g={schedule:(y,T=!1,b=!1)=>{const j=b&&o?e:r;return T&&c.add(y),j.has(y)||j.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(m=y,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const A4=40;function X1(n,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Nh.reduce(($,W)=>($[W]=S4(u),$),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:y,update:T,preRender:b,render:D,postRender:j}=c,q=()=>{const $=bs.useManualTiming?o.timestamp:performance.now();e=!1,bs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min($-o.timestamp,A4),1)),o.timestamp=$,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),y.process(o),T.process(o),b.process(o),D.process(o),j.process(o),o.isProcessing=!1,e&&t&&(r=!1,n(q))},L=()=>{e=!0,r=!0,o.isProcessing||n(q)};return{schedule:Nh.reduce(($,W)=>{const X=c[W];return $[W]=(at,C=!1,A=!1)=>(e||L(),X.schedule(at,C,A)),$},{}),cancel:$=>{for(let W=0;W<Nh.length;W++)c[Nh[W]].cancel($)},state:o,steps:c}}const{schedule:oe,cancel:xr,state:We,steps:hp}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let Gh;function w4(){Gh=void 0}const hn={now:()=>(Gh===void 0&&hn.set(We.isProcessing||bs.useManualTiming?We.timestamp:performance.now()),Gh),set:n=>{Gh=n,queueMicrotask(w4)}},$1=n=>t=>typeof t=="string"&&t.startsWith(n),W1=$1("--"),x4=$1("var(--"),_y=n=>x4(n)?C4.test(n.split("/*")[0].trim()):!1,C4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function qE(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Ko={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Iu={...Ko,transform:n=>Ki(0,1,n)},Vh={...Ko,default:1},gu=n=>Math.round(n*1e5)/1e5,Ty=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R4(n){return n==null}const D4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ey=(n,t)=>e=>!!(typeof e=="string"&&D4.test(e)&&e.startsWith(n)||t&&!R4(e)&&Object.prototype.hasOwnProperty.call(e,t)),J1=(n,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Ty);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},I4=n=>Ki(0,255,n),fp={...Ko,transform:n=>Math.round(I4(n))},fa={test:Ey("rgb","red"),parse:J1("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+fp.transform(n)+", "+fp.transform(t)+", "+fp.transform(e)+", "+gu(Iu.transform(r))+")"};function N4(n){let t="",e="",r="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Jp={test:Ey("#"),parse:N4,transform:fa.transform},Qu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),sr=Qu("deg"),Hi=Qu("%"),dt=Qu("px"),V4=Qu("vh"),M4=Qu("vw"),GE={...Hi,parse:n=>Hi.parse(n)/100,transform:n=>Hi.transform(n*100)},_o={test:Ey("hsl","hue"),parse:J1("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+Hi.transform(gu(t))+", "+Hi.transform(gu(e))+", "+gu(Iu.transform(r))+")"},Me={test:n=>fa.test(n)||Jp.test(n)||_o.test(n),parse:n=>fa.test(n)?fa.parse(n):_o.test(n)?_o.parse(n):Jp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?fa.transform(n):_o.transform(n),getAnimatableNone:n=>{const t=Me.parse(n);return t.alpha=0,Me.transform(t)}},O4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k4(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ty)?.length||0)+(n.match(O4)?.length||0)>0}const Z1="number",tw="color",P4="var",L4="var(",KE="${}",U4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nu(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(U4,p=>(Me.test(p)?(r.color.push(u),o.push(tw),e.push(Me.parse(p))):p.startsWith(L4)?(r.var.push(u),o.push(P4),e.push(p)):(r.number.push(u),o.push(Z1),e.push(parseFloat(p))),++u,KE)).split(KE);return{values:e,split:m,indexes:r,types:o}}function ew(n){return Nu(n).values}function nw(n){const{split:t,types:e}=Nu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===Z1?u+=gu(o[c]):m===tw?u+=Me.transform(o[c]):u+=o[c]}return u}}const j4=n=>typeof n=="number"?0:Me.test(n)?Me.getAnimatableNone(n):n;function F4(n){const t=ew(n);return nw(n)(t.map(j4))}const Cr={test:k4,parse:ew,createTransformer:nw,getAnimatableNone:F4};function dp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function B4({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=dp(p,m,n+1/3),u=dp(p,m,n),c=dp(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function gf(n,t){return e=>e>0?t:n}const he=(n,t,e)=>n+(t-n)*e,mp=(n,t,e)=>{const r=n*n,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},z4=[Jp,fa,_o],H4=n=>z4.find(t=>t.test(n));function YE(n){const t=H4(n);if(!t)return!1;let e=t.parse(n);return t===_o&&(e=B4(e)),e}const QE=(n,t)=>{const e=YE(n),r=YE(t);if(!e||!r)return gf(n,t);const o={...e};return u=>(o.red=mp(e.red,r.red,u),o.green=mp(e.green,r.green,u),o.blue=mp(e.blue,r.blue,u),o.alpha=he(e.alpha,r.alpha,u),fa.transform(o))},Zp=new Set(["none","hidden"]);function q4(n,t){return Zp.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function G4(n,t){return e=>he(n,t,e)}function by(n){return typeof n=="number"?G4:typeof n=="string"?_y(n)?gf:Me.test(n)?QE:Q4:Array.isArray(n)?iw:typeof n=="object"?Me.test(n)?QE:K4:gf}function iw(n,t){const e=[...n],r=e.length,o=n.map((u,c)=>by(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function K4(n,t){const e={...n,...t},r={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(r[o]=by(n[o])(n[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function Y4(n,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;e[o]=m,r[u]++}return e}const Q4=(n,t)=>{const e=Cr.createTransformer(t),r=Nu(n),o=Nu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Zp.has(n)&&!o.values.length||Zp.has(t)&&!r.values.length?q4(n,t):Ku(iw(Y4(r,o),o.values),e):gf(n,t)};function sw(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?he(n,t,e):by(n)(n,t)}const X4=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>oe.update(t,e),stop:()=>xr(t),now:()=>We.isProcessing?We.timestamp:hn.now()}},rw=(n,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},yf=2e4;function Sy(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<yf;)t+=e,r=n.next(t);return t>=yf?1/0:t}function $4(n,t=100,e){const r=e({...n,keyframes:[0,t]}),o=Math.min(Sy(r),yf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Qn(o)}}const W4=5;function aw(n,t,e){const r=Math.max(t-W4,0);return U1(e-n(r),t-r)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pp=.001;function J4({duration:n=ge.duration,bounce:t=ge.bounce,velocity:e=ge.velocity,mass:r=ge.mass}){let o,u,c=1-t;c=Ki(ge.minDamping,ge.maxDamping,c),n=Ki(ge.minDuration,ge.maxDuration,Qn(n)),c<1?(o=g=>{const y=g*c,T=y*n,b=y-e,D=tg(g,c),j=Math.exp(-T);return pp-b/D*j},u=g=>{const T=g*c*n,b=T*e+e,D=Math.pow(c,2)*Math.pow(g,2)*n,j=Math.exp(-T),q=tg(Math.pow(g,2),c);return(-o(g)+pp>0?-1:1)*((b-D)*j)/q}):(o=g=>{const y=Math.exp(-g*n),T=(g-e)*n+1;return-pp+y*T},u=g=>{const y=Math.exp(-g*n),T=(e-g)*(n*n);return y*T});const m=5/n,p=tO(o,u,m);if(n=gs(n),isNaN(p))return{stiffness:ge.stiffness,damping:ge.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const Z4=12;function tO(n,t,e){let r=e;for(let o=1;o<Z4;o++)r=r-n(r)/t(r);return r}function tg(n,t){return n*Math.sqrt(1-t*t)}const eO=["duration","bounce"],nO=["stiffness","damping","mass"];function XE(n,t){return t.some(e=>n[e]!==void 0)}function iO(n){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...n};if(!XE(n,nO)&&XE(n,eO))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Ki(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:ge.mass,stiffness:o,damping:u}}else{const e=J4(n);t={...t,...e,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function vf(n=ge.visualDuration,t=ge.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:T,velocity:b,isResolvedFromDuration:D}=iO({...e,velocity:-Qn(e.velocity||0)}),j=b||0,q=g/(2*Math.sqrt(p*y)),L=c-u,K=Qn(Math.sqrt(p/y)),it=Math.abs(L)<5;r||(r=it?ge.restSpeed.granular:ge.restSpeed.default),o||(o=it?ge.restDelta.granular:ge.restDelta.default);let $;if(q<1){const X=tg(K,q);$=at=>{const C=Math.exp(-q*K*at);return c-C*((j+q*K*L)/X*Math.sin(X*at)+L*Math.cos(X*at))}}else if(q===1)$=X=>c-Math.exp(-K*X)*(L+(j+K*L)*X);else{const X=K*Math.sqrt(q*q-1);$=at=>{const C=Math.exp(-q*K*at),A=Math.min(X*at,300);return c-C*((j+q*K*L)*Math.sinh(A)+X*L*Math.cosh(A))/X}}const W={calculatedDuration:D&&T||null,next:X=>{const at=$(X);if(D)m.done=X>=T;else{let C=X===0?j:0;q<1&&(C=X===0?gs(j):aw($,X,at));const A=Math.abs(C)<=r,R=Math.abs(c-at)<=o;m.done=A&&R}return m.value=m.done?c:at,m},toString:()=>{const X=Math.min(Sy(W),yf),at=rw(C=>W.next(X*C).value,X,30);return X+"ms "+at},toTransition:()=>{}};return W}vf.applyToOptions=n=>{const t=$4(n,100,vf);return n.ease=t.ease,n.duration=gs(t.duration),n.type="keyframes",n};function eg({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:y}){const T=n[0],b={done:!1,value:T},D=A=>m!==void 0&&A<m||p!==void 0&&A>p,j=A=>m===void 0?p:p===void 0||Math.abs(m-A)<Math.abs(p-A)?m:p;let q=e*t;const L=T+q,K=c===void 0?L:c(L);K!==L&&(q=K-T);const it=A=>-q*Math.exp(-A/r),$=A=>K+it(A),W=A=>{const R=it(A),M=$(A);b.done=Math.abs(R)<=g,b.value=b.done?K:M};let X,at;const C=A=>{D(b.value)&&(X=A,at=vf({keyframes:[b.value,j(b.value)],velocity:aw($,A,b.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:A=>{let R=!1;return!at&&X===void 0&&(R=!0,W(A),C(A)),X!==void 0&&A>=X?at.next(A-X):(!R&&W(A),b)}}}function sO(n,t,e){const r=[],o=e||bs.mix||sw,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Xn:t;m=Ku(p,m)}r.push(m)}return r}function rO(n,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=n.length;if(my(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=sO(t,r,o),p=m.length,g=y=>{if(c&&y<n[0])return t[0];let T=0;if(p>1)for(;T<n.length-2&&!(y<n[T+1]);T++);const b=Du(n[T],n[T+1],y);return m[T](b)};return e?y=>g(Ki(n[0],n[u-1],y)):g}function aO(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const o=Du(0,t,r);n.push(he(e,1,o))}}function oO(n){const t=[0];return aO(t,n.length-1),t}function lO(n,t){return n.map(e=>e*t)}function uO(n,t){return n.map(()=>t||Y1).splice(0,n.length-1)}function yu({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=T4(r)?r.map(HE):HE(r),u={done:!1,value:t[0]},c=lO(e&&e.length===t.length?e:oO(t),n),m=rO(c,t,{ease:Array.isArray(o)?o:uO(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const cO=n=>n!==null;function Ay(n,{repeat:t,repeatType:e="loop"},r,o=1){const u=n.filter(cO),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const hO={decay:eg,inertia:eg,tween:yu,keyframes:yu,spring:vf};function ow(n){typeof n.type=="string"&&(n.type=hO[n.type])}class wy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const fO=n=>n/100;class xy extends wy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ow(t);const{type:e=yu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||yu;p!==yu&&typeof m[0]!="number"&&(this.mixKeyframes=Ku(fO,sw(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Sy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:b,repeatDelay:D,type:j,onUpdate:q,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const K=this.currentTime-g*(this.playbackSpeed>=0?1:-1),it=this.playbackSpeed>=0?K<0:K>o;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let $=this.currentTime,W=r;if(T){const A=Math.min(this.currentTime,o)/m;let R=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&R--,R=Math.min(R,T+1),!!(R%2)&&(b==="reverse"?(M=1-M,D&&(M-=D/m)):b==="mirror"&&(W=c)),$=Ki(0,1,M)*m}const X=it?{done:!1,value:y[0]}:W.next($);u&&(X.value=u(X.value));let{done:at}=X;!it&&p!==null&&(at=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return C&&j!==eg&&(X.value=Ay(y,this.options,L,this.speed)),q&&q(X.value),C&&this.finish(),X}then(t,e){return this.finished.then(t,e)}get duration(){return Qn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(this.currentTime)}set time(t){t=gs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Qn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=X4,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function dO(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const da=n=>n*180/Math.PI,ng=n=>{const t=da(Math.atan2(n[1],n[0]));return ig(t)},mO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:ng,rotateZ:ng,skewX:n=>da(Math.atan(n[1])),skewY:n=>da(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},ig=n=>(n=n%360,n<0&&(n+=360),n),$E=ng,WE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),JE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),pO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WE,scaleY:JE,scale:n=>(WE(n)+JE(n))/2,rotateX:n=>ig(da(Math.atan2(n[6],n[5]))),rotateY:n=>ig(da(Math.atan2(-n[2],n[0]))),rotateZ:$E,rotate:$E,skewX:n=>da(Math.atan(n[4])),skewY:n=>da(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function sg(n){return n.includes("scale")?1:0}function rg(n,t){if(!n||n==="none")return sg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=pO,o=e;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=mO,o=m}if(!o)return sg(t);const u=r[t],c=o[1].split(",").map(yO);return typeof u=="function"?u(c):c[u]}const gO=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return rg(e,t)};function yO(n){return parseFloat(n.trim())}const Yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qo=new Set(Yo),ZE=n=>n===Ko||n===dt,vO=new Set(["x","y","z"]),_O=Yo.filter(n=>!vO.has(n));function TO(n){const t=[];return _O.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const cr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>rg(t,"x"),y:(n,{transform:t})=>rg(t,"y")};cr.translateX=cr.x;cr.translateY=cr.y;const pa=new Set;let ag=!1,og=!1,lg=!1;function lw(){if(og){const n=Array.from(pa).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=TO(r);o.length&&(e.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}og=!1,ag=!1,pa.forEach(n=>n.complete(lg)),pa.clear()}function uw(){pa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(og=!0)})}function EO(){lg=!0,uw(),lw(),lg=!1}class Cy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(pa.add(this),ag||(ag=!0,oe.read(uw),oe.resolveKeyframes(lw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}dO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pa.delete(this)}cancel(){this.state==="scheduled"&&(pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bO=n=>n.startsWith("--");function SO(n,t,e){bO(t)?n.style.setProperty(t,e):n.style[t]=e}const AO=py(()=>window.ScrollTimeline!==void 0),wO={};function xO(n,t){const e=py(n);return()=>wO[t]??e()}const cw=xO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,tb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lu([0,.65,.55,1]),circOut:lu([.55,0,1,.45]),backIn:lu([.31,.01,.66,-.59]),backOut:lu([.33,1.53,.69,.99])};function hw(n,t){if(n)return typeof n=="function"?cw()?rw(n,t):"ease-out":Q1(n)?lu(n):Array.isArray(n)?n.map(e=>hw(e,t)||tb.easeOut):tb[n]}function CO(n,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const y={[t]:e};p&&(y.offset=p);const T=hw(m,o);Array.isArray(T)&&(y.easing=T);const b={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),n.animate(y,b)}function fw(n){return typeof n=="function"&&"applyToOptions"in n}function RO({type:n,...t}){return fw(n)&&cw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class DO extends wy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,my(typeof t.type!="string");const g=RO(t);this.animation=CO(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Ay(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(y):SO(e,r,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Qn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=gs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&AO()?(this.animation.timeline=t,Xn):e(this)}}const dw={anticipate:q1,backInOut:H1,circInOut:K1};function IO(n){return n in dw}function NO(n){typeof n.ease=="string"&&IO(n.ease)&&(n.ease=dw[n.ease])}const gp=10;class VO extends DO{constructor(t){NO(t),ow(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new xy({...c,autoplay:!1}),p=Math.max(gp,hn.now()-this.startTime),g=Ki(0,gp,p-gp);e.setWithVelocity(m.sample(Math.max(0,p-g)).value,m.sample(p).value,g),m.stop()}}const eb=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Cr.test(n)||n==="0")&&!n.startsWith("url("));function MO(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function OO(n,t,e,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=eb(o,t),m=eb(u,t);return!c||!m?!1:MO(n)||(e==="spring"||fw(e))&&r}function ug(n){n.duration=0,n.type="keyframes"}const kO=new Set(["opacity","clipPath","filter","transform"]),PO=py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LO(n){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return PO()&&e&&kO.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const UO=40;class jO extends wy{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hn.now();const b={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:y,...T},D=y?.KeyframeResolver||Cy;this.keyframeResolver=new D(m,(j,q,L)=>this.onKeyframesResolved(j,q,b,!L),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:y}=r;this.resolvedAt=hn.now(),OO(t,u,c,m)||((bs.instantAnimations||!p)&&y?.(Ay(t,r,e)),t[0]=t[t.length-1],ug(r),r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>UO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},D=!g&&LO(b),j=b.motionValue?.owner?.current,q=D?new VO({...b,element:j}):new xy(b);q.finished.then(()=>{this.notifyFinished()}).catch(Xn),this.pendingTimeline&&(this.stopTimeline=q.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=q}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),EO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function mw(n,t,e,r=0,o=1){const u=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=n.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}const FO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BO(n){const t=FO.exec(n);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function pw(n,t,e=1){const[r,o]=BO(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return k1(c)?parseFloat(c):c}return _y(o)?pw(o,t,e+1):o}const zO={type:"spring",stiffness:500,damping:25,restSpeed:10},HO=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),qO={type:"keyframes",duration:.8},GO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KO=(n,{keyframes:t})=>t.length>2?qO:Qo.has(n)?n.startsWith("scale")?HO(t[1]):zO:GO,YO=n=>n!==null;function QO(n,{repeat:t,repeatType:e="loop"},r){const o=n.filter(YO),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}function Ry(n,t){return n?.[t]??n?.default??n}function XO({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Dy=(n,t,e,r={},o,u)=>c=>{const m=Ry(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-gs(p);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:b=>{t.set(b),m.onUpdate&&m.onUpdate(b)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};XO(m)||Object.assign(y,KO(n,y)),y.duration&&(y.duration=gs(y.duration)),y.repeatDelay&&(y.repeatDelay=gs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ug(y),y.delay===0&&(T=!0)),(bs.instantAnimations||bs.skipAnimations)&&(T=!0,ug(y),y.delay=0),y.allowFlatten=!m.type&&!m.ease,T&&!u&&t.get()!==void 0){const b=QO(y.keyframes,m);if(b!==void 0){oe.update(()=>{y.onUpdate(b),y.onComplete()});return}}return m.isSync?new xy(y):new jO(y)};function nb(n){const t=[{},{}];return n?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Iy(n,t,e,r){if(typeof t=="function"){const[o,u]=nb(r);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=nb(r);t=t(e!==void 0?e:n.custom,o,u)}return t}function Do(n,t,e){const r=n.getProps();return Iy(r,t,e!==void 0?e:r.custom,n)}const gw=new Set(["width","height","top","left","right","bottom",...Yo]),ib=30,$O=n=>!isNaN(parseFloat(n));class WO{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=hn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$O(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new gy);const r=this.events[t].add(e);return t==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ib)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,ib);return U1(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uo(n,t){return new WO(n,t)}const cg=n=>Array.isArray(n);function JO(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Uo(e))}function ZO(n){return cg(n)?n[n.length-1]||0:n}function tk(n,t){const e=Do(n,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=ZO(u[c]);JO(n,c,m)}}const an=n=>!!(n&&n.getVelocity);function ek(n){return!!(an(n)&&n.add)}function hg(n,t){const e=n.getValue("willChange");if(ek(e))return e.add(t);if(!e&&bs.WillChange){const r=new bs.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function Ny(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const nk="framerAppearId",yw="data-"+Ny(nk);function vw(n){return n.props[yw]}function ik({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function _w(n,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const y in m){const T=n.getValue(y,n.latestValues[y]??null),b=m[y];if(b===void 0||g&&ik(g,y))continue;const D={delay:e,...Ry(u||{},y)},j=T.get();if(j!==void 0&&!T.isAnimating&&!Array.isArray(b)&&b===j&&!D.velocity)continue;let q=!1;if(window.MotionHandoffAnimation){const K=vw(n);if(K){const it=window.MotionHandoffAnimation(K,y,oe);it!==null&&(D.startTime=it,q=!0)}}hg(n,y),T.start(Dy(y,T,b,n.shouldReduceMotion&&gw.has(y)?{type:!1}:D,n,q));const L=T.animation;L&&p.push(L)}return c&&Promise.all(p).then(()=>{oe.update(()=>{c&&tk(n,c)})}),p}function fg(n,t,e={}){const r=Do(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(_w(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=o;return sk(n,t,p,g,y,T,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function sk(n,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(fg(p,t,{...c,delay:e+(typeof r=="function"?0:r)+mw(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function rk(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>fg(n,u,e));r=Promise.all(o)}else if(typeof t=="string")r=fg(n,t,e);else{const o=typeof t=="function"?Do(n,t,e.custom):t;r=Promise.all(_w(n,o,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}const ak={test:n=>n==="auto",parse:n=>n},Tw=n=>t=>t.test(n),Ew=[Ko,dt,Hi,sr,M4,V4,ak],sb=n=>Ew.find(Tw(n));function ok(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||L1(n):!0}const lk=new Set(["brightness","contrast","saturate","opacity"]);function uk(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(Ty)||[];if(!r)return n;const o=e.replace(r,"");let u=lk.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const ck=/\b([a-z-]*)\(.*?\)/gu,dg={...Cr,getAnimatableNone:n=>{const t=n.match(ck);return t?t.map(uk).join(" "):n}},rb={...Ko,transform:Math.round},hk={rotate:sr,rotateX:sr,rotateY:sr,rotateZ:sr,scale:Vh,scaleX:Vh,scaleY:Vh,scaleZ:Vh,skew:sr,skewX:sr,skewY:sr,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:Iu,originX:GE,originY:GE,originZ:dt},Vy={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,top:dt,right:dt,bottom:dt,left:dt,inset:dt,insetBlock:dt,insetBlockStart:dt,insetBlockEnd:dt,insetInline:dt,insetInlineStart:dt,insetInlineEnd:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,paddingBlock:dt,paddingBlockStart:dt,paddingBlockEnd:dt,paddingInline:dt,paddingInlineStart:dt,paddingInlineEnd:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,marginBlock:dt,marginBlockStart:dt,marginBlockEnd:dt,marginInline:dt,marginInlineStart:dt,marginInlineEnd:dt,backgroundPositionX:dt,backgroundPositionY:dt,...hk,zIndex:rb,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:rb},fk={...Vy,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:dg,WebkitFilter:dg},bw=n=>fk[n];function Sw(n,t){let e=bw(n);return e!==dg&&(e=Cr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const dk=new Set(["auto","none","0"]);function mk(n,t,e){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!dk.has(u)&&Nu(u).values.length&&(o=n[r]),r++}if(o&&e)for(const u of t)n[u]=Sw(e,o)}class pk extends Cy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let T=t[y];if(typeof T=="string"&&(T=T.trim(),_y(T))){const b=pw(T,e.current);b!==void 0&&(t[y]=b),y===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!gw.has(r)||t.length!==2)return;const[o,u]=t,c=sb(o),m=sb(u),p=qE(o),g=qE(u);if(p!==g&&cr[r]){this.needsMeasurement=!0;return}if(c!==m)if(ZE(c)&&ZE(m))for(let y=0;y<t.length;y++){const T=t[y];typeof T=="string"&&(t[y]=parseFloat(T))}else cr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||ok(t[o]))&&r.push(o);r.length&&mk(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=cr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function gk(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=e?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Aw=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function ww(n){return P1(n)&&"offsetHeight"in n}const{schedule:My}=X1(queueMicrotask,!1),ui={x:!1,y:!1};function xw(){return ui.x||ui.y}function yk(n){return n==="x"||n==="y"?ui[n]?null:(ui[n]=!0,()=>{ui[n]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function Cw(n,t){const e=gk(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function ab(n){return!(n.pointerType==="touch"||xw())}function vk(n,t,e={}){const[r,o,u]=Cw(n,e),c=m=>{if(!ab(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const y=T=>{ab(T)&&(g(T),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const Rw=(n,t)=>t?n===t?!0:Rw(n,t.parentElement):!1,Oy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,_k=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dw(n){return _k.has(n.tagName)||n.isContentEditable===!0}const Kh=new WeakSet;function ob(n){return t=>{t.key==="Enter"&&n(t)}}function yp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Tk=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=ob(()=>{if(Kh.has(e))return;yp(e,"down");const o=ob(()=>{yp(e,"up")}),u=()=>yp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function lb(n){return Oy(n)&&!xw()}function Ek(n,t,e={}){const[r,o,u]=Cw(n,e),c=m=>{const p=m.currentTarget;if(!lb(m))return;Kh.add(p);const g=t(p,m),y=(D,j)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",b),Kh.has(p)&&Kh.delete(p),lb(D)&&typeof g=="function"&&g(D,{success:j})},T=D=>{y(D,p===window||p===document||e.useGlobalTarget||Rw(p,D.target))},b=D=>{y(D,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",b,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),ww(m)&&(m.addEventListener("focus",g=>Tk(g,o)),!Dw(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Iw(n){return P1(n)&&"ownerSVGElement"in n}function bk(n){return Iw(n)&&n.tagName==="svg"}const Sk=[...Ew,Me,Cr],Ak=n=>Sk.find(Tw(n)),ub=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:ub(),y:ub()}),cb=()=>({min:0,max:0}),Ue=()=>({x:cb(),y:cb()}),mg={current:null},Nw={current:!1},wk=typeof window<"u";function xk(){if(Nw.current=!0,!!wk)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>mg.current=n.matches;n.addEventListener("change",t),t()}else mg.current=!1}const Ck=new WeakMap;function Kf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Vu(n){return typeof n=="string"||Array.isArray(n)}const ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Py=["initial",...ky];function Yf(n){return Kf(n.animate)||Py.some(t=>Vu(n[t]))}function Vw(n){return!!(Yf(n)||n.variants)}function Rk(n,t,e){for(const r in t){const o=t[r],u=e[r];if(an(o))n.addValue(r,o);else if(an(u))n.addValue(r,Uo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Uo(c!==void 0?c:o,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const hb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let _f={};function Mw(n){_f=n}function Dk(){return _f}class Ik{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=hn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,oe.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Yf(e),this.isVariantNode=Vw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in T){const D=T[b];p[b]!==void 0&&an(D)&&D.set(p[b])}}mount(t){this.current=t,Ck.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Nw.current||xk(),this.shouldReduceMotion=mg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Qo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _f){const e=_f[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<hb.length;r++){const o=hb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Rk(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Uo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(k1(r)||L1(r))?r=parseFloat(r):!Ak(r)&&Cr.test(e)&&(r=Sw(t,e)),this.setBaseTarget(t,an(r)?r.get():r)),an(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Iy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!an(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new gy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){My.render(this.render)}}class Ow extends Ik{constructor(){super(...arguments),this.KeyframeResolver=pk}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const r=t.style;return r?r[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Ir{constructor(t){this.isMounted=!1,this.node=t}update(){}}function kw({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function Nk({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function Vk(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function vp(n){return n===void 0||n===1}function pg({scale:n,scaleX:t,scaleY:e}){return!vp(n)||!vp(t)||!vp(e)}function ca(n){return pg(n)||Pw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Pw(n){return fb(n.x)||fb(n.y)}function fb(n){return n&&n!=="0%"}function Tf(n,t,e){const r=n-e,o=t*r;return e+o}function db(n,t,e,r,o){return o!==void 0&&(n=Tf(n,o,r)),Tf(n,e,r)+t}function gg(n,t=0,e=1,r,o){n.min=db(n.min,t,e,r,o),n.max=db(n.max,t,e,r,o)}function Lw(n,{x:t,y:e}){gg(n.x,t.translate,t.scale,t.originPoint),gg(n.y,e.translate,e.scale,e.originPoint)}const mb=.999999999999,pb=1.0000000000001;function Mk(n,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Lw(n,c)),r&&ca(u.latestValues)&&bo(n,u.latestValues))}t.x<pb&&t.x>mb&&(t.x=1),t.y<pb&&t.y>mb&&(t.y=1)}function Eo(n,t){n.min=n.min+t,n.max=n.max+t}function gb(n,t,e,r,o=.5){const u=he(n.min,n.max,o);gg(n,t,e,u,r)}function bo(n,t){gb(n.x,t.x,t.scaleX,t.scale,t.originX),gb(n.y,t.y,t.scaleY,t.scale,t.originY)}function Uw(n,t){return kw(Vk(n.getBoundingClientRect(),t))}function Ok(n,t,e){const r=Uw(n,e),{scroll:o}=t;return o&&(Eo(r.x,o.offset.x),Eo(r.y,o.offset.y)),r}const kk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pk=Yo.length;function Lk(n,t,e){let r="",o=!0;for(let u=0;u<Pk;u++){const c=Yo[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=Aw(m,Vy[c]);if(!p){o=!1;const y=kk[c]||c;r+=`${y}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Ly(n,t,e){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(Qo.has(p)){c=!0;continue}else if(W1(p)){o[p]=g;continue}else{const y=Aw(g,Vy[p]);p.startsWith("origin")?(m=!0,u[p]=y):r[p]=y}}if(t.transform||(c||e?r.transform=Lk(t,n.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;r.transformOrigin=`${p} ${g} ${y}`}}function jw(n,{style:t,vars:e},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function yb(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const nu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(dt.test(n))n=parseFloat(n);else return n;const e=yb(n,t.target.x),r=yb(n,t.target.y);return`${e}% ${r}%`}},Uk={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,o=Cr.parse(n);if(o.length>5)return r;const u=Cr.createTransformer(n),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=he(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},yg={borderRadius:{...nu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nu,borderTopRightRadius:nu,borderBottomLeftRadius:nu,borderBottomRightRadius:nu,boxShadow:Uk};function Fw(n,{layout:t,layoutId:e}){return Qo.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!yg[n]||n==="opacity")}function Uy(n,t,e){const r=n.style,o=t?.style,u={};if(!r)return u;for(const c in r)(an(r[c])||o&&an(o[c])||Fw(c,n)||e?.getValue(c)?.liveStyle!==void 0)&&(u[c]=r[c]);return u}function jk(n){return window.getComputedStyle(n)}class Fk extends Ow{constructor(){super(...arguments),this.type="html",this.renderInstance=jw}readValueFromInstance(t,e){if(Qo.has(e))return this.projection?.isProjecting?sg(e):gO(t,e);{const r=jk(t),o=(W1(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Uw(t,e)}build(t,e,r){Ly(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Uy(t,e,r)}}const Bk={offset:"stroke-dashoffset",array:"stroke-dasharray"},zk={offset:"strokeDashoffset",array:"strokeDasharray"};function Hk(n,t,e=1,r=0,o=!0){n.pathLength=1;const u=o?Bk:zk;n[u.offset]=dt.transform(-r);const c=dt.transform(t),m=dt.transform(e);n[u.array]=`${c} ${m}`}const qk=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Bw(n,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,y){if(Ly(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:b}=n;T.transform&&(b.transform=T.transform,delete T.transform),(b.transform||T.transformOrigin)&&(b.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete T.transformBox);for(const D of qk)T[D]!==void 0&&(b[D]=T[D],delete T[D]);t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),r!==void 0&&(T.scale=r),o!==void 0&&Hk(T,o,u,c,!1)}const zw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Hw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Gk(n,t,e,r){jw(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(zw.has(o)?o:Ny(o),t.attrs[o])}function qw(n,t,e){const r=Uy(n,t,e);for(const o in n)if(an(n[o])||an(t[o])){const u=Yo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}class Kk extends Ow{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Qo.has(e)){const r=bw(e);return r&&r.default||0}return e=zw.has(e)?e:Ny(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return qw(t,e,r)}build(t,e,r){Bw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){Gk(t,e,r,o)}mount(t){this.isSVGTag=Hw(t.tagName),super.mount(t)}}const Yk=Py.length;function Gw(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?Gw(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<Yk;e++){const r=Py[e],o=n.props[r];(Vu(o)||o===!1)&&(t[r]=o)}return t}function Kw(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const Qk=[...ky].reverse(),Xk=ky.length;function $k(n){return t=>Promise.all(t.map(({animation:e,options:r})=>rk(n,e,r)))}function Wk(n){let t=$k(n),e=vb(),r=!0;const o=p=>(g,y)=>{const T=Do(n,y,p==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:b,transitionEnd:D,...j}=T;g={...g,...j,...D}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,y=Gw(n.parent)||{},T=[],b=new Set;let D={},j=1/0;for(let L=0;L<Xk;L++){const K=Qk[L],it=e[K],$=g[K]!==void 0?g[K]:y[K],W=Vu($),X=K===p?it.isActive:null;X===!1&&(j=L);let at=$===y[K]&&$!==g[K]&&W;if(at&&r&&n.manuallyAnimateOnMount&&(at=!1),it.protectedKeys={...D},!it.isActive&&X===null||!$&&!it.prevProp||Kf($)||typeof $=="boolean")continue;const C=Jk(it.prevProp,$);let A=C||K===p&&it.isActive&&!at&&W||L>j&&W,R=!1;const M=Array.isArray($)?$:[$];let N=M.reduce(o(K),{});X===!1&&(N={});const{prevResolvedValues:P={}}=it,I={...P,...N},pt=nt=>{A=!0,b.has(nt)&&(R=!0,b.delete(nt)),it.needsAnimating[nt]=!0;const lt=n.getValue(nt);lt&&(lt.liveStyle=!1)};for(const nt in I){const lt=N[nt],xt=P[nt];if(D.hasOwnProperty(nt))continue;let Mt=!1;cg(lt)&&cg(xt)?Mt=!Kw(lt,xt):Mt=lt!==xt,Mt?lt!=null?pt(nt):b.add(nt):lt!==void 0&&b.has(nt)?pt(nt):it.protectedKeys[nt]=!0}it.prevProp=$,it.prevResolvedValues=N,it.isActive&&(D={...D,...N}),r&&n.blockInitialAnimation&&(A=!1);const vt=at&&C;A&&(!vt||R)&&T.push(...M.map(nt=>{const lt={type:K};if(typeof nt=="string"&&r&&!vt&&n.manuallyAnimateOnMount&&n.parent){const{parent:xt}=n,Mt=Do(xt,nt);if(xt.enteringChildren&&Mt){const{delayChildren:k}=Mt.transition||{};lt.delay=mw(xt.enteringChildren,n,k)}}return{animation:nt,options:lt}}))}if(b.size){const L={};if(typeof g.initial!="boolean"){const K=Do(n,Array.isArray(g.initial)?g.initial[0]:g.initial);K&&K.transition&&(L.transition=K.transition)}b.forEach(K=>{const it=n.getBaseTarget(K),$=n.getValue(K);$&&($.liveStyle=!0),L[K]=it??null}),T.push({animation:L})}let q=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(q=!1),r=!1,q?t(T):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const y=c(p);for(const T in e)e[T].protectedKeys={};return y}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=vb()}}}function Jk(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Kw(t,n):!1}function la(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vb(){return{animate:la(!0),whileInView:la(),whileHover:la(),whileTap:la(),whileDrag:la(),whileFocus:la(),exit:la()}}function _b(n,t){n.min=t.min,n.max=t.max}function li(n,t){_b(n.x,t.x),_b(n.y,t.y)}function Tb(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const Yw=1e-4,Zk=1-Yw,t3=1+Yw,Qw=.01,e3=0-Qw,n3=0+Qw;function fn(n){return n.max-n.min}function i3(n,t,e){return Math.abs(n-t)<=e}function Eb(n,t,e,r=.5){n.origin=r,n.originPoint=he(t.min,t.max,n.origin),n.scale=fn(e)/fn(t),n.translate=he(e.min,e.max,n.origin)-n.originPoint,(n.scale>=Zk&&n.scale<=t3||isNaN(n.scale))&&(n.scale=1),(n.translate>=e3&&n.translate<=n3||isNaN(n.translate))&&(n.translate=0)}function vu(n,t,e,r){Eb(n.x,t.x,e.x,r?r.originX:void 0),Eb(n.y,t.y,e.y,r?r.originY:void 0)}function bb(n,t,e){n.min=e.min+t.min,n.max=n.min+fn(t)}function s3(n,t,e){bb(n.x,t.x,e.x),bb(n.y,t.y,e.y)}function Sb(n,t,e){n.min=t.min-e.min,n.max=n.min+fn(t)}function Ef(n,t,e){Sb(n.x,t.x,e.x),Sb(n.y,t.y,e.y)}function Ab(n,t,e,r,o){return n-=t,n=Tf(n,1/e,r),o!==void 0&&(n=Tf(n,1/o,r)),n}function r3(n,t=0,e=1,r=.5,o,u=n,c=n){if(Hi.test(t)&&(t=parseFloat(t),t=he(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=he(u.min,u.max,r);n===u&&(m-=t),n.min=Ab(n.min,t,e,m,o),n.max=Ab(n.max,t,e,m,o)}function wb(n,t,[e,r,o],u,c){r3(n,t[e],t[r],t[o],t.scale,u,c)}const a3=["x","scaleX","originX"],o3=["y","scaleY","originY"];function xb(n,t,e,r){wb(n.x,t,a3,e?e.x:void 0,r?r.x:void 0),wb(n.y,t,o3,e?e.y:void 0,r?r.y:void 0)}function Cb(n){return n.translate===0&&n.scale===1}function Xw(n){return Cb(n.x)&&Cb(n.y)}function Rb(n,t){return n.min===t.min&&n.max===t.max}function l3(n,t){return Rb(n.x,t.x)&&Rb(n.y,t.y)}function Db(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function $w(n,t){return Db(n.x,t.x)&&Db(n.y,t.y)}function Ib(n){return fn(n.x)/fn(n.y)}function Nb(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Kn(n){return[n("x"),n("y")]}function u3(n,t,e){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:b,skewX:D,skewY:j}=e;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),T&&(r+=`rotateX(${T}deg) `),b&&(r+=`rotateY(${b}deg) `),D&&(r+=`skewX(${D}deg) `),j&&(r+=`skewY(${j}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const Ww=["TopLeft","TopRight","BottomLeft","BottomRight"],c3=Ww.length,Vb=n=>typeof n=="string"?parseFloat(n):n,Mb=n=>typeof n=="number"||dt.test(n);function h3(n,t,e,r,o,u){o?(n.opacity=he(0,e.opacity??1,f3(r)),n.opacityExit=he(t.opacity??1,0,d3(r))):u&&(n.opacity=he(t.opacity??1,e.opacity??1,r));for(let c=0;c<c3;c++){const m=`border${Ww[c]}Radius`;let p=Ob(t,m),g=Ob(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Mb(p)===Mb(g)?(n[m]=Math.max(he(Vb(p),Vb(g),r),0),(Hi.test(g)||Hi.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||e.rotate)&&(n.rotate=he(t.rotate||0,e.rotate||0,r))}function Ob(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const f3=Jw(0,.5,G1),d3=Jw(.5,.95,Xn);function Jw(n,t,e){return r=>r<n?0:r>t?1:e(Du(n,t,r))}function m3(n,t,e){const r=an(n)?n:Uo(n);return r.start(Dy("",r,t,e)),r.animation}function Mu(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}const p3=(n,t)=>n.depth-t.depth;class g3{constructor(){this.children=[],this.isDirty=!1}add(t){fy(this.children,t),this.isDirty=!0}remove(t){dy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(p3),this.isDirty=!1,this.children.forEach(t)}}function y3(n,t){const e=hn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(xr(r),n(u-t))};return oe.setup(r,!0),()=>xr(r)}function Yh(n){return an(n)?n.get():n}class v3{constructor(){this.members=[]}add(t){fy(this.members,t),t.scheduleRender()}remove(t){if(dy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},_p=["","X","Y","Z"],_3=1e3;let T3=0;function Tp(n,t,e,r){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function Zw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=vw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",oe,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Zw(r)}function tx({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=T3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(S3),this.nodes.forEach(C3),this.nodes.forEach(R3),this.nodes.forEach(A3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new g3)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Iw(c)&&!bk(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let y,T=0;const b=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{T=window.innerWidth}),n(c,()=>{const D=window.innerWidth;D!==T&&(T=D,this.root.updateBlockedByResize=!0,y&&y(),y=y3(b,250),Qh.hasAnimatedSinceResize&&(Qh.hasAnimatedSinceResize=!1,this.nodes.forEach(Lb)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:b,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||M3,{onLayoutAnimationStart:q,onLayoutAnimationComplete:L}=g.getProps(),K=!this.targetLayout||!$w(this.targetLayout,D),it=!T&&b;if(this.options.layoutRoot||this.resumeFrom||it||T&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Ry(j,"layout"),onPlay:q,onComplete:L};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,it)}else T||Lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Pb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(x3),this.nodes.forEach(E3),this.nodes.forEach(b3)):this.nodes.forEach(Pb),this.clearAllSnapshots();const m=hn.now();We.delta=Ki(0,1e3/60,m-We.timestamp),We.timestamp=m,We.isProcessing=!0,hp.update.process(We),hp.preRender.process(We),hp.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,My.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w3),this.sharedNodes.forEach(I3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Xw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||ca(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),O3(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ue();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(k3))){const{scroll:g}=this.root;g&&(Eo(m.x,g.offset.x),Eo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Ue();if(li(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&li(m,c),Eo(m.x,y.offset.x),Eo(m.y,y.offset.y))}return m}applyTransform(c,m=!1){const p=Ue();li(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&bo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ca(y.latestValues)&&bo(p,y.latestValues)}return ca(this.latestValues)&&bo(p,this.latestValues),p}removeTransform(c){const m=Ue();li(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ca(g.latestValues))continue;pg(g.latestValues)&&g.updateSnapshot();const y=Ue(),T=g.measurePageBox();li(y,T),xb(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ca(this.latestValues)&&xb(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=We.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),Lw(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||pg(this.parent.latestValues)||Pw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),Ef(this.relativeTargetOrigin,m,p),li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===We.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;li(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,b=this.treeScale.y;Mk(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ue());const{target:D}=c;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Tb(this.prevProjectionDelta.x,this.projectionDelta.x),Tb(this.prevProjectionDelta.y,this.projectionDelta.y)),vu(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==b||!Nb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Nb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},T=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=Ue(),D=p?p.source:void 0,j=this.layout?this.layout.source:void 0,q=D!==j,L=this.getStack(),K=!L||L.members.length<=1,it=!!(q&&!K&&this.options.crossfade===!0&&!this.path.some(V3));this.animationProgress=0;let $;this.mixTargetDelta=W=>{const X=W/1e3;Ub(T.x,c.x,X),Ub(T.y,c.y,X),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ef(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N3(this.relativeTarget,this.relativeTargetOrigin,b,X),$&&l3(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Ue()),li($,this.relativeTarget)),q&&(this.animationValues=y,h3(y,g,this.latestValues,X,it,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Qh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uo(0)),this.currentAnimation=m3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:y}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&ex(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ue();const T=fn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const b=fn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+b}li(m,p),bo(m,y),vu(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new v3),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&Tp("z",c,g,this.animationValues);for(let y=0;y<_p.length;y++)Tp(`rotate${_p[y]}`,c,g,this.animationValues),Tp(`skew${_p[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Yh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Yh(m?.pointerEvents)||""),this.hasProjected&&!ca(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=u3(this.projectionDeltaWithTransform,this.treeScale,y);p&&(T=p(y,T)),c.transform=T;const{x:b,y:D}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${D.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in yg){if(y[j]===void 0)continue;const{correct:q,applyTo:L,isCSSVariable:K}=yg[j],it=T==="none"?y[j]:q(y[j],g);if(L){const $=L.length;for(let W=0;W<$;W++)c[L[W]]=it}else K?this.options.visualElement.renderState.vars[j]=it:c[j]=it}this.options.layoutId&&(c.pointerEvents=g===this?Yh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(kb),this.root.sharedNodes.clear()}}}function E3(n){n.updateLayout()}function b3(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?Kn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],b=fn(T);T.min=e[y].min,T.max=T.min+b}):ex(o,t.layoutBox,e)&&Kn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],b=fn(e[y]);T.max=T.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+b)});const c=To();vu(c,e,t.layoutBox);const m=To();u?vu(m,n.applyTransform(r,!0),t.measuredBox):vu(m,e,t.layoutBox);const p=!Xw(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:b}=y;if(T&&b){const D=Ue();Ef(D,t.layoutBox,T.layoutBox);const j=Ue();Ef(j,e,b.layoutBox),$w(D,j)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=D,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function S3(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function A3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function w3(n){n.clearSnapshot()}function kb(n){n.clearMeasurements()}function Pb(n){n.isLayoutDirty=!1}function x3(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function Lb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function C3(n){n.resolveTargetDelta()}function R3(n){n.calcProjection()}function D3(n){n.resetSkewAndRotation()}function I3(n){n.removeLeadSnapshot()}function Ub(n,t,e){n.translate=he(t.translate,0,e),n.scale=he(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function jb(n,t,e,r){n.min=he(t.min,e.min,r),n.max=he(t.max,e.max,r)}function N3(n,t,e,r){jb(n.x,t.x,e.x,r),jb(n.y,t.y,e.y,r)}function V3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const M3={duration:.45,ease:[.4,0,.1,1]},Fb=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Bb=Fb("applewebkit/")&&!Fb("chrome/")?Math.round:Xn;function zb(n){n.min=Bb(n.min),n.max=Bb(n.max)}function O3(n){zb(n.x),zb(n.y)}function ex(n,t,e){return n==="position"||n==="preserve-aspect"&&!i3(Ib(t),Ib(e),.2)}function k3(n){return n!==n.root&&n.scroll?.wasRoot}const P3=tx({attachResizeListener:(n,t)=>Mu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ep={current:void 0},nx=tx({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ep.current){const n=new P3({});n.mount(window),n.setOptions({layoutScroll:!0}),Ep.current=n}return Ep.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),jy=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Hb(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function L3(...n){return t=>{let e=!1;const r=n.map(o=>{const u=Hb(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():Hb(n[o],null)}}}}function U3(...n){return ot.useCallback(L3(...n),n)}class j3 extends ot.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=ww(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function F3({children:n,isPresent:t,anchorX:e,root:r}){const o=ot.useId(),u=ot.useRef(null),c=ot.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=ot.useContext(jy),p=n.props?.ref??n?.ref,g=U3(u,p);return ot.useInsertionEffect(()=>{const{width:y,height:T,top:b,left:D,right:j}=c.current;if(t||!u.current||!y||!T)return;const q=e==="left"?`left: ${D}`:`right: ${j}`;u.current.dataset.motionPopId=o;const L=document.createElement("style");m&&(L.nonce=m);const K=r??document.head;return K.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${T}px !important;
            ${q}px !important;
            top: ${b}px !important;
          }
        `),()=>{K.contains(L)&&K.removeChild(L)}},[t]),x.jsx(j3,{isPresent:t,childRef:u,sizeRef:c,children:ot.cloneElement(n,{ref:g})})}const B3=({children:n,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=hy(z3),y=ot.useId();let T=!0,b=ot.useMemo(()=>(T=!1,{id:y,initial:t,isPresent:e,custom:o,onExitComplete:D=>{g.set(D,!0);for(const j of g.values())if(!j)return;r&&r()},register:D=>(g.set(D,!1),()=>g.delete(D))}),[e,g,r]);return u&&T&&(b={...b}),ot.useMemo(()=>{g.forEach((D,j)=>g.set(j,!1))},[e]),ot.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(n=x.jsx(F3,{isPresent:e,anchorX:m,root:p,children:n})),x.jsx(Gf.Provider,{value:b,children:n})};function z3(){return new Map}function ix(n=!0){const t=ot.useContext(Gf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=ot.useId();ot.useEffect(()=>{if(n)return o(u)},[n]);const c=ot.useCallback(()=>n&&r&&r(u),[u,r,n]);return!e&&r?[!1,c]:[!0]}const Mh=n=>n.key||"";function qb(n){const t=[];return ot.Children.forEach(n,e=>{ot.isValidElement(e)&&t.push(e)}),t}const H3=({children:n,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,y]=ix(c),T=ot.useMemo(()=>qb(n),[n]),b=c&&!g?[]:T.map(Mh),D=ot.useRef(!0),j=ot.useRef(T),q=hy(()=>new Map),L=ot.useRef(new Set),[K,it]=ot.useState(T),[$,W]=ot.useState(T);O1(()=>{D.current=!1,j.current=T;for(let C=0;C<$.length;C++){const A=Mh($[C]);b.includes(A)?(q.delete(A),L.current.delete(A)):q.get(A)!==!0&&q.set(A,!1)}},[$,b.length,b.join("-")]);const X=[];if(T!==K){let C=[...T];for(let A=0;A<$.length;A++){const R=$[A],M=Mh(R);b.includes(M)||(C.splice(A,0,R),X.push(R))}return u==="wait"&&X.length&&(C=X),W(qb(C)),it(T),null}const{forceRender:at}=ot.useContext(cy);return x.jsx(x.Fragment,{children:$.map(C=>{const A=Mh(C),R=c&&!g?!1:T===$||b.includes(A),M=()=>{if(L.current.has(A))return;if(L.current.add(A),q.has(A))q.set(A,!0);else return;let N=!0;q.forEach(P=>{P||(N=!1)}),N&&(at?.(),W(j.current),c&&y?.(),r&&r())};return x.jsx(B3,{isPresent:R,initial:!D.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:R?void 0:M,anchorX:m,children:C},A)})})},sx=ot.createContext({strict:!1}),Gb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Kb=!1;function q3(){if(Kb)return;const n={};for(const t in Gb)n[t]={isEnabled:e=>Gb[t].some(r=>!!e[r])};Mw(n),Kb=!0}function rx(){return q3(),Dk()}function G3(n){const t=rx();for(const e in n)t[e]={...t[e],...n[e]};Mw(t)}const K3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||K3.has(n)}let ax=n=>!bf(n);function Y3(n){typeof n=="function"&&(ax=t=>t.startsWith("on")?!bf(t):n(t))}try{Y3(require("@emotion/is-prop-valid").default)}catch{}function Q3(n,t,e){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(ax(o)||e===!0&&bf(o)||!t&&!bf(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Qf=ot.createContext({});function X3(n,t){if(Yf(n)){const{initial:e,animate:r}=n;return{initial:e===!1||Vu(e)?e:void 0,animate:Vu(r)?r:void 0}}return n.inherit!==!1?t:{}}function $3(n){const{initial:t,animate:e}=X3(n,ot.useContext(Qf));return ot.useMemo(()=>({initial:t,animate:e}),[Yb(t),Yb(e)])}function Yb(n){return Array.isArray(n)?n.join(" "):n}const Fy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ox(n,t,e){for(const r in t)!an(t[r])&&!Fw(r,e)&&(n[r]=t[r])}function W3({transformTemplate:n},t){return ot.useMemo(()=>{const e=Fy();return Ly(e,t,n),Object.assign({},e.vars,e.style)},[t])}function J3(n,t){const e=n.style||{},r={};return ox(r,e,n),Object.assign(r,W3(n,t)),r}function Z3(n,t){const e={},r=J3(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const lx=()=>({...Fy(),attrs:{}});function tP(n,t,e,r){const o=ot.useMemo(()=>{const u=lx();return Bw(u,t,Hw(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};ox(u,n.style,n),o.style={...u,...o.style}}return o}const eP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function By(n){return typeof n!="string"||n.includes("-")?!1:!!(eP.indexOf(n)>-1||/[A-Z]/u.test(n))}function nP(n,t,e,{latestValues:r},o,u=!1,c){const p=(c??By(n)?tP:Z3)(t,r,o,n),g=Q3(t,typeof n=="string",u),y=n!==ot.Fragment?{...g,...p,ref:e}:{},{children:T}=t,b=ot.useMemo(()=>an(T)?T.get():T,[T]);return ot.createElement(n,{...y,children:b})}function iP({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,o){return{latestValues:sP(e,r,o,n),renderState:t()}}function sP(n,t,e,r){const o={},u=r(n,{});for(const b in u)o[b]=Yh(u[b]);let{initial:c,animate:m}=n;const p=Yf(n),g=Vw(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const T=y?m:c;if(T&&typeof T!="boolean"&&!Kf(T)){const b=Array.isArray(T)?T:[T];for(let D=0;D<b.length;D++){const j=Iy(n,b[D]);if(j){const{transitionEnd:q,transition:L,...K}=j;for(const it in K){let $=K[it];if(Array.isArray($)){const W=y?$.length-1:0;$=$[W]}$!==null&&(o[it]=$)}for(const it in q)o[it]=q[it]}}}return o}const ux=n=>(t,e)=>{const r=ot.useContext(Qf),o=ot.useContext(Gf),u=()=>iP(n,t,r,o);return e?u():hy(u)},rP=ux({scrapeMotionValuesFromProps:Uy,createRenderState:Fy}),aP=ux({scrapeMotionValuesFromProps:qw,createRenderState:lx}),oP=Symbol.for("motionComponentSymbol");function lP(n,t,e){const r=ot.useRef(e);ot.useInsertionEffect(()=>{r.current=e});const o=ot.useRef(null);return ot.useCallback(u=>{u&&n.onMount?.(u),t&&(u?t.mount(u):t.unmount());const c=r.current;if(typeof c=="function")if(u){const m=c(u);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const cx=ot.createContext({});function uu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function uP(n,t,e,r,o,u){const{visualElement:c}=ot.useContext(Qf),m=ot.useContext(sx),p=ot.useContext(Gf),g=ot.useContext(jy).reducedMotion,y=ot.useRef(null);r=r||m.renderer,!y.current&&r&&(y.current=r(n,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:u}));const T=y.current,b=ot.useContext(cx);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&cP(y.current,e,o,b);const D=ot.useRef(!1);ot.useInsertionEffect(()=>{T&&D.current&&T.update(e,p)});const j=e[yw],q=ot.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return O1(()=>{T&&(D.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),q.current&&T.animationState&&T.animationState.animateChanges())}),ot.useEffect(()=>{T&&(!q.current&&T.animationState&&T.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),q.current=!1),T.enteringChildren=void 0)}),T}function cP(n,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:hx(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&uu(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:p,layoutRoot:g})}function hx(n){if(n)return n.options.allowProjection!==!1?n.projection:hx(n.parent)}function bp(n,{forwardMotionProps:t=!1,type:e}={},r,o){r&&G3(r);const u=e?e==="svg":By(n),c=u?aP:rP;function m(g,y){let T;const b={...ot.useContext(jy),...g,layoutId:hP(g)},{isStatic:D}=b,j=$3(g),q=c(g,D);if(!D&&M1){fP();const L=dP(b);T=L.MeasureLayout,j.visualElement=uP(n,q,b,o,L.ProjectionNode,u)}return x.jsxs(Qf.Provider,{value:j,children:[T&&j.visualElement?x.jsx(T,{visualElement:j.visualElement,...b}):null,nP(n,g,lP(q,j.visualElement,y),q,D,t,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=ot.forwardRef(m);return p[oP]=n,p}function hP({layoutId:n}){const t=ot.useContext(cy).id;return t&&n!==void 0?t+"-"+n:n}function fP(n,t){ot.useContext(sx).strict}function dP(n){const t=rx(),{drag:e,layout:r}=t;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e?.isEnabled(n)||r?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function mP(n,t){if(typeof Proxy>"u")return bp;const e=new Map,r=(u,c)=>bp(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,bp(c,void 0,n,t)),e.get(c))})}const pP=(n,t)=>t.isSVG??By(n)?new Kk(t):new Fk(t,{allowProjection:n!==ot.Fragment});class gP extends Ir{constructor(t){super(t),t.animationState||(t.animationState=Wk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Kf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let yP=0;class vP extends Ir{constructor(){super(...arguments),this.id=yP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _P={animation:{Feature:gP},exit:{Feature:vP}};function Xu(n){return{point:{x:n.pageX,y:n.pageY}}}const TP=n=>t=>Oy(t)&&n(t,Xu(t));function _u(n,t,e,r){return Mu(n,t,TP(e),r)}const fx=({current:n})=>n?n.ownerDocument.defaultView:null,Qb=(n,t)=>Math.abs(n-t);function EP(n,t){const e=Qb(n.x,t.x),r=Qb(n.y,t.y);return Math.sqrt(e**2+r**2)}const Xb=new Set(["auto","scroll"]);class dx{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=D=>{this.handleScroll(D.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Ap(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,q=EP(D.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!q)return;const{point:L}=D,{timestamp:K}=We;this.history.push({...L,timestamp:K});const{onStart:it,onMove:$}=this.handlers;j||(it&&it(this.lastMoveEvent,D),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,D)},this.handlePointerMove=(D,j)=>{this.lastMoveEvent=D,this.lastMoveEventInfo=Sp(j,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(D,j)=>{this.end();const{onEnd:q,onSessionEnd:L,resumeAnimation:K}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&K&&K(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const it=Ap(D.type==="pointercancel"?this.lastMoveEventInfo:Sp(j,this.transformPagePoint),this.history);this.startEvent&&q&&q(D,it),L&&L(D,it)},!Oy(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=Xu(t),g=Sp(p,this.transformPagePoint),{point:y}=g,{timestamp:T}=We;this.history=[{...y,timestamp:T}];const{onSessionStart:b}=e;b&&b(t,Ap(g,this.history)),this.removeListeners=Ku(_u(this.contextWindow,"pointermove",this.handlePointerMove),_u(this.contextWindow,"pointerup",this.handlePointerUp),_u(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let e=t.parentElement;for(;e;){const r=getComputedStyle(e);(Xb.has(r.overflowX)||Xb.has(r.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-e.x,y:o.y-e.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),oe.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),xr(this.updatePoint)}}function Sp(n,t){return t?{point:t(n.point)}:n}function $b(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Ap({point:n},t){return{point:n,delta:$b(n,mx(t)),offset:$b(n,bP(t)),velocity:SP(t,.1)}}function bP(n){return n[0]}function mx(n){return n[n.length-1]}function SP(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const o=mx(n);for(;e>=0&&(r=n[e],!(o.timestamp-r.timestamp>gs(t)));)e--;if(!r)return{x:0,y:0};const u=Qn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function AP(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?he(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?he(e,n,r.max):Math.min(n,e)),n}function Wb(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function wP(n,{top:t,left:e,bottom:r,right:o}){return{x:Wb(n.x,e,o),y:Wb(n.y,t,r)}}function Jb(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function xP(n,t){return{x:Jb(n.x,t.x),y:Jb(n.y,t.y)}}function CP(n,t){let e=.5;const r=fn(n),o=fn(t);return o>r?e=Du(t.min,t.max-r,n.min):r>o&&(e=Du(n.min,n.max-o,t.min)),Ki(0,1,e)}function RP(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const vg=.35;function DP(n=vg){return n===!1?n=0:n===!0&&(n=vg),{x:Zb(n,"left","right"),y:Zb(n,"top","bottom")}}function Zb(n,t,e){return{min:tS(n,t),max:tS(n,e)}}function tS(n,t){return typeof n=="number"?n:n[t]||0}const IP=new WeakMap;class NP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{e?(this.stopAnimation(),this.snapToCursor(Xu(T).point)):this.pauseAnimation()},c=(T,b)=>{this.stopAnimation();const{drag:D,dragPropagation:j,onDragStart:q}=this.getProps();if(D&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yk(D),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(K=>{let it=this.getAxisMotionValue(K).get()||0;if(Hi.test(it)){const{projection:$}=this.visualElement;if($&&$.layout){const W=$.layout.layoutBox[K];W&&(it=fn(W)*(parseFloat(it)/100))}}this.originPoint[K]=it}),q&&oe.postRender(()=>q(T,b)),hg(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},m=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b;const{dragPropagation:D,dragDirectionLock:j,onDirectionLock:q,onDrag:L}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:K}=b;if(j&&this.currentDirection===null){this.currentDirection=VP(K),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",b.point,K),this.updateAxis("y",b.point,K),this.visualElement.render(),L&&L(T,b)},p=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b,this.stop(T,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Kn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new dx(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:fx(this.visualElement),element:this.visualElement.current})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&oe.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Oh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=AP(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&uu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=wP(r.layoutBox,t):this.constraints=!1,this.elastic=DP(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=RP(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!uu(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=Ok(r,o.root,this.visualElement.getTransformPagePoint());let c=xP(o.layout.layoutBox,u);if(e){const m=e(Nk(c));this.hasMutatedConstraints=!!m,m&&(c=kw(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Kn(y=>{if(!Oh(y,e,this.currentDirection))return;let T=p&&p[y]||{};c&&(T={min:0,max:0});const b=o?200:1e6,D=o?40:1e7,j={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return hg(this.visualElement,t),r.start(Dy(t,r,0,e,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(e=>{const{drag:r}=this.getProps();if(!Oh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e],p=u.get()||0;u.set(t[e]-he(c,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!uu(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Kn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=CP({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!Oh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(he(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;IP.set(this.visualElement,this);const t=this.visualElement.current,e=_u(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&!Dw(p.target)&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();uu(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),oe.read(r);const c=Mu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Kn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=p[y].translate,T.set(T.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=vg,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Oh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function VP(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class MP extends Ir{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new NP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const eS=n=>(t,e)=>{n&&oe.postRender(()=>n(t,e))};class OP extends Ir{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new dx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:eS(t),onStart:eS(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&oe.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let wp=!1;class kP extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),wp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,wp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||oe.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),My.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;wp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function px(n){const[t,e]=ix(),r=ot.useContext(cy);return x.jsx(kP,{...n,layoutGroup:r,switchLayoutGroup:ot.useContext(cx),isPresent:t,safeToRemove:e})}const PP={pan:{Feature:OP},drag:{Feature:MP,ProjectionNode:nx,MeasureLayout:px}};function nS(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&oe.postRender(()=>u(t,Xu(t)))}class LP extends Ir{mount(){const{current:t}=this.node;t&&(this.unmount=vk(t,(e,r)=>(nS(this.node,r,"Start"),o=>nS(this.node,o,"End"))))}unmount(){}}class UP extends Ir{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ku(Mu(this.node.current,"focus",()=>this.onFocus()),Mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iS(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&oe.postRender(()=>u(t,Xu(t)))}class jP extends Ir{mount(){const{current:t}=this.node;t&&(this.unmount=Ek(t,(e,r)=>(iS(this.node,r,"Start"),(o,{success:u})=>iS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _g=new WeakMap,xp=new WeakMap,FP=n=>{const t=_g.get(n.target);t&&t(n)},BP=n=>{n.forEach(FP)};function zP({root:n,...t}){const e=n||document;xp.has(e)||xp.set(e,{});const r=xp.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(BP,{root:n,...t})),r[o]}function HP(n,t,e){const r=zP(t);return _g.set(n,e),r.observe(n),()=>{_g.delete(n),r.unobserve(n)}}const qP={some:0,all:1};class GP extends Ir{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:qP[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),b=g?y:T;b&&b(p)};return HP(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(KP(t,e))&&this.startObserver()}unmount(){}}function KP({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const YP={inView:{Feature:GP},tap:{Feature:jP},focus:{Feature:UP},hover:{Feature:LP}},QP={layout:{ProjectionNode:nx,MeasureLayout:px}},XP={..._P,...YP,...PP,...QP},Tg=mP(XP,pP),$P=({restaurants:n,onFinish:t})=>{const[e,r]=ot.useState(0),[o,u]=ot.useState({like:[],pass:[]}),c=n[e],m=p=>{const g=n[e];u(y=>({...y,[p]:[...y[p],g.id]})),e<n.length-1?r(e+1):t({like:[...o.like,p==="like"?g.id:null].filter(Boolean)})};return c?x.jsxs("div",{className:"relative w-full max-w-sm mx-auto h-[500px] flex flex-col items-center justify-center",children:[x.jsxs("div",{className:"absolute top-[-40px] flex justify-between w-full px-4 text-xs font-black uppercase tracking-widest text-gray-400",children:[x.jsx("span",{className:"text-red-500",children:" Swipe Left to Pass"}),x.jsx("span",{className:"text-green-500",children:"Swipe Right to Like "})]}),x.jsx(H3,{mode:"wait",children:x.jsxs(Tg.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(p,g)=>{g.offset.x>100?m("like"):g.offset.x<-100&&m("pass")},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{x:200,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"w-full h-full bg-white dark:bg-gray-800 rounded-3xl shadow-2xl relative overflow-hidden flex flex-col cursor-grab active:cursor-grabbing border border-gray-100 dark:border-gray-700",children:[x.jsxs("div",{className:"w-full h-2/3 bg-gray-200 dark:bg-gray-700 relative",children:[x.jsx("img",{src:c.photoUrl||`https://via.placeholder.com/400x600?text=${encodeURIComponent(c.name)}`,alt:c.name,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:x.jsxs("span",{className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full shadow-lg",children:[c.priceLevel||"$$","  ",c.rating," "]})})]}),x.jsxs("div",{className:"p-6 flex flex-col h-1/3 justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white truncate",children:c.name}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-1",children:c.address})]}),x.jsx("div",{className:"flex gap-4",children:x.jsxs("a",{href:c.mapsUrl||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${c.name}, ${c.address}`)}`,target:"_blank",rel:"noreferrer",className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 dark:text-gray-300 text-gray-700 text-center rounded-xl text-sm font-bold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",onClick:p=>p.stopPropagation(),children:[x.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"})}),"Google Maps"]})})]})]},c.id)}),x.jsxs("div",{className:"mt-12 flex gap-8",children:[x.jsx("button",{onClick:()=>m("pass"),className:"w-16 h-16 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg text-red-500 hover:scale-110 active:scale-95 transition-all border border-red-100 dark:border-red-900/30",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),x.jsx("button",{onClick:()=>m("like"),className:"w-16 h-16 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg text-green-500 hover:scale-110 active:scale-95 transition-all border border-green-100 dark:border-green-900/30",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),x.jsxs("p",{className:"mt-8 text-sm text-gray-500",children:[e+1," / ",n.length]})]}):x.jsx("div",{className:"text-center py-20 font-bold",children:"No restaurants to display"})},WP=({sessionId:n,restaurants:t,currentUser:e,sessionData:r,onFinish:o})=>{const[u,c]=ot.useState([]),[m,p]=ot.useState(null),[g,y]=ot.useState(!1),[T,b]=ot.useState([]),[D,j]=ot.useState(null),q=600,L=800,K=100,it=150,$=5,W=q/$,X=Array.from({length:$},(pt,vt)=>W*vt+W/2),at=K+20,C=L-it-20,A=Array.from({length:$},(pt,vt)=>{const H=r.amidakuji?.results?.[vt];return H?t.find(nt=>nt.id===H)||{name:"???"}:t[vt%t.length]||{name:"???"}}),R=()=>{const pt=[],vt=12+Math.floor(Math.random()*8);for(let H=0;H<vt;H++){const nt=Math.floor(Math.random()*($-1)),lt=at+Math.random()*(C-at);pt.some(Mt=>Math.abs(Mt.y-lt)<15)||pt.push({lane:nt,y:lt})}c(pt.sort((H,nt)=>H.y-nt.y))};ot.useEffect(()=>{R()},[]);const M=pt=>{if(g||D)return;const vt=pt.currentTarget,H=vt.createSVGPoint();H.x=pt.clientX,H.y=pt.clientY;const nt=H.matrixTransform(vt.getScreenCTM().inverse());if(nt.y<at||nt.y>C)return;const lt=Math.floor(nt.x/W);if(lt>=0&&lt<$-1){const xt={lane:lt,y:nt.y};c(Mt=>[...Mt,xt].sort((k,tt)=>k.y-tt.y))}},N=pt=>{const vt=[];let H=pt,nt=K;vt.push({x:X[H],y:K});for(const lt of u)lt.y<nt||(lt.lane===H?(vt.push({x:X[H],y:lt.y}),H=H+1,vt.push({x:X[H],y:lt.y}),nt=lt.y):lt.lane===H-1&&(vt.push({x:X[H],y:lt.y}),H=H-1,vt.push({x:X[H],y:lt.y}),nt=lt.y));return vt.push({x:X[H],y:L-it}),{points:vt,finalIndex:H}},P=()=>{if(m===null){alert("Please select a starting lane (tap a number at the top)!");return}const{points:pt,finalIndex:vt}=N(m);b(pt),y(!0),j(null);const H=pt.length*.3;setTimeout(()=>{y(!1);const nt=A[vt];j(nt),o(nt)},H*1e3)},I=T.map(pt=>`${pt.x},${pt.y}`).join(" ");return x.jsxs("div",{className:"flex flex-col items-center w-full h-full max-w-4xl mx-auto",children:[x.jsxs("div",{className:"flex gap-4 mb-4 z-10",children:[x.jsx("button",{onClick:()=>{c([]),R(),b([]),j(null),p(null)},disabled:g,className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-bold rounded-xl shadow hover:bg-gray-300 transition-all",children:"Reset Board"}),x.jsx("button",{onClick:P,disabled:g||m===null,className:"px-8 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold rounded-xl shadow-lg hover:scale-105 disabled:opacity-50 disabled:scale-100 transition-all",children:"Start Game"})]}),x.jsx("div",{className:"relative w-full aspect-[3/4] bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden border-4 border-gray-100 dark:border-gray-700",children:x.jsxs("svg",{viewBox:`0 0 ${q} ${L}`,className:"w-full h-full cursor-pointer",onClick:M,preserveAspectRatio:"xMidYMid meet",children:[x.jsx("defs",{children:x.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[x.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),x.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),X.map((pt,vt)=>x.jsx("line",{x1:pt,y1:K,x2:pt,y2:L-it,stroke:"currentColor",strokeWidth:"4",className:"text-gray-300 dark:text-gray-600",strokeLinecap:"round"},`lane-${vt}`)),u.map((pt,vt)=>{const H=X[pt.lane],nt=X[pt.lane+1];return x.jsx("line",{x1:H,y1:pt.y,x2:nt,y2:pt.y,stroke:"#3B82F6",strokeWidth:"6",strokeLinecap:"round"},`rung-${vt}`)}),X.map((pt,vt)=>x.jsxs("g",{onClick:H=>{H.stopPropagation(),p(vt)},className:"cursor-pointer hover:opacity-80",children:[x.jsx("circle",{cx:pt,cy:K-40,r:"25",fill:m===vt?"#2563EB":"#E5E7EB",className:"transition-colors duration-200"}),x.jsx("text",{x:pt,y:K-32,textAnchor:"middle",fill:m===vt?"white":"#6B7280",fontSize:"20",fontWeight:"bold",pointerEvents:"none",children:vt+1})]},`btn-${vt}`)),A.map((pt,vt)=>x.jsxs("g",{children:[x.jsx("line",{x1:X[vt],y1:L-it,x2:X[vt],y2:L-it+20,stroke:"currentColor",strokeWidth:"2",className:"text-gray-300"}),x.jsx("foreignObject",{x:X[vt]-W/2+2,y:L-it+20,width:W-4,height:"120",children:x.jsxs("div",{className:"flex flex-col items-center justify-start h-full p-1 text-center",children:[x.jsx("div",{className:`w-12 h-12 rounded-xl mb-1 flex items-center justify-center overflow-hidden shadow-sm border-2 ${D?.id===pt.id?"border-yellow-500 ring-2 ring-yellow-300":"border-gray-200"}`,children:pt.photoUrl?x.jsx("img",{src:pt.photoUrl,alt:pt.name,className:"w-full h-full object-cover"}):x.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-xl",children:""})}),x.jsx("span",{className:`text-[10px] font-bold leading-tight line-clamp-2 ${D?.id===pt.id?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400"}`,children:pt.name})]})})]},`target-${vt}`)),g&&x.jsx(x.Fragment,{children:x.jsx(Tg.polyline,{points:I,fill:"none",stroke:"#FBBF24",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:T.length*.3,ease:"linear"},filter:"url(#glow)"})})]})}),D&&x.jsxs(Tg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-2xl border-4 border-yellow-400 text-center z-50 pointer-events-none",children:[x.jsx("p",{className:"text-gray-500 uppercase tracking-widest font-bold mb-2",children:"The Chosen One"}),x.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:D.name}),x.jsx("p",{className:"text-xl",children:""})]})]})},JP=n=>new Promise(t=>{setTimeout(()=>{const e=[{id:"1",name:"Tasty Taiwan",rating:4.5,priceLevel:200,address:"Xinyi District, Taipei",cuisine:"Taiwanese",location:"Taipei - Xinyi District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Tasty+Taiwan+Xinyi+Taipei",photoUrl:"https://via.placeholder.com/400x300/FF6B6B/FFFFFF?text=Tasty+Taiwan",images:["https://via.placeholder.com/400x300/FF6B6B/FFFFFF?text=Tasty+Taiwan","https://via.placeholder.com/400x300/FF8E8E/FFFFFF?text=Beef+Noodle","https://via.placeholder.com/400x300/FFB5B5/FFFFFF?text=Dumplings"]},{id:"3",name:"Gourmet House",rating:4.8,priceLevel:350,address:"Da-an District, Taipei",cuisine:"Western",location:"Taipei - Da-an District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Gourmet+House+Daan+Taipei",photoUrl:"https://via.placeholder.com/400x300/95E1D3/FFFFFF?text=Gourmet+House",images:["https://via.placeholder.com/400x300/95E1D3/FFFFFF?text=Gourmet+House","https://via.placeholder.com/400x300/B8F2E6/FFFFFF?text=Steak","https://via.placeholder.com/400x300/DBFFF8/FFFFFF?text=Pasta"]},{id:"5",name:"Zen Garden",rating:4.6,priceLevel:250,address:"Zhongshan District, Taipei",cuisine:"Japanese",location:"Taipei - Zhongshan District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Zen+Garden+Zhongshan+Taipei",photoUrl:"https://via.placeholder.com/400x300/AA96DA/FFFFFF?text=Zen+Garden",images:["https://via.placeholder.com/400x300/AA96DA/FFFFFF?text=Zen+Garden","https://via.placeholder.com/400x300/C5B3F0/FFFFFF?text=Sushi","https://via.placeholder.com/400x300/E0D0FF/FFFFFF?text=Sashimi"]},{id:"6",name:"Luxury Dine",rating:4.9,priceLevel:800,address:"Xinyi District, Taipei",cuisine:"Western",location:"Taipei - Xinyi District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Luxury+Dine+Xinyi+Taipei",photoUrl:"https://via.placeholder.com/400x300/FCBAD3/FFFFFF?text=Luxury+Dine",images:["https://via.placeholder.com/400x300/FCBAD3/FFFFFF?text=Luxury+Dine","https://via.placeholder.com/400x300/FFD2E5/FFFFFF?text=Lobster","https://via.placeholder.com/400x300/FFE9F4/FFFFFF?text=Wine"]},{id:"8",name:"Noodle Paradise",rating:4.7,priceLevel:160,address:"Songshan District, Taipei",cuisine:"Chinese",location:"Taipei - Songshan District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Noodle+Paradise+Songshan+Taipei",photoUrl:"https://via.placeholder.com/400x300/A8D8EA/FFFFFF?text=Noodle+Paradise",images:["https://via.placeholder.com/400x300/A8D8EA/FFFFFF?text=Noodle+Paradise","https://via.placeholder.com/400x300/CBF0FF/FFFFFF?text=Wonton","https://via.placeholder.com/400x300/E8F9FF/FFFFFF?text=Soup"]},{id:"9",name:"Sushi Master",rating:4.5,priceLevel:400,address:"Xinyi District, Taipei",cuisine:"Japanese",location:"Taipei - Xinyi District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Sushi+Master+Xinyi+Taipei",photoUrl:"https://via.placeholder.com/400x300/FFAAA5/FFFFFF?text=Sushi+Master",images:["https://via.placeholder.com/400x300/FFAAA5/FFFFFF?text=Sushi+Master","https://via.placeholder.com/400x300/FFC8C4/FFFFFF?text=Rolls","https://via.placeholder.com/400x300/FFE6E4/FFFFFF?text=Tempura"]},{id:"11",name:"Korean BBQ House",rating:4.6,priceLevel:300,address:"Da-an District, Taipei",cuisine:"Korean",location:"Taipei - Da-an District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Korean+BBQ+Daan+Taipei",photoUrl:"https://via.placeholder.com/400x300/C7CEEA/FFFFFF?text=Korean+BBQ",images:["https://via.placeholder.com/400x300/C7CEEA/FFFFFF?text=Korean+BBQ","https://via.placeholder.com/400x300/E2E7FF/FFFFFF?text=Beef","https://via.placeholder.com/400x300/F0F4FF/FFFFFF?text=Kimchi"]},{id:"12",name:"Italian Corner",rating:4.3,priceLevel:350,address:"Zhongshan District, Taipei",cuisine:"Italian",location:"Taipei - Zhongshan District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Italian+Corner+Zhongshan+Taipei",photoUrl:"https://via.placeholder.com/400x300/B5EAD7/FFFFFF?text=Italian+Corner",images:["https://via.placeholder.com/400x300/B5EAD7/FFFFFF?text=Italian+Corner","https://via.placeholder.com/400x300/D6F5EB/FFFFFF?text=Pizza","https://via.placeholder.com/400x300/EAFFF9/FFFFFF?text=Pasta"]},{id:"20",name:"Banqiao Burgers",rating:4.2,priceLevel:250,address:"Banqiao District",cuisine:"Western",location:"New Taipei - Banqiao District ( - )",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=Banqiao",images:["https://via.placeholder.com/400x300/FF9AA2/FFFFFF?text=Burger","https://via.placeholder.com/400x300/FFB7B2/FFFFFF?text=Fries","https://via.placeholder.com/400x300/FFDAC1/FFFFFF?text=Coke"]},{id:"2",name:"Malay Feast",rating:4.2,priceLevel:150,address:"Bukit Bintang, KL",cuisine:"Malay",location:"Kuala Lumpur - Bukit Bintang",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Malay+Feast+Bukit+Bintang",photoUrl:"https://via.placeholder.com/400x300/4ECDC4/FFFFFF?text=Malay+Feast",images:["https://via.placeholder.com/400x300/4ECDC4/FFFFFF?text=Malay+Feast","https://via.placeholder.com/400x300/77DED8/FFFFFF?text=Nasi+Lemak","https://via.placeholder.com/400x300/A0EFEA/FFFFFF?text=Satay"]},{id:"10",name:"Thai Delight",rating:3.9,priceLevel:140,address:"Bukit Bintang, KL",cuisine:"Thai",location:"Kuala Lumpur - Bukit Bintang",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Thai+Delight+KL",photoUrl:"https://via.placeholder.com/400x300/FF8B94/FFFFFF?text=Thai+Delight",images:["https://via.placeholder.com/400x300/FF8B94/FFFFFF?text=Thai+Delight","https://via.placeholder.com/400x300/FFA5AC/FFFFFF?text=Tom+Yum","https://via.placeholder.com/400x300/FFC2C7/FFFFFF?text=Pad+Thai"]},{id:"13",name:"KLCC Sky Bar",rating:4.8,priceLevel:900,address:"KLCC, KL",cuisine:"Western",location:"Kuala Lumpur - KLCC",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=SkyBar",images:["https://via.placeholder.com/400x300/text=SkyBar","https://via.placeholder.com/400x300/text=Cocktail","https://via.placeholder.com/400x300/text=View"]},{id:"14",name:"Bangsar Brunch",rating:4.5,priceLevel:300,address:"Bangsar, KL",cuisine:"Western",location:"Kuala Lumpur - Bangsar",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=Bangsar",images:["https://via.placeholder.com/400x300/text=Bangsar","https://via.placeholder.com/400x300/text=Eggs","https://via.placeholder.com/400x300/text=Coffee"]},{id:"4",name:"Satay Garden",rating:4,priceLevel:120,address:"Subang Jaya, Selangor",cuisine:"Malay",location:"Selangor - Subang Jaya",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Satay+Garden+Subang+Jaya",photoUrl:"https://via.placeholder.com/400x300/F38181/FFFFFF?text=Satay+Garden",images:["https://via.placeholder.com/400x300/F38181/FFFFFF?text=Satay+Garden","https://via.placeholder.com/400x300/F5A2A2/FFFFFF?text=Chicken","https://via.placeholder.com/400x300/F7C3C3/FFFFFF?text=Beef"]},{id:"7",name:"Spice Route",rating:4.4,priceLevel:180,address:"Petaling Jaya, Selangor",cuisine:"Indian",location:"Selangor - Petaling Jaya",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Spice+Route+Petaling+Jaya",photoUrl:"https://via.placeholder.com/400x300/FFFFD2/333333?text=Spice+Route",images:["https://via.placeholder.com/400x300/FFFFD2/333333?text=Spice+Route","https://via.placeholder.com/400x300/FFFFA0/333333?text=Curry","https://via.placeholder.com/400x300/FFFF70/333333?text=Naan"]},{id:"15",name:"Klang Bak Kut Teh",rating:4.7,priceLevel:150,address:"Klang, Selangor",cuisine:"Chinese",location:"Selangor - Klang",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=Klang",images:["https://via.placeholder.com/400x300/text=Klang","https://via.placeholder.com/400x300/text=Soup","https://via.placeholder.com/400x300/text=Herbal"]}];console.log("Filtering restaurants with:",JSON.stringify(n,null,2));const r=e.filter(o=>{if(o.rating<4)return!1;const u=n.minPrice||0,c=n.maxPrice||1e4;return!(o.priceLevel<u||o.priceLevel>c||n.locations&&n.locations.length>0&&!n.locations.some(p=>{const g=p.split(" - "),y=g[g.length-1];return y?o.location.toLowerCase().includes(y.toLowerCase()):!1})||n.cuisines&&n.cuisines.length>0&&!n.cuisines.some(p=>o.cuisine.toLowerCase()===p.toLowerCase()))});console.log(`Matched ${r.length} restaurants`),t(r)},800)});function ZP(){const[n,t]=ot.useState(null),[e,r]=ot.useState(!1),[o,u]=ot.useState("home"),[c,m]=ot.useState(""),[p,g]=ot.useState(""),[y,T]=ot.useState([]);ot.useEffect(()=>{const X=new URLSearchParams(window.location.search).get("id");X&&(m(X),u("join"))},[]),ot.useEffect(()=>{let W=()=>{};const X=n?.id||(o==="waiting"||o==="swiping"?c:null);return X&&(W=o4(ds(fs,"sessions",X),at=>{if(at.exists()){const C=at.data();t({id:at.id,...C});const A=pe.currentUser?.uid;C.participantPreferences?.[A]&&o!=="swiping"&&o!=="waiting_amidakuji"&&o!=="amidakuji"&&o!=="finished"&&(b({id:at.id,...C}),u("swiping")),C.status==="amidakuji"&&o!=="amidakuji"&&u("amidakuji"),C.status==="finished"&&o!=="finished"&&u("finished")}})),()=>W()},[n?.id,c,o]);const b=async W=>{r(!0);const X=pe.currentUser.uid,at=W.participantPreferences?.[X];at||console.warn("No participant preferences found, using session defaults");const C={minPrice:Number(W.minPrice),maxPrice:Number(W.maxPrice),locations:at?.locations||[],cuisines:at?.cuisines||[]},A=await JP(C);T(A),r(!1)};ot.useEffect(()=>{if(!n?.waitDeadline)return;const W=setInterval(()=>{const C=(n.waitDeadline.toDate?n.waitDeadline.toDate():new Date(n.waitDeadline))-new Date;if(C<=0)g("00:00"),clearInterval(W),n.hostId===pe.currentUser?.uid&&n.status!=="finished"&&D(n);else{const A=Math.floor(C/6e4),R=Math.floor(C%6e4/1e3);g(`${A}:${R<10?"0":""}${R}`)}},1e3);return()=>clearInterval(W)},[n?.waitDeadline,n?.status]);const D=async W=>{console.log("Calculating Final Result...");let X=null;const at={};Object.values(W.restaurantVotes||{}).forEach(P=>{P.forEach(I=>{at[I]=(at[I]||0)+1})});const C=Object.keys(at).sort((P,I)=>at[I]-at[P]).map(P=>({id:P,votes:at[P],name:y.find(I=>I.id===P)?.name})),A=W.amidakujiResults||{},R={};Object.keys(A).length>0?(Object.values(A).forEach(P=>{R[P]=(R[P]||0)+1}),X=Object.keys(R).sort((P,I)=>R[I]-R[P])[0]):C.length>0?X=C[0].id:y.length>0&&(X=y[0].id);const N=y.find(P=>P.id===X)||y[0];N&&await r4(ds(fs,"sessions",W.id),{status:"finished",finalChoice:N,finalRanking:C})};ot.useEffect(()=>{n?.status==="finished"&&o!=="finished"&&u("finished")},[n?.status,o]);const j=(W=5,X=8)=>{const at=[];for(let R=0;R<X;R++){const M=Math.floor(Math.random()*(W-1)),N=Math.random()*260+30;at.push({lane:M,y:Math.round(N/20)*20})}return at.sort((R,M)=>R.y-M.y)},q=async W=>{if(n?.id){r(!0);try{const X=ds(fs,"sessions",n.id),at={participantPreferences:{[pe.currentUser.uid]:{...W,submittedAt:pf()}}};n.hostId===pe.currentUser.uid&&(at.status="swiping"),await ou(X,at,{merge:!0});const C={...n,participantPreferences:{...n.participantPreferences,[pe.currentUser.uid]:W}};await b(C),u("swiping")}catch(X){console.error("Error submitting preferences:",X),alert("Failed to submit preferences.")}finally{r(!1)}}},L=async(W,X=null)=>{if(m(W),X&&n){const at={...n,participantPreferences:{...n.participantPreferences,[pe.currentUser.uid]:X}};await b(at),u("swiping")}else u("waiting")},K=async W=>{console.log("handleCreateSession called with:",W),r(!0);try{pe.currentUser||(console.log("Signing in anonymously..."),await jS(pe),console.log("Signed in as:",pe.currentUser?.uid));const X={...W,hostId:pe.currentUser?.uid,status:"recruiting",createdAt:pf(),participants:[pe.currentUser?.uid],waitDeadline:new Date(Date.now()+Number(W.waitMinutes)*6e4)};console.log("Session Data to write:",X);const at=await a4(HM(fs,"sessions"),X);console.log("Session created! ID:",at.id),t({id:at.id,...X}),u("created")}catch(X){console.error("Error creating session:",X),alert("Error creating session: "+X.message)}finally{r(!1)}},it=async()=>{n?.id&&u("preferences")},$=async()=>{if(!(!n?.id||!n?.restaurantVotes)){r(!0);try{const W={};Object.values(n.restaurantVotes).forEach(N=>{N.forEach(P=>{W[P]=(W[P]||0)+1})});const C=[...Object.keys(W).sort((N,P)=>W[P]-W[N]).slice(0,5)];C.length<5&&y.forEach(N=>{C.length<5&&!C.includes(N.id)&&C.push(N.id)});const A=C.map(N=>{const P=y.find(I=>I.id===N);return{id:N,name:P?.name||"Unknown",votes:W[N]||0}}),R=ds(fs,"sessions",n.id),M={status:"amidakuji",amidakuji:{results:C,initialRungs:j(),ranking:A}};await ou(R,M,{merge:!0})}catch(W){console.error("Error starting amidakuji phase:",W),alert("Failed to start Amidakuji phase.")}finally{r(!1)}}};return x.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:[o==="home"&&x.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[x.jsx("h1",{className:"text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 mb-6 py-2",children:"GatheringFun"}),x.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-16",children:"Decide where and when to meet, the fun way!"}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all cursor-pointer border-2 border-transparent hover:border-blue-500",onClick:()=>u("create"),children:[x.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:x.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),x.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Create Gathering"}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Host a new meeting and invite friends."})]}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl border-2 border-transparent hover:border-purple-500",children:[x.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:x.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),x.jsx("h3",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Join Gathering"}),x.jsx("input",{type:"text",placeholder:"Enter Session ID",value:c,onChange:W=>m(W.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:bg-gray-700 dark:border-gray-600 mb-4 focus:ring-2 focus:ring-purple-500 outline-none dark:text-white"}),x.jsx("button",{onClick:()=>c&&u("join"),className:"w-full py-3 bg-purple-600 text-white font-bold rounded-xl shadow-lg hover:bg-purple-700 transition-all",children:"Join Now"})]})]})]}),o==="create"&&x.jsxs("div",{className:"text-center",children:[x.jsx("button",{onClick:()=>u("home"),className:"mb-8 text-gray-500 hover:text-blue-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),x.jsx(h4,{onSubmit:K,loading:e})]}),o==="join"&&x.jsxs("div",{className:"text-center",children:[x.jsx("button",{onClick:()=>u("home"),className:"mb-8 text-gray-500 hover:text-purple-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),x.jsx(f4,{sessionId:c,onJoined:L})]}),o==="preferences"&&n&&x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"mb-6 mx-auto w-fit px-4 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-full border border-blue-200 dark:border-blue-700 flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),x.jsx("span",{className:"font-mono font-bold text-blue-700 dark:text-blue-300",children:p})]}),x.jsx("button",{onClick:()=>{t(null),u("home")},className:"mb-4 text-gray-500 hover:text-blue-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),x.jsx(d4,{sessionData:n,onSubmit:q,loading:e})]}),(o==="created"||o==="waiting")&&x.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white",children:[x.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full",children:x.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),x.jsx("h2",{className:"text-3xl font-bold mb-2",children:"You're in!"}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:o==="waiting"?"Preferences submitted. Waiting for Phase 2 to end...":`"${n?.name}" is LIVE!`}),x.jsxs("div",{className:"mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800",children:[x.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Time Remaining"}),x.jsx("p",{className:"text-4xl font-mono font-black text-blue-700 dark:text-blue-300",children:p||"--:--"})]}),(n||c)&&x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700 mb-8",children:[x.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Session ID"}),x.jsx("code",{className:"text-2xl font-mono font-bold text-blue-600 dark:text-blue-400 select-all",children:n?n.id:c})]}),x.jsx("button",{onClick:()=>{const W=n?n.id:c;navigator.clipboard.writeText(W),alert("ID copied!")},className:"w-full py-4 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all mb-4",children:"Copy ID"}),n?.hostId===pe.currentUser?.uid&&n?.status==="recruiting"&&x.jsx("button",{onClick:it,disabled:e,className:"w-full py-4 bg-gradient-to-r from-orange-500 to-pink-500 text-white font-bold rounded-xl shadow-lg hover:scale-[1.02] transition-all mb-4",children:e?"Starting...":"Start Swiping Phase "}),x.jsx("button",{onClick:()=>{t(null),u("home")},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium",children:" Exit Session"}),n?.hostId===pe.currentUser?.uid&&n?.status==="swiping"&&x.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-700",children:[x.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Once everyone has voted, start the game!"}),x.jsx("button",{onClick:$,disabled:e,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl shadow-lg hover:scale-[1.02] transition-all",children:e?"Initializing...":"Start Amidakuji Battle! "})]})]}),o==="swiping"&&x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"mb-6 mx-auto w-fit px-4 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-full border border-blue-200 dark:border-blue-700 flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),x.jsx("span",{className:"font-mono font-bold text-blue-700 dark:text-blue-300",children:p})]}),x.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-12",children:"Vote for Restaurants"}),e?x.jsxs("div",{className:"py-20 flex flex-col items-center justify-center",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-4"}),x.jsx("p",{className:"text-gray-500 font-bold animate-pulse",children:"Finding best spots for you..."})]}):x.jsx($P,{restaurants:y,onFinish:async W=>{try{console.log("Swiping finished, saving votes:",W);const X=ds(fs,"sessions",n.id);await ou(X,{restaurantVotes:{[pe.currentUser.uid]:W.like}},{merge:!0}),console.log("Votes saved, transitioning to waiting_amidakuji"),u("waiting_amidakuji")}catch(X){console.error("Error saving votes:",X),alert("Error saving votes: "+X.message)}}})]}),o==="waiting_amidakuji"&&x.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white",children:[x.jsxs("div",{className:"mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800",children:[x.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Time Remaining"}),x.jsx("p",{className:"text-4xl font-mono font-black text-blue-700 dark:text-blue-300",children:p||"--:--"})]}),x.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full text-blue-600",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),x.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Votes Cast!"}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Waiting for everyone to finish swiping. Next: The Amidakuji Game!"}),x.jsxs("div",{className:"animate-pulse flex items-center justify-center gap-2 mb-8",children:[x.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full"}),x.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full",style:{animationDelay:"200ms"}}),x.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full",style:{animationDelay:"400ms"}})]}),n?.hostId===pe.currentUser?.uid&&x.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-700",children:[x.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Once everyone has voted, start the game!"}),x.jsx("button",{onClick:$,disabled:e,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl shadow-lg hover:scale-[1.02] transition-all",children:e?"Initializing...":"Start Amidakuji Battle! "})]})]}),o==="amidakuji"&&x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"mb-6 mx-auto w-fit px-4 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-full border border-blue-200 dark:border-blue-700 flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),x.jsx("span",{className:"font-mono font-bold text-blue-700 dark:text-blue-300",children:p})]}),x.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-2 py-2",children:""}),x.jsx("p",{className:"text-gray-500 mb-12",children:"Add rungs to the ladder and select your starting lane!"}),x.jsx(WP,{sessionId:n.id,restaurants:y,currentUser:pe.currentUser,sessionData:n,onFinish:async W=>{console.log("Amidakuji Finished locally. Result:",W);const X=ds(fs,"sessions",n.id);await ou(X,{amidakujiResults:{[pe.currentUser.uid]:W.id}},{merge:!0}),u("waiting_result")}})]}),o==="waiting_result"&&x.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white mt-12",children:[x.jsxs("div",{className:"mb-8 p-4 bg-red-50 dark:bg-red-900/20 rounded-2xl border border-red-100 dark:border-red-800",children:[x.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wider mb-1",children:"Final Countdown"}),x.jsx("p",{className:"text-5xl font-mono font-black text-red-600 dark:text-red-400 animate-pulse",children:p||"00:00"})]}),x.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-yellow-100 dark:bg-yellow-900/30 rounded-full text-yellow-600",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),x.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Fate Decided!"}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Waiting for the timer to end for the Grand Reveal..."})]}),o==="finished"&&n?.finalChoice&&x.jsxs("div",{className:"max-w-2xl mx-auto p-12 bg-white dark:bg-gray-800 rounded-[3rem] shadow-2xl text-center border-4 border-yellow-400",children:[x.jsx("div",{className:"mb-8",children:x.jsx("span",{className:"px-6 py-2 bg-yellow-400 text-yellow-900 text-sm font-black rounded-full uppercase tracking-tighter",children:"Winner Winner Dinner!"})}),x.jsx("h1",{className:"text-6xl font-black text-gray-900 dark:text-white mb-4",children:n.finalChoice.name}),x.jsx("p",{className:"text-xl text-gray-500 dark:text-gray-400 mb-8",children:n.finalChoice.address}),x.jsx("div",{className:"grid grid-cols-3 gap-2 mb-8",children:n.finalChoice.images&&n.finalChoice.images.length>0?n.finalChoice.images.slice(0,3).map((W,X)=>x.jsx("div",{className:"aspect-square rounded-xl overflow-hidden shadow-md",children:x.jsx("img",{src:W,alt:"Food",className:"w-full h-full object-cover hover:scale-110 transition-transform duration-500"})},X)):[1,2,3].map(W=>x.jsx("div",{className:"aspect-square rounded-xl bg-gray-200 dark:bg-gray-700 animate-pulse"},W))}),x.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-8 rounded-3xl mb-10 flex flex-col gap-3",children:x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Date"}),x.jsx("span",{className:"font-bold dark:text-gray-300",children:n.startDate})]})}),x.jsxs("div",{className:"mb-10 text-left",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Popularity Ranking (Phase 3 Votes)"}),x.jsx("div",{className:"space-y-2",children:n.finalRanking&&n.finalRanking.map((W,X)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:`w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold ${X===0?"bg-yellow-400 text-yellow-900":"bg-gray-200 text-gray-600"}`,children:X+1}),x.jsx("span",{className:"font-medium dark:text-white",children:W.name||"Unknown"})]}),x.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[W.votes," votes"]})]},W.id))})]}),x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsxs("button",{onClick:()=>{const X=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${n.finalChoice.name} ${n.finalChoice.address}`)}`;window.open(X,"_blank")},className:"w-full py-5 bg-gradient-to-r from-red-500 to-pink-500 text-white font-black rounded-2xl shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all flex items-center justify-center gap-3",children:[x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"})}),"View on Google Maps"]}),x.jsxs("button",{onClick:()=>{const W=encodeURIComponent(`Gathering: ${n.name}`),X=`${n.finalChoice.name} ${n.finalChoice.address}`,at=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(X)}`,C=encodeURIComponent(`Restaurant: ${n.finalChoice.name}
Address: ${n.finalChoice.address}
Map: ${at}`),A=n.startDate.replace(/-/g,""),R=new Date(n.startDate);R.setDate(R.getDate()+1);const M=R.toISOString().split("T")[0].replace(/-/g,""),N=`https://www.google.com/calendar/render?action=TEMPLATE&text=${W}&details=${C}&location=${encodeURIComponent(n.finalChoice.address)}&dates=${A}/${M}`;window.open(N,"_blank")},className:"w-full py-5 bg-blue-600 text-white font-black rounded-2xl shadow-xl hover:bg-blue-700 hover:scale-[1.02] transition-all flex items-center justify-center gap-3",children:[x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM7 11h5v5H7z"})}),"Add to Google Calendar"]}),x.jsx("button",{onClick:()=>u("home"),className:"py-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-sm font-medium",children:"Start New Gathering"})]})]})]})}eR.createRoot(document.getElementById("root")).render(x.jsx(ot.StrictMode,{children:x.jsx(ZP,{})}));
