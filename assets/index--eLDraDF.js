(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var Qm={exports:{}},Zl={};var lT;function YR(){if(lT)return Zl;lT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=t,Zl.jsx=e,Zl.jsxs=e,Zl}var uT;function QR(){return uT||(uT=1,Qm.exports=YR()),Qm.exports}var C=QR(),Xm={exports:{}},At={};var cT;function XR(){if(cT)return At;cT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function D(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,L={};function K(P,tt,ut){this.props=P,this.context=tt,this.refs=L,this.updater=ut||j}K.prototype.isReactComponent={},K.prototype.setState=function(P,tt){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,tt,"setState")},K.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function J(){}J.prototype=K.prototype;function B(P,tt,ut){this.props=P,this.context=tt,this.refs=L,this.updater=ut||j}var it=B.prototype=new J;it.constructor=B,q(it,K.prototype),it.isPureReactComponent=!0;var st=Array.isArray;function ot(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(P,tt,ut){var ht=ut.ref;return{$$typeof:n,type:P,key:tt,ref:ht!==void 0?ht:null,props:ut}}function I(P,tt){return x(P.type,tt,P.props)}function V(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function k(P){var tt={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ut){return tt[ut]})}var N=/\/+/g;function qt(P,tt){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):tt.toString(36)}function fe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ot,ot):(P.status="pending",P.then(function(tt){P.status==="pending"&&(P.status="fulfilled",P.value=tt)},function(tt){P.status==="pending"&&(P.status="rejected",P.reason=tt)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function $(P,tt,ut,ht,bt){var It=typeof P;(It==="undefined"||It==="boolean")&&(P=null);var Bt=!1;if(P===null)Bt=!0;else switch(It){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(P.$$typeof){case n:case t:Bt=!0;break;case y:return Bt=P._init,$(Bt(P._payload),tt,ut,ht,bt)}}if(Bt)return bt=bt(P),Bt=ht===""?"."+qt(P,0):ht,st(bt)?(ut="",Bt!=null&&(ut=Bt.replace(N,"$&/")+"/"),$(bt,tt,ut,"",function(Nr){return Nr})):bt!=null&&(V(bt)&&(bt=I(bt,ut+(bt.key==null||P&&P.key===bt.key?"":(""+bt.key).replace(N,"$&/")+"/")+Bt)),tt.push(bt)),1;Bt=0;var Oe=ht===""?".":ht+":";if(st(P))for(var oe=0;oe<P.length;oe++)ht=P[oe],It=Oe+qt(ht,oe),Bt+=$(ht,tt,ut,It,bt);else if(oe=D(P),typeof oe=="function")for(P=oe.call(P),oe=0;!(ht=P.next()).done;)ht=ht.value,It=Oe+qt(ht,oe++),Bt+=$(ht,tt,ut,It,bt);else if(It==="object"){if(typeof P.then=="function")return $(fe(P),tt,ut,ht,bt);throw tt=String(P),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function rt(P,tt,ut){if(P==null)return P;var ht=[],bt=0;return $(P,ht,"","",function(It){return tt.call(ut,It,bt++)}),ht}function dt(P){if(P._status===-1){var tt=P._result;tt=tt(),tt.then(function(ut){(P._status===0||P._status===-1)&&(P._status=1,P._result=ut)},function(ut){(P._status===0||P._status===-1)&&(P._status=2,P._result=ut)}),P._status===-1&&(P._status=0,P._result=tt)}if(P._status===1)return P._result.default;throw P._result}var Ct=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Mt={map:rt,forEach:function(P,tt,ut){rt(P,function(){tt.apply(this,arguments)},ut)},count:function(P){var tt=0;return rt(P,function(){tt++}),tt},toArray:function(P){return rt(P,function(tt){return tt})||[]},only:function(P){if(!V(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return At.Activity=T,At.Children=Mt,At.Component=K,At.Fragment=e,At.Profiler=o,At.PureComponent=B,At.StrictMode=r,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,At.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},At.cache=function(P){return function(){return P.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(P,tt,ut){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ht=q({},P.props),bt=P.key;if(tt!=null)for(It in tt.key!==void 0&&(bt=""+tt.key),tt)!w.call(tt,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&tt.ref===void 0||(ht[It]=tt[It]);var It=arguments.length-2;if(It===1)ht.children=ut;else if(1<It){for(var Bt=Array(It),Oe=0;Oe<It;Oe++)Bt[Oe]=arguments[Oe+2];ht.children=Bt}return x(P.type,bt,ht)},At.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},At.createElement=function(P,tt,ut){var ht,bt={},It=null;if(tt!=null)for(ht in tt.key!==void 0&&(It=""+tt.key),tt)w.call(tt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(bt[ht]=tt[ht]);var Bt=arguments.length-2;if(Bt===1)bt.children=ut;else if(1<Bt){for(var Oe=Array(Bt),oe=0;oe<Bt;oe++)Oe[oe]=arguments[oe+2];bt.children=Oe}if(P&&P.defaultProps)for(ht in Bt=P.defaultProps,Bt)bt[ht]===void 0&&(bt[ht]=Bt[ht]);return x(P,It,bt)},At.createRef=function(){return{current:null}},At.forwardRef=function(P){return{$$typeof:m,render:P}},At.isValidElement=V,At.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:dt}},At.memo=function(P,tt){return{$$typeof:g,type:P,compare:tt===void 0?null:tt}},At.startTransition=function(P){var tt=R.T,ut={};R.T=ut;try{var ht=P(),bt=R.S;bt!==null&&bt(ut,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(ot,Ct)}catch(It){Ct(It)}finally{tt!==null&&ut.types!==null&&(tt.types=ut.types),R.T=tt}},At.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},At.use=function(P){return R.H.use(P)},At.useActionState=function(P,tt,ut){return R.H.useActionState(P,tt,ut)},At.useCallback=function(P,tt){return R.H.useCallback(P,tt)},At.useContext=function(P){return R.H.useContext(P)},At.useDebugValue=function(){},At.useDeferredValue=function(P,tt){return R.H.useDeferredValue(P,tt)},At.useEffect=function(P,tt){return R.H.useEffect(P,tt)},At.useEffectEvent=function(P){return R.H.useEffectEvent(P)},At.useId=function(){return R.H.useId()},At.useImperativeHandle=function(P,tt,ut){return R.H.useImperativeHandle(P,tt,ut)},At.useInsertionEffect=function(P,tt){return R.H.useInsertionEffect(P,tt)},At.useLayoutEffect=function(P,tt){return R.H.useLayoutEffect(P,tt)},At.useMemo=function(P,tt){return R.H.useMemo(P,tt)},At.useOptimistic=function(P,tt){return R.H.useOptimistic(P,tt)},At.useReducer=function(P,tt,ut){return R.H.useReducer(P,tt,ut)},At.useRef=function(P){return R.H.useRef(P)},At.useState=function(P){return R.H.useState(P)},At.useSyncExternalStore=function(P,tt,ut){return R.H.useSyncExternalStore(P,tt,ut)},At.useTransition=function(){return R.H.useTransition()},At.version="19.2.0",At}var hT;function Eg(){return hT||(hT=1,Xm.exports=XR()),Xm.exports}var at=Eg(),$m={exports:{}},tu={},Wm={exports:{}},Jm={};var fT;function $R(){return fT||(fT=1,(function(n){function t($,rt){var dt=$.length;$.push(rt);t:for(;0<dt;){var Ct=dt-1>>>1,Mt=$[Ct];if(0<o(Mt,rt))$[Ct]=rt,$[dt]=Mt,dt=Ct;else break t}}function e($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var rt=$[0],dt=$.pop();if(dt!==rt){$[0]=dt;t:for(var Ct=0,Mt=$.length,P=Mt>>>1;Ct<P;){var tt=2*(Ct+1)-1,ut=$[tt],ht=tt+1,bt=$[ht];if(0>o(ut,dt))ht<Mt&&0>o(bt,ut)?($[Ct]=bt,$[ht]=dt,Ct=ht):($[Ct]=ut,$[tt]=dt,Ct=tt);else if(ht<Mt&&0>o(bt,dt))$[Ct]=bt,$[ht]=dt,Ct=ht;else break t}}return rt}function o($,rt){var dt=$.sortIndex-rt.sortIndex;return dt!==0?dt:$.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],y=1,T=null,b=3,D=!1,j=!1,q=!1,L=!1,K=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function it($){for(var rt=e(g);rt!==null;){if(rt.callback===null)r(g);else if(rt.startTime<=$)r(g),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=e(g)}}function st($){if(q=!1,it($),!j)if(e(p)!==null)j=!0,ot||(ot=!0,k());else{var rt=e(g);rt!==null&&fe(st,rt.startTime-$)}}var ot=!1,R=-1,w=5,x=-1;function I(){return L?!0:!(n.unstable_now()-x<w)}function V(){if(L=!1,ot){var $=n.unstable_now();x=$;var rt=!0;try{t:{j=!1,q&&(q=!1,J(R),R=-1),D=!0;var dt=b;try{e:{for(it($),T=e(p);T!==null&&!(T.expirationTime>$&&I());){var Ct=T.callback;if(typeof Ct=="function"){T.callback=null,b=T.priorityLevel;var Mt=Ct(T.expirationTime<=$);if($=n.unstable_now(),typeof Mt=="function"){T.callback=Mt,it($),rt=!0;break e}T===e(p)&&r(p),it($)}else r(p);T=e(p)}if(T!==null)rt=!0;else{var P=e(g);P!==null&&fe(st,P.startTime-$),rt=!1}}break t}finally{T=null,b=dt,D=!1}rt=void 0}}finally{rt?k():ot=!1}}}var k;if(typeof B=="function")k=function(){B(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,qt=N.port2;N.port1.onmessage=V,k=function(){qt.postMessage(null)}}else k=function(){K(V,0)};function fe($,rt){R=K(function(){$(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var rt=3;break;default:rt=b}var dt=b;b=rt;try{return $()}finally{b=dt}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function($,rt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var dt=b;b=$;try{return rt()}finally{b=dt}},n.unstable_scheduleCallback=function($,rt,dt){var Ct=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ct+dt:Ct):dt=Ct,$){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=dt+Mt,$={id:y++,callback:rt,priorityLevel:$,startTime:dt,expirationTime:Mt,sortIndex:-1},dt>Ct?($.sortIndex=dt,t(g,$),e(p)===null&&$===e(g)&&(q?(J(R),R=-1):q=!0,fe(st,dt-Ct))):($.sortIndex=Mt,t(p,$),j||D||(j=!0,ot||(ot=!0,k()))),$},n.unstable_shouldYield=I,n.unstable_wrapCallback=function($){var rt=b;return function(){var dt=b;b=rt;try{return $.apply(this,arguments)}finally{b=dt}}}})(Jm)),Jm}var dT;function WR(){return dT||(dT=1,Wm.exports=$R()),Wm.exports}var Zm={exports:{}},en={};var mT;function JR(){if(mT)return en;mT=1;var n=Eg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,y)},en.flushSync=function(p){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=y,r.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,T=m(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:D}):y==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=m(y,g.crossOrigin);r.d.L(p,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},en.requestFormReset=function(p){r.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.0",en}var pT;function ZR(){if(pT)return Zm.exports;pT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Zm.exports=JR(),Zm.exports}var gT;function tC(){if(gT)return tu;gT=1;var n=WR(),t=Eg(),e=ZR();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),i;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),B=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function qt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case q:return"Fragment";case K:return"Profiler";case L:return"StrictMode";case st:return"Suspense";case ot:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case B:return i.displayName||"Context";case J:return(i._context.displayName||"Context")+".Consumer";case it:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:qt(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return qt(i(s))}catch{}}return null}var fe=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ct=[],Mt=-1;function P(i){return{current:i}}function tt(i){0>Mt||(i.current=Ct[Mt],Ct[Mt]=null,Mt--)}function ut(i,s){Mt++,Ct[Mt]=i.current,i.current=s}var ht=P(null),bt=P(null),It=P(null),Bt=P(null);function Oe(i,s){switch(ut(It,s),ut(bt,i),ut(ht,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?N_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=N_(s),i=V_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}tt(ht),ut(ht,i)}function oe(){tt(ht),tt(bt),tt(It)}function Nr(i){i.memoizedState!==null&&ut(Bt,i);var s=ht.current,a=V_(s,i.type);s!==a&&(ut(bt,i),ut(ht,a))}function Sa(i){bt.current===i&&(tt(ht),tt(bt)),Bt.current===i&&(tt(Bt),Xl._currentValue=dt)}var Aa,wa;function pi(i){if(Aa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Aa=s&&s[1]||"",wa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+i+wa}var Xo=!1;function Vr(i,s){if(!i||Xo)return"";Xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var G=Q}Reflect.construct(i,[],Z)}else{try{Z.call()}catch(Q){G=Q}i.call(Z.prototype)}}else{try{throw Error()}catch(Q){G=Q}(Z=i())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var M=_.split(`
`),H=S.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===H.length)for(l=M.length-1,f=H.length-1;1<=l&&0<=f&&M[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==H[f]){var X=`
`+M[l].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=l&&0<=f);break}}}finally{Xo=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?pi(a):""}function $o(i,s){switch(i.tag){case 26:case 27:case 5:return pi(i.type);case 16:return pi("Lazy");case 13:return i.child!==s&&s!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Vr(i.type,!1);case 11:return Vr(i.type.render,!1);case 1:return Vr(i.type,!0);case 31:return pi("Activity");default:return""}}function Wo(i){try{var s="",a=null;do s+=$o(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,Pe=n.unstable_scheduleCallback,bs=n.unstable_cancelCallback,$f=n.unstable_shouldYield,Xu=n.unstable_requestPaint,ln=n.unstable_now,Mr=n.unstable_getCurrentPriorityLevel,Jo=n.unstable_ImmediatePriority,Zo=n.unstable_UserBlockingPriority,Ss=n.unstable_NormalPriority,Wf=n.unstable_LowPriority,$u=n.unstable_IdlePriority,Wu=n.log,Ju=n.unstable_setDisableYieldValue,$n=null,Ge=null;function Mn(i){if(typeof Wu=="function"&&Ju(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode($n,i)}catch{}}var ge=Math.clz32?Math.clz32:tc,Zu=Math.log,xa=Math.LN2;function tc(i){return i>>>=0,i===0?32:31-(Zu(i)/xa|0)|0}var gi=256,Or=262144,Se=4194304;function yi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,d=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=yi(l):(_&=S,_!==0?f=yi(_):a||(a=S&~i,a!==0&&(f=yi(a))))):(S=l&~d,S!==0?f=yi(S):_!==0?f=yi(_):a||(a=l&~i,a!==0&&(f=yi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Wn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Jf(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var i=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),i}function _i(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Pr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Zf(i,s,a,l,f,d){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,M=i.expirationTimes,H=i.hiddenUpdates;for(a=_&~a;0<a;){var X=31-ge(a),Z=1<<X;S[X]=0,M[X]=-1;var G=H[X];if(G!==null)for(H[X]=null,X=0;X<G.length;X++){var Q=G[X];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&kr(i,l,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(_&~s))}function kr(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-ge(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function tl(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-ge(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function el(i,s){var a=s&-s;return a=(a&42)!==0?1:Lr(a),(a&(i.suspendedLanes|s))!==0?0:a}function Lr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Yi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nc(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:eT(i.type))}function Jn(i,s){var a=rt.p;try{return rt.p=i,s()}finally{rt.p=a}}var Zn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Zn,ze="__reactProps$"+Zn,Ti="__reactContainer$"+Zn,Ra="__reactEvents$"+Zn,td="__reactListeners$"+Zn,ic="__reactHandles$"+Zn,sc="__reactResources$"+Zn,Ei="__reactMarker$"+Zn;function Ca(i){delete i[Ae],delete i[ze],delete i[Ra],delete i[td],delete i[ic]}function bi(i){var s=i[Ae];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Ti]||a[Ae]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=j_(i);i!==null;){if(a=i[Ae])return a;i=j_(i)}return s}i=a,a=i.parentNode}return null}function On(i){if(i=i[Ae]||i[Ti]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Sn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Si(i){var s=i[sc];return s||(s=i[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function we(i){i[Ei]=!0}var nl=new Set,il={};function Ai(i,s){wi(i,s),wi(i+"Capture",s)}function wi(i,s){for(il[i]=s,i=0;i<s.length;i++)nl.add(s[i])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},al={};function rc(i){return be.call(al,i)?!0:be.call(rl,i)?!1:sl.test(i)?al[i]=!0:(rl[i]=!0,!1)}function Ia(i,s,a){if(rc(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function An(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function xe(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function Fe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function As(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ol(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Qt(i){if(!i._valueTracker){var s=As(i)?"checked":"value";i._valueTracker=ol(i,s,""+i[s])}}function Ur(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=As(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var jr=/[\n"\\]/g;function mn(i){return i.replace(jr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Da(i,s,a,l,f,d,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Fe(s)):i.value!==""+Fe(s)&&(i.value=""+Fe(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?ll(i,_,Fe(s)):a!=null?ll(i,_,Fe(a)):l!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Fe(S):i.removeAttribute("name")}function ac(i,s,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Qt(i);return}a=a!=null?""+Fe(a):"",s=s!=null?""+Fe(s):a,S||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Qt(i)}function ll(i,s,a){s==="number"&&xi(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ws(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function oc(i,s,a){if(s!=null&&(s=""+Fe(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+Fe(a):""}function xs(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Fe(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Qt(i)}function pn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||lc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function cl(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ul(i,f,l)}else for(var d in s)s.hasOwnProperty(d)&&ul(i,d,s[d])}function Na(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(i){return Rs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ti(){}var hl=null;function Pn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Cs=null,Ri=null;function Br(i){var s=On(i);if(s&&(i=s.stateNode)){var a=i[ze]||null;t:switch(i=s.stateNode,s.type){case"input":if(Da(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[ze]||null;if(!f)throw Error(r(90));Da(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Ur(l)}break t;case"textarea":oc(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&ws(i,!!a.multiple,s,!1)}}}var Ma=!1;function Is(i,s,a){if(Ma)return i(s,a);Ma=!0;try{var l=i(s);return l}finally{if(Ma=!1,(Cs!==null||Ri!==null)&&(nh(),Cs&&(s=Cs,i=Ri,Ri=Cs=null,Br(s),i)))for(s=0;s<i.length;s++)Br(i[s])}}function ei(i,s){var a=i.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(kn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){zr=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{zr=!1}var Ci=null,fl=null,Fr=null;function dl(){if(Fr)return Fr;var i,s=fl,a=s.length,l,f="value"in Ci?Ci.value:Ci.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var _=a-i;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Fr=f.slice(i,1<l?1-l:void 0)}function Hr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Qi(){return!0}function ni(){return!1}function Ke(i){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:ni,this.isPropagationStopped=ni,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ke(Xi),Ds=T({},Xi,{view:0,detail:0}),ml=Ke(Ds),Ns,Oa,Di,Pa=T({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Di&&(Di&&i.type==="mousemove"?(Ns=i.screenX-Di.screenX,Oa=i.screenY-Di.screenY):Oa=Ns=0,Di=i),Ns)},movementY:function(i){return"movementY"in i?i.movementY:Oa}}),pl=Ke(Pa),qr=T({},Pa,{dataTransfer:0}),cc=Ke(qr),hc=T({},Ds,{relatedTarget:0}),Gr=Ke(hc),gl=T({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=Ke(gl),ka=T({},Xi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dc=Ke(ka),mc=T({},Xi,{data:0}),Ni=Ke(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=yc[i])?!!s[i]:!1}function Vs(){return vc}var un=T({},Ds,{key:function(i){if(i.key){var s=pc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Hr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(i){return i.type==="keypress"?Hr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_c=Ke(un),Tc=T({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Ke(Tc),h=T({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),v=Ke(h),E=T({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ke(E),z=T({},Pa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ke(z),lt=T({},Xi,{newState:0,oldState:0}),xt=Ke(lt),ye=[9,13,27,32],Gt=kn&&"CompositionEvent"in window,le=null;kn&&"documentMode"in document&&(le=document.documentMode);var Ln=kn&&"TextEvent"in window&&!le,Vi=kn&&(!Gt||le&&8<le&&11>=le),ii=" ",si=!1;function Kr(i,s){switch(i){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ua=!1;function yx(i,s){switch(i){case"compositionend":return La(s);case"keypress":return s.which!==32?null:(si=!0,ii);case"textInput":return i=s.data,i===ii&&si?null:i;default:return null}}function vx(i,s){if(Ua)return i==="compositionend"||!Gt&&Kr(i,s)?(i=dl(),Fr=fl=Ci=null,Ua=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vi&&s.locale!=="ko"?null:s.data;default:return null}}var _x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!_x[i.type]:s==="textarea"}function Hy(i,s,a,l){Cs?Ri?Ri.push(l):Ri=[l]:Cs=l,s=uh(s,"onChange"),0<s.length&&(a=new Ii("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var yl=null,vl=null;function Tx(i){w_(i,0)}function Ec(i){var s=Sn(i);if(Ur(s))return i}function qy(i,s){if(i==="change")return s}var Gy=!1;if(kn){var ed;if(kn){var nd="oninput"in document;if(!nd){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),nd=typeof Ky.oninput=="function"}ed=nd}else ed=!1;Gy=ed&&(!document.documentMode||9<document.documentMode)}function Yy(){yl&&(yl.detachEvent("onpropertychange",Qy),vl=yl=null)}function Qy(i){if(i.propertyName==="value"&&Ec(vl)){var s=[];Hy(s,vl,i,Pn(i)),Is(Tx,s)}}function Ex(i,s,a){i==="focusin"?(Yy(),yl=s,vl=a,yl.attachEvent("onpropertychange",Qy)):i==="focusout"&&Yy()}function bx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ec(vl)}function Sx(i,s){if(i==="click")return Ec(s)}function Ax(i,s){if(i==="input"||i==="change")return Ec(s)}function wx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var wn=typeof Object.is=="function"?Object.is:wx;function _l(i,s){if(wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!be.call(s,f)||!wn(i[f],s[f]))return!1}return!0}function Xy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $y(i,s){var a=Xy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xy(a)}}function Wy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Wy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Jy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=xi(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=xi(i.document)}return s}function id(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var xx=kn&&"documentMode"in document&&11>=document.documentMode,ja=null,sd=null,Tl=null,rd=!1;function Zy(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rd||ja==null||ja!==xi(l)||(l=ja,"selectionStart"in l&&id(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&_l(Tl,l)||(Tl=l,l=uh(sd,"onSelect"),0<l.length&&(s=new Ii("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=ja)))}function Yr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Ba={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},ad={},t0={};kn&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Qr(i){if(ad[i])return ad[i];if(!Ba[i])return i;var s=Ba[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in t0)return ad[i]=s[a];return i}var e0=Qr("animationend"),n0=Qr("animationiteration"),i0=Qr("animationstart"),Rx=Qr("transitionrun"),Cx=Qr("transitionstart"),Ix=Qr("transitioncancel"),s0=Qr("transitionend"),r0=new Map,od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");od.push("scrollEnd");function ri(i,s){r0.set(i,s),Ai(s,[i])}var bc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Un=[],za=0,ld=0;function Sc(){for(var i=za,s=ld=za=0;s<i;){var a=Un[s];Un[s++]=null;var l=Un[s];Un[s++]=null;var f=Un[s];Un[s++]=null;var d=Un[s];if(Un[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&a0(a,f,d)}}function Ac(i,s,a,l){Un[za++]=i,Un[za++]=s,Un[za++]=a,Un[za++]=l,ld|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function ud(i,s,a,l){return Ac(i,s,a,l),wc(i)}function Xr(i,s){return Ac(i,null,null,s),wc(i)}function a0(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-ge(a),i=d.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function wc(i){if(50<Fl)throw Fl=0,vm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Fa={};function Dx(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(i,s,a,l){return new Dx(i,s,a,l)}function cd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wi(i,s){var a=i.alternate;return a===null?(a=xn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function o0(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function xc(i,s,a,l,f,d){var _=0;if(l=i,typeof i=="function")cd(i)&&(_=1);else if(typeof i=="string")_=PR(i,a,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=xn(31,a,s,f),i.elementType=x,i.lanes=d,i;case q:return $r(a.children,f,d,s);case L:_=8,f|=24;break;case K:return i=xn(12,a,s,f|2),i.elementType=K,i.lanes=d,i;case st:return i=xn(13,a,s,f),i.elementType=st,i.lanes=d,i;case ot:return i=xn(19,a,s,f),i.elementType=ot,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:_=10;break t;case J:_=9;break t;case it:_=11;break t;case R:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=xn(_,a,s,f),s.elementType=i,s.type=l,s.lanes=d,s}function $r(i,s,a,l){return i=xn(7,i,l,s),i.lanes=a,i}function hd(i,s,a){return i=xn(6,i,null,s),i.lanes=a,i}function l0(i){var s=xn(18,null,null,0);return s.stateNode=i,s}function fd(i,s,a){return s=xn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var u0=new WeakMap;function jn(i,s){if(typeof i=="object"&&i!==null){var a=u0.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Wo(s)},u0.set(i,s),s)}return{value:i,source:s,stack:Wo(s)}}var Ha=[],qa=0,Rc=null,El=0,Bn=[],zn=0,Ms=null,Mi=1,Oi="";function Ji(i,s){Ha[qa++]=El,Ha[qa++]=Rc,Rc=i,El=s}function c0(i,s,a){Bn[zn++]=Mi,Bn[zn++]=Oi,Bn[zn++]=Ms,Ms=i;var l=Mi;i=Oi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var d=32-ge(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Mi=1<<32-ge(s)+f|a<<f|l,Oi=d+i}else Mi=1<<d|a<<f|l,Oi=i}function dd(i){i.return!==null&&(Ji(i,1),c0(i,1,0))}function md(i){for(;i===Rc;)Rc=Ha[--qa],Ha[qa]=null,El=Ha[--qa],Ha[qa]=null;for(;i===Ms;)Ms=Bn[--zn],Bn[zn]=null,Oi=Bn[--zn],Bn[zn]=null,Mi=Bn[--zn],Bn[zn]=null}function h0(i,s){Bn[zn++]=Mi,Bn[zn++]=Oi,Bn[zn++]=Ms,Mi=s.id,Oi=s.overflow,Ms=i}var Ye=null,ne=null,jt=!1,Os=null,Fn=!1,pd=Error(r(519));function Ps(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(jn(s,i)),pd}function f0(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Ae]=i,s[ze]=l,a){case"dialog":Vt("cancel",s),Vt("close",s);break;case"iframe":case"object":case"embed":Vt("load",s);break;case"video":case"audio":for(a=0;a<ql.length;a++)Vt(ql[a],s);break;case"source":Vt("error",s);break;case"img":case"image":case"link":Vt("error",s),Vt("load",s);break;case"details":Vt("toggle",s);break;case"input":Vt("invalid",s),ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",s);break;case"textarea":Vt("invalid",s),xs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||I_(s.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",s),Vt("toggle",s)),l.onScroll!=null&&Vt("scroll",s),l.onScrollEnd!=null&&Vt("scrollend",s),l.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||Ps(i,!0)}function d0(i){for(Ye=i.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ye=Ye.return}}function Ga(i){if(i!==Ye)return!1;if(!jt)return d0(i),jt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Mm(i.type,i.memoizedProps)),a=!a),a&&ne&&Ps(i),d0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ne=U_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ne=U_(i)}else s===27?(s=ne,Xs(i.type)?(i=Um,Um=null,ne=i):ne=s):ne=Ye?qn(i.stateNode.nextSibling):null;return!0}function Wr(){ne=Ye=null,jt=!1}function gd(){var i=Os;return i!==null&&(_n===null?_n=i:_n.push.apply(_n,i),Os=null),i}function bl(i){Os===null?Os=[i]:Os.push(i)}var yd=P(null),Jr=null,Zi=null;function ks(i,s,a){ut(yd,s._currentValue),s._currentValue=a}function ts(i){i._currentValue=yd.current,tt(yd)}function vd(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function _d(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var M=0;M<s.length;M++)if(S.context===s[M]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),vd(d.return,a,i),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),vd(_,a,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ka(i,s,a,l){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;wn(f.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(f===Bt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Xl):i=[Xl])}f=f.return}i!==null&&_d(s,i,a,l),s.flags|=262144}function Cc(i){for(i=i.firstContext;i!==null;){if(!wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Zr(i){Jr=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qe(i){return m0(Jr,i)}function Ic(i,s){return Jr===null&&Zr(i),m0(i,s)}function m0(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Zi===null){if(i===null)throw Error(r(308));Zi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Zi=Zi.next=s;return a}var Nx=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},Vx=n.unstable_scheduleCallback,Mx=n.unstable_NormalPriority,Re={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Td(){return{controller:new Nx,data:new Map,refCount:0}}function Sl(i){i.refCount--,i.refCount===0&&Vx(Mx,function(){i.controller.abort()})}var Al=null,Ed=0,Ya=0,Qa=null;function Ox(i,s){if(Al===null){var a=Al=[];Ed=0,Ya=Am(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ed++,s.then(p0,p0),s}function p0(){if(--Ed===0&&Al!==null){Qa!==null&&(Qa.status="fulfilled");var i=Al;Al=null,Ya=0,Qa=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Px(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var g0=$.S;$.S=function(i,s){Zv=ln(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ox(i,s),g0!==null&&g0(i,s)};var ta=P(null);function bd(){var i=ta.current;return i!==null?i:ee.pooledCache}function Dc(i,s){s===null?ut(ta,ta.current):ut(ta,s.pool)}function y0(){var i=bd();return i===null?null:{parent:Re._currentValue,pool:i}}var Xa=Error(r(460)),Sd=Error(r(474)),Nc=Error(r(542)),Vc={then:function(){}};function v0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _0(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(ti,ti),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,E0(i),i;default:if(typeof s.status=="string")s.then(ti,ti);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,E0(i),i}throw na=s,Xa}}function ea(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,Xa):a}}var na=null;function T0(){if(na===null)throw Error(r(459));var i=na;return na=null,i}function E0(i){if(i===Xa||i===Nc)throw Error(r(483))}var $a=null,wl=0;function Mc(i){var s=wl;return wl+=1,$a===null&&($a=[]),_0($a,i,s)}function xl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Oc(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function b0(i){function s(U,O){if(i){var F=U.deletions;F===null?(U.deletions=[O],U.flags|=16):F.push(O)}}function a(U,O){if(!i)return null;for(;O!==null;)s(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function f(U,O){return U=Wi(U,O),U.index=0,U.sibling=null,U}function d(U,O,F){return U.index=F,i?(F=U.alternate,F!==null?(F=F.index,F<O?(U.flags|=67108866,O):F):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function S(U,O,F,W){return O===null||O.tag!==6?(O=hd(F,U.mode,W),O.return=U,O):(O=f(O,F),O.return=U,O)}function M(U,O,F,W){var yt=F.type;return yt===q?X(U,O,F.props.children,W,F.key):O!==null&&(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&ea(yt)===O.type)?(O=f(O,F.props),xl(O,F),O.return=U,O):(O=xc(F.type,F.key,F.props,null,U.mode,W),xl(O,F),O.return=U,O)}function H(U,O,F,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=fd(F,U.mode,W),O.return=U,O):(O=f(O,F.children||[]),O.return=U,O)}function X(U,O,F,W,yt){return O===null||O.tag!==7?(O=$r(F,U.mode,W,yt),O.return=U,O):(O=f(O,F),O.return=U,O)}function Z(U,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=hd(""+O,U.mode,F),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return F=xc(O.type,O.key,O.props,null,U.mode,F),xl(F,O),F.return=U,F;case j:return O=fd(O,U.mode,F),O.return=U,O;case w:return O=ea(O),Z(U,O,F)}if(fe(O)||k(O))return O=$r(O,U.mode,F,null),O.return=U,O;if(typeof O.then=="function")return Z(U,Mc(O),F);if(O.$$typeof===B)return Z(U,Ic(U,O),F);Oc(U,O)}return null}function G(U,O,F,W){var yt=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return yt!==null?null:S(U,O,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return F.key===yt?M(U,O,F,W):null;case j:return F.key===yt?H(U,O,F,W):null;case w:return F=ea(F),G(U,O,F,W)}if(fe(F)||k(F))return yt!==null?null:X(U,O,F,W,null);if(typeof F.then=="function")return G(U,O,Mc(F),W);if(F.$$typeof===B)return G(U,O,Ic(U,F),W);Oc(U,F)}return null}function Q(U,O,F,W,yt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(F)||null,S(O,U,""+W,yt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return U=U.get(W.key===null?F:W.key)||null,M(O,U,W,yt);case j:return U=U.get(W.key===null?F:W.key)||null,H(O,U,W,yt);case w:return W=ea(W),Q(U,O,F,W,yt)}if(fe(W)||k(W))return U=U.get(F)||null,X(O,U,W,yt,null);if(typeof W.then=="function")return Q(U,O,F,Mc(W),yt);if(W.$$typeof===B)return Q(U,O,F,Ic(O,W),yt);Oc(O,W)}return null}function mt(U,O,F,W){for(var yt=null,Ft=null,pt=O,Dt=O=0,Pt=null;pt!==null&&Dt<F.length;Dt++){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var Ht=G(U,pt,F[Dt],W);if(Ht===null){pt===null&&(pt=Pt);break}i&&pt&&Ht.alternate===null&&s(U,pt),O=d(Ht,O,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht,pt=Pt}if(Dt===F.length)return a(U,pt),jt&&Ji(U,Dt),yt;if(pt===null){for(;Dt<F.length;Dt++)pt=Z(U,F[Dt],W),pt!==null&&(O=d(pt,O,Dt),Ft===null?yt=pt:Ft.sibling=pt,Ft=pt);return jt&&Ji(U,Dt),yt}for(pt=l(pt);Dt<F.length;Dt++)Pt=Q(pt,U,Dt,F[Dt],W),Pt!==null&&(i&&Pt.alternate!==null&&pt.delete(Pt.key===null?Dt:Pt.key),O=d(Pt,O,Dt),Ft===null?yt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&pt.forEach(function(tr){return s(U,tr)}),jt&&Ji(U,Dt),yt}function _t(U,O,F,W){if(F==null)throw Error(r(151));for(var yt=null,Ft=null,pt=O,Dt=O=0,Pt=null,Ht=F.next();pt!==null&&!Ht.done;Dt++,Ht=F.next()){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var tr=G(U,pt,Ht.value,W);if(tr===null){pt===null&&(pt=Pt);break}i&&pt&&tr.alternate===null&&s(U,pt),O=d(tr,O,Dt),Ft===null?yt=tr:Ft.sibling=tr,Ft=tr,pt=Pt}if(Ht.done)return a(U,pt),jt&&Ji(U,Dt),yt;if(pt===null){for(;!Ht.done;Dt++,Ht=F.next())Ht=Z(U,Ht.value,W),Ht!==null&&(O=d(Ht,O,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return jt&&Ji(U,Dt),yt}for(pt=l(pt);!Ht.done;Dt++,Ht=F.next())Ht=Q(pt,U,Dt,Ht.value,W),Ht!==null&&(i&&Ht.alternate!==null&&pt.delete(Ht.key===null?Dt:Ht.key),O=d(Ht,O,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&pt.forEach(function(KR){return s(U,KR)}),jt&&Ji(U,Dt),yt}function te(U,O,F,W){if(typeof F=="object"&&F!==null&&F.type===q&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case D:t:{for(var yt=F.key;O!==null;){if(O.key===yt){if(yt=F.type,yt===q){if(O.tag===7){a(U,O.sibling),W=f(O,F.props.children),W.return=U,U=W;break t}}else if(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&ea(yt)===O.type){a(U,O.sibling),W=f(O,F.props),xl(W,F),W.return=U,U=W;break t}a(U,O);break}else s(U,O);O=O.sibling}F.type===q?(W=$r(F.props.children,U.mode,W,F.key),W.return=U,U=W):(W=xc(F.type,F.key,F.props,null,U.mode,W),xl(W,F),W.return=U,U=W)}return _(U);case j:t:{for(yt=F.key;O!==null;){if(O.key===yt)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){a(U,O.sibling),W=f(O,F.children||[]),W.return=U,U=W;break t}else{a(U,O);break}else s(U,O);O=O.sibling}W=fd(F,U.mode,W),W.return=U,U=W}return _(U);case w:return F=ea(F),te(U,O,F,W)}if(fe(F))return mt(U,O,F,W);if(k(F)){if(yt=k(F),typeof yt!="function")throw Error(r(150));return F=yt.call(F),_t(U,O,F,W)}if(typeof F.then=="function")return te(U,O,Mc(F),W);if(F.$$typeof===B)return te(U,O,Ic(U,F),W);Oc(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(a(U,O.sibling),W=f(O,F),W.return=U,U=W):(a(U,O),W=hd(F,U.mode,W),W.return=U,U=W),_(U)):a(U,O)}return function(U,O,F,W){try{wl=0;var yt=te(U,O,F,W);return $a=null,yt}catch(pt){if(pt===Xa||pt===Nc)throw pt;var Ft=xn(29,pt,null,U.mode);return Ft.lanes=W,Ft.return=U,Ft}finally{}}}var ia=b0(!0),S0=b0(!1),Ls=!1;function Ad(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Us(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function js(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=wc(i),a0(i,null,a),s}return Ac(i,l,s,a),wc(i)}function Rl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,tl(i,a)}}function xd(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Rd=!1;function Cl(){if(Rd){var i=Qa;if(i!==null)throw i}}function Il(i,s,a,l){Rd=!1;var f=i.updateQueue;Ls=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,H=M.next;M.next=null,_===null?d=H:_.next=H,_=M;var X=i.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=M))}if(d!==null){var Z=f.baseState;_=0,X=H=M=null,S=d;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(Ot&G)===G:(l&G)===G){G!==0&&G===Ya&&(Rd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=i,_t=S;G=s;var te=a;switch(_t.tag){case 1:if(mt=_t.payload,typeof mt=="function"){Z=mt.call(te,Z,G);break t}Z=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=_t.payload,G=typeof mt=="function"?mt.call(te,Z,G):mt,G==null)break t;Z=T({},Z,G);break t;case 2:Ls=!0}}G=S.callback,G!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=Q,M=Z):X=X.next=Q,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(M=Z),f.baseState=M,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),qs|=_,i.lanes=_,i.memoizedState=Z}}function A0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function w0(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)A0(a[i],s)}var Wa=P(null),Pc=P(0);function x0(i,s){i=us,ut(Pc,i),ut(Wa,s),us=i|s.baseLanes}function Cd(){ut(Pc,us),ut(Wa,Wa.current)}function Id(){us=Pc.current,tt(Wa),tt(Pc)}var Rn=P(null),Hn=null;function Bs(i){var s=i.alternate;ut(ve,ve.current&1),ut(Rn,i),Hn===null&&(s===null||Wa.current!==null||s.memoizedState!==null)&&(Hn=i)}function Dd(i){ut(ve,ve.current),ut(Rn,i),Hn===null&&(Hn=i)}function R0(i){i.tag===22?(ut(ve,ve.current),ut(Rn,i),Hn===null&&(Hn=i)):zs()}function zs(){ut(ve,ve.current),ut(Rn,Rn.current)}function Cn(i){tt(Rn),Hn===i&&(Hn=null),tt(ve)}var ve=P(0);function kc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||km(a)||Lm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var es=0,Rt=null,Jt=null,Ce=null,Lc=!1,Ja=!1,sa=!1,Uc=0,Dl=0,Za=null,kx=0;function de(){throw Error(r(321))}function Nd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!wn(i[a],s[a]))return!1;return!0}function Vd(i,s,a,l,f,d){return es=d,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=i===null||i.memoizedState===null?cv:Yd,sa=!1,d=a(l,f),sa=!1,Ja&&(d=I0(s,a,l,f)),C0(i),d}function C0(i){$.H=Ml;var s=Jt!==null&&Jt.next!==null;if(es=0,Ce=Jt=Rt=null,Lc=!1,Dl=0,Za=null,s)throw Error(r(300));i===null||Ie||(i=i.dependencies,i!==null&&Cc(i)&&(Ie=!0))}function I0(i,s,a,l){Rt=i;var f=0;do{if(Ja&&(Za=null),Dl=0,Ja=!1,25<=f)throw Error(r(301));if(f+=1,Ce=Jt=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=hv,d=s(a,l)}while(Ja);return d}function Lx(){var i=$.H,s=i.useState()[0];return s=typeof s.then=="function"?Nl(s):s,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Rt.flags|=1024),s}function Md(){var i=Uc!==0;return Uc=0,i}function Od(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Pd(i){if(Lc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Lc=!1}es=0,Ce=Jt=Rt=null,Ja=!1,Dl=Uc=0,Za=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Rt.memoizedState=Ce=i:Ce=Ce.next=i,Ce}function _e(){if(Jt===null){var i=Rt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var s=Ce===null?Rt.memoizedState:Ce.next;if(s!==null)Ce=s,Jt=i;else{if(i===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ce===null?Rt.memoizedState=Ce=i:Ce=Ce.next=i}return Ce}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(i){var s=Dl;return Dl+=1,Za===null&&(Za=[]),i=_0(Za,i,s),s=Rt,(Ce===null?s.memoizedState:Ce.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?cv:Yd),i}function Bc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nl(i);if(i.$$typeof===B)return Qe(i)}throw Error(r(438,String(i)))}function kd(i){var s=null,a=Rt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=jc(),Rt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=I;return s.index++,a}function ns(i,s){return typeof s=="function"?s(i):s}function zc(i){var s=_e();return Ld(s,Jt,i)}function Ld(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var S=_=null,M=null,H=s,X=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(Ot&Z)===Z:(es&Z)===Z){var G=H.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===Ya&&(X=!0);else if((es&G)===G){H=H.next,G===Ya&&(X=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(S=M=Z,_=d):M=M.next=Z,Rt.lanes|=G,qs|=G;Z=H.action,sa&&a(d,Z),d=H.hasEagerState?H.eagerState:a(d,Z)}else G={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(S=M=G,_=d):M=M.next=G,Rt.lanes|=Z,qs|=Z;H=H.next}while(H!==null&&H!==s);if(M===null?_=d:M.next=S,!wn(d,i.memoizedState)&&(Ie=!0,X&&(a=Qa,a!==null)))throw a;i.memoizedState=d,i.baseState=_,i.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Ud(i){var s=_e(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=i(d,_.action),_=_.next;while(_!==f);wn(d,s.memoizedState)||(Ie=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function D0(i,s,a){var l=Rt,f=_e(),d=jt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!wn((Jt||f).memoizedState,a);if(_&&(f.memoizedState=a,Ie=!0),f=f.queue,zd(M0.bind(null,l,f,i),[i]),f.getSnapshot!==s||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,to(9,{destroy:void 0},V0.bind(null,l,f,a,s),null),ee===null)throw Error(r(349));d||(es&127)!==0||N0(l,s,a)}return a}function N0(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Rt.updateQueue,s===null?(s=jc(),Rt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function V0(i,s,a,l){s.value=a,s.getSnapshot=l,O0(s)&&P0(i)}function M0(i,s,a){return a(function(){O0(s)&&P0(i)})}function O0(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!wn(i,a)}catch{return!0}}function P0(i){var s=Xr(i,2);s!==null&&Tn(s,i,2)}function jd(i){var s=cn();if(typeof i=="function"){var a=i;if(i=a(),sa){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:i},s}function k0(i,s,a,l){return i.baseState=a,Ld(i,Jt,typeof l=="function"?l:ns)}function Ux(i,s,a,l,f){if(qc(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,L0(s,d)):(d.next=a.next,s.pending=a.next=d)}}function L0(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var d=$.T,_={};$.T=_;try{var S=a(f,l),M=$.S;M!==null&&M(_,S),U0(i,s,S)}catch(H){Bd(i,s,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),U0(i,s,d)}catch(H){Bd(i,s,H)}}function U0(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){j0(i,s,l)},function(l){return Bd(i,s,l)}):j0(i,s,a)}function j0(i,s,a){s.status="fulfilled",s.value=a,B0(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,L0(i,a)))}function Bd(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,B0(s),s=s.next;while(s!==l)}i.action=null}function B0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function z0(i,s){return s}function F0(i,s){if(jt){var a=ee.formState;if(a!==null){t:{var l=Rt;if(jt){if(ne){e:{for(var f=ne,d=Fn;f.nodeType!==8;){if(!d){f=null;break e}if(f=qn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ne=qn(f.nextSibling),l=f.data==="F!";break t}}Ps(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z0,lastRenderedState:s},a.queue=l,a=ov.bind(null,Rt,l),l.dispatch=a,l=jd(!1),d=Kd.bind(null,Rt,!1,l.queue),l=cn(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=Ux.bind(null,Rt,f,d,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function H0(i){var s=_e();return q0(s,Jt,i)}function q0(i,s,a){if(s=Ld(i,s,z0)[0],i=zc(ns)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Nl(s)}catch(_){throw _===Xa?Nc:_}else l=s;s=_e();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Rt.flags|=2048,to(9,{destroy:void 0},jx.bind(null,f,a),null)),[l,d,i]}function jx(i,s){i.action=s}function G0(i){var s=_e(),a=Jt;if(a!==null)return q0(s,a,i);_e(),s=s.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function to(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Rt.updateQueue,s===null&&(s=jc(),Rt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function K0(){return _e().memoizedState}function Fc(i,s,a,l){var f=cn();Rt.flags|=i,f.memoizedState=to(1|s,{destroy:void 0},a,l===void 0?null:l)}function Hc(i,s,a,l){var f=_e();l=l===void 0?null:l;var d=f.memoizedState.inst;Jt!==null&&l!==null&&Nd(l,Jt.memoizedState.deps)?f.memoizedState=to(s,d,a,l):(Rt.flags|=i,f.memoizedState=to(1|s,d,a,l))}function Y0(i,s){Fc(8390656,8,i,s)}function zd(i,s){Hc(2048,8,i,s)}function Bx(i){Rt.flags|=4;var s=Rt.updateQueue;if(s===null)s=jc(),Rt.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function Q0(i){var s=_e().memoizedState;return Bx({ref:s,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function X0(i,s){return Hc(4,2,i,s)}function $0(i,s){return Hc(4,4,i,s)}function W0(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function J0(i,s,a){a=a!=null?a.concat([i]):null,Hc(4,4,W0.bind(null,s,i),a)}function Fd(){}function Z0(i,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Nd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function tv(i,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Nd(s,l[1]))return l[0];if(l=i(),sa){Mn(!0);try{i()}finally{Mn(!1)}}return a.memoizedState=[l,s],l}function Hd(i,s,a){return a===void 0||(es&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=e_(),Rt.lanes|=i,qs|=i,a)}function ev(i,s,a,l){return wn(a,s)?a:Wa.current!==null?(i=Hd(i,a,l),wn(i,s)||(Ie=!0),i):(es&42)===0||(es&1073741824)!==0&&(Ot&261930)===0?(Ie=!0,i.memoizedState=a):(i=e_(),Rt.lanes|=i,qs|=i,s)}function nv(i,s,a,l,f){var d=rt.p;rt.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,Kd(i,!1,s,a);try{var M=f(),H=$.S;if(H!==null&&H(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=Px(M,l);Vl(i,s,X,Nn(i))}else Vl(i,s,l,Nn(i))}catch(Z){Vl(i,s,{then:function(){},status:"rejected",reason:Z},Nn())}finally{rt.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function zx(){}function qd(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=iv(i).queue;nv(i,f,s,dt,a===null?zx:function(){return sv(i),a(l)})}function iv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:dt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function sv(i){var s=iv(i);s.next===null&&(s=i.alternate.memoizedState),Vl(i,s.next.queue,{},Nn())}function Gd(){return Qe(Xl)}function rv(){return _e().memoizedState}function av(){return _e().memoizedState}function Fx(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Nn();i=Us(a);var l=js(s,i,a);l!==null&&(Tn(l,s,a),Rl(l,s,a)),s={cache:Td()},i.payload=s;return}s=s.return}}function Hx(i,s,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(i)?lv(s,a):(a=ud(i,s,a,l),a!==null&&(Tn(a,i,l),uv(a,s,l)))}function ov(i,s,a){var l=Nn();Vl(i,s,a,l)}function Vl(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(i))lv(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,wn(S,_))return Ac(i,s,f,0),ee===null&&Sc(),!1}catch{}finally{}if(a=ud(i,s,f,l),a!==null)return Tn(a,i,l),uv(a,s,l),!0}return!1}function Kd(i,s,a,l){if(l={lane:2,revertLane:Am(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(i)){if(s)throw Error(r(479))}else s=ud(i,a,l,2),s!==null&&Tn(s,i,2)}function qc(i){var s=i.alternate;return i===Rt||s!==null&&s===Rt}function lv(i,s){Ja=Lc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function uv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,tl(i,a)}}var Ml={readContext:Qe,use:Bc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Ml.useEffectEvent=de;var cv={readContext:Qe,use:Bc,useCallback:function(i,s){return cn().memoizedState=[i,s===void 0?null:s],i},useContext:Qe,useEffect:Y0,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Fc(4194308,4,W0.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Fc(4194308,4,i,s)},useInsertionEffect:function(i,s){Fc(4,2,i,s)},useMemo:function(i,s){var a=cn();s=s===void 0?null:s;var l=i();if(sa){Mn(!0);try{i()}finally{Mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=cn();if(a!==void 0){var f=a(s);if(sa){Mn(!0);try{a(s)}finally{Mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=Hx.bind(null,Rt,i),[l.memoizedState,i]},useRef:function(i){var s=cn();return i={current:i},s.memoizedState=i},useState:function(i){i=jd(i);var s=i.queue,a=ov.bind(null,Rt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Fd,useDeferredValue:function(i,s){var a=cn();return Hd(a,i,s)},useTransition:function(){var i=jd(!1);return i=nv.bind(null,Rt,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Rt,f=cn();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ee===null)throw Error(r(349));(Ot&127)!==0||N0(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Y0(M0.bind(null,l,d,i),[i]),l.flags|=2048,to(9,{destroy:void 0},V0.bind(null,l,d,a,s),null),a},useId:function(){var i=cn(),s=ee.identifierPrefix;if(jt){var a=Oi,l=Mi;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Uc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=kx++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Gd,useFormState:F0,useActionState:F0,useOptimistic:function(i){var s=cn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Kd.bind(null,Rt,!0,a),a.dispatch=s,[i,s]},useMemoCache:kd,useCacheRefresh:function(){return cn().memoizedState=Fx.bind(null,Rt)},useEffectEvent:function(i){var s=cn(),a={impl:i};return s.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yd={readContext:Qe,use:Bc,useCallback:Z0,useContext:Qe,useEffect:zd,useImperativeHandle:J0,useInsertionEffect:X0,useLayoutEffect:$0,useMemo:tv,useReducer:zc,useRef:K0,useState:function(){return zc(ns)},useDebugValue:Fd,useDeferredValue:function(i,s){var a=_e();return ev(a,Jt.memoizedState,i,s)},useTransition:function(){var i=zc(ns)[0],s=_e().memoizedState;return[typeof i=="boolean"?i:Nl(i),s]},useSyncExternalStore:D0,useId:rv,useHostTransitionStatus:Gd,useFormState:H0,useActionState:H0,useOptimistic:function(i,s){var a=_e();return k0(a,Jt,i,s)},useMemoCache:kd,useCacheRefresh:av};Yd.useEffectEvent=Q0;var hv={readContext:Qe,use:Bc,useCallback:Z0,useContext:Qe,useEffect:zd,useImperativeHandle:J0,useInsertionEffect:X0,useLayoutEffect:$0,useMemo:tv,useReducer:Ud,useRef:K0,useState:function(){return Ud(ns)},useDebugValue:Fd,useDeferredValue:function(i,s){var a=_e();return Jt===null?Hd(a,i,s):ev(a,Jt.memoizedState,i,s)},useTransition:function(){var i=Ud(ns)[0],s=_e().memoizedState;return[typeof i=="boolean"?i:Nl(i),s]},useSyncExternalStore:D0,useId:rv,useHostTransitionStatus:Gd,useFormState:G0,useActionState:G0,useOptimistic:function(i,s){var a=_e();return Jt!==null?k0(a,Jt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:kd,useCacheRefresh:av};hv.useEffectEvent=Q0;function Qd(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Xd={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Nn(),f=Us(l);f.payload=s,a!=null&&(f.callback=a),s=js(i,f,l),s!==null&&(Tn(s,i,l),Rl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Nn(),f=Us(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=js(i,f,l),s!==null&&(Tn(s,i,l),Rl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Nn(),l=Us(a);l.tag=2,s!=null&&(l.callback=s),s=js(i,l,a),s!==null&&(Tn(s,i,a),Rl(s,i,a))}};function fv(i,s,a,l,f,d,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!_l(a,l)||!_l(f,d):!0}function dv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Xd.enqueueReplaceState(s,s.state,null)}function ra(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=T({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function mv(i){bc(i)}function pv(i){console.error(i)}function gv(i){bc(i)}function Gc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function yv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $d(i,s,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(i,s)},a}function vv(i){return i=Us(i),i.tag=3,i}function _v(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;i.payload=function(){return f(d)},i.callback=function(){yv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){yv(s,a,l),typeof f!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function qx(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ka(s,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?ih():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Em(i,l,f)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Em(i,l,f)),!1}throw Error(r(435,a.tag))}return Em(i,l,f),ih(),!1}if(jt)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==pd&&(i=Error(r(422),{cause:l}),bl(jn(i,a)))):(l!==pd&&(s=Error(r(423),{cause:l}),bl(jn(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=jn(l,a),f=$d(i.stateNode,l,f),xd(i,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=jn(d,a),zl===null?zl=[d]:zl.push(d),me!==4&&(me=2),s===null)return!0;l=jn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=$d(a.stateNode,l,i),xd(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gs===null||!Gs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=vv(f),_v(f,i,a,l),xd(a,f),!1}a=a.return}while(a!==null);return!1}var Wd=Error(r(461)),Ie=!1;function Xe(i,s,a,l){s.child=i===null?S0(s,null,a,l):ia(s,i.child,a,l)}function Tv(i,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Zr(s),l=Vd(i,s,a,_,d,f),S=Md(),i!==null&&!Ie?(Od(i,s,f),is(i,s,f)):(jt&&S&&dd(s),s.flags|=1,Xe(i,s,l,f),s.child)}function Ev(i,s,a,l,f){if(i===null){var d=a.type;return typeof d=="function"&&!cd(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,bv(i,s,d,l,f)):(i=xc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!rm(i,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(_,l)&&i.ref===s.ref)return is(i,s,f)}return s.flags|=1,i=Wi(d,l),i.ref=s.ref,i.return=s,s.child=i}function bv(i,s,a,l,f){if(i!==null){var d=i.memoizedProps;if(_l(d,l)&&i.ref===s.ref)if(Ie=!1,s.pendingProps=l=d,rm(i,f))(i.flags&131072)!==0&&(Ie=!0);else return s.lanes=i.lanes,is(i,s,f)}return Jd(i,s,a,l,f)}function Sv(i,s,a,l){var f=l.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return Av(i,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Dc(s,d!==null?d.cachePool:null),d!==null?x0(s,d):Cd(),R0(s);else return l=s.lanes=536870912,Av(i,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Dc(s,d.cachePool),x0(s,d),zs(),s.memoizedState=null):(i!==null&&Dc(s,null),Cd(),zs());return Xe(i,s,f,a),s.child}function Ol(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Av(i,s,a,l,f){var d=bd();return d=d===null?null:{parent:Re._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&Dc(s,null),Cd(),R0(s),i!==null&&Ka(i,s,l,!0),s.childLanes=f,null}function Kc(i,s){return s=Qc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function wv(i,s,a){return ia(s,i.child,null,a),i=Kc(s,s.pendingProps),i.flags|=2,Cn(s),s.memoizedState=null,i}function Gx(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(jt){if(l.mode==="hidden")return i=Kc(s,l),s.lanes=536870912,Ol(null,i);if(Dd(s),(i=ne)?(i=L_(i,Fn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ms!==null?{id:Mi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=l0(i),a.return=s,s.child=a,Ye=s,ne=null)):i=null,i===null)throw Ps(s);return s.lanes=536870912,null}return Kc(s,l)}var d=i.memoizedState;if(d!==null){var _=d.dehydrated;if(Dd(s),f)if(s.flags&256)s.flags&=-257,s=wv(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ie||Ka(i,s,a,!1),f=(a&i.childLanes)!==0,Ie||f){if(l=ee,l!==null&&(_=el(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Xr(i,_),Tn(l,i,_),Wd;ih(),s=wv(i,s,a)}else i=d.treeContext,ne=qn(_.nextSibling),Ye=s,jt=!0,Os=null,Fn=!1,i!==null&&h0(s,i),s=Kc(s,l),s.flags|=4096;return s}return i=Wi(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Yc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Jd(i,s,a,l,f){return Zr(s),a=Vd(i,s,a,l,void 0,f),l=Md(),i!==null&&!Ie?(Od(i,s,f),is(i,s,f)):(jt&&l&&dd(s),s.flags|=1,Xe(i,s,a,f),s.child)}function xv(i,s,a,l,f,d){return Zr(s),s.updateQueue=null,a=I0(s,l,a,f),C0(i),l=Md(),i!==null&&!Ie?(Od(i,s,d),is(i,s,d)):(jt&&l&&dd(s),s.flags|=1,Xe(i,s,a,d),s.child)}function Rv(i,s,a,l,f){if(Zr(s),s.stateNode===null){var d=Fa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qe(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Ad(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qe(_):Fa,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Xd.enqueueReplaceState(d,d.state,null),Il(s,l,d,f),Cl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){d=s.stateNode;var S=s.memoizedProps,M=ra(a,S);d.props=M;var H=d.context,X=a.contextType;_=Fa,typeof X=="object"&&X!==null&&(_=Qe(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&dv(s,d,l,_),Ls=!1;var G=s.memoizedState;d.state=G,Il(s,l,d,f),Cl(),H=s.memoizedState,S||G!==H||Ls?(typeof Z=="function"&&(Qd(s,a,Z,l),H=s.memoizedState),(M=Ls||fv(s,a,M,l,G,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=_,l=M):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,wd(i,s),_=s.memoizedProps,X=ra(a,_),d.props=X,Z=s.pendingProps,G=d.context,H=a.contextType,M=Fa,typeof H=="object"&&H!==null&&(M=Qe(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||G!==M)&&dv(s,d,l,M),Ls=!1,G=s.memoizedState,d.state=G,Il(s,l,d,f),Cl();var Q=s.memoizedState;_!==Z||G!==Q||Ls||i!==null&&i.dependencies!==null&&Cc(i.dependencies)?(typeof S=="function"&&(Qd(s,a,S,l),Q=s.memoizedState),(X=Ls||fv(s,a,X,l,G,Q,M)||i!==null&&i.dependencies!==null&&Cc(i.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,M)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),d.props=l,d.state=Q,d.context=M,l=X):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),l=!1)}return d=l,Yc(i,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&l?(s.child=ia(s,i.child,null,f),s.child=ia(s,null,a,f)):Xe(i,s,a,f),s.memoizedState=d.state,i=s.child):i=is(i,s,f),i}function Cv(i,s,a,l){return Wr(),s.flags|=256,Xe(i,s,a,l),s.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(i){return{baseLanes:i,cachePool:y0()}}function em(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=Dn),i}function Iv(i,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=i!==null&&i.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(jt){if(f?Bs(s):zs(),(i=ne)?(i=L_(i,Fn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ms!==null?{id:Mi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=l0(i),a.return=s,s.child=a,Ye=s,ne=null)):i=null,i===null)throw Ps(s);return Lm(i)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(zs(),f=s.mode,S=Qc({mode:"hidden",children:S},f),l=$r(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=tm(a),l.childLanes=em(i,_,a),s.memoizedState=Zd,Ol(null,l)):(Bs(s),nm(s,S))}var M=i.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(d)s.flags&256?(Bs(s),s.flags&=-257,s=im(i,s,a)):s.memoizedState!==null?(zs(),s.child=i.child,s.flags|=128,s=null):(zs(),S=l.fallback,f=s.mode,l=Qc({mode:"visible",children:l.children},f),S=$r(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,ia(s,i.child,null,a),l=s.child,l.memoizedState=tm(a),l.childLanes=em(i,_,a),s.memoizedState=Zd,s=Ol(null,l));else if(Bs(s),Lm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,bl({value:l,source:null,stack:null}),s=im(i,s,a)}else if(Ie||Ka(i,s,a,!1),_=(a&i.childLanes)!==0,Ie||_){if(_=ee,_!==null&&(l=el(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Xr(i,l),Tn(_,i,l),Wd;km(S)||ih(),s=im(i,s,a)}else km(S)?(s.flags|=192,s.child=i.child,s=null):(i=M.treeContext,ne=qn(S.nextSibling),Ye=s,jt=!0,Os=null,Fn=!1,i!==null&&h0(s,i),s=nm(s,l.children),s.flags|=4096);return s}return f?(zs(),S=l.fallback,f=s.mode,M=i.child,H=M.sibling,l=Wi(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?S=Wi(H,S):(S=$r(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,Ol(null,l),l=s.child,S=i.child.memoizedState,S===null?S=tm(a):(f=S.cachePool,f!==null?(M=Re._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=y0(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=em(i,_,a),s.memoizedState=Zd,Ol(i.child,l)):(Bs(s),a=i.child,i=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=a,s.memoizedState=null,a)}function nm(i,s){return s=Qc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Qc(i,s){return i=xn(22,i,null,s),i.lanes=0,i}function im(i,s,a){return ia(s,i.child,null,a),i=nm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Dv(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),vd(i.return,s,a)}function sm(i,s,a,l,f,d){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Nv(i,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ve.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,ut(ve,_),Xe(i,s,l,a),l=jt?El:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Dv(i,a,s);else if(i.tag===19)Dv(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&kc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),sm(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&kc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}sm(s,!0,a,null,d,l);break;case"together":sm(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function is(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),qs|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ka(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Wi(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Wi(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function rm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Cc(i)))}function Kx(i,s,a){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),ks(s,Re,i.memoizedState.cache),Wr();break;case 27:case 5:Nr(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:ks(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Bs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Iv(i,s,a):(Bs(s),i=is(i,s,a),i!==null?i.sibling:null);Bs(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ka(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Nv(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(ve,ve.current),l)break;return null;case 22:return s.lanes=0,Sv(i,s,a,s.pendingProps);case 24:ks(s,Re,i.memoizedState.cache)}return is(i,s,a)}function Vv(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ie=!0;else{if(!rm(i,a)&&(s.flags&128)===0)return Ie=!1,Kx(i,s,a);Ie=(i.flags&131072)!==0}else Ie=!1,jt&&(s.flags&1048576)!==0&&c0(s,El,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=ea(s.elementType),s.type=i,typeof i=="function")cd(i)?(l=ra(i,l),s.tag=1,s=Rv(null,s,i,l,a)):(s.tag=0,s=Jd(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===it){s.tag=11,s=Tv(null,s,i,l,a);break t}else if(f===R){s.tag=14,s=Ev(null,s,i,l,a);break t}}throw s=qt(i)||i,Error(r(306,s,""))}}return s;case 0:return Jd(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ra(l,s.pendingProps),Rv(i,s,l,f,a);case 3:t:{if(Oe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,wd(i,s),Il(s,l,null,a);var _=s.memoizedState;if(l=_.cache,ks(s,Re,l),l!==d.cache&&_d(s,[Re],a,!0),Cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Cv(i,s,l,a);break t}else if(l!==f){f=jn(Error(r(424)),s),bl(f),s=Cv(i,s,l,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ne=qn(i.firstChild),Ye=s,jt=!0,Os=null,Fn=!0,a=S0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wr(),l===f){s=is(i,s,a);break t}Xe(i,s,l,a)}s=s.child}return s;case 26:return Yc(i,s),i===null?(a=H_(s.type,null,s.pendingProps,null))?s.memoizedState=a:jt||(a=s.type,i=s.pendingProps,l=ch(It.current).createElement(a),l[Ae]=s,l[ze]=i,$e(l,a,i),we(l),s.stateNode=l):s.memoizedState=H_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Nr(s),i===null&&jt&&(l=s.stateNode=B_(s.type,s.pendingProps,It.current),Ye=s,Fn=!0,f=ne,Xs(s.type)?(Um=f,ne=qn(l.firstChild)):ne=f),Xe(i,s,s.pendingProps.children,a),Yc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&jt&&((f=l=ne)&&(l=bR(l,s.type,s.pendingProps,Fn),l!==null?(s.stateNode=l,Ye=s,ne=qn(l.firstChild),Fn=!1,f=!0):f=!1),f||Ps(s)),Nr(s),f=s.type,d=s.pendingProps,_=i!==null?i.memoizedProps:null,l=d.children,Mm(f,d)?l=null:_!==null&&Mm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Vd(i,s,Lx,null,null,a),Xl._currentValue=f),Yc(i,s),Xe(i,s,l,a),s.child;case 6:return i===null&&jt&&((i=a=ne)&&(a=SR(a,s.pendingProps,Fn),a!==null?(s.stateNode=a,Ye=s,ne=null,i=!0):i=!1),i||Ps(s)),null;case 13:return Iv(i,s,a);case 4:return Oe(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=ia(s,null,l,a):Xe(i,s,l,a),s.child;case 11:return Tv(i,s,s.type,s.pendingProps,a);case 7:return Xe(i,s,s.pendingProps,a),s.child;case 8:return Xe(i,s,s.pendingProps.children,a),s.child;case 12:return Xe(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ks(s,s.type,l.value),Xe(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Zr(s),f=Qe(f),l=l(f),s.flags|=1,Xe(i,s,l,a),s.child;case 14:return Ev(i,s,s.type,s.pendingProps,a);case 15:return bv(i,s,s.type,s.pendingProps,a);case 19:return Nv(i,s,a);case 31:return Gx(i,s,a);case 22:return Sv(i,s,a,s.pendingProps);case 24:return Zr(s),l=Qe(Re),i===null?(f=bd(),f===null&&(f=ee,d=Td(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Ad(s),ks(s,Re,f)):((i.lanes&a)!==0&&(wd(i,s),Il(s,null,null,a),Cl()),f=i.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ks(s,Re,l)):(l=d.cache,ks(s,Re,l),l!==f.cache&&_d(s,[Re],a,!0))),Xe(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ss(i){i.flags|=4}function am(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(r_())i.flags|=8192;else throw na=Vc,Sd}else i.flags&=-16777217}function Mv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Q_(s))if(r_())i.flags|=8192;else throw na=Vc,Sd}function Xc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ec():536870912,i.lanes|=s,so|=s)}function Pl(i,s){if(!jt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function ie(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function Yx(i,s,a){var l=s.pendingProps;switch(md(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(s),null;case 1:return ie(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ts(Re),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ga(s)?ss(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gd())),ie(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(ss(s),d!==null?(ie(s),Mv(s,d)):(ie(s),am(s,f,null,l,a))):d?d!==i.memoizedState?(ss(s),ie(s),Mv(s,d)):(ie(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&ss(s),ie(s),am(s,f,i,l,a)),null;case 27:if(Sa(s),a=It.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ie(s),null}i=ht.current,Ga(s)?f0(s):(i=B_(f,l,a),s.stateNode=i,ss(s))}return ie(s),null;case 5:if(Sa(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ie(s),null}if(d=ht.current,Ga(s))f0(s);else{var _=ch(It.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ae]=s,d[ze]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch($e(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ss(s)}}return ie(s),am(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&ss(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=It.current,Ga(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Ye,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Ae]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||I_(i.nodeValue,a)),i||Ps(s,!0)}else i=ch(i).createTextNode(l),i[Ae]=s,s.stateNode=i}return ie(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=Ga(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ae]=s}else Wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ie(s),i=!1}else a=gd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Cn(s),s):(Cn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ie(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ga(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ae]=s}else Wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ie(s),f=!1}else f=gd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Cn(s),s):(Cn(s),null)}return Cn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),Xc(s,s.updateQueue),ie(s),null);case 4:return oe(),i===null&&Cm(s.stateNode.containerInfo),ie(s),null;case 10:return ts(s.type),ie(s),null;case 19:if(tt(ve),l=s.memoizedState,l===null)return ie(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Pl(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=kc(i),d!==null){for(s.flags|=128,Pl(l,!1),i=d.updateQueue,s.updateQueue=i,Xc(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)o0(a,i),a=a.sibling;return ut(ve,ve.current&1|2),jt&&Ji(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&ln()>th&&(s.flags|=128,f=!0,Pl(l,!1),s.lanes=4194304)}else{if(!f)if(i=kc(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Xc(s,i),Pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!jt)return ie(s),null}else 2*ln()-l.renderingStartTime>th&&a!==536870912&&(s.flags|=128,f=!0,Pl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(i=l.last,i!==null?i.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=ln(),i.sibling=null,a=ve.current,ut(ve,f?a&1|2:a&1),jt&&Ji(s,l.treeForkCount),i):(ie(s),null);case 22:case 23:return Cn(s),Id(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ie(s),s.subtreeFlags&6&&(s.flags|=8192)):ie(s),a=s.updateQueue,a!==null&&Xc(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&tt(ta),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ts(Re),ie(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Qx(i,s){switch(md(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ts(Re),oe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Sa(s),null;case 31:if(s.memoizedState!==null){if(Cn(s),s.alternate===null)throw Error(r(340));Wr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Cn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Wr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return tt(ve),null;case 4:return oe(),null;case 10:return ts(s.type),null;case 22:case 23:return Cn(s),Id(),i!==null&&tt(ta),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ts(Re),null;case 25:return null;default:return null}}function Ov(i,s){switch(md(s),s.tag){case 3:ts(Re),oe();break;case 26:case 27:case 5:Sa(s);break;case 4:oe();break;case 31:s.memoizedState!==null&&Cn(s);break;case 13:Cn(s);break;case 19:tt(ve);break;case 10:ts(s.type);break;case 22:case 23:Cn(s),Id(),i!==null&&tt(ta);break;case 24:ts(Re)}}function kl(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){$t(s,s.return,S)}}function Fs(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&i)===i){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var M=a,H=S;try{H()}catch(X){$t(f,M,X)}}}l=l.next}while(l!==d)}}catch(X){$t(s,s.return,X)}}function Pv(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{w0(s,a)}catch(l){$t(i,i.return,l)}}}function kv(i,s,a){a.props=ra(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){$t(i,s,l)}}function Ll(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){$t(i,s,f)}}function Pi(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$t(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$t(i,s,f)}else a.current=null}function Lv(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$t(i,i.return,f)}}function om(i,s,a){try{var l=i.stateNode;gR(l,i.type,a,s),l[ze]=s}catch(f){$t(i,i.return,f)}}function Uv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xs(i.type)||i.tag===4}function lm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Uv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function um(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ti));else if(l!==4&&(l===27&&Xs(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(um(i,s,a),i=i.sibling;i!==null;)um(i,s,a),i=i.sibling}function $c(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Xs(i.type)&&(a=i.stateNode),i=i.child,i!==null))for($c(i,s,a),i=i.sibling;i!==null;)$c(i,s,a),i=i.sibling}function jv(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);$e(s,l,a),s[Ae]=i,s[ze]=a}catch(d){$t(i,i.return,d)}}var rs=!1,De=!1,cm=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,He=null;function Xx(i,s){if(i=i.containerInfo,Nm=yh,i=Jy(i),id(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,M=-1,H=0,X=0,Z=i,G=null;e:for(;;){for(var Q;Z!==a||f!==0&&Z.nodeType!==3||(S=_+f),Z!==d||l!==0&&Z.nodeType!==3||(M=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)G=Z,Z=Q;for(;;){if(Z===i)break e;if(G===a&&++H===f&&(S=_),G===d&&++X===l&&(M=_),(Q=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=Q}a=S===-1||M===-1?null:{start:S,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vm={focusedElem:i,selectionRange:a},yh=!1,He=s;He!==null;)if(s=He,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,He=i;else for(;He!==null;){switch(s=He,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=ra(a.type,f);i=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(_t){$t(a,a.return,_t)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Pm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Pm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,He=i;break}He=s.return}}function zv(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:os(i,a),l&4&&kl(5,a);break;case 1:if(os(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(_){$t(a,a.return,_)}else{var f=ra(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&Pv(a),l&512&&Ll(a,a.return);break;case 3:if(os(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{w0(i,s)}catch(_){$t(a,a.return,_)}}break;case 27:s===null&&l&4&&jv(a);case 26:case 5:os(i,a),s===null&&l&4&&Lv(a),l&512&&Ll(a,a.return);break;case 12:os(i,a);break;case 31:os(i,a),l&4&&qv(i,a);break;case 13:os(i,a),l&4&&Gv(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=sR.bind(null,a),AR(i,a))));break;case 22:if(l=a.memoizedState!==null||rs,!l){s=s!==null&&s.memoizedState!==null||De,f=rs;var d=De;rs=l,(De=s)&&!d?ls(i,a,(a.subtreeFlags&8772)!==0):os(i,a),rs=f,De=d}break;case 30:break;default:os(i,a)}}function Fv(i){var s=i.alternate;s!==null&&(i.alternate=null,Fv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ca(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,gn=!1;function as(i,s,a){for(a=a.child;a!==null;)Hv(i,s,a),a=a.sibling}function Hv(i,s,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:De||Pi(a,s),as(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Pi(a,s);var l=ue,f=gn;Xs(a.type)&&(ue=a.stateNode,gn=!1),as(i,s,a),Kl(a.stateNode),ue=l,gn=f;break;case 5:De||Pi(a,s);case 6:if(l=ue,f=gn,ue=null,as(i,s,a),ue=l,gn=f,ue!==null)if(gn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){$t(a,s,d)}else try{ue.removeChild(a.stateNode)}catch(d){$t(a,s,d)}break;case 18:ue!==null&&(gn?(i=ue,P_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),fo(i)):P_(ue,a.stateNode));break;case 4:l=ue,f=gn,ue=a.stateNode.containerInfo,gn=!0,as(i,s,a),ue=l,gn=f;break;case 0:case 11:case 14:case 15:Fs(2,a,s),De||Fs(4,a,s),as(i,s,a);break;case 1:De||(Pi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&kv(a,s,l)),as(i,s,a);break;case 21:as(i,s,a);break;case 22:De=(l=De)||a.memoizedState!==null,as(i,s,a),De=l;break;default:as(i,s,a)}}function qv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{fo(i)}catch(a){$t(s,s.return,a)}}}function Gv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fo(i)}catch(a){$t(s,s.return,a)}}function $x(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Bv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Bv),s;default:throw Error(r(435,i.tag))}}function Wc(i,s){var a=$x(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=rR.bind(null,i,l);l.then(f,f)}})}function yn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=i,_=s,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Xs(S.type)){ue=S.stateNode,gn=!1;break t}break;case 5:ue=S.stateNode,gn=!1;break t;case 3:case 4:ue=S.stateNode.containerInfo,gn=!0;break t}S=S.return}if(ue===null)throw Error(r(160));Hv(d,_,f),ue=null,gn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Kv(s,i),s=s.sibling}var ai=null;function Kv(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:yn(s,i),vn(i),l&4&&(Fs(3,i,i.return),kl(3,i),Fs(5,i,i.return));break;case 1:yn(s,i),vn(i),l&512&&(De||a===null||Pi(a,a.return)),l&64&&rs&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(yn(s,i),vn(i),l&512&&(De||a===null||Pi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ei]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$e(d,l,a),d[Ae]=i,we(d),l=d;break t;case"link":var _=K_("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),$e(d,l,a),f.head.appendChild(d);break;case"meta":if(_=K_("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),$e(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ae]=i,we(d),l=d}i.stateNode=l}else Y_(f,i.type,i.stateNode);else i.stateNode=G_(f,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Y_(f,i.type,i.stateNode):G_(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&om(i,i.memoizedProps,a.memoizedProps)}break;case 27:yn(s,i),vn(i),l&512&&(De||a===null||Pi(a,a.return)),a!==null&&l&4&&om(i,i.memoizedProps,a.memoizedProps);break;case 5:if(yn(s,i),vn(i),l&512&&(De||a===null||Pi(a,a.return)),i.flags&32){f=i.stateNode;try{pn(f,"")}catch(mt){$t(i,i.return,mt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,om(i,f,a!==null?a.memoizedProps:f)),l&1024&&(cm=!0);break;case 6:if(yn(s,i),vn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(mt){$t(i,i.return,mt)}}break;case 3:if(dh=null,f=ai,ai=hh(s.containerInfo),yn(s,i),ai=f,vn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fo(s.containerInfo)}catch(mt){$t(i,i.return,mt)}cm&&(cm=!1,Yv(i));break;case 4:l=ai,ai=hh(i.stateNode.containerInfo),yn(s,i),vn(i),ai=l;break;case 12:yn(s,i),vn(i);break;case 31:yn(s,i),vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Wc(i,l)));break;case 13:yn(s,i),vn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=ln()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Wc(i,l)));break;case 22:f=i.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=rs,X=De;if(rs=H||f,De=X||M,yn(s,i),De=X,rs=H,vn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||rs||De||aa(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(d=M.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=M.stateNode;var Z=M.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(mt){$t(M,M.return,mt)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(mt){$t(M,M.return,mt)}}}else if(s.tag===18){if(a===null){M=s;try{var Q=M.stateNode;f?k_(Q,!0):k_(M.stateNode,!1)}catch(mt){$t(M,M.return,mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wc(i,a))));break;case 19:yn(s,i),vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Wc(i,l)));break;case 30:break;case 21:break;default:yn(s,i),vn(i)}}function vn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(Uv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=lm(i);$c(i,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(pn(_,""),a.flags&=-33);var S=lm(i);$c(i,S,_);break;case 3:case 4:var M=a.stateNode.containerInfo,H=lm(i);um(i,H,M);break;default:throw Error(r(161))}}catch(X){$t(i,i.return,X)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Yv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Yv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function os(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)zv(i,s.alternate,s),s=s.sibling}function aa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Fs(4,s,s.return),aa(s);break;case 1:Pi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&kv(s,s.return,a),aa(s);break;case 27:Kl(s.stateNode);case 26:case 5:Pi(s,s.return),aa(s);break;case 22:s.memoizedState===null&&aa(s);break;case 30:aa(s);break;default:aa(s)}i=i.sibling}}function ls(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:ls(f,d,a),kl(4,d);break;case 1:if(ls(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$t(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)A0(M[f],S)}catch(H){$t(l,l.return,H)}}a&&_&64&&Pv(d),Ll(d,d.return);break;case 27:jv(d);case 26:case 5:ls(f,d,a),a&&l===null&&_&4&&Lv(d),Ll(d,d.return);break;case 12:ls(f,d,a);break;case 31:ls(f,d,a),a&&_&4&&qv(f,d);break;case 13:ls(f,d,a),a&&_&4&&Gv(f,d);break;case 22:d.memoizedState===null&&ls(f,d,a),Ll(d,d.return);break;case 30:break;default:ls(f,d,a)}s=s.sibling}}function hm(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Sl(a))}function fm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Sl(i))}function oi(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Qv(i,s,a,l),s=s.sibling}function Qv(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:oi(i,s,a,l),f&2048&&kl(9,s);break;case 1:oi(i,s,a,l);break;case 3:oi(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Sl(i)));break;case 12:if(f&2048){oi(i,s,a,l),i=s.stateNode;try{var d=s.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){$t(s,s.return,M)}}else oi(i,s,a,l);break;case 31:oi(i,s,a,l);break;case 13:oi(i,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?oi(i,s,a,l):Ul(i,s):d._visibility&2?oi(i,s,a,l):(d._visibility|=2,eo(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&hm(_,s);break;case 24:oi(i,s,a,l),f&2048&&fm(s.alternate,s);break;default:oi(i,s,a,l)}}function eo(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,_=s,S=a,M=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:eo(d,_,S,M,f),kl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?eo(d,_,S,M,f):Ul(d,_):(X._visibility|=2,eo(d,_,S,M,f)),f&&H&2048&&hm(_.alternate,_);break;case 24:eo(d,_,S,M,f),f&&H&2048&&fm(_.alternate,_);break;default:eo(d,_,S,M,f)}s=s.sibling}}function Ul(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:Ul(a,l),f&2048&&hm(l.alternate,l);break;case 24:Ul(a,l),f&2048&&fm(l.alternate,l);break;default:Ul(a,l)}s=s.sibling}}var jl=8192;function no(i,s,a){if(i.subtreeFlags&jl)for(i=i.child;i!==null;)Xv(i,s,a),i=i.sibling}function Xv(i,s,a){switch(i.tag){case 26:no(i,s,a),i.flags&jl&&i.memoizedState!==null&&kR(a,ai,i.memoizedState,i.memoizedProps);break;case 5:no(i,s,a);break;case 3:case 4:var l=ai;ai=hh(i.stateNode.containerInfo),no(i,s,a),ai=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=jl,jl=16777216,no(i,s,a),jl=l):no(i,s,a));break;default:no(i,s,a)}}function $v(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Bl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];He=l,Jv(l,i)}$v(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wv(i),i=i.sibling}function Wv(i){switch(i.tag){case 0:case 11:case 15:Bl(i),i.flags&2048&&Fs(9,i,i.return);break;case 3:Bl(i);break;case 12:Bl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Jc(i)):Bl(i);break;default:Bl(i)}}function Jc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];He=l,Jv(l,i)}$v(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Fs(8,s,s.return),Jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(s));break;default:Jc(s)}i=i.sibling}}function Jv(i,s){for(;He!==null;){var a=He;switch(a.tag){case 0:case 11:case 15:Fs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,He=l;else t:for(a=i;He!==null;){l=He;var f=l.sibling,d=l.return;if(Fv(l),l===a){He=null;break t}if(f!==null){f.return=d,He=f;break t}He=d}}}var Wx={getCacheForType:function(i){var s=Qe(Re),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Qe(Re).controller.signal}},Jx=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ee=null,Nt=null,Ot=0,Xt=0,In=null,Hs=!1,io=!1,dm=!1,us=0,me=0,qs=0,oa=0,mm=0,Dn=0,so=0,zl=null,_n=null,pm=!1,Zc=0,Zv=0,th=1/0,eh=null,Gs=null,ke=0,Ks=null,ro=null,cs=0,gm=0,ym=null,t_=null,Fl=0,vm=null;function Nn(){return(Kt&2)!==0&&Ot!==0?Ot&-Ot:$.T!==null?Am():nc()}function e_(){if(Dn===0)if((Ot&536870912)===0||jt){var i=Or;Or<<=1,(Or&3932160)===0&&(Or=262144),Dn=i}else Dn=536870912;return i=Rn.current,i!==null&&(i.flags|=32),Dn}function Tn(i,s,a){(i===ee&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)&&(ao(i,0),Ys(i,Ot,Dn,!1)),Pr(i,a),((Kt&2)===0||i!==ee)&&(i===ee&&((Kt&2)===0&&(oa|=a),me===4&&Ys(i,Ot,Dn,!1)),ki(i))}function n_(i,s,a){if((Kt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Wn(i,s),f=l?eR(i,s):Tm(i,s,!0),d=l;do{if(f===0){io&&!l&&Ys(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!Zx(a)){f=Tm(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var S=i;f=zl;var M=S.current.memoizedState.isDehydrated;if(M&&(ao(S,_).flags|=256),_=Tm(S,_,!1),_!==2){if(dm&&!M){S.errorRecoveryDisabledLanes|=d,oa|=d,f=4;break t}d=_n,_n=f,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ao(i,0),Ys(i,s,0,!0);break}t:{switch(l=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ys(l,s,Dn,!Hs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Zc+300-ln(),10<f)){if(Ys(l,s,Dn,!Hs),vi(l,0,!0)!==0)break t;cs=s,l.timeoutHandle=M_(i_.bind(null,l,a,_n,eh,pm,s,Dn,oa,so,Hs,d,"Throttled",-0,0),f);break t}i_(l,a,_n,eh,pm,s,Dn,oa,so,Hs,d,null,-0,0)}}break}while(!0);ki(i)}function i_(i,s,a,l,f,d,_,S,M,H,X,Z,G,Q){if(i.timeoutHandle=-1,Z=s.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Xv(s,d,Z);var mt=(d&62914560)===d?Zc-ln():(d&4194048)===d?Zv-ln():0;if(mt=LR(Z,mt),mt!==null){cs=d,i.cancelPendingCommit=mt(h_.bind(null,i,s,d,a,l,f,_,S,M,X,Z,null,G,Q)),Ys(i,d,_,!H);return}}h_(i,s,d,a,l,f,_,S,M)}function Zx(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ys(i,s,a,l){s&=~mm,s&=~oa,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var d=31-ge(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&kr(i,a,s)}function nh(){return(Kt&6)===0?(Hl(0),!1):!0}function _m(){if(Nt!==null){if(Xt===0)var i=Nt.return;else i=Nt,Zi=Jr=null,Pd(i),$a=null,wl=0,i=Nt;for(;i!==null;)Ov(i.alternate,i),i=i.return;Nt=null}}function ao(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,_R(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),cs=0,_m(),ee=i,Nt=a=Wi(i.current,null),Ot=s,Xt=0,In=null,Hs=!1,io=Wn(i,s),dm=!1,so=Dn=mm=oa=qs=me=0,_n=zl=null,pm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-ge(l),d=1<<f;s|=i[f],l&=~d}return us=s,Sc(),a}function s_(i,s){Rt=null,$.H=Ml,s===Xa||s===Nc?(s=T0(),Xt=3):s===Sd?(s=T0(),Xt=4):Xt=s===Wd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,Nt===null&&(me=1,Gc(i,jn(s,i.current)))}function r_(){var i=Rn.current;return i===null?!0:(Ot&4194048)===Ot?Hn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Hn:!1}function a_(){var i=$.H;return $.H=Ml,i===null?Ml:i}function o_(){var i=$.A;return $.A=Wx,i}function ih(){me=4,Hs||(Ot&4194048)!==Ot&&Rn.current!==null||(io=!0),(qs&134217727)===0&&(oa&134217727)===0||ee===null||Ys(ee,Ot,Dn,!1)}function Tm(i,s,a){var l=Kt;Kt|=2;var f=a_(),d=o_();(ee!==i||Ot!==s)&&(eh=null,ao(i,s)),s=!1;var _=me;t:do try{if(Xt!==0&&Nt!==null){var S=Nt,M=In;switch(Xt){case 8:_m(),_=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var H=Xt;if(Xt=0,In=null,oo(i,S,M,H),a&&io){_=0;break t}break;default:H=Xt,Xt=0,In=null,oo(i,S,M,H)}}tR(),_=me;break}catch(X){s_(i,X)}while(!0);return s&&i.shellSuspendCounter++,Zi=Jr=null,Kt=l,$.H=f,$.A=d,Nt===null&&(ee=null,Ot=0,Sc()),_}function tR(){for(;Nt!==null;)l_(Nt)}function eR(i,s){var a=Kt;Kt|=2;var l=a_(),f=o_();ee!==i||Ot!==s?(eh=null,th=ln()+500,ao(i,s)):io=Wn(i,s);t:do try{if(Xt!==0&&Nt!==null){s=Nt;var d=In;e:switch(Xt){case 1:Xt=0,In=null,oo(i,s,d,1);break;case 2:case 9:if(v0(d)){Xt=0,In=null,u_(s);break}s=function(){Xt!==2&&Xt!==9||ee!==i||(Xt=7),ki(i)},d.then(s,s);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:v0(d)?(Xt=0,In=null,u_(s)):(Xt=0,In=null,oo(i,s,d,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var S=Nt;if(_?Q_(_):S.stateNode.complete){Xt=0,In=null;var M=S.sibling;if(M!==null)Nt=M;else{var H=S.return;H!==null?(Nt=H,sh(H)):Nt=null}break e}}Xt=0,In=null,oo(i,s,d,5);break;case 6:Xt=0,In=null,oo(i,s,d,6);break;case 8:_m(),me=6;break t;default:throw Error(r(462))}}nR();break}catch(X){s_(i,X)}while(!0);return Zi=Jr=null,$.H=l,$.A=f,Kt=a,Nt!==null?0:(ee=null,Ot=0,Sc(),me)}function nR(){for(;Nt!==null&&!$f();)l_(Nt)}function l_(i){var s=Vv(i.alternate,i,us);i.memoizedProps=i.pendingProps,s===null?sh(i):Nt=s}function u_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=xv(a,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=xv(a,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:Pd(s);default:Ov(a,s),s=Nt=o0(s,us),s=Vv(a,s,us)}i.memoizedProps=i.pendingProps,s===null?sh(i):Nt=s}function oo(i,s,a,l){Zi=Jr=null,Pd(s),$a=null,wl=0;var f=s.return;try{if(qx(i,f,s,a,Ot)){me=1,Gc(i,jn(a,i.current)),Nt=null;return}}catch(d){if(f!==null)throw Nt=f,d;me=1,Gc(i,jn(a,i.current)),Nt=null;return}s.flags&32768?(jt||l===1?i=!0:io||(Ot&536870912)!==0?i=!1:(Hs=i=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),c_(s,i)):sh(s)}function sh(i){var s=i;do{if((s.flags&32768)!==0){c_(s,Hs);return}i=s.return;var a=Yx(s.alternate,s,us);if(a!==null){Nt=a;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=i}while(s!==null);me===0&&(me=5)}function c_(i,s){do{var a=Qx(i.alternate,i);if(a!==null){a.flags&=32767,Nt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=a}while(i!==null);me=6,Nt=null}function h_(i,s,a,l,f,d,_,S,M){i.cancelPendingCommit=null;do rh();while(ke!==0);if((Kt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=ld,Zf(i,a,d,_,S,M),i===ee&&(Nt=ee=null,Ot=0),ro=s,Ks=i,cs=a,gm=d,ym=f,t_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,aR(Ss,function(){return g_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=rt.p,rt.p=2,_=Kt,Kt|=4;try{Xx(i,s,a)}finally{Kt=_,rt.p=f,$.T=l}}ke=1,f_(),d_(),m_()}}function f_(){if(ke===1){ke=0;var i=Ks,s=ro,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=rt.p;rt.p=2;var f=Kt;Kt|=4;try{Kv(s,i);var d=Vm,_=Jy(i.containerInfo),S=d.focusedElem,M=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Wy(S.ownerDocument.documentElement,S)){if(M!==null&&id(S)){var H=M.start,X=M.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var Q=G.getSelection(),mt=S.textContent.length,_t=Math.min(M.start,mt),te=M.end===void 0?_t:Math.min(M.end,mt);!Q.extend&&_t>te&&(_=te,te=_t,_t=_);var U=$y(S,_t),O=$y(S,te);if(U&&O&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var F=Z.createRange();F.setStart(U.node,U.offset),Q.removeAllRanges(),_t>te?(Q.addRange(F),Q.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),Q.addRange(F))}}}}for(Z=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var W=Z[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}yh=!!Nm,Vm=Nm=null}finally{Kt=f,rt.p=l,$.T=a}}i.current=s,ke=2}}function d_(){if(ke===2){ke=0;var i=Ks,s=ro,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=rt.p;rt.p=2;var f=Kt;Kt|=4;try{zv(i,s.alternate,s)}finally{Kt=f,rt.p=l,$.T=a}}ke=3}}function m_(){if(ke===4||ke===3){ke=0,Xu();var i=Ks,s=ro,a=cs,l=t_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ke=5:(ke=0,ro=Ks=null,p_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Gs=null),Yi(a),s=s.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot($n,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=$.T,f=rt.p,rt.p=2,$.T=null;try{for(var d=i.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=s,rt.p=f}}(cs&3)!==0&&rh(),ki(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===vm?Fl++:(Fl=0,vm=i):Fl=0,Hl(0)}}function p_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Sl(s)))}function rh(){return f_(),d_(),m_(),g_()}function g_(){if(ke!==5)return!1;var i=Ks,s=gm;gm=0;var a=Yi(cs),l=$.T,f=rt.p;try{rt.p=32>a?32:a,$.T=null,a=ym,ym=null;var d=Ks,_=cs;if(ke=0,ro=Ks=null,cs=0,(Kt&6)!==0)throw Error(r(331));var S=Kt;if(Kt|=4,Wv(d.current),Qv(d,d.current,_,a),Kt=S,Hl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{rt.p=f,$.T=l,p_(i,s)}}function y_(i,s,a){s=jn(a,s),s=$d(i.stateNode,s,2),i=js(i,s,2),i!==null&&(Pr(i,2),ki(i))}function $t(i,s,a){if(i.tag===3)y_(i,i,a);else for(;s!==null;){if(s.tag===3){y_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gs===null||!Gs.has(l))){i=jn(a,i),a=vv(2),l=js(s,a,2),l!==null&&(_v(a,l,s,i),Pr(l,2),ki(l));break}}s=s.return}}function Em(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new Jx;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(dm=!0,f.add(a),i=iR.bind(null,i,s,a),s.then(i,i))}function iR(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(Ot&a)===a&&(me===4||me===3&&(Ot&62914560)===Ot&&300>ln()-Zc?(Kt&2)===0&&ao(i,0):mm|=a,so===Ot&&(so=0)),ki(i)}function v_(i,s){s===0&&(s=ec()),i=Xr(i,s),i!==null&&(Pr(i,s),ki(i))}function sR(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),v_(i,a)}function rR(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),v_(i,a)}function aR(i,s){return Pe(i,s)}var ah=null,lo=null,bm=!1,oh=!1,Sm=!1,Qs=0;function ki(i){i!==lo&&i.next===null&&(lo===null?ah=lo=i:lo=lo.next=i),oh=!0,bm||(bm=!0,lR())}function Hl(i,s){if(!Sm&&oh){Sm=!0;do for(var a=!1,l=ah;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ge(42|i)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=Ot,d=vi(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,b_(l,d));l=l.next}while(a);Sm=!1}}function oR(){__()}function __(){oh=bm=!1;var i=0;Qs!==0&&vR()&&(i=Qs);for(var s=ln(),a=null,l=ah;l!==null;){var f=l.next,d=T_(l,s);d===0?(l.next=null,a===null?ah=f:a.next=f,f===null&&(lo=a)):(a=l,(i!==0||(d&3)!==0)&&(oh=!0)),l=f}ke!==0&&ke!==5||Hl(i),Qs!==0&&(Qs=0)}function T_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var _=31-ge(d),S=1<<_,M=f[_];M===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Jf(S,s)):M<=s&&(i.expiredLanes|=S),d&=~S}if(s=ee,a=Ot,a=vi(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Wn(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&bs(l),Yi(a)){case 2:case 8:a=Zo;break;case 32:a=Ss;break;case 268435456:a=$u;break;default:a=Ss}return l=E_.bind(null,i),a=Pe(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&bs(l),i.callbackPriority=2,i.callbackNode=null,2}function E_(i,s){if(ke!==0&&ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(rh()&&i.callbackNode!==a)return null;var l=Ot;return l=vi(i,i===ee?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(n_(i,l,s),T_(i,ln()),i.callbackNode!=null&&i.callbackNode===a?E_.bind(null,i):null)}function b_(i,s){if(rh())return null;n_(i,s,!0)}function lR(){TR(function(){(Kt&6)!==0?Pe(Jo,oR):__()})}function Am(){if(Qs===0){var i=Ya;i===0&&(i=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Qs=i}return Qs}function S_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Va(""+i)}function A_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function uR(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=S_((f[ze]||null).action),_=l.submitter;_&&(s=(s=_[ze]||null)?S_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var S=new Ii("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var M=_?A_(f,_):new FormData(f);qd(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(S.preventDefault(),M=_?A_(f,_):new FormData(f),qd(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var wm=0;wm<od.length;wm++){var xm=od[wm],cR=xm.toLowerCase(),hR=xm[0].toUpperCase()+xm.slice(1);ri(cR,"on"+hR)}ri(e0,"onAnimationEnd"),ri(n0,"onAnimationIteration"),ri(i0,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Rx,"onTransitionRun"),ri(Cx,"onTransitionStart"),ri(Ix,"onTransitionCancel"),ri(s0,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function w_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],M=S.instance,H=S.currentTarget;if(S=S.listener,M!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=H;try{d(f)}catch(X){bc(X)}f.currentTarget=null,d=M}else for(_=0;_<l.length;_++){if(S=l[_],M=S.instance,H=S.currentTarget,S=S.listener,M!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=H;try{d(f)}catch(X){bc(X)}f.currentTarget=null,d=M}}}}function Vt(i,s){var a=s[Ra];a===void 0&&(a=s[Ra]=new Set);var l=i+"__bubble";a.has(l)||(x_(s,i,2,!1),a.add(l))}function Rm(i,s,a){var l=0;s&&(l|=4),x_(a,i,l,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Cm(i){if(!i[lh]){i[lh]=!0,nl.forEach(function(a){a!=="selectionchange"&&(fR.has(a)||Rm(a,!1,i),Rm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[lh]||(s[lh]=!0,Rm("selectionchange",!1,s))}}function x_(i,s,a,l){switch(eT(s)){case 2:var f=BR;break;case 8:f=zR;break;default:f=Hm}a=f.bind(null,s,a,i),f=void 0,!zr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Im(i,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=bi(S),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Is(function(){var H=d,X=Pn(a),Z=[];t:{var G=r0.get(i);if(G!==void 0){var Q=Ii,mt=i;switch(i){case"keypress":if(Hr(a)===0)break t;case"keydown":case"keyup":Q=_c;break;case"focusin":mt="focus",Q=Gr;break;case"focusout":mt="blur",Q=Gr;break;case"beforeblur":case"afterblur":Q=Gr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v;break;case e0:case n0:case i0:Q=fc;break;case s0:Q=A;break;case"scroll":case"scrollend":Q=ml;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=$i;break;case"toggle":case"beforetoggle":Q=xt}var _t=(s&4)!==0,te=!_t&&(i==="scroll"||i==="scrollend"),U=_t?G!==null?G+"Capture":null:G;_t=[];for(var O=H,F;O!==null;){var W=O;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||U===null||(W=ei(O,U),W!=null&&_t.push(Gl(O,W,F))),te)break;O=O.return}0<_t.length&&(G=new Q(G,mt,null,a,X),Z.push({event:G,listeners:_t}))}}if((s&7)===0){t:{if(G=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",G&&a!==hl&&(mt=a.relatedTarget||a.fromElement)&&(bi(mt)||mt[Ti]))break t;if((Q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(mt=a.relatedTarget||a.toElement,Q=H,mt=mt?bi(mt):null,mt!==null&&(te=u(mt),_t=mt.tag,mt!==te||_t!==5&&_t!==27&&_t!==6)&&(mt=null)):(Q=null,mt=H),Q!==mt)){if(_t=pl,W="onMouseLeave",U="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(_t=$i,W="onPointerLeave",U="onPointerEnter",O="pointer"),te=Q==null?G:Sn(Q),F=mt==null?G:Sn(mt),G=new _t(W,O+"leave",Q,a,X),G.target=te,G.relatedTarget=F,W=null,bi(X)===H&&(_t=new _t(U,O+"enter",mt,a,X),_t.target=F,_t.relatedTarget=te,W=_t),te=W,Q&&mt)e:{for(_t=dR,U=Q,O=mt,F=0,W=U;W;W=_t(W))F++;W=0;for(var yt=O;yt;yt=_t(yt))W++;for(;0<F-W;)U=_t(U),F--;for(;0<W-F;)O=_t(O),W--;for(;F--;){if(U===O||O!==null&&U===O.alternate){_t=U;break e}U=_t(U),O=_t(O)}_t=null}else _t=null;Q!==null&&R_(Z,G,Q,_t,!1),mt!==null&&te!==null&&R_(Z,te,mt,_t,!0)}}t:{if(G=H?Sn(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Ft=qy;else if(Fy(G))if(Gy)Ft=Ax;else{Ft=bx;var pt=Ex}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Na(H.elementType)&&(Ft=qy):Ft=Sx;if(Ft&&(Ft=Ft(i,H))){Hy(Z,Ft,a,X);break t}pt&&pt(i,G,H),i==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&ll(G,"number",G.value)}switch(pt=H?Sn(H):window,i){case"focusin":(Fy(pt)||pt.contentEditable==="true")&&(ja=pt,sd=H,Tl=null);break;case"focusout":Tl=sd=ja=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Zy(Z,a,X);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":Zy(Z,a,X)}var Dt;if(Gt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Ua?Kr(i,a)&&(Pt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Vi&&a.locale!=="ko"&&(Ua||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Ua&&(Dt=dl()):(Ci=X,fl="value"in Ci?Ci.value:Ci.textContent,Ua=!0)),pt=uh(H,Pt),0<pt.length&&(Pt=new Ni(Pt,i,null,a,X),Z.push({event:Pt,listeners:pt}),Dt?Pt.data=Dt:(Dt=La(a),Dt!==null&&(Pt.data=Dt)))),(Dt=Ln?yx(i,a):vx(i,a))&&(Pt=uh(H,"onBeforeInput"),0<Pt.length&&(pt=new Ni("onBeforeInput","beforeinput",null,a,X),Z.push({event:pt,listeners:Pt}),pt.data=Dt)),uR(Z,i,H,a,X)}w_(Z,s)})}function Gl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function uh(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(i,a),f!=null&&l.unshift(Gl(i,f,d)),f=ei(i,s),f!=null&&l.push(Gl(i,f,d))),i.tag===3)return l;i=i.return}return[]}function dR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function R_(i,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var S=a,M=S.alternate,H=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||H===null||(M=H,f?(H=ei(a,d),H!=null&&_.unshift(Gl(a,H,M))):f||(H=ei(a,d),H!=null&&_.push(Gl(a,H,M)))),a=a.return}_.length!==0&&i.push({event:s,listeners:_})}var mR=/\r\n?/g,pR=/\u0000|\uFFFD/g;function C_(i){return(typeof i=="string"?i:""+i).replace(mR,`
`).replace(pR,"")}function I_(i,s){return s=C_(s),C_(i)===s}function Zt(i,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||pn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&pn(i,""+l);break;case"className":An(i,"class",l);break;case"tabIndex":An(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,a,l);break;case"style":cl(i,l,d);break;case"data":if(s!=="object"){An(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Va(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Zt(i,s,"name",f.name,f,null),Zt(i,s,"formEncType",f.formEncType,f,null),Zt(i,s,"formMethod",f.formMethod,f,null),Zt(i,s,"formTarget",f.formTarget,f,null)):(Zt(i,s,"encType",f.encType,f,null),Zt(i,s,"method",f.method,f,null),Zt(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Va(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ti);break;case"onScroll":l!=null&&Vt("scroll",i);break;case"onScrollEnd":l!=null&&Vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Va(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Vt("beforetoggle",i),Vt("toggle",i),Ia(i,"popover",l);break;case"xlinkActuate":xe(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ia(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Ia(i,a,l))}}function Dm(i,s,a,l,f,d){switch(a){case"style":cl(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?pn(i,l):(typeof l=="number"||typeof l=="bigint")&&pn(i,""+l);break;case"onScroll":l!=null&&Vt("scroll",i);break;case"onScrollEnd":l!=null&&Vt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[ze]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ia(i,a,l)}}}function $e(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",i),Vt("load",i);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,d,_,a,null)}}f&&Zt(i,s,"srcSet",a.srcSet,a,null),l&&Zt(i,s,"src",a.src,a,null);return;case"input":Vt("invalid",i);var S=d=_=f=null,M=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":M=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:Zt(i,s,l,X,a,null)}}ac(i,d,S,M,H,_,f,!1);return;case"select":Vt("invalid",i),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Zt(i,s,f,S,a,null)}s=d,a=_,i.multiple=!!l,s!=null?ws(i,!!l,s,!1):a!=null&&ws(i,!!l,a,!0);return;case"textarea":Vt("invalid",i),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Zt(i,s,_,S,a,null)}xs(i,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(i,s,M,l,a,null)}return;case"dialog":Vt("beforetoggle",i),Vt("toggle",i),Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":Vt("load",i);break;case"video":case"audio":for(l=0;l<ql.length;l++)Vt(ql[l],i);break;case"image":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"embed":case"source":case"link":Vt("error",i),Vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,H,l,a,null)}return;default:if(Na(s)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Dm(i,s,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Zt(i,s,S,l,a,null))}function gR(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,M=null,H=null,X=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=Z;default:l.hasOwnProperty(Q)||Zt(i,s,Q,null,l,Z)}}for(var G in l){var Q=l[G];if(Z=a[G],l.hasOwnProperty(G)&&(Q!=null||Z!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==Z&&Zt(i,s,G,Q,l,Z)}}Da(i,_,S,M,H,X,d,f);return;case"select":Q=_=S=G=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":Q=M;default:l.hasOwnProperty(d)||Zt(i,s,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==M&&Zt(i,s,f,d,l,M)}s=S,a=_,l=Q,G!=null?ws(i,!!a,G,!1):!!l!=!!a&&(s!=null?ws(i,!!a,s,!0):ws(i,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Zt(i,s,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Zt(i,s,_,f,l,d)}oc(i,G,Q);return;case"option":for(var mt in a)if(G=a[mt],a.hasOwnProperty(mt)&&G!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:Zt(i,s,mt,null,l,G)}for(M in l)if(G=l[M],Q=a[M],l.hasOwnProperty(M)&&G!==Q&&(G!=null||Q!=null))switch(M){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Zt(i,s,M,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)G=a[_t],a.hasOwnProperty(_t)&&G!=null&&!l.hasOwnProperty(_t)&&Zt(i,s,_t,null,l,G);for(H in l)if(G=l[H],Q=a[H],l.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:Zt(i,s,H,G,l,Q)}return;default:if(Na(s)){for(var te in a)G=a[te],a.hasOwnProperty(te)&&G!==void 0&&!l.hasOwnProperty(te)&&Dm(i,s,te,void 0,l,G);for(X in l)G=l[X],Q=a[X],!l.hasOwnProperty(X)||G===Q||G===void 0&&Q===void 0||Dm(i,s,X,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&Zt(i,s,U,null,l,G);for(Z in l)G=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||G===Q||G==null&&Q==null||Zt(i,s,Z,G,l,Q)}function D_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&D_(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],H=M.startTime;if(H>S)break;var X=M.transferSize,Z=M.initiatorType;X&&D_(Z)&&(M=M.responseEnd,_+=X*(M<S?1:(S-H)/(M-H)))}if(--l,s+=8*(d+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Nm=null,Vm=null;function ch(i){return i.nodeType===9?i:i.ownerDocument}function N_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Mm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Om=null;function vR(){var i=window.event;return i&&i.type==="popstate"?i===Om?!1:(Om=i,!0):(Om=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,_R=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,TR=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(i){return O_.resolve(null).then(i).catch(ER)}:M_;function ER(i){setTimeout(function(){throw i})}function Xs(i){return i==="head"}function P_(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),fo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Kl(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Ei]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Kl(i.ownerDocument.body);a=f}while(a);fo(s)}function k_(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Pm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pm(a),Ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function bR(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ei])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=qn(i.nextSibling),i===null)break}return null}function SR(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=qn(i.nextSibling),i===null))return null;return i}function L_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=qn(i.nextSibling),i===null))return null;return i}function km(i){return i.data==="$?"||i.data==="$~"}function Lm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function AR(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function qn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Um=null;function U_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return qn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function j_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function B_(i,s,a){switch(s=ch(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ca(i)}var Gn=new Map,z_=new Set;function hh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hs=rt.d;rt.d={f:wR,r:xR,D:RR,C:CR,L:IR,m:DR,X:VR,S:NR,M:MR};function wR(){var i=hs.f(),s=nh();return i||s}function xR(i){var s=On(i);s!==null&&s.tag===5&&s.type==="form"?sv(s):hs.r(i)}var uo=typeof document>"u"?null:document;function F_(i,s,a){var l=uo;if(l&&typeof s=="string"&&s){var f=mn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),z_.has(f)||(z_.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),$e(s,"link",i),we(s),l.head.appendChild(s)))}}function RR(i){hs.D(i),F_("dns-prefetch",i,null)}function CR(i,s){hs.C(i,s),F_("preconnect",i,s)}function IR(i,s,a){hs.L(i,s,a);var l=uo;if(l&&i&&s){var f='link[rel="preload"][as="'+mn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+mn(a.imageSizes)+'"]')):f+='[href="'+mn(i)+'"]';var d=f;switch(s){case"style":d=co(i);break;case"script":d=ho(i)}Gn.has(d)||(i=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Gn.set(d,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Yl(d))||s==="script"&&l.querySelector(Ql(d))||(s=l.createElement("link"),$e(s,"link",i),we(s),l.head.appendChild(s)))}}function DR(i,s){hs.m(i,s);var a=uo;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(i)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ho(i)}if(!Gn.has(d)&&(i=T({rel:"modulepreload",href:i},s),Gn.set(d,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(d)))return}l=a.createElement("link"),$e(l,"link",i),we(l),a.head.appendChild(l)}}}function NR(i,s,a){hs.S(i,s,a);var l=uo;if(l&&i){var f=Si(l).hoistableStyles,d=co(i);s=s||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Yl(d)))S.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Gn.get(d))&&jm(i,a);var M=_=l.createElement("link");we(M),$e(M,"link",i),M._p=new Promise(function(H,X){M.onload=H,M.onerror=X}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,fh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function VR(i,s){hs.X(i,s);var a=uo;if(a&&i){var l=Si(a).hoistableScripts,f=ho(i),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(i=T({src:i,async:!0},s),(s=Gn.get(f))&&Bm(i,s),d=a.createElement("script"),we(d),$e(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function MR(i,s){hs.M(i,s);var a=uo;if(a&&i){var l=Si(a).hoistableScripts,f=ho(i),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(i=T({src:i,async:!0,type:"module"},s),(s=Gn.get(f))&&Bm(i,s),d=a.createElement("script"),we(d),$e(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function H_(i,s,a,l){var f=(f=It.current)?hh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=co(a.href),a=Si(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=co(a.href);var d=Si(f).hoistableStyles,_=d.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,_),(d=f.querySelector(Yl(i)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(i,a),d||OR(f,i,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ho(a),a=Si(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function co(i){return'href="'+mn(i)+'"'}function Yl(i){return'link[rel="stylesheet"]['+i+"]"}function q_(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function OR(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),$e(s,"link",a),we(s),i.head.appendChild(s))}function ho(i){return'[src="'+mn(i)+'"]'}function Ql(i){return"script[async]"+i}function G_(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+mn(a.href)+'"]');if(l)return s.instance=l,we(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),we(l),$e(l,"style",f),fh(l,a.precedence,i),s.instance=l;case"stylesheet":f=co(a.href);var d=i.querySelector(Yl(f));if(d)return s.state.loading|=4,s.instance=d,we(d),d;l=q_(a),(f=Gn.get(f))&&jm(l,f),d=(i.ownerDocument||i).createElement("link"),we(d);var _=d;return _._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),$e(d,"link",l),s.state.loading|=4,fh(d,a.precedence,i),s.instance=d;case"script":return d=ho(a.src),(f=i.querySelector(Ql(d)))?(s.instance=f,we(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),Bm(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),we(f),$e(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,fh(l,a.precedence,i));return s.instance}function fh(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function jm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Bm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var dh=null;function K_(i,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[Ei]||d[Ae]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=i+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Y_(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function PR(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Q_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function kR(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=co(l.href),d=s.querySelector(Yl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=mh.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,we(d);return}d=s.ownerDocument||s,l=q_(l),(f=Gn.get(f))&&jm(l,f),d=d.createElement("link"),we(d);var _=d;_._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),$e(d,"link",l),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=mh.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var zm=0;function LR(i,s){return i.stylesheets&&i.count===0&&gh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&gh(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&zm===0&&(zm=62500*yR());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gh(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>zm?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ph=null;function gh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ph=new Map,s.forEach(UR,i),ph=null,mh.call(i))}function UR(i,s){if(!(s.state.loading&4)){var a=ph.get(i);if(a)var l=a.get(null);else{a=new Map,ph.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Xl={$$typeof:B,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function jR(i,s,a,l,f,d,_,S,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function X_(i,s,a,l,f,d,_,S,M,H,X,Z){return i=new jR(i,s,a,_,M,H,X,Z,S),s=1,d===!0&&(s|=24),d=xn(3,null,null,s),i.current=d,d.stateNode=i,s=Td(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Ad(d),i}function $_(i){return i?(i=Fa,i):Fa}function W_(i,s,a,l,f,d){f=$_(f),l.context===null?l.context=f:l.pendingContext=f,l=Us(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=js(i,l,s),a!==null&&(Tn(a,i,s),Rl(a,i,s))}function J_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Fm(i,s){J_(i,s),(i=i.alternate)&&J_(i,s)}function Z_(i){if(i.tag===13||i.tag===31){var s=Xr(i,67108864);s!==null&&Tn(s,i,67108864),Fm(i,67108864)}}function tT(i){if(i.tag===13||i.tag===31){var s=Nn();s=Lr(s);var a=Xr(i,s);a!==null&&Tn(a,i,s),Fm(i,s)}}var yh=!0;function BR(i,s,a,l){var f=$.T;$.T=null;var d=rt.p;try{rt.p=2,Hm(i,s,a,l)}finally{rt.p=d,$.T=f}}function zR(i,s,a,l){var f=$.T;$.T=null;var d=rt.p;try{rt.p=8,Hm(i,s,a,l)}finally{rt.p=d,$.T=f}}function Hm(i,s,a,l){if(yh){var f=qm(l);if(f===null)Im(i,s,l,vh,a),nT(i,l);else if(HR(f,i,s,a,l))l.stopPropagation();else if(nT(i,l),s&4&&-1<FR.indexOf(i)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var M=1<<31-ge(_);S.entanglements[1]|=M,_&=~M}ki(d),(Kt&6)===0&&(th=ln()+500,Hl(0))}}break;case 31:case 13:S=Xr(d,2),S!==null&&Tn(S,d,2),nh(),Fm(d,2)}if(d=qm(l),d===null&&Im(i,s,l,vh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Im(i,s,l,null,a)}}function qm(i){return i=Pn(i),Gm(i)}var vh=null;function Gm(i){if(vh=null,i=bi(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return vh=i,null}function eT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mr()){case Jo:return 2;case Zo:return 8;case Ss:case Wf:return 32;case $u:return 268435456;default:return 32}default:return 32}}var Km=!1,$s=null,Ws=null,Js=null,$l=new Map,Wl=new Map,Zs=[],FR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nT(i,s){switch(i){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":$l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(s.pointerId)}}function Jl(i,s,a,l,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=On(s),s!==null&&Z_(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function HR(i,s,a,l,f){switch(s){case"focusin":return $s=Jl($s,i,s,a,l,f),!0;case"dragenter":return Ws=Jl(Ws,i,s,a,l,f),!0;case"mouseover":return Js=Jl(Js,i,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return $l.set(d,Jl($l.get(d)||null,i,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Wl.set(d,Jl(Wl.get(d)||null,i,s,a,l,f)),!0}return!1}function iT(i){var s=bi(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Jn(i.priority,function(){tT(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,Jn(i.priority,function(){tT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _h(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=qm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return s=On(a),s!==null&&Z_(s),i.blockedOn=a,!1;s.shift()}return!0}function sT(i,s,a){_h(i)&&a.delete(s)}function qR(){Km=!1,$s!==null&&_h($s)&&($s=null),Ws!==null&&_h(Ws)&&(Ws=null),Js!==null&&_h(Js)&&(Js=null),$l.forEach(sT),Wl.forEach(sT)}function Th(i,s){i.blockedOn===s&&(i.blockedOn=null,Km||(Km=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qR)))}var Eh=null;function rT(i){Eh!==i&&(Eh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eh===i&&(Eh=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(Gm(l||a)===null)continue;break}var d=On(a);d!==null&&(i.splice(s,3),s-=3,qd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function fo(i){function s(M){return Th(M,i)}$s!==null&&Th($s,i),Ws!==null&&Th(Ws,i),Js!==null&&Th(Js,i),$l.forEach(s),Wl.forEach(s);for(var a=0;a<Zs.length;a++){var l=Zs[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)iT(a),a.blockedOn===null&&Zs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[ze]||null;if(typeof d=="function")_||rT(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ze]||null)S=_.formAction;else if(Gm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),rT(a)}}}function aT(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Ym(i){this._internalRoot=i}bh.prototype.render=Ym.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Nn();W_(a,l,i,s,null,null)},bh.prototype.unmount=Ym.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;W_(i.current,2,null,i,null,null),nh(),s[Ti]=null}};function bh(i){this._internalRoot=i}bh.prototype.unstable_scheduleHydration=function(i){if(i){var s=nc();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Zs.length&&s!==0&&s<Zs[a].priority;a++);Zs.splice(a,0,i),a===0&&iT(i)}};var oT=t.version;if(oT!=="19.2.0")throw Error(r(527,oT,"19.2.0"));rt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var GR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{$n=Sh.inject(GR),Ge=Sh}catch{}}return tu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=mv,d=pv,_=gv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=X_(i,1,!1,null,null,a,l,null,f,d,_,aT),i[Ti]=s.current,Cm(i),new Ym(s)},tu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",d=mv,_=pv,S=gv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=X_(i,1,!0,s,a??null,l,f,M,d,_,S,aT),s.context=$_(null),a=s.current,l=Nn(),l=Lr(l),f=Us(l),f.callback=null,js(a,f,l),a=l,s.current.lanes=a,Pr(s,a),ki(s),i[Ti]=s.current,Cm(i),new bh(s)},tu.version="19.2.0",tu}var yT;function eC(){if(yT)return $m.exports;yT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),$m.exports=tC(),$m.exports}var nC=eC();const iC=()=>{};var vT={};const sS=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},sC=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],m=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},rS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,y=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,D=g&63;p||(D=64,c||(b=64)),r.push(e[y],e[T],e[b],e[D])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(sS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):sC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],m=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const T=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new rC;const b=u<<2|m>>4;if(r.push(b),g!==64){const D=m<<4&240|g>>2;if(r.push(D),T!==64){const j=g<<6&192|T;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(n){const t=sS(n);return rS.encodeByteArray(t,!0)},$h=function(n){return aC(n).replace(/\./g,"")},aS=function(n){try{return rS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lC=()=>oC().__FIREBASE_DEFAULTS__,uC=()=>{if(typeof process>"u"||typeof vT>"u")return;const n=vT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&aS(n[1]);return t&&JSON.parse(t)},Af=()=>{try{return iC()||lC()||uC()||cC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oS=n=>Af()?.emulatorHosts?.[n],hC=n=>{const t=oS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},lS=()=>Af()?.config,uS=n=>Af()?.[`_${n}`];class fC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function jo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cS(n){return(await fetch(n,{credentials:"include"})).ok}function dC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[$h(JSON.stringify(e)),$h(JSON.stringify(c)),""].join(".")}const uu={};function mC(){const n={prod:[],emulator:[]};for(const t of Object.keys(uu))uu[t]?n.emulator.push(t):n.prod.push(t);return n}function pC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let _T=!1;function hS(n,t){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||uu[n]===t||uu[n]||_T)return;uu[n]=t;function e(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=mC().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{_T=!0,c()},b}function y(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=pC(r),D=e("text"),j=document.getElementById(D)||document.createElement("span"),q=e("learnmore"),L=document.getElementById(q)||document.createElement("a"),K=e("preprendIcon"),J=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const B=b.element;m(B),y(L,q);const it=g();p(J,K),B.append(J,j,L,it),document.body.appendChild(B)}u?(j.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function yC(){const n=Af()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _C(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EC(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bC(){return!yC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SC(){try{return typeof indexedDB=="object"}catch{return!1}}function AC(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const wC="FirebaseError";class Es extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=wC,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?xC(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Es(o,m,r)}}function xC(n,t){return n.replace(RC,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const RC=/\{\$([^}]+)}/g;function CC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function vr(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(TT(u)&&TT(c)){if(!vr(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function TT(n){return n!==null&&typeof n=="object"}function Ou(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function IC(n,t){const e=new DC(n,t);return e.subscribe.bind(e)}class DC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");NC(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=tp),o.error===void 0&&(o.error=tp),o.complete===void 0&&(o.complete=tp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function tp(){}function dn(n){return n&&n._delegate?n._delegate:n}class ga{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ua="[DEFAULT]";class VC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new fC;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OC(t))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ua){return this.instances.has(t)}getOptions(t=ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ua){return this.component?this.component.multipleInstances?t:ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MC(n){return n===ua?void 0:n}function OC(n){return n.instantiationMode==="EAGER"}class PC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new VC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var kt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(kt||(kt={}));const kC={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},LC=kt.INFO,UC={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},jC=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=UC[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bg{constructor(t){this.name=t,this._logLevel=LC,this._logHandler=jC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const BC=(n,t)=>t.some(e=>n instanceof e);let ET,bT;function zC(){return ET||(ET=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FC(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fS=new WeakMap,Cp=new WeakMap,dS=new WeakMap,ep=new WeakMap,Sg=new WeakMap;function HC(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(hr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&fS.set(e,n)}).catch(()=>{}),Sg.set(t,n),t}function qC(n){if(Cp.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Cp.set(n,t)}let Ip={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Cp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||dS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return hr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function GC(n){Ip=n(Ip)}function KC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(np(this),t,...e);return dS.set(r,t.sort?t.sort():[t]),hr(r)}:FC().includes(n)?function(...t){return n.apply(np(this),t),hr(fS.get(this))}:function(...t){return hr(n.apply(np(this),t))}}function YC(n){return typeof n=="function"?KC(n):(n instanceof IDBTransaction&&qC(n),BC(n,zC())?new Proxy(n,Ip):n)}function hr(n){if(n instanceof IDBRequest)return HC(n);if(ep.has(n))return ep.get(n);const t=YC(n);return t!==n&&(ep.set(n,t),Sg.set(t,n)),t}const np=n=>Sg.get(n);function QC(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=hr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(hr(c.result),p.oldVersion,p.newVersion,hr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const XC=["get","getKey","getAll","getAllKeys","count"],$C=["put","add","delete","clear"],ip=new Map;function ST(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(ip.get(t))return ip.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=$C.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||XC.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return ip.set(t,u),u}GC(n=>({...n,get:(t,e,r)=>ST(t,e)||n.get(t,e,r),has:(t,e)=>!!ST(t,e)||n.has(t,e)}));class WC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(JC(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function JC(n){return n.getComponent()?.type==="VERSION"}const Dp="@firebase/app",AT="0.14.7";const ps=new bg("@firebase/app"),ZC="@firebase/app-compat",t2="@firebase/analytics-compat",e2="@firebase/analytics",n2="@firebase/app-check-compat",i2="@firebase/app-check",s2="@firebase/auth",r2="@firebase/auth-compat",a2="@firebase/database",o2="@firebase/data-connect",l2="@firebase/database-compat",u2="@firebase/functions",c2="@firebase/functions-compat",h2="@firebase/installations",f2="@firebase/installations-compat",d2="@firebase/messaging",m2="@firebase/messaging-compat",p2="@firebase/performance",g2="@firebase/performance-compat",y2="@firebase/remote-config",v2="@firebase/remote-config-compat",_2="@firebase/storage",T2="@firebase/storage-compat",E2="@firebase/firestore",b2="@firebase/ai",S2="@firebase/firestore-compat",A2="firebase",w2="12.8.0";const Np="[DEFAULT]",x2={[Dp]:"fire-core",[ZC]:"fire-core-compat",[e2]:"fire-analytics",[t2]:"fire-analytics-compat",[i2]:"fire-app-check",[n2]:"fire-app-check-compat",[s2]:"fire-auth",[r2]:"fire-auth-compat",[a2]:"fire-rtdb",[o2]:"fire-data-connect",[l2]:"fire-rtdb-compat",[u2]:"fire-fn",[c2]:"fire-fn-compat",[h2]:"fire-iid",[f2]:"fire-iid-compat",[d2]:"fire-fcm",[m2]:"fire-fcm-compat",[p2]:"fire-perf",[g2]:"fire-perf-compat",[y2]:"fire-rc",[v2]:"fire-rc-compat",[_2]:"fire-gcs",[T2]:"fire-gcs-compat",[E2]:"fire-fst",[S2]:"fire-fst-compat",[b2]:"fire-vertex","fire-js":"fire-js",[A2]:"fire-js-all"};const Wh=new Map,R2=new Map,Vp=new Map;function wT(n,t){try{n.container.addComponent(t)}catch(e){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Do(n){const t=n.name;if(Vp.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;Vp.set(t,n);for(const e of Wh.values())wT(e,n);for(const e of R2.values())wT(e,n);return!0}function Ag(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ci(n){return n==null?!1:n.settings!==void 0}const C2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Mu("app","Firebase",C2);class I2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Bo=w2;function mS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Np,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(e||(e=lS()),!e)throw fr.create("no-options");const u=Wh.get(o);if(u){if(vr(e,u.options)&&vr(r,u.config))return u;throw fr.create("duplicate-app",{appName:o})}const c=new PC(o);for(const p of Vp.values())c.addComponent(p);const m=new I2(e,r,c);return Wh.set(o,m),m}function pS(n=Np){const t=Wh.get(n);if(!t&&n===Np&&lS())return mS();if(!t)throw fr.create("no-app",{appName:n});return t}function dr(n,t,e){let r=x2[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(c.join(" "));return}Do(new ga(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const D2="firebase-heartbeat-database",N2=1,_u="firebase-heartbeat-store";let sp=null;function gS(){return sp||(sp=QC(D2,N2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(_u)}catch(e){console.warn(e)}}}}).catch(n=>{throw fr.create("idb-open",{originalErrorMessage:n.message})})),sp}async function V2(n){try{const e=(await gS()).transaction(_u),r=await e.objectStore(_u).get(yS(n));return await e.done,r}catch(t){if(t instanceof Es)ps.warn(t.message);else{const e=fr.create("idb-get",{originalErrorMessage:t?.message});ps.warn(e.message)}}}async function xT(n,t){try{const r=(await gS()).transaction(_u,"readwrite");await r.objectStore(_u).put(t,yS(n)),await r.done}catch(e){if(e instanceof Es)ps.warn(e.message);else{const r=fr.create("idb-set",{originalErrorMessage:e?.message});ps.warn(r.message)}}}function yS(n){return`${n.name}!${n.options.appId}`}const M2=1024,O2=30;class P2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new L2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=RT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>O2){const o=U2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=RT(),{heartbeatsToSend:e,unsentEntries:r}=k2(this._heartbeatsCache.heartbeats),o=$h(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ps.warn(t),""}}}function RT(){return new Date().toISOString().substring(0,10)}function k2(n,t=M2){const e=[];let r=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),CT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),CT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class L2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SC()?AC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await V2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return xT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return xT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function CT(n){return $h(JSON.stringify({version:2,heartbeats:n})).length}function U2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function j2(n){Do(new ga("platform-logger",t=>new WC(t),"PRIVATE")),Do(new ga("heartbeat",t=>new P2(t),"PRIVATE")),dr(Dp,AT,n),dr(Dp,AT,"esm2020"),dr("fire-js","")}j2("");var B2="firebase",z2="12.8.0";dr(B2,z2,"app");function vS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F2=vS,_S=new Mu("auth","Firebase",vS());const Jh=new bg("@firebase/auth");function H2(n,...t){Jh.logLevel<=kt.WARN&&Jh.warn(`Auth (${Bo}): ${n}`,...t)}function Oh(n,...t){Jh.logLevel<=kt.ERROR&&Jh.error(`Auth (${Bo}): ${n}`,...t)}function gs(n,...t){throw wg(n,...t)}function Ui(n,...t){return wg(n,...t)}function TS(n,t,e){const r={...F2(),[t]:e};return new Mu("auth","Firebase",r).create(t,{appName:n.name})}function mr(n){return TS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return _S.create(n,...t)}function Et(n,t,...e){if(!n)throw wg(t,...e)}function fs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Oh(t),new Error(t)}function ys(n,t){n||fs(t)}function Mp(){return typeof self<"u"&&self.location?.href||""}function q2(){return IT()==="http:"||IT()==="https:"}function IT(){return typeof self<"u"&&self.location?.protocol||null}function G2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q2()||_C()||"connection"in navigator)?navigator.onLine:!0}function K2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Pu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ys(e>t,"Short delay should be less than long delay!"),this.isMobile=gC()||TC()}get(){return G2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xg(n,t){ys(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class ES{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Q2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],X2=new Pu(3e4,6e4);function wf(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function zo(n,t,e,r,o={}){return bS(n,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Ou({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return vC()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&jo(n.emulatorConfig.host)&&(g.credentials="include"),ES.fetch()(await AS(n,n.config.apiHost,e,m),g)})}async function bS(n,t,e){n._canInitEmulator=!1;const r={...Y2,...t};try{const o=new $2(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ah(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ah(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ah(n,"user-disabled",c);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw TS(n,y,g);gs(n,y)}}catch(o){if(o instanceof Es)throw o;gs(n,"network-request-failed",{message:String(o)})}}async function SS(n,t,e,r,o={}){const u=await zo(n,t,e,r,o);return"mfaPendingCredential"in u&&gs(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function AS(n,t,e,r){const o=`${t}${e}?${r}`,u=n,c=u.config.emulator?xg(n.config,o):`${n.config.apiScheme}://${o}`;return Q2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class $2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),X2.get())})}}function Ah(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Ui(n,t,r);return o.customData._tokenResponse=e,o}async function W2(n,t){return zo(n,"POST","/v1/accounts:delete",t)}async function Zh(n,t){return zo(n,"POST","/v1/accounts:lookup",t)}function cu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function J2(n,t=!1){const e=dn(n),r=await e.getIdToken(t),o=Rg(r);Et(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:cu(rp(o.auth_time)),issuedAtTime:cu(rp(o.iat)),expirationTime:cu(rp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function rp(n){return Number(n)*1e3}function Rg(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=aS(e);return o?JSON.parse(o):(Oh("Failed to decode base64 JWT payload"),null)}catch(o){return Oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function DT(n){const t=Rg(n);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Tu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Es&&Z2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Z2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class tI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Op{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tf(n){const t=n.auth,e=await n.getIdToken(),r=await Tu(n,Zh(t,{idToken:e}));Et(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?wS(o.providerUserInfo):[],c=nI(n.providerData,u),m=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=m?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Op(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function eI(n){const t=dn(n);await tf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nI(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function wS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function iI(n,t){const e=await bS(n,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await AS(n,o,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return n.emulatorConfig&&jo(n.emulatorConfig.host)&&(p.credentials="include"),ES.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function sI(n,t){return zo(n,"POST","/v2/accounts:revokeToken",wf(n,t))}class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):DT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=DT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await iI(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new So;return r&&(Et(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return fs("not implemented")}}function er(n,t){Et(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Tu(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return J2(this,t)}reload(){return eI(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(mr(this.auth));const t=await this.getIdToken();return await Tu(this,W2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:D,providerData:j,stsTokenManager:q}=e;Et(T&&q,t,"internal-error");const L=So.fromJSON(this.name,q);Et(typeof T=="string",t,"internal-error"),er(r,t.name),er(o,t.name),Et(typeof b=="boolean",t,"internal-error"),Et(typeof D=="boolean",t,"internal-error"),er(u,t.name),er(c,t.name),er(m,t.name),er(p,t.name),er(g,t.name),er(y,t.name);const K=new hi({uid:T,auth:t,email:o,emailVerified:b,displayName:r,isAnonymous:D,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:y});return j&&Array.isArray(j)&&(K.providerData=j.map(J=>({...J}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(t,e,r=!1){const o=new So;o.updateFromServerResponse(e);const u=new hi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await tf(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?wS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new So;m.updateFromIdToken(r);const p=new hi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const NT=new Map;function ds(n){ys(n instanceof Function,"Expected a class definition");let t=NT.get(n);return t?(ys(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,NT.set(n,t),t)}class xS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}xS.type="NONE";const VT=xS;function Ph(n,t,e){return`firebase:${n}:${t}:${e}`}class Ao{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ph("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Zh(this.auth,{idToken:t}).catch(()=>{});return e?hi._fromGetAccountInfoResponse(this.auth,e,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Ao(ds(VT),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ds(VT);const c=Ph(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const b=await Zh(t,{idToken:y}).catch(()=>{});if(!b)break;T=await hi._fromGetAccountInfoResponse(t,b,y)}else T=hi._fromJSON(t,y);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ao(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Ao(u,t,r))}}function MT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(DS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VS(t))return"Blackberry";if(MS(t))return"Webos";if(CS(t))return"Safari";if((t.includes("chrome/")||IS(t))&&!t.includes("edge/"))return"Chrome";if(NS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function RS(n=on()){return/firefox\//i.test(n)}function CS(n=on()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function IS(n=on()){return/crios\//i.test(n)}function DS(n=on()){return/iemobile/i.test(n)}function NS(n=on()){return/android/i.test(n)}function VS(n=on()){return/blackberry/i.test(n)}function MS(n=on()){return/webos/i.test(n)}function Cg(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rI(n=on()){return Cg(n)&&!!window.navigator?.standalone}function aI(){return EC()&&document.documentMode===10}function OS(n=on()){return Cg(n)||NS(n)||MS(n)||VS(n)||/windows phone/i.test(n)||DS(n)}function PS(n,t=[]){let e;switch(n){case"Browser":e=MT(on());break;case"Worker":e=`${MT(on())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Bo}/${r}`}class oI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function lI(n,t={}){return zo(n,"GET","/v2/passwordPolicy",wf(n,t))}const uI=6;class cI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??uI,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class hI{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OT(this),this.idTokenSubscription=new OT(this),this.beforeStateQueue=new oI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ds(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Zh(this,{idToken:t}),r=await hi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ci(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await tf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=K2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ci(this.app))return Promise.reject(mr(this));const e=t?dn(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ci(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lI(this),e=new cI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Mu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await sI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ds(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[ds(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=PS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&H2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function xf(n){return dn(n)}class OT{constructor(t){this.auth=t,this.observer=null,this.addObserver=IC(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fI(n){Ig=n}function dI(n){return Ig.loadJS(n)}function mI(){return Ig.gapiScript}function pI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function gI(n,t){const e=Ag(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(vr(u,t??{}))return o;gs(o,"already-initialized")}return e.initialize({options:t})}function yI(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(ds);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function vI(n,t,e){const r=xf(n);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=kS(t),{host:c,port:m}=_I(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},y=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(vr(g,r.config.emulator)&&vr(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,jo(c)?(cS(`${u}//${c}${p}`),hS("Auth",!0)):TI()}function kS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function _I(n){const t=kS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:PT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:PT(c)}}}function PT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function TI(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class LS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return fs("not implemented")}_getIdTokenResponse(t){return fs("not implemented")}_linkToIdToken(t,e){return fs("not implemented")}_getReauthenticationResolver(t){return fs("not implemented")}}async function wo(n,t){return SS(n,"POST","/v1/accounts:signInWithIdp",wf(n,t))}const EI="http://localhost";class ya extends LS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):gs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new ya(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return wo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,wo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,wo(t,e)}buildRequest(){const t={requestUri:EI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ou(e)}return t}}class US{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ku extends US{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class sr extends ku{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ya._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return rr.credential(e,r)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends ku{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class or extends ku{constructor(){super("twitter.com")}static credential(t,e){return ya._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return or.credential(e,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function bI(n,t){return SS(n,"POST","/v1/accounts:signUp",wf(n,t))}class _r{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await hi._fromIdTokenResponse(t,r,o),c=kT(r);return new _r({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=kT(r);return new _r({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function kT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function jS(n){if(ci(n.app))return Promise.reject(mr(n));const t=xf(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new _r({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await bI(t,{returnSecureToken:!0}),r=await _r._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}class ef extends Es{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new ef(t,e,r,o)}}function BS(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(n,u,t,r):u})}async function SI(n,t,e=!1){const r=await Tu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return _r._forOperation(n,"link",r)}async function AI(n,t,e=!1){const{auth:r}=n;if(ci(r.app))return Promise.reject(mr(r));const o="reauthenticate";try{const u=await Tu(n,BS(r,o,t,n),e);Et(u.idToken,r,"internal-error");const c=Rg(u.idToken);Et(c,r,"internal-error");const{sub:m}=c;return Et(n.uid===m,r,"user-mismatch"),_r._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&gs(r,"user-mismatch"),u}}async function wI(n,t,e=!1){if(ci(n.app))return Promise.reject(mr(n));const r="signIn",o=await BS(n,r,t),u=await _r._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}function xI(n,t,e,r){return dn(n).onIdTokenChanged(t,e,r)}function RI(n,t,e){return dn(n).beforeAuthStateChanged(t,e)}const nf="__sak";class zS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const CI=1e3,II=10;class FS extends zS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);aI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,II):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}FS.type="LOCAL";const DI=FS;class HS extends zS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}HS.type="SESSION";const qS=HS;function NI(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Rf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Rf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await NI(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];function Dg(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}class VI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Dg("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ji(){return window}function MI(n){ji().location.href=n}function GS(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function OI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PI(){return navigator?.serviceWorker?.controller||null}function kI(){return GS()?self:null}const KS="firebaseLocalStorageDb",LI=1,sf="firebaseLocalStorage",YS="fbase_key";class Lu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Cf(n,t){return n.transaction([sf],t?"readwrite":"readonly").objectStore(sf)}function UI(){const n=indexedDB.deleteDatabase(KS);return new Lu(n).toPromise()}function Pp(){const n=indexedDB.open(KS,LI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(sf,{keyPath:YS})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(sf)?t(r):(r.close(),await UI(),t(await Pp()))})})}async function LT(n,t,e){const r=Cf(n,!0).put({[YS]:t,value:e});return new Lu(r).toPromise()}async function jI(n,t){const e=Cf(n,!1).get(t),r=await new Lu(e).toPromise();return r===void 0?null:r.value}function UT(n,t){const e=Cf(n,!0).delete(t);return new Lu(e).toPromise()}const BI=800,zI=3;class QS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>zI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(kI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OI(),!this.activeServiceWorker)return;this.sender=new VI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||PI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Pp();return await LT(t,nf,"1"),await UT(t,nf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>LT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>jI(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>UT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Cf(o,!1).getAll();return new Lu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QS.type="LOCAL";const FI=QS;new Pu(3e4,6e4);function HI(n,t){return t?ds(t):(Et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Ng extends LS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return wo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return wo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function qI(n){return wI(n.auth,new Ng(n),n.bypassAuthState)}function GI(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),AI(e,new Ng(n),n.bypassAuthState)}async function KI(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),SI(e,new Ng(n),n.bypassAuthState)}class XS{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qI;case"linkViaPopup":case"linkViaRedirect":return KI;case"reauthViaPopup":case"reauthViaRedirect":return GI;default:gs(this.auth,"internal-error")}}resolve(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YI=new Pu(2e3,1e4);class vo extends XS{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const t=Dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,YI.get())};t()}}vo.currentPopupAction=null;const QI="pendingRedirect",kh=new Map;class XI extends XS{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=kh.get(this.auth._key());if(!t){try{const r=await $I(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}kh.set(this.auth._key(),t)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $I(n,t){const e=ZI(t),r=JI(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function WI(n,t){kh.set(n._key(),t)}function JI(n){return ds(n._redirectPersistence)}function ZI(n){return Ph(QI,n.config.apiKey,n.name)}async function tD(n,t,e=!1){if(ci(n.app))return Promise.reject(mr(n));const r=xf(n),o=HI(r,t),c=await new XI(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const eD=600*1e3;class nD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!$S(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ui(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eD&&this.cachedEventUids.clear(),this.cachedEventUids.has(jT(t))}saveEventToCache(t){this.cachedEventUids.add(jT(t)),this.lastProcessedEventTime=Date.now()}}function jT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function $S({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function iD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $S(n);default:return!1}}async function sD(n,t={}){return zo(n,"GET","/v1/projects",t)}const rD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aD=/^https?/;async function oD(n){if(n.config.emulator)return;const{authorizedDomains:t}=await sD(n);for(const e of t)try{if(lD(e))return}catch{}gs(n,"unauthorized-domain")}function lD(n){const t=Mp(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!aD.test(e))return!1;if(rD.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const uD=new Pu(3e4,6e4);function BT(){const n=ji().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function cD(n){return new Promise((t,e)=>{function r(){BT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{BT(),e(Ui(n,"network-request-failed"))},timeout:uD.get()})}if(ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ji().gapi?.load)r();else{const o=pI("iframefcb");return ji()[o]=()=>{gapi.load?r():e(Ui(n,"network-request-failed"))},dI(`${mI()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Lh=null,t})}let Lh=null;function hD(n){return Lh=Lh||cD(n),Lh}const fD=new Pu(5e3,15e3),dD="__/auth/iframe",mD="emulator/auth/iframe",pD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yD(n){const t=n.config;Et(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?xg(t,mD):`https://${n.config.authDomain}/${dD}`,r={apiKey:t.apiKey,appName:n.name,v:Bo},o=gD.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${Ou(r).slice(1)}`}async function vD(n){const t=await hD(n),e=ji().gapi;return Et(e,n,"internal-error"),t.open({where:document.body,url:yD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Ui(n,"network-request-failed"),m=ji().setTimeout(()=>{u(c)},fD.get());function p(){ji().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const _D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TD=500,ED=600,bD="_blank",SD="http://localhost";class zT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AD(n,t,e,r=TD,o=ED){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={..._D,width:r.toString(),height:o.toString(),top:u,left:c},g=on().toLowerCase();e&&(m=IS(g)?bD:e),RS(g)&&(t=t||SD,p.scrollbars="yes");const y=Object.entries(p).reduce((b,[D,j])=>`${b}${D}=${j},`,"");if(rI(g)&&m!=="_self")return wD(t||"",m),new zT(null);const T=window.open(t||"",m,y);Et(T,n,"popup-blocked");try{T.focus()}catch{}return new zT(T)}function wD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const xD="__/auth/handler",RD="emulator/auth/handler",CD=encodeURIComponent("fac");async function FT(n,t,e,r,o,u){Et(n.config.authDomain,n,"auth-domain-config-required"),Et(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Bo,eventId:o};if(t instanceof US){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",CC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof ku){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const p=await n._getAppCheckToken(),g=p?`#${CD}=${encodeURIComponent(p)}`:"";return`${ID(n)}?${Ou(m).slice(1)}${g}`}function ID({config:n}){return n.emulator?xg(n,RD):`https://${n.authDomain}/${xD}`}const ap="webStorageSupport";class DD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qS,this._completeRedirectFn=tD,this._overrideRedirectResult=WI}async _openPopup(t,e,r,o){ys(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await FT(t,e,r,Mp(),o);return AD(t,u,Dg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await FT(t,e,r,Mp(),o);return MI(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(ys(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await vD(t),r=new nD(t);return e.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ap,{type:ap},o=>{const u=o?.[0]?.[ap];u!==void 0&&e(!!u),gs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=oD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return OS()||CS()||Cg()}}const ND=DD;var HT="@firebase/auth",qT="1.12.0";class VD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OD(n){Do(new ga("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PS(n)},g=new hI(r,o,u,p);return yI(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Do(new ga("auth-internal",t=>{const e=xf(t.getProvider("auth").getImmediate());return(r=>new VD(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(HT,qT,MD(n)),dr(HT,qT,"esm2020")}const PD=300,kD=uS("authIdTokenMaxAge")||PD;let GT=null;const LD=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>kD)return;const o=e?.token;GT!==o&&(GT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UD(n=pS()){const t=Ag(n,"auth");if(t.isInitialized())return t.getImmediate();const e=gI(n,{popupRedirectResolver:ND,persistence:[FI,DI,qS]}),r=uS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=LD(u.toString());RI(e,c,()=>c(e.currentUser)),xI(e,m=>c(m))}}const o=oS("auth");return o&&vI(e,`http://${o}`),e}function jD(){return document.getElementsByTagName("head")?.[0]??document}fI({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=Ui("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",jD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OD("Browser");var KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,WS;(function(){var n;function t(R,w){function x(){}x.prototype=w.prototype,R.F=w.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(I,V,k){for(var N=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)N[qt-2]=arguments[qt];return w.prototype[V].apply(I,N)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,x){x||(x=0);const I=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)I[V]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(V=0;V<16;++V)I[V]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=R.g[0],x=R.g[1],V=R.g[2];let k=R.g[3],N;N=w+(k^x&(V^k))+I[0]+3614090360&4294967295,w=x+(N<<7&4294967295|N>>>25),N=k+(V^w&(x^V))+I[1]+3905402710&4294967295,k=w+(N<<12&4294967295|N>>>20),N=V+(x^k&(w^x))+I[2]+606105819&4294967295,V=k+(N<<17&4294967295|N>>>15),N=x+(w^V&(k^w))+I[3]+3250441966&4294967295,x=V+(N<<22&4294967295|N>>>10),N=w+(k^x&(V^k))+I[4]+4118548399&4294967295,w=x+(N<<7&4294967295|N>>>25),N=k+(V^w&(x^V))+I[5]+1200080426&4294967295,k=w+(N<<12&4294967295|N>>>20),N=V+(x^k&(w^x))+I[6]+2821735955&4294967295,V=k+(N<<17&4294967295|N>>>15),N=x+(w^V&(k^w))+I[7]+4249261313&4294967295,x=V+(N<<22&4294967295|N>>>10),N=w+(k^x&(V^k))+I[8]+1770035416&4294967295,w=x+(N<<7&4294967295|N>>>25),N=k+(V^w&(x^V))+I[9]+2336552879&4294967295,k=w+(N<<12&4294967295|N>>>20),N=V+(x^k&(w^x))+I[10]+4294925233&4294967295,V=k+(N<<17&4294967295|N>>>15),N=x+(w^V&(k^w))+I[11]+2304563134&4294967295,x=V+(N<<22&4294967295|N>>>10),N=w+(k^x&(V^k))+I[12]+1804603682&4294967295,w=x+(N<<7&4294967295|N>>>25),N=k+(V^w&(x^V))+I[13]+4254626195&4294967295,k=w+(N<<12&4294967295|N>>>20),N=V+(x^k&(w^x))+I[14]+2792965006&4294967295,V=k+(N<<17&4294967295|N>>>15),N=x+(w^V&(k^w))+I[15]+1236535329&4294967295,x=V+(N<<22&4294967295|N>>>10),N=w+(V^k&(x^V))+I[1]+4129170786&4294967295,w=x+(N<<5&4294967295|N>>>27),N=k+(x^V&(w^x))+I[6]+3225465664&4294967295,k=w+(N<<9&4294967295|N>>>23),N=V+(w^x&(k^w))+I[11]+643717713&4294967295,V=k+(N<<14&4294967295|N>>>18),N=x+(k^w&(V^k))+I[0]+3921069994&4294967295,x=V+(N<<20&4294967295|N>>>12),N=w+(V^k&(x^V))+I[5]+3593408605&4294967295,w=x+(N<<5&4294967295|N>>>27),N=k+(x^V&(w^x))+I[10]+38016083&4294967295,k=w+(N<<9&4294967295|N>>>23),N=V+(w^x&(k^w))+I[15]+3634488961&4294967295,V=k+(N<<14&4294967295|N>>>18),N=x+(k^w&(V^k))+I[4]+3889429448&4294967295,x=V+(N<<20&4294967295|N>>>12),N=w+(V^k&(x^V))+I[9]+568446438&4294967295,w=x+(N<<5&4294967295|N>>>27),N=k+(x^V&(w^x))+I[14]+3275163606&4294967295,k=w+(N<<9&4294967295|N>>>23),N=V+(w^x&(k^w))+I[3]+4107603335&4294967295,V=k+(N<<14&4294967295|N>>>18),N=x+(k^w&(V^k))+I[8]+1163531501&4294967295,x=V+(N<<20&4294967295|N>>>12),N=w+(V^k&(x^V))+I[13]+2850285829&4294967295,w=x+(N<<5&4294967295|N>>>27),N=k+(x^V&(w^x))+I[2]+4243563512&4294967295,k=w+(N<<9&4294967295|N>>>23),N=V+(w^x&(k^w))+I[7]+1735328473&4294967295,V=k+(N<<14&4294967295|N>>>18),N=x+(k^w&(V^k))+I[12]+2368359562&4294967295,x=V+(N<<20&4294967295|N>>>12),N=w+(x^V^k)+I[5]+4294588738&4294967295,w=x+(N<<4&4294967295|N>>>28),N=k+(w^x^V)+I[8]+2272392833&4294967295,k=w+(N<<11&4294967295|N>>>21),N=V+(k^w^x)+I[11]+1839030562&4294967295,V=k+(N<<16&4294967295|N>>>16),N=x+(V^k^w)+I[14]+4259657740&4294967295,x=V+(N<<23&4294967295|N>>>9),N=w+(x^V^k)+I[1]+2763975236&4294967295,w=x+(N<<4&4294967295|N>>>28),N=k+(w^x^V)+I[4]+1272893353&4294967295,k=w+(N<<11&4294967295|N>>>21),N=V+(k^w^x)+I[7]+4139469664&4294967295,V=k+(N<<16&4294967295|N>>>16),N=x+(V^k^w)+I[10]+3200236656&4294967295,x=V+(N<<23&4294967295|N>>>9),N=w+(x^V^k)+I[13]+681279174&4294967295,w=x+(N<<4&4294967295|N>>>28),N=k+(w^x^V)+I[0]+3936430074&4294967295,k=w+(N<<11&4294967295|N>>>21),N=V+(k^w^x)+I[3]+3572445317&4294967295,V=k+(N<<16&4294967295|N>>>16),N=x+(V^k^w)+I[6]+76029189&4294967295,x=V+(N<<23&4294967295|N>>>9),N=w+(x^V^k)+I[9]+3654602809&4294967295,w=x+(N<<4&4294967295|N>>>28),N=k+(w^x^V)+I[12]+3873151461&4294967295,k=w+(N<<11&4294967295|N>>>21),N=V+(k^w^x)+I[15]+530742520&4294967295,V=k+(N<<16&4294967295|N>>>16),N=x+(V^k^w)+I[2]+3299628645&4294967295,x=V+(N<<23&4294967295|N>>>9),N=w+(V^(x|~k))+I[0]+4096336452&4294967295,w=x+(N<<6&4294967295|N>>>26),N=k+(x^(w|~V))+I[7]+1126891415&4294967295,k=w+(N<<10&4294967295|N>>>22),N=V+(w^(k|~x))+I[14]+2878612391&4294967295,V=k+(N<<15&4294967295|N>>>17),N=x+(k^(V|~w))+I[5]+4237533241&4294967295,x=V+(N<<21&4294967295|N>>>11),N=w+(V^(x|~k))+I[12]+1700485571&4294967295,w=x+(N<<6&4294967295|N>>>26),N=k+(x^(w|~V))+I[3]+2399980690&4294967295,k=w+(N<<10&4294967295|N>>>22),N=V+(w^(k|~x))+I[10]+4293915773&4294967295,V=k+(N<<15&4294967295|N>>>17),N=x+(k^(V|~w))+I[1]+2240044497&4294967295,x=V+(N<<21&4294967295|N>>>11),N=w+(V^(x|~k))+I[8]+1873313359&4294967295,w=x+(N<<6&4294967295|N>>>26),N=k+(x^(w|~V))+I[15]+4264355552&4294967295,k=w+(N<<10&4294967295|N>>>22),N=V+(w^(k|~x))+I[6]+2734768916&4294967295,V=k+(N<<15&4294967295|N>>>17),N=x+(k^(V|~w))+I[13]+1309151649&4294967295,x=V+(N<<21&4294967295|N>>>11),N=w+(V^(x|~k))+I[4]+4149444226&4294967295,w=x+(N<<6&4294967295|N>>>26),N=k+(x^(w|~V))+I[11]+3174756917&4294967295,k=w+(N<<10&4294967295|N>>>22),N=V+(w^(k|~x))+I[2]+718787259&4294967295,V=k+(N<<15&4294967295|N>>>17),N=x+(k^(V|~w))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+k&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const x=w-this.blockSize,I=this.C;let V=this.h,k=0;for(;k<w;){if(V==0)for(;k<=x;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<w;)if(I[V++]=R.charCodeAt(k++),V==this.blockSize){o(this,I),V=0;break}}else for(;k<w;)if(I[V++]=R[k++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,x=0;x<4;++x)for(let I=0;I<32;I+=8)R[w++]=this.g[x]>>>I&255;return R};function u(R,w){var x=m;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=w(R)}function c(R,w){this.h=w;const x=[];let I=!0;for(let V=R.length-1;V>=0;V--){const k=R[V]|0;I&&k==w||(x[V]=k,I=!1)}this.g=x}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return L(g(-R));const w=[];let x=1;for(let I=0;R>=x;I++)w[I]=R/x|0,x*=4294967296;return new c(w,0)}function y(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return L(y(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(w,8));let I=T;for(let k=0;k<R.length;k+=8){var V=Math.min(8,R.length-k);const N=parseInt(R.substring(k,k+V),w);V<8?(V=g(Math.pow(w,V)),I=I.j(V).add(g(N))):(I=I.j(x),I=I.add(g(N)))}return I}var T=p(0),b=p(1),D=p(16777216);n=c.prototype,n.m=function(){if(q(this))return-L(this).m();let R=0,w=1;for(let x=0;x<this.g.length;x++){const I=this.i(x);R+=(I>=0?I:4294967296+I)*w,w*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(j(this))return"0";if(q(this))return"-"+L(this).toString(R);const w=g(Math.pow(R,6));var x=this;let I="";for(;;){const V=it(x,w).g;x=K(x,V.j(w));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=V,j(x))return k+I;for(;k.length<6;)k="0"+k;I=k+I}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function j(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function q(R){return R.h==-1}n.l=function(R){return R=K(this,R),q(R)?-1:j(R)?0:1};function L(R){const w=R.g.length,x=[];for(let I=0;I<w;I++)x[I]=~R.g[I];return new c(x,~R.h).add(b)}n.abs=function(){return q(this)?L(this):this},n.add=function(R){const w=Math.max(this.g.length,R.g.length),x=[];let I=0;for(let V=0;V<=w;V++){let k=I+(this.i(V)&65535)+(R.i(V)&65535),N=(k>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);I=N>>>16,k&=65535,N&=65535,x[V]=N<<16|k}return new c(x,x[x.length-1]&-2147483648?-1:0)};function K(R,w){return R.add(L(w))}n.j=function(R){if(j(this)||j(R))return T;if(q(this))return q(R)?L(this).j(L(R)):L(L(this).j(R));if(q(R))return L(this.j(L(R)));if(this.l(D)<0&&R.l(D)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,x=[];for(var I=0;I<2*w;I++)x[I]=0;for(I=0;I<this.g.length;I++)for(let V=0;V<R.g.length;V++){const k=this.i(I)>>>16,N=this.i(I)&65535,qt=R.i(V)>>>16,fe=R.i(V)&65535;x[2*I+2*V]+=N*fe,J(x,2*I+2*V),x[2*I+2*V+1]+=k*fe,J(x,2*I+2*V+1),x[2*I+2*V+1]+=N*qt,J(x,2*I+2*V+1),x[2*I+2*V+2]+=k*qt,J(x,2*I+2*V+2)}for(R=0;R<w;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=w;R<2*w;R++)x[R]=0;return new c(x,0)};function J(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function B(R,w){this.g=R,this.h=w}function it(R,w){if(j(w))throw Error("division by zero");if(j(R))return new B(T,T);if(q(R))return w=it(L(R),w),new B(L(w.g),L(w.h));if(q(w))return w=it(R,L(w)),new B(L(w.g),w.h);if(R.g.length>30){if(q(R)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var x=b,I=w;I.l(R)<=0;)x=st(x),I=st(I);var V=ot(x,1),k=ot(I,1);for(I=ot(I,2),x=ot(x,2);!j(I);){var N=k.add(I);N.l(R)<=0&&(V=V.add(x),k=N),I=ot(I,1),x=ot(x,1)}return w=K(R,V.j(w)),new B(V,w)}for(V=T;R.l(w)>=0;){for(x=Math.max(1,Math.floor(R.m()/w.m())),I=Math.ceil(Math.log(x)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),k=g(x),N=k.j(w);q(N)||N.l(R)>0;)x-=I,k=g(x),N=k.j(w);j(k)&&(k=b),V=V.add(k),R=K(R,N)}return new B(V,R)}n.B=function(R){return it(this,R).h},n.and=function(R){const w=Math.max(this.g.length,R.g.length),x=[];for(let I=0;I<w;I++)x[I]=this.i(I)&R.i(I);return new c(x,this.h&R.h)},n.or=function(R){const w=Math.max(this.g.length,R.g.length),x=[];for(let I=0;I<w;I++)x[I]=this.i(I)|R.i(I);return new c(x,this.h|R.h)},n.xor=function(R){const w=Math.max(this.g.length,R.g.length),x=[];for(let I=0;I<w;I++)x[I]=this.i(I)^R.i(I);return new c(x,this.h^R.h)};function st(R){const w=R.g.length+1,x=[];for(let I=0;I<w;I++)x[I]=R.i(I)<<1|R.i(I-1)>>>31;return new c(x,R.h)}function ot(R,w){const x=w>>5;w%=32;const I=R.g.length-x,V=[];for(let k=0;k<I;k++)V[k]=w>0?R.i(k+x)>>>w|R.i(k+x+1)<<32-w:R.i(k+x);return new c(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,pr=c}).apply(typeof KT<"u"?KT:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JS,iu,ZS,Uh,kp,tA,eA,nA;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=e(this);function o(h,v){if(v)t:{var E=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var z=h[A];if(!(z in E))break t;E=E[z]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});var u=u||{},c=this||self;function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=p,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,z,Y){for(var lt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)lt[xt-2]=arguments[xt];return v.prototype[z].apply(A,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const v=h.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function j(h,v){for(let A=1;A<arguments.length;A++){const z=arguments[A];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const Y=z.length||0;h.length=E+Y;for(let lt=0;lt<Y;lt++)h[E+lt]=z[lt]}else h.push(z)}}class q{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(h){c.setTimeout(()=>{throw h},0)}function K(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class J{constructor(){this.h=this.g=null}add(v,E){const A=B.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var B=new q(()=>new it,h=>h.reset());class it{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ot=!1,R=new J,w=()=>{const h=Promise.resolve(void 0);st=()=>{h.then(x)}};function x(){for(var h;h=K();){try{h.h.call(h.g)}catch(E){L(E)}var v=B;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ot=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function qt(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(qt,V),qt.prototype.init=function(h,v){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&qt.Z.h.call(this)},qt.prototype.h=function(){qt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),$=0;function rt(h,v,E,A,z){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=z,this.key=++$,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function Mt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function P(h){const v={};for(const E in h)v[E]=h[E];return v}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,v){let E,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(E in A)h[E]=A[E];for(let Y=0;Y<tt.length;Y++)E=tt[Y],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,v,E,A,z){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const lt=It(h,v,A,z);return lt>-1?(v=h[lt],E||(v.fa=!1)):(v=new rt(v,this.src,Y,!!A,z),v.fa=E,h.push(v)),v};function bt(h,v){const E=v.type;if(E in h.g){var A=h.g[E],z=Array.prototype.indexOf.call(A,v,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(A,z,1),Y&&(dt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function It(h,v,E,A){for(let z=0;z<h.length;++z){const Y=h[z];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==A)return z}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Oe={};function oe(h,v,E,A,z){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)oe(h,v[Y],E,A,z);return null}return E=Wo(E),h&&h[fe]?h.J(v,E,m(A)?!!A.capture:!1,z):Nr(h,v,E,!1,A,z)}function Nr(h,v,E,A,z,Y){if(!v)throw Error("Invalid event type");const lt=m(z)?!!z.capture:!!z;let xt=Vr(h);if(xt||(h[Bt]=xt=new ht(h)),E=xt.add(v,E,A,lt,Y),E.proxy)return E;if(A=Sa(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)k||(z=lt),z===void 0&&(z=!1),h.addEventListener(v.toString(),A,z);else if(h.attachEvent)h.attachEvent(pi(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Sa(){function h(E){return v.call(h.src,h.listener,E)}const v=Xo;return h}function Aa(h,v,E,A,z){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Aa(h,v[Y],E,A,z);else A=m(A)?!!A.capture:!!A,E=Wo(E),h&&h[fe]?(h=h.i,Y=String(v).toString(),Y in h.g&&(v=h.g[Y],E=It(v,E,A,z),E>-1&&(dt(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Vr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=It(v,E,A,z)),(E=h>-1?v[h]:null)&&wa(E))}function wa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[fe])bt(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(pi(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Vr(v))?(bt(E,h),E.h==0&&(E.src=null,v[Bt]=null)):dt(h)}}}function pi(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function Xo(h,v){if(h.da)h=!0;else{v=new qt(v,this);const E=h.listener,A=h.ha||h.src;h.fa&&wa(h),h=E.call(A,v)}return h}function Vr(h){return h=h[Bt],h instanceof ht?h:null}var $o="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wo(h){return typeof h=="function"?h:(h[$o]||(h[$o]=function(v){return h.handleEvent(v)}),h[$o])}function be(){I.call(this),this.i=new ht(this),this.M=this,this.G=null}T(be,I),be.prototype[fe]=!0,be.prototype.removeEventListener=function(h,v,E,A){Aa(this,h,v,E,A)};function Pe(h,v){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var z=v;v=new V(A,h),ut(v,z)}z=!0;let Y,lt;if(E)for(lt=E.length-1;lt>=0;lt--)Y=v.g=E[lt],z=bs(Y,A,!0,v)&&z;if(Y=v.g=h,z=bs(Y,A,!0,v)&&z,z=bs(Y,A,!1,v)&&z,E)for(lt=0;lt<E.length;lt++)Y=v.g=E[lt],z=bs(Y,A,!1,v)&&z}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let A=0;A<E.length;A++)dt(E[A]);delete h.g[v],h.h--}}this.G=null},be.prototype.J=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},be.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function bs(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let z=!0;for(let Y=0;Y<v.length;++Y){const lt=v[Y];if(lt&&!lt.da&&lt.capture==E){const xt=lt.listener,ye=lt.ha||lt.src;lt.fa&&bt(h.i,lt),z=xt.call(ye,A)!==!1&&z}}return z&&!A.defaultPrevented}function $f(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Xu(h){h.g=$f(()=>{h.g=null,h.i&&(h.i=!1,Xu(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ln extends I{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(h){I.call(this),this.h=h,this.g={}}T(Mr,I);var Jo=[];function Zo(h){Ct(h.g,function(v,E){this.g.hasOwnProperty(E)&&wa(v)},h),h.g={}}Mr.prototype.N=function(){Mr.Z.N.call(this),Zo(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=c.JSON.stringify,Wf=c.JSON.parse,$u=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Wu(){}function Ju(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){V.call(this,"d")}T(Ge,V);function Mn(){V.call(this,"c")}T(Mn,V);var ge={},Zu=null;function xa(){return Zu=Zu||new be}ge.Ia="serverreachability";function tc(h){V.call(this,ge.Ia,h)}T(tc,V);function gi(h){const v=xa();Pe(v,new tc(v))}ge.STAT_EVENT="statevent";function Or(h,v){V.call(this,ge.STAT_EVENT,h),this.stat=v}T(Or,V);function Se(h){const v=xa();Pe(v,new Or(v,h))}ge.Ja="timingevent";function yi(h,v){V.call(this,ge.Ja,h),this.size=v}T(yi,V);function vi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Jf(h,v,E,A,z,Y){h.info(function(){if(h.g)if(Y){var lt="",xt=Y.split("&");for(let Gt=0;Gt<xt.length;Gt++){var ye=xt[Gt].split("=");if(ye.length>1){const le=ye[0];ye=ye[1];const Ln=le.split("_");lt=Ln.length>=2&&Ln[1]=="type"?lt+(le+"="+ye+"&"):lt+(le+"=redacted&")}}}else lt=null;else lt=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+v+`
`+E+`
`+lt})}function ec(h,v,E,A,z,Y,lt){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+v+`
`+E+`
`+Y+" "+lt})}function _i(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Zf(h,E)+(A?" "+A:"")})}function Pr(h,v){h.info(function(){return"TIMEOUT: "+v})}Wn.prototype.info=function(){};function Zf(h,v){if(!h.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let lt=1;lt<A.length;lt++)A[lt]=""}}}}return Ss(Y)}catch{return v}}var kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function Lr(){}T(Lr,Wu),Lr.prototype.g=function(){return new XMLHttpRequest},el=new Lr;function Yi(h){return encodeURIComponent(String(h))}function nc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function Jn(h,v,E,A){this.j=h,this.i=v,this.l=E,this.S=A||1,this.V=new Mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Ae={},ze={};function Ti(h,v,E){h.M=1,h.A=Ur(xe(v)),h.u=E,h.R=!0,Ra(h,null)}function Ra(h,v){h.F=Date.now(),Ei(h),h.B=xe(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Na(E.i,"t",A),h.C=0,E=h.j.L,h.h=new Zn,h.g=yc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new ln(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,A=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(Jo[0]=z.toString()),z=Jo);for(let Y=0;Y<z.length;Y++){const lt=oe(E,z[Y],A||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),gi(),Jf(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ni(h)==3?v.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)t:{const xt=ni(this.g),ye=this.g.ya(),Gt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||xt!=4||ye==7||(ye==8||Gt<=0?gi(3):gi(2)),bi(this);var v=this.g.ca();this.X=v;var E=td(this);if(this.o=v==200,ec(this.i,this.v,this.B,this.l,this.S,xt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Y=A;break e}}Y=null}if(h=Y)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,h);else{this.o=!1,this.m=3,Se(12),Sn(this),On(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<E.length;)if(le=sc(this,E),le==ze){xt==4&&(this.m=4,Se(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ae){this.m=4,Se(15),_i(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,le,null),Si(this,le);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||E.length!=0||this.h.h||(this.m=1,Se(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),gl(lt),lt.P=!0,Se(11))}}else _i(this.i,this.l,E,null),Si(this,E);xt==4&&Sn(this),this.o&&!this.K&&(xt==4?dc(this.j,this):(this.o=!1,Ei(this)))}else Xi(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),Sn(this),On(this)}}}catch{}finally{}};function td(h){if(!ic(h))return h.g.la();const v=Ke(h.g);if(v==="")return"";let E="";const A=v.length,z=ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),On(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)h.h.h=!0,E+=h.h.i.decode(v[Y],{stream:!(z&&Y==A-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function ic(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function sc(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?ze:(E=Number(v.substring(E,A)),isNaN(E)?Ae:(A+=1,A+E>v.length?ze:(v=v.slice(A,A+E),h.C=A+E,v)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function Ei(h){h.T=Date.now()+h.H,Ca(h,h.H)}function Ca(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(g(h.aa,h),v)}function bi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Pr(this.i,this.B),this.M!=2&&(gi(),Se(17)),Sn(this),this.m=2,On(this)):Ca(this,this.T-h)};function On(h){h.j.I==0||h.K||dc(h.j,h)}function Sn(h){bi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Zo(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Si(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||wi(E.h,h))){if(!h.L&&wi(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)ka(E),Ns(E);else break t;Gr(E),Se(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vi(g(E.Va,E),6e3));Ai(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ni(E,11)}else if((h.L||E.g==h)&&ka(E),!N(v))for(z=E.Ba.g.parse(v),v=0;v<z.length;v++){let Gt=z[v];const le=Gt[0];if(!(le<=E.K))if(E.K=le,Gt=Gt[1],E.I==2)if(Gt[0]=="c"){E.M=Gt[1],E.ba=Gt[2];const Ln=Gt[3];Ln!=null&&(E.ka=Ln,E.j.info("VER="+E.ka));const Vi=Gt[4];Vi!=null&&(E.za=Vi,E.j.info("SVER="+E.za));const ii=Gt[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const si=h.g;if(si){const Kr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var Y=A.h;Y.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(sl(Y,Y.h),Y.h=null))}if(A.G){const La=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(A.wa=La,Qt(A.J,A.G,La))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var lt=h;if(A.na=gc(A,A.L?A.ba:null,A.W),lt.L){rl(A.h,lt);var xt=lt,ye=A.O;ye&&(xt.H=ye),xt.D&&(bi(xt),Ei(xt)),A.g=lt}else hc(A);E.i.length>0&&Di(E)}else Gt[0]!="stop"&&Gt[0]!="close"||Ni(E,7);else E.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ni(E,7):ml(E):Gt[0]!="noop"&&E.l&&E.l.qa(Gt),E.A=0)}}gi(4)}catch{}}var we=class{constructor(h,v){this.g=h,this.map=v}};function nl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ai(h){return h.h?1:h.g?h.g.size:0}function wi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function sl(h,v){h.g?h.g.add(v):h.h=v}function rl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function al(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return D(h.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let z,Y=null;A>=0?(z=h[E].substring(0,A),Y=h[E].substring(A+1)):z=h[E],v(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,Fe(this,h.j),this.o=h.o,this.g=h.g,As(this,h.u),this.h=h.h,ol(this,uc(h.i)),this.m=h.m):h&&(v=String(h).match(rc))?(this.l=!1,Fe(this,v[1]||"",!0),this.o=xi(v[2]||""),this.g=xi(v[3]||"",!0),As(this,v[4]),this.h=xi(v[5]||"",!0),ol(this,v[6]||"",!0),this.m=xi(v[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(jr(v,Da,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(jr(v,Da,!0),"@"),h.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(jr(E,E.charAt(0)=="/"?ll:ac,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",jr(E,oc)),h.join("")},An.prototype.resolve=function(h){const v=xe(this);let E=!!h.j;E?Fe(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var A=h.h;if(E)As(v,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=v.h.lastIndexOf("/");z!=-1&&(A=v.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let lt=0;lt<z.length;){const xt=z[lt++];xt=="."?A&&lt==z.length&&Y.push(""):xt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&lt==z.length&&Y.push("")):(Y.push(xt),A=!0)}A=Y.join("/")}else A=z}return E?v.h=A:E=h.i.toString()!=="",E?ol(v,uc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function xe(h){return new An(h)}function Fe(h,v,E){h.j=E?xi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function As(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function ol(h,v,E){v instanceof xs?(h.i=v,Va(h.i,h.l)):(E||(v=jr(v,ws)),h.i=new xs(v,h.l))}function Qt(h,v,E){h.i.set(v,E)}function Ur(h){return Qt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function jr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,mn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Da=/[#\/\?@]/g,ac=/[#\?:]/g,ll=/[#\?]/g,ws=/[#\?@]/g,oc=/#/g;function xs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ia(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=xs.prototype,n.add=function(h,v){pn(this),this.i=null,h=Rs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function lc(h,v){pn(h),v=Rs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ul(h,v){return pn(h),v=Rs(h,v),h.g.has(v)}n.forEach=function(h,v){pn(this),this.g.forEach(function(E,A){E.forEach(function(z){h.call(v,z,A,this)},this)},this)};function cl(h,v){pn(h);let E=[];if(typeof v=="string")ul(h,v)&&(E=E.concat(h.g.get(Rs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}n.set=function(h,v){return pn(this),this.i=null,h=Rs(this,h),ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=cl(this,h),h.length>0?String(h[0]):v):v};function Na(h,v,E){lc(h,v),E.length>0&&(h.i=null,h.g.set(Rs(h,v),D(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const z=Yi(E);E=cl(this,E);for(let Y=0;Y<E.length;Y++){let lt=z;E[Y]!==""&&(lt+="="+Yi(E[Y])),h.push(lt)}}return this.i=h.join("&")};function uc(h){const v=new xs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Rs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Va(h,v){v&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(E,A){const z=A.toLowerCase();A!=z&&(lc(this,A),Na(this,z,E))},h)),h.j=v}function ti(h,v){const E=new Wn;if(c.Image){const A=new Image;A.onload=y(Pn,E,"TestLoadImage: loaded",!0,v,A),A.onerror=y(Pn,E,"TestLoadImage: error",!1,v,A),A.onabort=y(Pn,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=y(Pn,E,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function hl(h,v){const E=new Wn,A=new AbortController,z=setTimeout(()=>{A.abort(),Pn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?Pn(E,"TestPingServer: ok",!0,v):Pn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),Pn(E,"TestPingServer: error",!1,v)})}function Pn(h,v,E,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(E)}catch{}}function Cs(){this.g=new $u}function Ri(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ri,Wu),Ri.prototype.g=function(){return new Br(this.i,this.h)};function Br(h,v){be.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Br,be),n=Br.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ei(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ma(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ma(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Is(this):ei(this),this.readyState==3&&Ma(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Is(this))},n.Na=function(h){this.g&&(this.response=h,Is(this))},n.ga=function(){this.g&&Is(this)};function Is(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function kn(h){let v="";return Ct(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function zr(h,v,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=kn(E),typeof h=="string"?E!=null&&Yi(E):Qt(h,v,E))}function Wt(h){be.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Wt,be);var Ci=/^https?$/i,fl=["POST","PUT"];n=Wt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){Fr(this,Y);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)E.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(fl,v,void 0)>=0)||A||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,lt]of E)this.g.setRequestHeader(Y,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Fr(this,Y)}};function Fr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,dl(h),Qi(h)}function dl(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),Qi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Wt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},n.Xa=function(){Hr(this)};function Hr(h){if(h.h&&typeof u<"u"){if(h.v&&ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),ni(h)==4){h.h=!1;try{const Y=h.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var A;if(A=Y===0){let lt=String(h.D).match(rc)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),A=!Ci.test(lt?lt.toLowerCase():"")}E=A}if(E)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var z=ni(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",dl(h)}}finally{Qi(h)}}}}function Qi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Pe(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}n.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Wf(v)}};function Ke(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(h){const v={};h=(h.g&&ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(N(h[A]))continue;var E=nc(h[A]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[z]||[];v[z]=Y,Y.push(E)}Mt(v,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ds(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,h),this.Za=Ii("retryDelaySeedMs",1e4,h),this.Ta=Ii("forwardChannelMaxRetries",2,h),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(h&&h.concurrentRequestLimit),this.Ba=new Cs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ds.prototype,n.ka=8,n.I=1,n.connect=function(h,v,E,A){Se(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=gc(this,null,this.W),Di(this)};function ml(h){if(Oa(h),h.I==3){var v=h.V++,E=xe(h.J);if(Qt(E,"SID",h.M),Qt(E,"RID",v),Qt(E,"TYPE","terminate"),qr(h,E),v=new Jn(h,h.j,v),v.M=2,v.A=Ur(xe(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=yc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ei(v)}pc(h)}function Ns(h){h.g&&(gl(h),h.g.cancel(),h.g=null)}function Oa(h){Ns(h),h.v&&(c.clearTimeout(h.v),h.v=null),ka(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Di(h){if(!il(h.h)&&!h.m){h.m=!0;var v=h.Ea;st||w(),ot||(st(),ot=!0),R.add(v,h),h.D=0}}function Pa(h,v){return Ai(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(g(h.Ea,h,v),mc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Jn(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=P(Y),ut(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=cc(this,z,v),E=xe(this.J),Qt(E,"RID",h),Qt(E,"CVER",22),this.G&&Qt(E,"X-HTTP-Session-Id",this.G),qr(this,E),Y&&(this.R?v="headers="+Yi(kn(Y))+"&"+v:this.u&&zr(E,this.u,Y)),sl(this.h,z),this.Ra&&Qt(E,"TYPE","init"),this.S?(Qt(E,"$req",v),Qt(E,"SID","null"),z.U=!0,Ti(z,E,null)):Ti(z,E,v),this.I=2}}else this.I==3&&(h?pl(this,h):this.i.length==0||il(this.h)||pl(this))};function pl(h,v){var E;v?E=v.l:E=h.V++;const A=xe(h.J);Qt(A,"SID",h.M),Qt(A,"RID",E),Qt(A,"AID",h.K),qr(h,A),h.u&&h.o&&zr(A,h.u,h.o),E=new Jn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=cc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),sl(h.h,E),Ti(E,A,v)}function qr(h,v){h.H&&Ct(h.H,function(E,A){Qt(v,A,E)}),h.l&&Ct({},function(E,A){Qt(v,A,E)})}function cc(h,v,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;t:{var z=h.i;let xt=-1;for(;;){const ye=["count="+E];xt==-1?E>0?(xt=z[0].g,ye.push("ofs="+xt)):xt=0:ye.push("ofs="+xt);let Gt=!0;for(let le=0;le<E;le++){var Y=z[le].g;const Ln=z[le].map;if(Y-=xt,Y<0)xt=Math.max(0,z[le].g-100),Gt=!1;else try{Y="req"+Y+"_"||"";try{var lt=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Vi,ii]of lt){let si=ii;m(ii)&&(si=Ss(ii)),ye.push(Y+Vi+"="+encodeURIComponent(si))}}catch(Vi){throw ye.push(Y+"type="+encodeURIComponent("_badmap")),Vi}}catch{A&&A(Ln)}}if(Gt){lt=ye.join("&");break t}}lt=void 0}return h=h.i.splice(0,E),v.G=h,lt}function hc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;st||w(),ot||(st(),ot=!0),R.add(v,h),h.A=0}}function Gr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(g(h.Da,h),mc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Ns(this),fc(this))};function gl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function fc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=xe(h.na);Qt(v,"RID","rpc"),Qt(v,"SID",h.M),Qt(v,"AID",h.K),Qt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qt(v,"TO",h.ia),Qt(v,"TYPE","xmlhttp"),qr(h,v),h.u&&h.o&&zr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ur(xe(v)),E.u=null,E.R=!0,Ra(E,h)}n.Va=function(){this.C!=null&&(this.C=null,Ns(this),Gr(this),Se(19))};function ka(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dc(h,v){var E=null;if(h.g==v){ka(h),gl(h),h.g=null;var A=2}else if(wi(h.h,v))E=v.G,rl(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var z=h.D;A=xa(),Pe(A,new yi(A,E)),Di(h)}else hc(h);else if(z=v.m,z==3||z==0&&v.X>0||!(A==1&&Pa(h,v)||A==2&&Gr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),z){case 1:Ni(h,5);break;case 4:Ni(h,10);break;case 3:Ni(h,6);break;default:Ni(h,2)}}}function mc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Ni(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),A=h.Ua;const z=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fe(A,"https"),Ur(A),z?ti(A.toString(),E):hl(A.toString(),E)}else Se(2);h.I=0,h.l&&h.l.pa(v),pc(h),Oa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const v=al(h.h);(v.length!=0||h.i.length!=0)&&(j(h.ja,v),j(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function gc(h,v,E){var A=E instanceof An?xe(E):new An(E);if(A.g!="")v&&(A.g=v+"."+A.g),As(A,A.u);else{var z=c.location;A=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;const Y=new An(null);A&&Fe(Y,A),v&&(Y.g=v),z&&As(Y,z),E&&(Y.h=E),A=Y}return E=h.G,v=h.wa,E&&v&&Qt(A,E,v),Qt(A,"VER",h.ka),qr(h,A),A}function yc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Wt(new Ri({ab:E})):new Wt(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}n=vc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Vs(){}Vs.prototype.g=function(h,v){return new un(h,v)};function un(h,v){be.call(this),this.g=new Ds(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new $i(this)}T(un,be),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){ml(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ss(h),h=E);v.i.push(new we(v.Ya++,h)),v.I==3&&Di(v)},un.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,un.Z.N.call(this)};function _c(h){Ge.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(_c,Ge);function Tc(){Mn.call(this),this.status=1}T(Tc,Mn);function $i(h){this.g=h}T($i,vc),$i.prototype.ra=function(){Pe(this.g,"a")},$i.prototype.qa=function(h){Pe(this.g,new _c(h))},$i.prototype.pa=function(h){Pe(this.g,new Tc)},$i.prototype.oa=function(){Pe(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,nA=function(){return new Vs},eA=function(){return xa()},tA=ge,kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,Uh=kr,tl.COMPLETE="complete",ZS=tl,Ju.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",be.prototype.listen=be.prototype.J,iu=Ju,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,JS=Wt}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Fo="12.8.0";function BD(n){Fo=n}const va=new bg("@firebase/firestore");function mo(){return va.logLevel}function ct(n,...t){if(va.logLevel<=kt.DEBUG){const e=t.map(Vg);va.debug(`Firestore (${Fo}): ${n}`,...e)}}function vs(n,...t){if(va.logLevel<=kt.ERROR){const e=t.map(Vg);va.error(`Firestore (${Fo}): ${n}`,...e)}}function No(n,...t){if(va.logLevel<=kt.WARN){const e=t.map(Vg);va.warn(`Firestore (${Fo}): ${n}`,...e)}}function Vg(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Tt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,iA(n,r,e)}function iA(n,t,e){let r=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw vs(r),new Error(r)}function Yt(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||iA(t,o,r)}function wt(n,t){return n}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Es{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class sA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(sn.UNAUTHENTICATED)))}shutdown(){}}class FD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class HD{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Yt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new sA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class qD{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class GD{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new qD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Yt(this.o===void 0,3512);const r=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new YT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class Mg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=YD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Lt(n,t){return n<t?-1:n>t?1:0}function Lp(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return op(o)===op(u)?Lt(o,u):op(o)?1:-1}return Lt(n.length,t.length)}const QD=55296,XD=57343;function op(n){const t=n.charCodeAt(0);return t>=QD&&t<=XD}function Vo(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}const QT="__name__";class Li{constructor(t,e,r){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Tt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Li.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Lt(t.length,e.length)}static compareSegments(t,e){const r=Li.isNumericId(t),o=Li.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Li.extractNumericId(t).compare(Li.extractNumericId(e)):Lp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return pr.fromString(t.substring(4,t.length-2))}}class se extends Li{construct(t,e,r){return new se(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new se(e)}static emptyPath(){return new se([])}}const $D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Li{construct(t,e,r){return new Ze(t,e,r)}static isValidIdentifier(t){return $D.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QT}static keyField(){return new Ze([QT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new gt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new gt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new gt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(se.fromString(t))}static fromName(t){return new vt(se.fromString(t).popFirst(5))}static empty(){return new vt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return se.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new se(t.slice()))}}function rA(n,t,e){if(!e)throw new gt(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function WD(n,t,e,r){if(t===!0&&r===!0)throw new gt(nt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function XT(n){if(!vt.isDocumentKey(n))throw new gt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $T(n){if(vt.isDocumentKey(n))throw new gt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Og(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function fi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Og(n);throw new gt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Me(n,t){const e={typeString:n};return t&&(e.value=t),e}function Uu(n,t){if(!aA(n))throw new gt(nt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new gt(nt.INVALID_ARGUMENT,e);return!0}const WT=-62135596800,JT=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*JT);return new re(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<WT)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JT}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-WT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Me("string",re._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new re(0,0))}static max(){return new St(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function JD(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new re(e+1,0):new re(e,r));return new Tr(o,vt.empty(),t)}function ZD(n){return new Tr(n.readTime,n.key,Eu)}class Tr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Tr(St.min(),vt.empty(),Eu)}static max(){return new Tr(St.max(),vt.empty(),Eu)}}function tN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:Lt(n.largestBatchId,t.largestBatchId))}const eN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ho(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==eN)throw n;ct("LocalStore","Unexpectedly lost primary lease")}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):et.reject(e)}static resolve(t){return new et(((e,r)=>{e(t)}))}static reject(t){return new et(((e,r)=>{r(t)}))}static waitFor(t){return new et(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=et.resolve(!1);for(const r of t)e=e.next((o=>o?et.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new et(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((y=>{c[g]=y,++m,m===u&&r(c)}),(y=>o(y)))}}))}static doWhile(t,e){return new et(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function iN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function qo(n){return n.name==="IndexedDbTransactionError"}class If{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}If.ce=-1;const Pg=-1;function Df(n){return n==null}function rf(n){return n===0&&1/n==-1/0}function sN(n){return typeof n=="number"&&Number.isInteger(n)&&!rf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const oA="";function rN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ZT(t)),t=aN(n.get(e),t);return ZT(t)}function aN(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case oA:e+="";break;default:e+=u}}return e}function ZT(n){return n+oA+""}function tE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Cr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function lA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class he{constructor(t,e){this.comparator=t,this.root=e||Je.EMPTY}insert(t,e){return new he(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xh(this.root,t,this.comparator,!0)}}class xh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Je.RED,this.left=o??Je.EMPTY,this.right=u??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Je(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Je(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new eE(this.data.getIterator())}getIteratorFrom(t){return new eE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Be(this.comparator);return e.data=t,e}}class eE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Vn([])}unionWith(t){let e=new Be(Ze.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Vn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Vo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uA("Invalid base64 string: "+u):u}})(t);return new tn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const oN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(n){if(Yt(!!n,39018),typeof n=="string"){let t=0;const e=oN.exec(n);if(Yt(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function br(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}const cA="server_timestamp",hA="__type__",fA="__previous_value__",dA="__local_write_time__";function kg(n){return(n?.mapValue?.fields||{})[hA]?.stringValue===cA}function Nf(n){const t=n.mapValue.fields[fA];return kg(t)?Nf(t):t}function bu(n){const t=Er(n.mapValue.fields[dA].timestampValue);return new re(t.seconds,t.nanos)}class lN{constructor(t,e,r,o,u,c,m,p,g,y,T){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=T}}const af="(default)";class Su{constructor(t,e){this.projectId=t,this.database=e||af}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===af}isEqual(t){return t instanceof Su&&t.projectId===this.projectId&&t.database===this.database}}function uN(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new gt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(n.options.projectId,t)}const mA="__type__",cN="__max__",Rh={mapValue:{}},pA="__vector__",of="value";function Sr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kg(n)?4:fN(n)?9007199254740991:hN(n)?10:11:Tt(28295,{value:n})}function qi(n,t){if(n===t)return!0;const e=Sr(n);if(e!==Sr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return bu(n).isEqual(bu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Er(o.timestampValue),m=Er(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return br(o.bytesValue).isEqual(br(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Te(o.doubleValue),m=Te(u.doubleValue);return c===m?rf(c)===rf(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return Vo(n.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(tE(c)!==tE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!qi(c[p],m[p])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function Au(n,t){return(n.values||[]).find((e=>qi(e,t)))!==void 0}function Mo(n,t){if(n===t)return 0;const e=Sr(n),r=Sr(t);if(e!==r)return Lt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return nE(n.timestampValue,t.timestampValue);case 4:return nE(bu(n),bu(t));case 5:return Lp(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=br(u),p=br(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const y=Lt(m[g],p[g]);if(y!==0)return y}return Lt(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Lt(Te(u.latitude),Te(c.latitude));return m!==0?m:Lt(Te(u.longitude),Te(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return iE(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[of]?.arrayValue,y=p[of]?.arrayValue,T=Lt(g?.values?.length||0,y?.values?.length||0);return T!==0?T:iE(g,y)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Rh.mapValue&&c===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let T=0;T<p.length&&T<y.length;++T){const b=Lp(p[T],y[T]);if(b!==0)return b;const D=Mo(m[p[T]],g[y[T]]);if(D!==0)return D}return Lt(p.length,y.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function nE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Lt(n,t);const e=Er(n),r=Er(t),o=Lt(e.seconds,r.seconds);return o!==0?o:Lt(e.nanos,r.nanos)}function iE(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Mo(e[o],r[o]);if(u)return u}return Lt(e.length,r.length)}function Oo(n){return Up(n)}function Up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Er(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return br(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return vt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Up(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Up(e.fields[c])}`;return o+"}"})(n.mapValue):Tt(61005,{value:n})}function jh(n){switch(Sr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nf(n);return t?16+jh(t):16;case 5:return 2*n.stringValue.length;case 6:return br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+jh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Cr(r.fields,((u,c)=>{o+=u.length+jh(c)})),o})(n.mapValue);default:throw Tt(13486,{value:n})}}function jp(n){return!!n&&"integerValue"in n}function Lg(n){return!!n&&"arrayValue"in n}function sE(n){return!!n&&"nullValue"in n}function rE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bh(n){return!!n&&"mapValue"in n}function hN(n){return(n?.mapValue?.fields||{})[mA]?.stringValue===pA}function hu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Cr(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=hu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=hu(n.arrayValue.values[e]);return t}return{...n}}function fN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cN}class bn{constructor(t){this.value=t}static empty(){return new bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Bh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=hu(e)}setAll(t){let e=Ze.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=hu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Bh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Cr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new bn(hu(this.value))}}function gA(n){const t=[];return Cr(n.fields,((e,r)=>{const o=new Ze([e]);if(Bh(r)){const u=gA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Vn(t)}class rn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new rn(t,0,St.min(),St.min(),St.min(),bn.empty(),0)}static newFoundDocument(t,e,r,o){return new rn(t,1,e,St.min(),r,o,0)}static newNoDocument(t,e){return new rn(t,2,e,St.min(),St.min(),bn.empty(),0)}static newUnknownDocument(t,e){return new rn(t,3,e,St.min(),St.min(),bn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lf{constructor(t,e){this.position=t,this.inclusive=e}}function aE(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=vt.comparator(vt.fromName(c.referenceValue),e.key):r=Mo(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function oE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!qi(n.position[e],t.position[e]))return!1;return!0}class uf{constructor(t,e="asc"){this.field=t,this.dir=e}}function dN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class yA{}class je extends yA{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new pN(t,e,r):e==="array-contains"?new vN(t,r):e==="in"?new _N(t,r):e==="not-in"?new TN(t,r):e==="array-contains-any"?new EN(t,r):new je(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new gN(t,r):new yN(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Mo(e,this.value)):e!==null&&Sr(this.value)===Sr(e)&&this.matchesComparison(Mo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends yA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Gi(t,e)}matches(t){return vA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vA(n){return n.op==="and"}function _A(n){return mN(n)&&vA(n)}function mN(n){for(const t of n.filters)if(t instanceof Gi)return!1;return!0}function Bp(n){if(n instanceof je)return n.field.canonicalString()+n.op.toString()+Oo(n.value);if(_A(n))return n.filters.map((t=>Bp(t))).join(",");{const t=n.filters.map((e=>Bp(e))).join(",");return`${n.op}(${t})`}}function TA(n,t){return n instanceof je?(function(r,o){return o instanceof je&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(n,t):n instanceof Gi?(function(r,o){return o instanceof Gi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&TA(c,o.filters[m])),!0):!1})(n,t):void Tt(19439)}function EA(n){return n instanceof je?(function(e){return`${e.field.canonicalString()} ${e.op} ${Oo(e.value)}`})(n):n instanceof Gi?(function(e){return e.op.toString()+" {"+e.getFilters().map(EA).join(" ,")+"}"})(n):"Filter"}class pN extends je{constructor(t,e,r){super(t,e,r),this.key=vt.fromName(r.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class gN extends je{constructor(t,e){super(t,"in",e),this.keys=bA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class yN extends je{constructor(t,e){super(t,"not-in",e),this.keys=bA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function bA(n,t){return(t.arrayValue?.values||[]).map((e=>vt.fromName(e.referenceValue)))}class vN extends je{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Lg(e)&&Au(e.arrayValue,this.value)}}class _N extends je{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Au(this.value.arrayValue,e)}}class TN extends je{constructor(t,e){super(t,"not-in",e)}matches(t){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Au(this.value.arrayValue,e)}}class EN extends je{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Lg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Au(this.value.arrayValue,r)))}}class bN{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function lE(n,t=null,e=[],r=[],o=null,u=null,c=null){return new bN(n,t,e,r,o,u,c)}function Ug(n){const t=wt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Bp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Df(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Oo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Oo(r))).join(",")),t.Te=e}return t.Te}function jg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!dN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!TA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!oE(n.startAt,t.startAt)&&oE(n.endAt,t.endAt)}function zp(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Vf{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function SN(n,t,e,r,o,u,c,m){return new Vf(n,t,e,r,o,u,c,m)}function Mf(n){return new Vf(n)}function uE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AN(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function wN(n){return n.collectionGroup!==null}function fu(n){const t=wt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Be(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new uf(u,r))})),e.has(Ze.keyField().canonicalString())||t.Ie.push(new uf(Ze.keyField(),r))}return t.Ie}function Bi(n){const t=wt(n);return t.Ee||(t.Ee=xN(t,fu(n))),t.Ee}function xN(n,t){if(n.limitType==="F")return lE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new uf(o.field,u)}));const e=n.endAt?new lf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lf(n.startAt.position,n.startAt.inclusive):null;return lE(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Fp(n,t,e){return new Vf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Of(n,t){return jg(Bi(n),Bi(t))&&n.limitType===t.limitType}function SA(n){return`${Ug(Bi(n))}|lt:${n.limitType}`}function po(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>EA(o))).join(", ")}]`),Df(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Oo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Oo(o))).join(",")),`Target(${r})`})(Bi(n))}; limitType=${n.limitType})`}function Pf(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of fu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=aE(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,fu(r),o)||r.endAt&&!(function(c,m,p){const g=aE(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,fu(r),o))})(n,t)}function RN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AA(n){return(t,e)=>{let r=!1;for(const o of fu(n)){const u=CN(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function CN(n,t,e){const r=n.field.isKeyField()?vt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Mo(p,g):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:n.dir})}}class Ea{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Cr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return lA(this.inner)}size(){return this.innerSize}}const IN=new he(vt.comparator);function _s(){return IN}const wA=new he(vt.comparator);function su(...n){let t=wA;for(const e of n)t=t.insert(e.key,e);return t}function xA(n){let t=wA;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function ha(){return du()}function RA(){return du()}function du(){return new Ea((n=>n.toString()),((n,t)=>n.isEqual(t)))}const DN=new he(vt.comparator),NN=new Be(vt.comparator);function Ut(...n){let t=NN;for(const e of n)t=t.add(e);return t}const VN=new Be(Lt);function MN(){return VN}function Bg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(t)?"-0":t}}function CA(n){return{integerValue:""+n}}function ON(n,t){return sN(t)?CA(t):Bg(n,t)}class kf{constructor(){this._=void 0}}function PN(n,t,e){return n instanceof wu?(function(o,u){const c={fields:{[hA]:{stringValue:cA},[dA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kg(u)&&(u=Nf(u)),u&&(c.fields[fA]=u),{mapValue:c}})(e,t):n instanceof Po?DA(n,t):n instanceof xu?NA(n,t):(function(o,u){const c=IA(o,u),m=cE(c)+cE(o.Ae);return jp(c)&&jp(o.Ae)?CA(m):Bg(o.serializer,m)})(n,t)}function kN(n,t,e){return n instanceof Po?DA(n,t):n instanceof xu?NA(n,t):e}function IA(n,t){return n instanceof cf?(function(r){return jp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class wu extends kf{}class Po extends kf{constructor(t){super(),this.elements=t}}function DA(n,t){const e=VA(t);for(const r of n.elements)e.some((o=>qi(o,r)))||e.push(r);return{arrayValue:{values:e}}}class xu extends kf{constructor(t){super(),this.elements=t}}function NA(n,t){let e=VA(t);for(const r of n.elements)e=e.filter((o=>!qi(o,r)));return{arrayValue:{values:e}}}class cf extends kf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function cE(n){return Te(n.integerValue||n.doubleValue)}function VA(n){return Lg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class MA{constructor(t,e){this.field=t,this.transform=e}}function LN(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Po&&o instanceof Po||r instanceof xu&&o instanceof xu?Vo(r.elements,o.elements,qi):r instanceof cf&&o instanceof cf?qi(r.Ae,o.Ae):r instanceof wu&&o instanceof wu})(n.transform,t.transform)}class UN{constructor(t,e){this.version=t,this.transformResults=e}}class di{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Lf{}function OA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new kA(n.key,di.none()):new ju(n.key,n.data,di.none());{const e=n.data,r=bn.empty();let o=new Be(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Ir(n.key,r,new Vn(o.toArray()),di.none())}}function jN(n,t,e){n instanceof ju?(function(o,u,c){const m=o.value.clone(),p=fE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):n instanceof Ir?(function(o,u,c){if(!zh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=fE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(PA(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function mu(n,t,e,r){return n instanceof ju?(function(u,c,m,p){if(!zh(u.precondition,c))return m;const g=u.value.clone(),y=dE(u.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,r):n instanceof Ir?(function(u,c,m,p){if(!zh(u.precondition,c))return m;const g=dE(u.fieldTransforms,p,c),y=c.data;return y.setAll(PA(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(n,t,e,r):(function(u,c,m){return zh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,e)}function BN(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=IA(r.transform,o||null);u!=null&&(e===null&&(e=bn.empty()),e.set(r.field,u))}return e||null}function hE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Vo(r,o,((u,c)=>LN(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ju extends Lf{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ir extends Lf{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function PA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function fE(n,t,e){const r=new Map;Yt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,kN(c,m,e[o]))}return r}function dE(n,t,e){const r=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);r.set(o.field,PN(u,c,t))}return r}class kA extends Lf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zN extends Lf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FN{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&jN(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=mu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=mu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=RA();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=OA(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Vo(this.mutations,t.mutations,((e,r)=>hE(e,r)))&&Vo(this.baseMutations,t.baseMutations,((e,r)=>hE(e,r)))}}class zg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Yt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return DN})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new zg(t,e,r,o)}}class HN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qN{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ne,zt;function GN(n){switch(n){case nt.OK:return Tt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function LA(n){if(n===void 0)return vs("GRPC error has no .code"),nt.UNKNOWN;switch(n){case Ne.OK:return nt.OK;case Ne.CANCELLED:return nt.CANCELLED;case Ne.UNKNOWN:return nt.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return nt.INTERNAL;case Ne.UNAVAILABLE:return nt.UNAVAILABLE;case Ne.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ne.NOT_FOUND:return nt.NOT_FOUND;case Ne.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ne.ABORTED:return nt.ABORTED;case Ne.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ne.DATA_LOSS:return nt.DATA_LOSS;default:return Tt(39323,{code:n})}}(zt=Ne||(Ne={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function KN(){return new TextEncoder}const YN=new pr([4294967295,4294967295],0);function mE(n){const t=KN().encode(n),e=new WS;return e.update(t),new Uint8Array(e.digest())}function pE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new pr([e,r],0),new pr([o,u],0)]}class Fg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new ru(`Invalid padding: ${e}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new ru(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=pr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(pr.fromNumber(r)));return o.compare(YN)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=mE(t),[r,o]=pE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Fg(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=mE(t),[r,o]=pE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Bu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Uf(St.min(),o,new he(Lt),_s(),Ut())}}class Bu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Bu(r,e,Ut(),Ut(),Ut())}}class Fh{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=o}}class UA{constructor(t,e){this.targetId=t,this.Ce=e}}class jA{constructor(t,e,r=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class gE{constructor(){this.ve=0,this.Fe=yE(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Tt(38017,{changeType:u})}})),new Bu(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=yE()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class QN{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.He=Ch(),this.Je=Ch(),this.Ze=new he(Lt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(zp(u))if(r===0){const c=new vt(u.path);this.et(e,c,rn.newNoDocument(c,St.min()))}else Yt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=br(r).toUint8Array()}catch(p){if(p instanceof uA)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Fg(c,o,u)}catch(p){return No(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&zp(m.target)){const p=new vt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,rn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.Ke())}}));let r=Ut();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Uf(t,e,this.Ze,this.je,r);return this.je=_s(),this.He=Ch(),this.Je=Ch(),this.Ze=new he(Lt),o}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.qe(e,1):o.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new gE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Be(Lt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Be(Lt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ct("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new gE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ch(){return new he(vt.comparator)}function yE(){return new he(vt.comparator)}const XN={asc:"ASCENDING",desc:"DESCENDING"},$N={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WN={and:"AND",or:"OR"};class JN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Hp(n,t){return n.useProto3Json||Df(t)?t:{value:t}}function hf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function ZN(n,t){return hf(n,t.toTimestamp())}function zi(n){return Yt(!!n,49232),St.fromTimestamp((function(e){const r=Er(e);return new re(r.seconds,r.nanos)})(n))}function Hg(n,t){return qp(n,t).canonicalString()}function qp(n,t){const e=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function zA(n){const t=se.fromString(n);return Yt(KA(t),10190,{key:t.toString()}),t}function Gp(n,t){return Hg(n.databaseId,t.path)}function lp(n,t){const e=zA(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(HA(e))}function FA(n,t){return Hg(n.databaseId,t)}function tV(n){const t=zA(n);return t.length===4?se.emptyPath():HA(t)}function Kp(n){return new se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HA(n){return Yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vE(n,t,e){return{name:Gp(n,t),fields:e.value.mapValue.fields}}function eV(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,y){return g.useProto3Json?(Yt(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(Yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const y=g.code===void 0?nt.UNKNOWN:LA(g.code);return new gt(y,g.message||"")})(c);e=new jA(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=lp(n,r.document.name),u=zi(r.document.updateTime),c=r.document.createTime?zi(r.document.createTime):St.min(),m=new bn({mapValue:{fields:r.document.fields}}),p=rn.newFoundDocument(o,u,c,m),g=r.targetIds||[],y=r.removedTargetIds||[];e=new Fh(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=lp(n,r.document),u=r.readTime?zi(r.readTime):St.min(),c=rn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Fh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=lp(n,r.document),u=r.removedTargetIds||[];e=new Fh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new qN(o,u),m=r.targetId;e=new UA(m,c)}}return e}function nV(n,t){let e;if(t instanceof ju)e={update:vE(n,t.key,t.value)};else if(t instanceof kA)e={delete:Gp(n,t.key)};else if(t instanceof Ir)e={update:vE(n,t.key,t.data),updateMask:hV(t.fieldMask)};else{if(!(t instanceof zN))return Tt(16599,{dt:t.type});e={verify:Gp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof wu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Po)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof cf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(n,t.precondition)),e}function iV(n,t){return n&&n.length>0?(Yt(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?zi(o.updateTime):zi(u);return c.isEqual(St.min())&&(c=zi(u)),new UN(c,o.transformResults||[])})(e,t)))):[]}function sV(n,t){return{documents:[FA(n,t.path)]}}function rV(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=FA(n,o);const u=(function(g){if(g.length!==0)return GA(Gi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((y=>(function(b){return{field:go(b.field),direction:lV(b.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=Hp(n,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function aV(n){let t=tV(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Yt(r===1,65062);const y=e.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];e.where&&(u=(function(T){const b=qA(T);return b instanceof Gi&&_A(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((b=>(function(j){return new uf(yo(j.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(b)))})(e.orderBy));let m=null;e.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Df(b)?null:b})(e.limit));let p=null;e.startAt&&(p=(function(T){const b=!!T.before,D=T.values||[];return new lf(D,b)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const b=!T.before,D=T.values||[];return new lf(D,b)})(e.endAt)),SN(t,o,c,u,m,"F",p,g)}function oV(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function qA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=yo(e.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(e.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(e.unaryFilter.field);return je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=yo(e.unaryFilter.field);return je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return je.create(yo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Gi.create(e.compositeFilter.filters.map((r=>qA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function lV(n){return XN[n]}function uV(n){return $N[n]}function cV(n){return WN[n]}function go(n){return{fieldPath:n.canonicalString()}}function yo(n){return Ze.fromServerFormat(n.fieldPath)}function GA(n){return n instanceof je?(function(e){if(e.op==="=="){if(rE(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NAN"}};if(sE(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(rE(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NOT_NAN"}};if(sE(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(e.field),op:uV(e.op),value:e.value}}})(n):n instanceof Gi?(function(e){const r=e.getFilters().map((o=>GA(o)));return r.length===1?r[0]:{compositeFilter:{op:cV(e.op),filters:r}}})(n):Tt(54877,{filter:n})}function hV(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function KA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function YA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ur{constructor(t,e,r,o,u=St.min(),c=St.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class fV{constructor(t){this.yt=t}}function dV(n){const t=aV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fp(t,t.limit,"L"):t}class mV{constructor(){this.Sn=new pV}addToCollectionParentIndex(t,e){return this.Sn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(Tr.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(Tr.min())}updateCollectionGroup(t,e,r){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class pV{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Be(se.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Be(se.comparator)).toArray()}}const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QA=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(QA,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class ko{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ko(0)}static ar(){return new ko(-1)}}const TE="LruGarbageCollector",gV=1048576;function EE([n,t],[e,r]){const o=Lt(n,e);return o===0?Lt(t,r):o}class yV{constructor(t){this.Pr=t,this.buffer=new Be(EE),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();EE(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class vV{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ct(TE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){qo(e)?ct(TE,"Ignoring IndexedDB error during garbage collection: ",e):await Ho(e)}await this.Ar(3e5)}))}}class _V{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return et.resolve(If.ce);const r=new yV(e);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(_E)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,o,u,c,m,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),mo()<=kt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function TV(n,t){return new _V(n,t)}class EV{constructor(){this.changes=new Ea((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?et.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class bV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class SV{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&mu(r.mutation,o,Vn.empty(),re.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Ut()){const o=ha();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=su();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=ha();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Ut())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=_s();const c=du(),m=(function(){return du()})();return e.forEach(((p,g)=>{const y=r.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Ir)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),mu(y.mutation,g,y.mutation.getFieldMask(),re.now())):c.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,y)=>c.set(g,y))),e.forEach(((g,y)=>m.set(g,new bV(y,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=du();let o=new he(((c,m)=>c-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let y=r.get(p)||Vn.empty();y=m.applyToLocalView(g,y),r.set(p,y);const T=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,y=p.value,T=RA();y.forEach((b=>{if(!u.has(b)){const D=OA(e.get(b),r.get(b));D!==null&&T.set(b,D),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return et.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return AN(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):wN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):et.resolve(ha());let m=Eu,p=u;return c.next((g=>et.forEach(g,((y,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(y)?et.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{p=p.insert(y,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((y=>({batchId:m,changes:xA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next((r=>{let o=su();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=su();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(p=>{const g=(function(T,b){return new Vf(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((y=>{y.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,rn.newInvalidDocument(y)))}));let m=su();return c.forEach(((p,g)=>{const y=u.get(p);y!==void 0&&mu(y.mutation,g,Vn.empty(),re.now()),Pf(e,g)&&(m=m.insert(p,g))})),m}))}}class AV{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return et.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(o){return{name:o.name,query:dV(o.bundledQuery),readTime:zi(o.readTime)}})(e)),et.resolve()}}class wV{constructor(){this.overlays=new he(vt.comparator),this.Lr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ha();return et.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.bt(t,e,u)})),et.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),et.resolve()}getOverlaysForCollection(t,e,r){const o=ha(),u=e.length+1,c=new vt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new he(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let y=u.get(g.largestBatchId);y===null&&(y=ha(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=ha(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>m.set(g,y))),!(m.size()>=o)););return et.resolve(m)}bt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new HN(e,r));let u=this.Lr.get(e);u===void 0&&(u=Ut(),this.Lr.set(e,u)),this.Lr.set(e,u.add(r.key))}}class xV{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}class qg{constructor(){this.kr=new Be(qe.Kr),this.qr=new Be(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new qe(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new qe(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new vt(new se([])),r=new qe(e,t),o=new qe(e,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new vt(new se([])),r=new qe(e,t),o=new qe(e,t+1);let u=Ut();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new qe(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return vt.comparator(t.key,e.key)||Lt(t.Hr,e.Hr)}static Ur(t,e){return Lt(t.Hr,e.Hr)||vt.comparator(t.key,e.key)}}class RV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(qe.Kr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new FN(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Pg:this.Yn-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new qe(e,0),o=new qe(e,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Be(Lt);return e.forEach((o=>{const u=new qe(o,0),c=new qe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),et.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const c=new qe(new vt(u),0);let m=new Be(Lt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),et.resolve(this.Yr(m))}Yr(t){const e=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Yt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return et.forEach(e.mutations,(o=>{const u=new qe(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new qe(e,0),o=this.Jr.firstAfterOrEqual(r);return et.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class CV{constructor(t){this.ti=t,this.docs=(function(){return new he(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return et.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(e))}getEntries(t,e){let r=_s();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),et.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=_s();const c=e.path,m=new vt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||tN(ZD(y),r)<=0||(o.has(y.key)||Pf(e,y))&&(u=u.insert(y.key,y.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,e,r,o){Tt(9500)}ni(t,e){return et.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new IV(this)}getSize(t){return et.resolve(this.size)}}class IV extends EV{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),et.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class DV{constructor(t){this.persistence=t,this.ri=new Ea((e=>Ug(e)),jg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new qg,this.targetCount=0,this.oi=ko._r()}forEachTarget(t,e){return this.ri.forEach(((r,o)=>e(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),et.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new ko(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.lr(e),et.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return et.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),et.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return et.resolve(r)}containsKey(t,e){return et.resolve(this.si.containsKey(e))}}class XA{constructor(t,e){this._i={},this.overlays={},this.ai=new If(0),this.ui=!1,this.ui=!0,this.ci=new xV,this.referenceDelegate=t(this),this.li=new DV(this),this.indexManager=new mV,this.remoteDocumentCache=(function(o){return new CV(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new fV(e),this.Pi=new AV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new wV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new RV(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){ct("MemoryPersistence","Starting transaction:",t);const o=new NV(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,e){return et.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class NV extends nN{constructor(t){super(),this.currentSequenceNumber=t}}class Gg{constructor(t){this.persistence=t,this.Ri=new qg,this.Ai=null}static Vi(t){return new Gg(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),et.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),et.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.di,(r=>{const o=vt.fromPath(r);return this.mi(t,o).next((u=>{u||e.removeEntry(o,St.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return et.or([()=>et.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class ff{constructor(t,e){this.persistence=t,this.fi=new Ea((r=>rN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=TV(this,e)}static Vi(t,e){return new ff(t,e)}Ti(){}Ii(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return et.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?et.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,e).next((m=>{m||(r++,u.removeEntry(c,St.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),et.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),et.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=jh(t.data.value)),e}wr(t,e,r){return et.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.fi.get(e);return et.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Kg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=o}static Es(t,e){let r=Ut(),o=Ut();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kg(t,e.fromCache,r,o)}}class VV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class MV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return bC()?8:iN(on())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.gs(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new VV;return this.ys(t,e,c).next((m=>{if(u.result=m,this.As)return this.ws(t,e,c,m.size)}))})).next((()=>u.result))}ws(t,e,r,o){return r.documentReadCount<this.Vs?(mo()<=kt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",po(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(mo()<=kt.DEBUG&&ct("QueryEngine","Query:",po(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(mo()<=kt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",po(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(e))):et.resolve())}gs(t,e){if(uE(e))return et.resolve(null);let r=Bi(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Fp(e,null,"F"),r=Bi(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ut(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(e,m);return this.Ss(e,g,c,p.readTime)?this.gs(t,Fp(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,r,o){return uE(e)||o.isEqual(St.min())?et.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(e,u);return this.Ss(e,c,r,o)?et.resolve(null):(mo()<=kt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(e)),this.Ds(t,c,e,JD(o,Eu)).next((m=>m)))}))}bs(t,e){let r=new Be(AA(t));return e.forEach(((o,u)=>{Pf(t,u)&&(r=r.add(u))})),r}Ss(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,e,r){return mo()<=kt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",po(e)),this.fs.getDocumentsMatchingQuery(t,e,Tr.min(),r)}Ds(t,e,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Yg="LocalStore",OV=3e8;class PV{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.vs=new he(Lt),this.Fs=new Ea((u=>Ug(u)),jg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function kV(n,t,e,r){return new PV(n,t,e,r)}async function $A(n,t){const e=wt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of u){m.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function LV(n,t){const e=wt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,y){const T=g.batch,b=T.keys();let D=et.resolve();return b.forEach((j=>{D=D.next((()=>y.getEntry(p,j))).next((q=>{const L=g.docVersions.get(j);Yt(L!==null,48541),q.version.compareTo(L)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),y.addEntry(q)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function WA(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function UV(n,t){const e=wt(n),r=t.snapshotVersion;let o=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});o=e.vs;const m=[];t.targetChanges.forEach(((y,T)=>{const b=o.get(T);if(!b)return;m.push(e.li.removeMatchingKeys(u,y.removedDocuments,T).next((()=>e.li.addMatchingKeys(u,y.addedDocuments,T))));let D=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(tn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(y.resumeToken,r)),o=o.insert(T,D),(function(q,L,K){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=OV?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(b,D,y)&&m.push(e.li.updateTargetData(u,D))}));let p=_s(),g=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,y))})),m.push(jV(u,c,t.documentUpdates).next((y=>{p=y.Bs,g=y.Ls}))),!r.isEqual(St.min())){const y=e.li.getLastRemoteSnapshotVersion(u).next((T=>e.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(y)}return et.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.vs=o,u)))}function jV(n,t,e){let r=Ut(),o=Ut();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=_s();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ct(Yg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function BV(n,t){const e=wt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Pg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function zV(n,t){const e=wt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.li.getTargetData(r,t).next((u=>u?(o=u,et.resolve(o)):e.li.allocateTargetId(r).next((c=>(o=new ur(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function Yp(n,t,e){const r=wt(n),o=r.vs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!qo(c))throw c;ct(Yg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function bE(n,t,e){const r=wt(n);let o=St.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const T=wt(p),b=T.Fs.get(y);return b!==void 0?et.resolve(T.vs.get(b)):T.li.getTargetData(g,y)})(r,c,Bi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?o:St.min(),e?u:Ut()))).next((m=>(FV(r,RN(t),m),{documents:m,ks:u})))))}function FV(n,t,e){let r=n.Ms.get(t)||St.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Ms.set(t,r)}class SE{constructor(){this.activeTargetIds=MN()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HV{constructor(){this.vo=new SE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new SE,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class qV{Mo(t){}shutdown(){}}const AE="ConnectivityMonitor";class wE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ct(AE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ct(AE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function Qp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const up="RestConnection",GV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class KV{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===af?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,u){const c=Qp(),m=this.Qo(t,e.toUriEncodedString());ct(up,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),y=jo(g);return this.zo(t,m,p,r,y).then((T=>(ct(up,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw No(up,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(t,e,r,o,u,c){return this.Wo(t,e,r,o,u)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,e){const r=GV[t];let o=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class YV{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const nn="WebChannelConnection",eu=(n,t,e)=>{n.listen(t,(r=>{try{e(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class xo extends KV{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!xo.c_){const t=eA();eu(t,tA.STAT_EVENT,(e=>{e.stat===kp.PROXY?ct(nn,"STAT_EVENT: detected buffering proxy"):e.stat===kp.NOPROXY&&ct(nn,"STAT_EVENT: detected no buffering proxy")})),xo.c_=!0}}zo(t,e,r,o,u){const c=Qp();return new Promise(((m,p)=>{const g=new JS;g.setWithCredentials(!0),g.listenOnce(ZS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const T=g.getResponseJson();ct(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case Uh.TIMEOUT:ct(nn,`RPC '${t}' ${c} timed out`),p(new gt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const b=g.getStatus();if(ct(nn,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D?.error;if(j&&j.status&&j.message){const q=(function(K){const J=K.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(J)>=0?J:nt.UNKNOWN})(j.status);p(new gt(q,j.message))}else p(new gt(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new gt(nt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ct(nn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);ct(nn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",y,r,15)}))}T_(t,e,r){const o=Qp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const g=u.join("");ct(nn,`Creating RPC '${t}' stream ${o}: ${g}`,m);const y=c.createWebChannel(g,m);this.I_(y);let T=!1,b=!1;const D=new YV({Ho:j=>{b?ct(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(T||(ct(nn,`Opening RPC '${t}' stream ${o} transport.`),y.open(),T=!0),ct(nn,`RPC '${t}' stream ${o} sending:`,j),y.send(j))},Jo:()=>y.close()});return eu(y,iu.EventType.OPEN,(()=>{b||(ct(nn,`RPC '${t}' stream ${o} transport opened.`),D.i_())})),eu(y,iu.EventType.CLOSE,(()=>{b||(b=!0,ct(nn,`RPC '${t}' stream ${o} transport closed`),D.o_(),this.E_(y))})),eu(y,iu.EventType.ERROR,(j=>{b||(b=!0,No(nn,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),D.o_(new gt(nt.UNAVAILABLE,"The operation could not be completed")))})),eu(y,iu.EventType.MESSAGE,(j=>{if(!b){const q=j.data[0];Yt(!!q,16349);const L=q,K=L?.error||L[0]?.error;if(K){ct(nn,`RPC '${t}' stream ${o} received error:`,K);const J=K.status;let B=(function(ot){const R=Ne[ot];if(R!==void 0)return LA(R)})(J),it=K.message;B===void 0&&(B=nt.INTERNAL,it="Unknown error status: "+J+" with message "+K.message),b=!0,D.o_(new gt(B,it)),y.close()}else ct(nn,`RPC '${t}' stream ${o} received:`,q),D.__(q)}})),xo.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nA()}}function QV(n){return new xo(n)}function cp(){return typeof document<"u"?document:null}function jf(n){return new JN(n,!0)}xo.c_=!1;class JA{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const xE="PersistentStream";class ZA{constructor(t,e,r,o,u,c,m,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===nt.RESOURCE_EXHAUSTED?(vs(e.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new gt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(xE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ct(xE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XV extends ZA{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=eV(this.serializer,t),r=(function(u){if(!("targetChange"in u))return St.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?zi(c.readTime):St.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=Kp(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=zp(p)?{documents:sV(u,p)}:{query:rV(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=BA(u,c.resumeToken);const g=Hp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(St.min())>0){m.readTime=hf(u,c.snapshotVersion.toTimestamp());const g=Hp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=oV(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=Kp(this.serializer),e.removeTarget=t,this.K_(e)}}class $V extends ZA{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=iV(t.writeResults,t.commitTime),r=zi(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Kp(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>nV(this.serializer,r)))};this.K_(e)}}class WV{}class JV extends WV{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,qp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(nt.UNKNOWN,u.toString())}))}jo(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,qp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(nt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ZV(n,t,e,r){return new JV(n,t,e,r)}class tM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(e),this.aa=!1):ct("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _a="RemoteStore";class eM{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{ba(this)&&(ct(_a,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await zu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Bf(g)})(this))}))})),this.Va=new tM(r,o)}}async function Bf(n){if(ba(n))for(const t of n.Ra)await t(!0)}async function zu(n){for(const t of n.Ra)await t(!1)}function t1(n,t){const e=wt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Wg(e)?$g(e):Go(e).O_()&&Xg(e,t))}function Qg(n,t){const e=wt(n),r=Go(e);e.Ia.delete(t),r.O_()&&e1(e,t),e.Ia.size===0&&(r.O_()?r.L_():ba(e)&&e.Va.set("Unknown"))}function Xg(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Go(n).Z_(t)}function e1(n,t){n.da.$e(t),Go(n).X_(t)}function $g(n){n.da=new QN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Go(n).start(),n.Va.ua()}function Wg(n){return ba(n)&&!Go(n).x_()&&n.Ia.size>0}function ba(n){return wt(n).Ea.size===0}function n1(n){n.da=void 0}async function nM(n){n.Va.set("Online")}async function iM(n){n.Ia.forEach(((t,e)=>{Xg(n,t)}))}async function sM(n,t){n1(n),Wg(n)?(n.Va.ha(t),$g(n)):n.Va.set("Unknown")}async function rM(n,t,e){if(n.Va.set("Online"),t instanceof jA&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(n,t)}catch(r){ct(_a,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await df(n,r)}else if(t instanceof Fh?n.da.Xe(t):t instanceof UA?n.da.st(t):n.da.tt(t),!e.isEqual(St.min()))try{const r=await WA(n.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=u.Ia.get(g);y&&u.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const y=u.Ia.get(p);if(!y)return;u.Ia.set(p,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),e1(u,p);const T=new ur(y.target,p,g,y.sequenceNumber);Xg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(n,e)}catch(r){ct(_a,"Failed to raise snapshot:",r),await df(n,r)}}async function df(n,t,e){if(!qo(t))throw t;n.Ea.add(1),await zu(n),n.Va.set("Offline"),e||(e=()=>WA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ct(_a,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Bf(n)}))}function i1(n,t){return t().catch((e=>df(n,e,t)))}async function zf(n){const t=wt(n),e=Ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pg;for(;aM(t);)try{const o=await BV(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,oM(t,o)}catch(o){await df(t,o)}s1(t)&&r1(t)}function aM(n){return ba(n)&&n.Ta.length<10}function oM(n,t){n.Ta.push(t);const e=Ar(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function s1(n){return ba(n)&&!Ar(n).x_()&&n.Ta.length>0}function r1(n){Ar(n).start()}async function lM(n){Ar(n).ra()}async function uM(n){const t=Ar(n);for(const e of n.Ta)t.ea(e.mutations)}async function cM(n,t,e){const r=n.Ta.shift(),o=zg.from(r,t,e);await i1(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await zf(n)}async function hM(n,t){t&&Ar(n).Y_&&await(async function(r,o){if((function(c){return GN(c)&&c!==nt.ABORTED})(o.code)){const u=r.Ta.shift();Ar(r).B_(),await i1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zf(r)}})(n,t),s1(n)&&r1(n)}async function RE(n,t){const e=wt(n);e.asyncQueue.verifyOperationInProgress(),ct(_a,"RemoteStore received new credentials");const r=ba(e);e.Ea.add(3),await zu(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Bf(e)}async function fM(n,t){const e=wt(n);t?(e.Ea.delete(2),await Bf(e)):t||(e.Ea.add(2),await zu(e),e.Va.set("Unknown"))}function Go(n){return n.ma||(n.ma=(function(e,r,o){const u=wt(e);return u.sa(),new XV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:nM.bind(null,n),Yo:iM.bind(null,n),t_:sM.bind(null,n),J_:rM.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Wg(n)?$g(n):n.Va.set("Unknown")):(await n.ma.stop(),n1(n))}))),n.ma}function Ar(n){return n.fa||(n.fa=(function(e,r,o){const u=wt(e);return u.sa(),new $V(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lM.bind(null,n),t_:hM.bind(null,n),ta:uM.bind(null,n),na:cM.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await zf(n)):(await n.fa.stop(),n.Ta.length>0&&(ct(_a,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Jg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new Jg(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(n,t){if(vs("AsyncQueue",`${t}: ${n}`),qo(n))return new gt(nt.UNAVAILABLE,`${t}: ${n}`);throw n}class Ro{static emptySet(t){return new Ro(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||vt.comparator(e.key,r.key):(e,r)=>vt.comparator(e.key,r.key),this.keyedMap=su(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ro)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class CE{constructor(){this.ga=new he(vt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Lo{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new Lo(t,e,Ro.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Of(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class dM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class mM{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=wt(e),u=o.queries;o.queries=IE(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new gt(nt.ABORTED,"Firestore shutting down"))}}function IE(){return new Ea((n=>SA(n)),Of)}async function a1(n,t){const e=wt(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new dM,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Zg(c,`Initialization of query '${po(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.ba.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&ty(e)}async function o1(n,t){const e=wt(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function pM(n,t){const e=wt(n);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&ty(e)}function gM(n,t,e){const r=wt(n),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(e);r.queries.delete(t)}function ty(n){n.Ca.forEach((t=>{t.next()}))}var Xp,DE;(DE=Xp||(Xp={})).Ma="default",DE.Cache="cache";class l1{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Lo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xp.Cache}}class u1{constructor(t){this.key=t}}class c1{constructor(t){this.key=t}}class yM{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=AA(t),this.tu=new Ro(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new CE,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,T)=>{const b=o.get(y),D=Pf(this.query,T)?T:null,j=!!b&&this.mutatedKeys.has(b.key),q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;b&&D?b.data.isEqual(D.data)?j!==q&&(r.track({type:3,doc:D}),L=!0):this.su(b,D)||(r.track({type:2,doc:D}),L=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!b&&D?(r.track({type:0,doc:D}),L=!0):b&&!D&&(r.track({type:1,doc:b}),L=!0,(p||g)&&(m=!0)),L&&(D?(c=c.add(D),u=q?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,T)=>(function(D,j){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:L})}};return q(D)-q(j)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Lo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new c1(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new u1(r))})),e}cu(t){this.Za=t.ks,this.Ya=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ey="SyncEngine";class vM{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class _M{constructor(t){this.key=t,this.hu=!1}}class TM{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ea((m=>SA(m)),Of),this.Iu=new Map,this.Eu=new Set,this.Ru=new he(vt.comparator),this.Au=new Map,this.Vu=new qg,this.du={},this.mu=new Map,this.fu=ko.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EM(n,t,e=!0){const r=g1(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await h1(r,t,e,!0),o}async function bM(n,t){const e=g1(n);await h1(e,t,!0,!1)}async function h1(n,t,e,r){const o=await zV(n.localStore,Bi(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await SM(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&t1(n.remoteStore,o),m}async function SM(n,t,e,r,o){n.pu=(T,b,D)=>(async function(q,L,K,J){let B=L.view.ru(K);B.Ss&&(B=await bE(q.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,B))));const it=J&&J.targetChanges.get(L.targetId),st=J&&J.targetMismatches.get(L.targetId)!=null,ot=L.view.applyChanges(B,q.isPrimaryClient,it,st);return VE(q,L.targetId,ot.au),ot.snapshot})(n,T,b,D);const u=await bE(n.localStore,t,!0),c=new yM(t,u.ks),m=c.ru(u.documents),p=Bu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);VE(n,e,g.au);const y=new vM(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function AM(n,t,e){const r=wt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Of(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Yp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Qg(r.remoteStore,o.targetId),$p(r,o.targetId)})).catch(Ho)):($p(r,o.targetId),await Yp(r.localStore,o.targetId,!0))}async function wM(n,t){const e=wt(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Qg(e.remoteStore,r.targetId))}async function xM(n,t,e){const r=MM(n);try{const o=await(function(c,m){const p=wt(c),g=re.now(),y=m.reduce(((D,j)=>D.add(j.key)),Ut());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let j=_s(),q=Ut();return p.xs.getEntries(D,y).next((L=>{j=L,j.forEach(((K,J)=>{J.isValidDocument()||(q=q.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,j))).next((L=>{T=L;const K=[];for(const J of m){const B=BN(J,T.get(J.key).overlayedDocument);B!=null&&K.push(new Ir(J.key,B,gA(B.value.mapValue),di.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,K,m)})).next((L=>{b=L;const K=L.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(D,L.batchId,K)}))})).then((()=>({batchId:b.batchId,changes:xA(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new he(Lt)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,e),await Fu(r,o.changes),await zf(r.remoteStore)}catch(o){const u=Zg(o,"Failed to persist write");e.reject(u)}}async function f1(n,t){const e=wt(n);try{const r=await UV(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Yt(c.hu,14607):o.removedDocuments.size>0&&(Yt(c.hu,42227),c.hu=!1))})),await Fu(e,r,t)}catch(r){await Ho(r)}}function NE(n,t,e){const r=wt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=wt(c);p.onlineState=m;let g=!1;p.queries.forEach(((y,T)=>{for(const b of T.ba)b.va(m)&&(g=!0)})),g&&ty(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function RM(n,t,e){const r=wt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new he(vt.comparator);c=c.insert(u,rn.newNoDocument(u,St.min()));const m=Ut().add(u),p=new Uf(St.min(),new Map,new he(Lt),c,m);await f1(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(t),ny(r)}else await Yp(r.localStore,t,!1).then((()=>$p(r,t,e))).catch(Ho)}async function CM(n,t){const e=wt(n),r=t.batch.batchId;try{const o=await LV(e.localStore,t);m1(e,r,null),d1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(e,o)}catch(o){await Ho(o)}}async function IM(n,t,e){const r=wt(n);try{const o=await(function(c,m){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Yt(T!==null,37113),y=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(r.localStore,t);m1(r,t,e),d1(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Fu(r,o)}catch(o){await Ho(o)}}function d1(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function m1(n,t,e){const r=wt(n);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function $p(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||p1(n,r)}))}function p1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(Qg(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),ny(n))}function VE(n,t,e){for(const r of e)r instanceof u1?(n.Vu.addReference(r.key,t),DM(n,r)):r instanceof c1?(ct(ey,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||p1(n,r.key)):Tt(19791,{wu:r})}function DM(n,t){const e=t.key,r=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(r)||(ct(ey,"New document in limbo: "+e),n.Eu.add(r),ny(n))}function ny(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new vt(se.fromString(t)),r=n.fu.next();n.Au.set(r,new _M(e)),n.Ru=n.Ru.insert(e,r),t1(n.remoteStore,new ur(Bi(Mf(e.path)),r,"TargetPurposeLimboResolution",If.ce))}}async function Fu(n,t,e){const r=wt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){o.push(g);const y=Kg.Es(p.targetId,g);u.push(y)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const y=wt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>et.forEach(g,(b=>et.forEach(b.Ts,(D=>y.persistence.referenceDelegate.addReference(T,b.targetId,D))).next((()=>et.forEach(b.Is,(D=>y.persistence.referenceDelegate.removeReference(T,b.targetId,D)))))))))}catch(T){if(!qo(T))throw T;ct(Yg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const D=y.vs.get(b),j=D.snapshotVersion,q=D.withLastLimboFreeSnapshotVersion(j);y.vs=y.vs.insert(b,q)}}})(r.localStore,u))}async function NM(n,t){const e=wt(n);if(!e.currentUser.isEqual(t)){ct(ey,"User change. New user:",t.toKey());const r=await $A(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new gt(nt.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Fu(e,r.Ns)}}function VM(n,t){const e=wt(n),r=e.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function g1(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RM.bind(null,t),t.Pu.J_=pM.bind(null,t.eventManager),t.Pu.yu=gM.bind(null,t.eventManager),t}function MM(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IM.bind(null,t),t}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return kV(this.persistence,new MV,t.initialUser,this.serializer)}Cu(t){return new XA(Gg.Vi,this.serializer)}Du(t){return new HV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class OM extends mf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Yt(this.persistence.referenceDelegate instanceof ff,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vV(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new XA((r=>ff.Vi(r,e)),this.serializer)}}class Wp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NM.bind(null,this.syncEngine),await fM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new mM})()}createDatastore(t){const e=jf(t.databaseInfo.databaseId),r=QV(t.databaseInfo);return ZV(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new eM(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>NE(this.syncEngine,e,0)),(function(){return wE.v()?new wE:new qV})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,y){const T=new TM(o,u,c,m,p,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=wt(e);ct(_a,"RemoteStore shutting down."),r.Ea.add(5),await zu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wp.provider={build:()=>new Wp};class y1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const wr="FirestoreClient";class PM{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ct(wr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ct(wr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Zg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function hp(n,t){n.asyncQueue.verifyOperationInProgress(),ct(wr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await $A(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function ME(n,t){n.asyncQueue.verifyOperationInProgress();const e=await kM(n);ct(wr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>RE(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>RE(t.remoteStore,o))),n._onlineComponents=t}async function kM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(wr,"Using user provided OfflineComponentProvider");try{await hp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;No("Error using user provided cache. Falling back to memory cache: "+e),await hp(n,new mf)}}else ct(wr,"Using default OfflineComponentProvider"),await hp(n,new OM(void 0));return n._offlineComponents}async function v1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(wr,"Using user provided OnlineComponentProvider"),await ME(n,n._uninitializedComponentsProvider._online)):(ct(wr,"Using default OnlineComponentProvider"),await ME(n,new Wp))),n._onlineComponents}function LM(n){return v1(n).then((t=>t.syncEngine))}async function Jp(n){const t=await v1(n),e=t.eventManager;return e.onListen=EM.bind(null,t.syncEngine),e.onUnlisten=AM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=bM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=wM.bind(null,t.syncEngine),e}function UM(n,t,e,r){const o=new y1(r),u=new l1(t,o,e);return n.asyncQueue.enqueueAndForget((async()=>a1(await Jp(n),u))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>o1(await Jp(n),u)))}}function jM(n,t,e={}){const r=new gr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const y=new y1({next:b=>{y.Nu(),c.enqueueAndForget((()=>o1(u,T)));const D=b.docs.has(m);!D&&b.fromCache?g.reject(new gt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new gt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new l1(Mf(m.path),y,{includeMetadataChanges:!0,Ka:!0});return a1(u,T)})(await Jp(n),n.asyncQueue,t,e,r))),r.promise}function BM(n,t){const e=new gr;return n.asyncQueue.enqueueAndForget((async()=>xM(await LM(n),t,e))),e.promise}function _1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const zM="ComponentProvider",OE=new Map;function FM(n,t,e,r,o){return new lN(n,t,e,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,_1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const T1="firestore.googleapis.com",PE=!0;class kE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=PE}else this.host=t.host,this.ssl=t.ssl??PE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=QA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gV)throw new gt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ff{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new zD;switch(r.type){case"firstParty":return new GD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=OE.get(e);r&&(ct(zM,"Removing Datastore"),OE.delete(e),r.terminate())})(this),Promise.resolve()}}function HM(n,t,e,r={}){n=fi(n,Ff);const o=jo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${e}`;o&&(cS(`https://${m}`),hS("Firestore",!0)),u.host!==T1&&u.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!vr(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=sn.MOCK_USER;else{g=dC(r.mockUserToken,n._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new gt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(T)}n._authCredentials=new FD(new sA(g,y))}}class Hf{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Hf(this.firestore,t,this._query)}}class Ee{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Uu(e,Ee._jsonSchema))return new Ee(t,r||null,new vt(se.fromString(e.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:Me("string",Ee._jsonSchemaVersion),referencePath:Me("string")};class yr extends Hf{constructor(t,e,r){super(t,e,Mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new vt(t))}withConverter(t){return new yr(this.firestore,t,this._path)}}function qM(n,t,...e){if(n=dn(n),rA("collection","path",t),n instanceof Ff){const r=se.fromString(t,...e);return $T(r),new yr(n,null,r)}{if(!(n instanceof Ee||n instanceof yr))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(se.fromString(t,...e));return $T(r),new yr(n.firestore,null,r)}}function lr(n,t,...e){if(n=dn(n),arguments.length===1&&(t=Mg.newId()),rA("doc","path",t),n instanceof Ff){const r=se.fromString(t,...e);return XT(r),new Ee(n,null,new vt(r))}{if(!(n instanceof Ee||n instanceof yr))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(se.fromString(t,...e));return XT(r),new Ee(n.firestore,n instanceof yr?n.converter:null,new vt(r))}}const LE="AsyncQueue";class UE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JA(this,"async_queue_retry"),this._c=()=>{const r=cp();r&&ct(LE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=cp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=cp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!qo(t))throw t;ct(LE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",jE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Jg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:jE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function jE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Ta extends Ff{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new UE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new UE(t),this._firestoreClient=void 0,await t}}}function GM(n,t){const e=typeof n=="object"?n:pS(),r=typeof n=="string"?n:af,o=Ag(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=hC("firestore");u&&HM(o,...u)}return o}function iy(n){if(n._terminated)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||KM(n),n._firestoreClient}function KM(n){const t=n._freezeSettings(),e=FM(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new PM(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(tn.fromBase64String(t))}catch(e){throw new gt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uu(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Me("string",Yn._jsonSchemaVersion),bytes:Me("string")};class sy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hu{constructor(t){this._methodName=t}}class Fi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(t){if(Uu(t,Fi._jsonSchema))return new Fi(t.latitude,t.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Me("string",Fi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class mi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uu(t,mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new mi(t.vectorValues);throw new gt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Me("string",mi._jsonSchemaVersion),vectorValues:Me("object")};const YM=/^__.*__$/;class QM{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Ir(t,this.data,this.fieldMask,e,this.fieldTransforms):new ju(t,this.data,e,this.fieldTransforms)}}class E1{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Ir(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function b1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:n})}}class qf{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new qf({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return pf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(b1(this.dataSource)&&YM.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class XM{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||jf(t)}createContext(t,e,r,o=!1){return new qf({dataSource:t,methodName:e,targetDoc:r,path:Ze.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ry(n){const t=n._freezeSettings(),e=jf(n._databaseId);return new XM(n._databaseId,!!t.ignoreUndefinedProperties,e)}function S1(n,t,e,r,o,u={}){const c=n.createContext(u.merge||u.mergeFields?2:0,t,e,o);ly("Data must be an object, but it was:",c,r);const m=A1(r,c);let p,g;if(u.merge)p=new Vn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const T of u.mergeFields){const b=Ru(t,T,e);if(!c.contains(b))throw new gt(nt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);R1(y,b)||y.push(b)}p=new Vn(y),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new QM(new bn(m),p,g)}class Gf extends Hu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gf}}function $M(n,t,e){return new qf({dataSource:3,targetDoc:t.settings.targetDoc,methodName:n._methodName,arrayElement:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ay extends Hu{_toFieldTransform(t){return new MA(t.path,new wu)}isEqual(t){return t instanceof ay}}class oy extends Hu{constructor(t,e){super(t),this.Ac=e}_toFieldTransform(t){const e=$M(this,t,!0),r=this.Ac.map((u=>qu(u,e))),o=new Po(r);return new MA(t.path,o)}isEqual(t){return t instanceof oy&&vr(this.Ac,t.Ac)}}function WM(n,t,e,r){const o=n.createContext(1,t,e);ly("Data must be an object, but it was:",o,r);const u=[],c=bn.empty();Cr(r,((p,g)=>{const y=x1(t,p,e);g=dn(g);const T=o.childContextForFieldPath(y);if(g instanceof Gf)u.push(y);else{const b=qu(g,T);b!=null&&(u.push(y),c.set(y,b))}}));const m=new Vn(u);return new E1(c,m,o.fieldTransforms)}function JM(n,t,e,r,o,u){const c=n.createContext(1,t,e),m=[Ru(t,r,e)],p=[o];if(u.length%2!=0)throw new gt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Ru(t,u[b])),p.push(u[b+1]);const g=[],y=bn.empty();for(let b=m.length-1;b>=0;--b)if(!R1(g,m[b])){const D=m[b];let j=p[b];j=dn(j);const q=c.childContextForFieldPath(D);if(j instanceof Gf)g.push(D);else{const L=qu(j,q);L!=null&&(g.push(D),y.set(D,L))}}const T=new Vn(g);return new E1(y,T,c.fieldTransforms)}function qu(n,t){if(w1(n=dn(n)))return ly("Unsupported field value:",t,n),A1(n,t);if(n instanceof Hu)return(function(r,o){if(!b1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=qu(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ON(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=re.fromDate(r);return{timestampValue:hf(o.serializer,u)}}if(r instanceof re){const u=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(o.serializer,u)}}if(r instanceof Fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:BA(o.serializer,r._byteString)};if(r instanceof Ee){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof mi)return(function(c,m){const p=c instanceof mi?c.toArray():c;return{mapValue:{fields:{[mA]:{stringValue:pA},[of]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw m.createError("VectorValues must only contain numeric values.");return Bg(m.serializer,y)}))}}}}}})(r,o);if(YA(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Og(r)}`)})(n,t)}function A1(n,t){const e={};return lA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cr(n,((r,o)=>{const u=qu(o,t.childContextForField(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function w1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof re||n instanceof Fi||n instanceof Yn||n instanceof Ee||n instanceof Hu||n instanceof mi||YA(n))}function ly(n,t,e){if(!w1(e)||!aA(e)){const r=Og(e);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function Ru(n,t,e){if((t=dn(t))instanceof sy)return t._internalPath;if(typeof t=="string")return x1(n,t);throw pf("Field path arguments must be of type string or ",n,!1,void 0,e)}const ZM=new RegExp("[~\\*/\\[\\]]");function x1(n,t,e){if(t.search(ZM)>=0)throw pf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new sy(...t.split("."))._internalPath}catch{throw pf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function pf(n,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new gt(nt.INVALID_ARGUMENT,m+n+p)}function R1(n,t){return n.some((e=>e.isEqual(t)))}class tO{convertValue(t,e="none"){switch(Sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Cr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[of].arrayValue?.values?.map((r=>Te(r.doubleValue)));return new mi(e)}convertGeoPoint(t){return new Fi(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Nf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(bu(t));default:return null}}convertTimestamp(t){const e=Er(t);return new re(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=se.fromString(t);Yt(KA(r),9688,{name:t});const o=new Su(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return o.isEqual(e)||vs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}class C1 extends tO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,e)}}function gf(){return new ay("serverTimestamp")}function eO(...n){return new oy("arrayUnion",n)}const BE="@firebase/firestore",zE="4.10.0";function FE(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class I1{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Ru("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class nO extends I1{data(){return super.data()}}function iO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function D1(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class au{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ma extends I1{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Ru("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ma._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:Me("string",ma._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Hh extends ma{data(t={}){return super.data(t)}}class Co{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new au(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Hh(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:sO(m.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Co._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function sO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}Co._jsonSchemaVersion="firestore/querySnapshot/1.0",Co._jsonSchema={type:Me("string",Co._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};function rO(n){n=fi(n,Ee);const t=fi(n.firestore,Ta),e=iy(t);return jM(e,n._key).then((r=>N1(t,n,r)))}function qh(n,t,e){n=fi(n,Ee);const r=fi(n.firestore,Ta),o=D1(n.converter,t,e),u=ry(r);return uy(r,[S1(u,"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,di.none())])}function aO(n,t,e,...r){n=fi(n,Ee);const o=fi(n.firestore,Ta),u=ry(o);let c;return c=typeof(t=dn(t))=="string"||t instanceof sy?JM(u,"updateDoc",n._key,t,e,r):WM(u,"updateDoc",n._key,t),uy(o,[c.toMutation(n._key,di.exists(!0))])}function oO(n,t){const e=fi(n.firestore,Ta),r=lr(n),o=D1(n.converter,t),u=ry(n.firestore);return uy(e,[S1(u,"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then((()=>r))}function lO(n,...t){n=dn(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||FE(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(FE(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,m;if(n instanceof Ee)c=fi(n.firestore,Ta),m=Mf(n._key.path),u={next:g=>{t[r]&&t[r](N1(c,n,g))},error:t[r+1],complete:t[r+2]};else{const g=fi(n,Hf);c=fi(g.firestore,Ta),m=g._query;const y=new C1(c);u={next:T=>{t[r]&&t[r](new Co(c,y,g,T))},error:t[r+1],complete:t[r+2]},iO(n._query)}const p=iy(c);return UM(p,m,o,u)}function uy(n,t){const e=iy(n);return BM(e,t)}function N1(n,t,e){const r=e.docs.get(t._key),o=new C1(n);return new ma(n,o,t._key,r,new au(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){BD(Bo),Do(new ga("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Ta(new HD(r.getProvider("auth-internal")),new KD(c,r.getProvider("app-check-internal")),uN(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),dr(BE,zE,t),dr(BE,zE,"esm2020")})();const uO={apiKey:"AIzaSyAMYFQeR-nSXC5TrC1_EG8O1dvV72grdPk",authDomain:"gatheringfun-9f90b.firebaseapp.com",projectId:"gatheringfun-9f90b",storageBucket:"gatheringfun-9f90b.firebasestorage.app",messagingSenderId:"127856246038",appId:"1:127856246038:web:15ccb418ad1828eff2e437",measurementId:"G-3L2YMD21VG"},V1=mS(uO),Le=UD(V1),ir=GM(V1),cO={Taiwan:{" (Taipei)":["","","",""]," (New Taipei)":["","","",""]," (Taichung)":["","",""]," (Kaohsiung)":["","",""]},Malaysia:{"Kuala Lumpur":["Bukit Bintang","KLCC","Bangsar","Cheras"],Selangor:["Petaling Jaya","Subang Jaya","Shah Alam","Klang"],Penang:["George Town","Bayan Lepas","Butterworth"],Johor:["Johor Bahru","Skudai","Mount Austin"]}},hO=["Taiwanese","Chinese","Western","Japanese","Korean","Thai","Indian","Italian","Malay","Nyonya"],fO=({onSubmit:n,loading:t})=>{const[e,r]=at.useState({name:"",startDate:"",endDate:"",country:"Taiwan",locations:[],cuisines:[],minPrice:100,maxPrice:1e3,waitMinutes:10}),o=p=>{const{name:g,value:y}=p.target;r(g==="country"?T=>({...T,[g]:y,locations:[]}):T=>({...T,[g]:y}))},u=(p,g)=>{r(y=>{const T=y[p],b=T.includes(g)?T.filter(D=>D!==g):[...T,g];return{...y,[p]:b}})},c=p=>{if(p.preventDefault(),!e.name||!e.startDate||!e.endDate||e.locations.length===0){alert("Please fill in required fields, including at least one location");return}n(e)},m=cO[e.country];return C.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center",children:"Start a New Gathering"}),C.jsxs("form",{onSubmit:c,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Gathering Name"}),C.jsx("input",{type:"text",name:"name",value:e.name,onChange:o,placeholder:"e.g., Friday Dinner Party",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),C.jsx("input",{type:"date",name:"startDate",value:e.startDate,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),C.jsx("input",{type:"date",name:"endDate",value:e.endDate,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),C.jsxs("select",{name:"country",value:e.country,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[C.jsx("option",{value:"Taiwan",children:"Taiwan"}),C.jsx("option",{value:"Malaysia",children:"Malaysia"})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min Price"}),C.jsx("input",{type:"number",name:"minPrice",value:e.minPrice,onChange:o,min:"100",max:"1000",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Max Price"}),C.jsx("input",{type:"number",name:"maxPrice",value:e.maxPrice,onChange:o,min:"100",max:"1000",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Locations (Select multiple Districts/Areas)"}),C.jsx("div",{className:"max-h-60 overflow-y-auto space-y-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:Object.entries(m).map(([p,g])=>C.jsxs("div",{children:[C.jsx("h4",{className:"text-sm font-bold text-gray-500 mb-2",children:p}),C.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>C.jsx("button",{type:"button",onClick:()=>u("locations",`${p} - ${y}`),className:`px-3 py-1 bg-white dark:bg-gray-700 rounded-md border transition-all text-xs font-medium ${e.locations.includes(`${p} - ${y}`)?"border-blue-500 ring-2 ring-blue-500/20 text-blue-600":"border-gray-200 dark:border-gray-600 text-gray-600"}`,children:y},y))})]},p))})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",e.cuisines.length>0&&C.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[e.cuisines.length," selected"]})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:hO.map(p=>C.jsxs("button",{type:"button",onClick:()=>u("cuisines",p),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${e.cuisines.includes(p)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[e.cuisines.includes(p)&&" ",p]},p))}),e.cuisines.length===0&&C.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"Click to select multiple cuisines (optional)"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wait Duration (Minutes)"}),C.jsx("input",{type:"number",name:"waitMinutes",value:e.waitMinutes,onChange:o,min:"1",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Wait for participants to join before generating results."})]}),C.jsx("button",{type:"submit",disabled:t,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${t?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600"}`,children:t?"Creating...":"Create Gathering Link"})]})]})},dO=({sessionId:n,onJoined:t})=>{const[e,r]=at.useState(null),[o,u]=at.useState(!1),[c,m]=at.useState(null),[p,g]=at.useState({dates:[],timePeriods:[],locations:[],cuisines:[]});at.useEffect(()=>{n&&y()},[n]);const y=async()=>{u(!0);try{const L=lr(ir,"sessions",n),K=await rO(L);K.exists()?r({id:K.id,...K.data()}):m("Session not found")}catch{m("Error fetching session")}finally{u(!1)}},T=(L,K)=>{g(J=>{const B=J[L],it=B.includes(K)?B.filter(st=>st!==K):[...B,K];return{...J,[L]:it}})},b=async L=>{if(L.preventDefault(),p.dates.length===0||p.timePeriods.length===0||p.locations.length===0){alert("Please select at least one date, time period, and location");return}u(!0);try{Le.currentUser||await jS(Le);const K=lr(ir,"sessions",n);await qh(K,{participants:eO(Le.currentUser.uid),participantPreferences:{[Le.currentUser.uid]:{...p,submittedAt:gf()}}},{merge:!0}),t(n,{...p,submittedAt:gf()})}catch(K){console.error(K),alert("Failed to join session")}finally{u(!1)}},D=L=>{const K=new Date(L),J=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${J[K.getDay()]}, ${B[K.getMonth()]} ${K.getDate()}`},j=()=>{if(!e)return[];const L=[],K=new Date(e.startDate),J=new Date(e.endDate);for(let B=new Date(K);B<=J;B.setDate(B.getDate()+1))L.push(new Date(B).toISOString().split("T")[0]);return L};if(o&&!e)return C.jsx("div",{className:"text-center py-20 text-blue-600 font-bold",children:"Loading Session..."});if(c)return C.jsx("div",{className:"text-center py-20 text-red-500 font-bold",children:c});if(!e)return null;const q=j();return C.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[C.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:['Join "',e.name,'"']}),C.jsx("p",{className:"text-gray-500 text-center mb-8 italic",children:"Choose your preferences from the host's list"}),C.jsxs("form",{onSubmit:b,className:"space-y-8",children:[C.jsxs("div",{children:[C.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Available Dates",p.dates.length>0&&C.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[p.dates.length," selected"]})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:q.map(L=>C.jsxs("button",{type:"button",onClick:()=>T("dates",L),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.dates.includes(L)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.dates.includes(L)&&" ",D(L)]},L))})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Time Periods",p.timePeriods.length>0&&C.jsxs("span",{className:"ml-2 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded-full",children:[p.timePeriods.length," selected"]})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:["Morning","Afternoon","Evening","Night"].map(L=>C.jsxs("button",{type:"button",onClick:()=>T("timePeriods",L),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.timePeriods.includes(L)?"bg-orange-500 text-white shadow-lg ring-2 ring-orange-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.timePeriods.includes(L)&&" ",L]},L))})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Locations",p.locations.length>0&&C.jsxs("span",{className:"ml-2 text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-0.5 rounded-full",children:[p.locations.length," selected"]})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:e.locations.map(L=>C.jsxs("button",{type:"button",onClick:()=>T("locations",L),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.locations.includes(L)?"bg-green-600 text-white shadow-lg ring-2 ring-green-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.locations.includes(L)&&" ",L]},L))})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",p.cuisines.length>0&&C.jsxs("span",{className:"ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-0.5 rounded-full",children:[p.cuisines.length," selected"]})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:e.cuisines.map(L=>C.jsxs("button",{type:"button",onClick:()=>T("cuisines",L),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${p.cuisines.includes(L)?"bg-purple-600 text-white shadow-lg ring-2 ring-purple-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.cuisines.includes(L)&&" ",L]},L))})]}),C.jsx("button",{type:"submit",disabled:o,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${o?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:o?"Joining...":"Submit Preferences & Join "})]})]})},mO=({sessionData:n,onSubmit:t,loading:e})=>{const[r,o]=at.useState({dates:[],timePeriods:[],locations:[],cuisines:[]}),u=(y,T)=>{o(b=>{const D=b[y],j=D.includes(T)?D.filter(q=>q!==T):[...D,T];return{...b,[y]:j}})},c=y=>{if(y.preventDefault(),r.dates.length===0||r.locations.length===0){alert("Please select at least one date, time period, and location");return}t(r)},m=y=>{const T=new Date(y),b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${b[T.getDay()]}, ${D[T.getMonth()]} ${T.getDate()}`},g=(()=>{const y=[],T=new Date(n.startDate),b=new Date(n.endDate);for(let D=new Date(T);D<=b;D.setDate(D.getDate()+1))y.push(new Date(D).toISOString().split("T")[0]);return y})();return C.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:"Select Your Preferences"}),C.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-8",children:"Choose from the options set by the host"}),C.jsxs("form",{onSubmit:c,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Available Dates",r.dates.length>0&&C.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[r.dates.length," selected"]})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>C.jsxs("button",{type:"button",onClick:()=>u("dates",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.dates.includes(y)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.dates.includes(y)&&" ",m(y)]},y))})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Time Periods",r.timePeriods.length>0&&C.jsxs("span",{className:"ml-2 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded-full",children:[r.timePeriods.length," selected"]})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:["Morning","Afternoon","Evening","Night"].map(y=>C.jsxs("button",{type:"button",onClick:()=>u("timePeriods",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.timePeriods.includes(y)?"bg-orange-500 text-white shadow-lg ring-2 ring-orange-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.timePeriods.includes(y)&&" ",y]},y))})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Locations",r.locations.length>0&&C.jsxs("span",{className:"ml-2 text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-0.5 rounded-full",children:[r.locations.length," selected"]})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:n.locations.map(y=>C.jsxs("button",{type:"button",onClick:()=>u("locations",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.locations.includes(y)?"bg-green-600 text-white shadow-lg ring-2 ring-green-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.locations.includes(y)&&" ",y]},y))})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",r.cuisines.length>0&&C.jsxs("span",{className:"ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-0.5 rounded-full",children:[r.cuisines.length," selected"]})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:n.cuisines.map(y=>C.jsxs("button",{type:"button",onClick:()=>u("cuisines",y),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${r.cuisines.includes(y)?"bg-purple-600 text-white shadow-lg ring-2 ring-purple-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.cuisines.includes(y)&&" ",y]},y))}),C.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"Cuisine selection is optional"})]}),C.jsx("button",{type:"submit",disabled:e,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${e?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:e?"Saving...":"Submit Preferences & Start Swiping "})]})]})},cy=at.createContext({});function hy(n){const t=at.useRef(null);return t.current===null&&(t.current=n()),t.current}const M1=typeof window<"u",O1=M1?at.useLayoutEffect:at.useEffect,Kf=at.createContext(null);function fy(n,t){n.indexOf(t)===-1&&n.push(t)}function dy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ki=(n,t,e)=>e>t?t:e<n?n:e;let my=()=>{};const Ts={},P1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function k1(n){return typeof n=="object"&&n!==null}const L1=n=>/^0[^.\s]+$/u.test(n);function py(n){let t;return()=>(t===void 0&&(t=n()),t)}const Xn=n=>n,pO=(n,t)=>e=>t(n(e)),Gu=(...n)=>n.reduce(pO),Cu=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class gy{constructor(){this.subscriptions=[]}add(t){return fy(this.subscriptions,t),()=>dy(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ms=n=>n*1e3,Qn=n=>n/1e3;function U1(n,t){return t?n*(1e3/t):0}const j1=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,gO=1e-7,yO=12;function vO(n,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=j1(c,r,o)-n,u>0?e=c:t=c;while(Math.abs(u)>gO&&++m<yO);return c}function Ku(n,t,e,r){if(n===t&&e===r)return Xn;const o=u=>vO(u,0,1,n,e);return u=>u===0||u===1?u:j1(o(u),t,r)}const B1=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,z1=n=>t=>1-n(1-t),F1=Ku(.33,1.53,.69,.99),yy=z1(F1),H1=B1(yy),q1=n=>(n*=2)<1?.5*yy(n):.5*(2-Math.pow(2,-10*(n-1))),vy=n=>1-Math.sin(Math.acos(n)),G1=z1(vy),K1=B1(vy),_O=Ku(.42,0,1,1),TO=Ku(0,0,.58,1),Y1=Ku(.42,0,.58,1),EO=n=>Array.isArray(n)&&typeof n[0]!="number",Q1=n=>Array.isArray(n)&&typeof n[0]=="number",bO={linear:Xn,easeIn:_O,easeInOut:Y1,easeOut:TO,circIn:vy,circInOut:K1,circOut:G1,backIn:yy,backInOut:H1,backOut:F1,anticipate:q1},SO=n=>typeof n=="string",HE=n=>{if(Q1(n)){my(n.length===4);const[t,e,r,o]=n;return Ku(t,e,r,o)}else if(SO(n))return bO[n];return n},Dh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function AO(n,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),n()),y(m)}const g={schedule:(y,T=!1,b=!1)=>{const j=b&&o?e:r;return T&&c.add(y),j.has(y)||j.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(m=y,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const wO=40;function X1(n,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Dh.reduce((B,it)=>(B[it]=AO(u),B),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:y,update:T,preRender:b,render:D,postRender:j}=c,q=()=>{const B=Ts.useManualTiming?o.timestamp:performance.now();e=!1,Ts.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(B-o.timestamp,wO),1)),o.timestamp=B,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),y.process(o),T.process(o),b.process(o),D.process(o),j.process(o),o.isProcessing=!1,e&&t&&(r=!1,n(q))},L=()=>{e=!0,r=!0,o.isProcessing||n(q)};return{schedule:Dh.reduce((B,it)=>{const st=c[it];return B[it]=(ot,R=!1,w=!1)=>(e||L(),st.schedule(ot,R,w)),B},{}),cancel:B=>{for(let it=0;it<Dh.length;it++)c[Dh[it]].cancel(B)},state:o,steps:c}}const{schedule:ae,cancel:xr,state:We,steps:fp}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let Gh;function xO(){Gh=void 0}const hn={now:()=>(Gh===void 0&&hn.set(We.isProcessing||Ts.useManualTiming?We.timestamp:performance.now()),Gh),set:n=>{Gh=n,queueMicrotask(xO)}},$1=n=>t=>typeof t=="string"&&t.startsWith(n),W1=$1("--"),RO=$1("var(--"),_y=n=>RO(n)?CO.test(n.split("/*")[0].trim()):!1,CO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function qE(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Ko={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Iu={...Ko,transform:n=>Ki(0,1,n)},Nh={...Ko,default:1},pu=n=>Math.round(n*1e5)/1e5,Ty=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IO(n){return n==null}const DO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ey=(n,t)=>e=>!!(typeof e=="string"&&DO.test(e)&&e.startsWith(n)||t&&!IO(e)&&Object.prototype.hasOwnProperty.call(e,t)),J1=(n,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Ty);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},NO=n=>Ki(0,255,n),dp={...Ko,transform:n=>Math.round(NO(n))},fa={test:Ey("rgb","red"),parse:J1("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+dp.transform(n)+", "+dp.transform(t)+", "+dp.transform(e)+", "+pu(Iu.transform(r))+")"};function VO(n){let t="",e="",r="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Zp={test:Ey("#"),parse:VO,transform:fa.transform},Yu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),nr=Yu("deg"),Hi=Yu("%"),ft=Yu("px"),MO=Yu("vh"),OO=Yu("vw"),GE={...Hi,parse:n=>Hi.parse(n)/100,transform:n=>Hi.transform(n*100)},_o={test:Ey("hsl","hue"),parse:J1("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+Hi.transform(pu(t))+", "+Hi.transform(pu(e))+", "+pu(Iu.transform(r))+")"},Ve={test:n=>fa.test(n)||Zp.test(n)||_o.test(n),parse:n=>fa.test(n)?fa.parse(n):_o.test(n)?_o.parse(n):Zp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?fa.transform(n):_o.transform(n),getAnimatableNone:n=>{const t=Ve.parse(n);return t.alpha=0,Ve.transform(t)}},PO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kO(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ty)?.length||0)+(n.match(PO)?.length||0)>0}const Z1="number",tw="color",LO="var",UO="var(",KE="${}",jO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Du(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(jO,p=>(Ve.test(p)?(r.color.push(u),o.push(tw),e.push(Ve.parse(p))):p.startsWith(UO)?(r.var.push(u),o.push(LO),e.push(p)):(r.number.push(u),o.push(Z1),e.push(parseFloat(p))),++u,KE)).split(KE);return{values:e,split:m,indexes:r,types:o}}function ew(n){return Du(n).values}function nw(n){const{split:t,types:e}=Du(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===Z1?u+=pu(o[c]):m===tw?u+=Ve.transform(o[c]):u+=o[c]}return u}}const BO=n=>typeof n=="number"?0:Ve.test(n)?Ve.getAnimatableNone(n):n;function zO(n){const t=ew(n);return nw(n)(t.map(BO))}const Rr={test:kO,parse:ew,createTransformer:nw,getAnimatableNone:zO};function mp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function FO({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=mp(p,m,n+1/3),u=mp(p,m,n),c=mp(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function yf(n,t){return e=>e>0?t:n}const ce=(n,t,e)=>n+(t-n)*e,pp=(n,t,e)=>{const r=n*n,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},HO=[Zp,fa,_o],qO=n=>HO.find(t=>t.test(n));function YE(n){const t=qO(n);if(!t)return!1;let e=t.parse(n);return t===_o&&(e=FO(e)),e}const QE=(n,t)=>{const e=YE(n),r=YE(t);if(!e||!r)return yf(n,t);const o={...e};return u=>(o.red=pp(e.red,r.red,u),o.green=pp(e.green,r.green,u),o.blue=pp(e.blue,r.blue,u),o.alpha=ce(e.alpha,r.alpha,u),fa.transform(o))},tg=new Set(["none","hidden"]);function GO(n,t){return tg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function KO(n,t){return e=>ce(n,t,e)}function by(n){return typeof n=="number"?KO:typeof n=="string"?_y(n)?yf:Ve.test(n)?QE:XO:Array.isArray(n)?iw:typeof n=="object"?Ve.test(n)?QE:YO:yf}function iw(n,t){const e=[...n],r=e.length,o=n.map((u,c)=>by(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function YO(n,t){const e={...n,...t},r={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(r[o]=by(n[o])(n[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function QO(n,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;e[o]=m,r[u]++}return e}const XO=(n,t)=>{const e=Rr.createTransformer(t),r=Du(n),o=Du(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?tg.has(n)&&!o.values.length||tg.has(t)&&!r.values.length?GO(n,t):Gu(iw(QO(r,o),o.values),e):yf(n,t)};function sw(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ce(n,t,e):by(n)(n,t)}const $O=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ae.update(t,e),stop:()=>xr(t),now:()=>We.isProcessing?We.timestamp:hn.now()}},rw=(n,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},vf=2e4;function Sy(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<vf;)t+=e,r=n.next(t);return t>=vf?1/0:t}function WO(n,t=100,e){const r=e({...n,keyframes:[0,t]}),o=Math.min(Sy(r),vf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Qn(o)}}const JO=5;function aw(n,t,e){const r=Math.max(t-JO,0);return U1(e-n(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gp=.001;function ZO({duration:n=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=Ki(pe.minDamping,pe.maxDamping,c),n=Ki(pe.minDuration,pe.maxDuration,Qn(n)),c<1?(o=g=>{const y=g*c,T=y*n,b=y-e,D=eg(g,c),j=Math.exp(-T);return gp-b/D*j},u=g=>{const T=g*c*n,b=T*e+e,D=Math.pow(c,2)*Math.pow(g,2)*n,j=Math.exp(-T),q=eg(Math.pow(g,2),c);return(-o(g)+gp>0?-1:1)*((b-D)*j)/q}):(o=g=>{const y=Math.exp(-g*n),T=(g-e)*n+1;return-gp+y*T},u=g=>{const y=Math.exp(-g*n),T=(e-g)*(n*n);return y*T});const m=5/n,p=e4(o,u,m);if(n=ms(n),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const t4=12;function e4(n,t,e){let r=e;for(let o=1;o<t4;o++)r=r-n(r)/t(r);return r}function eg(n,t){return n*Math.sqrt(1-t*t)}const n4=["duration","bounce"],i4=["stiffness","damping","mass"];function XE(n,t){return t.some(e=>n[e]!==void 0)}function s4(n){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...n};if(!XE(n,i4)&&XE(n,n4))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Ki(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const e=ZO(n);t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function _f(n=pe.visualDuration,t=pe.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:T,velocity:b,isResolvedFromDuration:D}=s4({...e,velocity:-Qn(e.velocity||0)}),j=b||0,q=g/(2*Math.sqrt(p*y)),L=c-u,K=Qn(Math.sqrt(p/y)),J=Math.abs(L)<5;r||(r=J?pe.restSpeed.granular:pe.restSpeed.default),o||(o=J?pe.restDelta.granular:pe.restDelta.default);let B;if(q<1){const st=eg(K,q);B=ot=>{const R=Math.exp(-q*K*ot);return c-R*((j+q*K*L)/st*Math.sin(st*ot)+L*Math.cos(st*ot))}}else if(q===1)B=st=>c-Math.exp(-K*st)*(L+(j+K*L)*st);else{const st=K*Math.sqrt(q*q-1);B=ot=>{const R=Math.exp(-q*K*ot),w=Math.min(st*ot,300);return c-R*((j+q*K*L)*Math.sinh(w)+st*L*Math.cosh(w))/st}}const it={calculatedDuration:D&&T||null,next:st=>{const ot=B(st);if(D)m.done=st>=T;else{let R=st===0?j:0;q<1&&(R=st===0?ms(j):aw(B,st,ot));const w=Math.abs(R)<=r,x=Math.abs(c-ot)<=o;m.done=w&&x}return m.value=m.done?c:ot,m},toString:()=>{const st=Math.min(Sy(it),vf),ot=rw(R=>it.next(st*R).value,st,30);return st+"ms "+ot},toTransition:()=>{}};return it}_f.applyToOptions=n=>{const t=WO(n,100,_f);return n.ease=t.ease,n.duration=ms(t.duration),n.type="keyframes",n};function ng({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:y}){const T=n[0],b={done:!1,value:T},D=w=>m!==void 0&&w<m||p!==void 0&&w>p,j=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let q=e*t;const L=T+q,K=c===void 0?L:c(L);K!==L&&(q=K-T);const J=w=>-q*Math.exp(-w/r),B=w=>K+J(w),it=w=>{const x=J(w),I=B(w);b.done=Math.abs(x)<=g,b.value=b.done?K:I};let st,ot;const R=w=>{D(b.value)&&(st=w,ot=_f({keyframes:[b.value,j(b.value)],velocity:aw(B,w,b.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return R(0),{calculatedDuration:null,next:w=>{let x=!1;return!ot&&st===void 0&&(x=!0,it(w),R(w)),st!==void 0&&w>=st?ot.next(w-st):(!x&&it(w),b)}}}function r4(n,t,e){const r=[],o=e||Ts.mix||sw,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Xn:t;m=Gu(p,m)}r.push(m)}return r}function a4(n,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=n.length;if(my(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=r4(t,r,o),p=m.length,g=y=>{if(c&&y<n[0])return t[0];let T=0;if(p>1)for(;T<n.length-2&&!(y<n[T+1]);T++);const b=Cu(n[T],n[T+1],y);return m[T](b)};return e?y=>g(Ki(n[0],n[u-1],y)):g}function o4(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const o=Cu(0,t,r);n.push(ce(e,1,o))}}function l4(n){const t=[0];return o4(t,n.length-1),t}function u4(n,t){return n.map(e=>e*t)}function c4(n,t){return n.map(()=>t||Y1).splice(0,n.length-1)}function gu({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=EO(r)?r.map(HE):HE(r),u={done:!1,value:t[0]},c=u4(e&&e.length===t.length?e:l4(t),n),m=a4(c,t,{ease:Array.isArray(o)?o:c4(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const h4=n=>n!==null;function Ay(n,{repeat:t,repeatType:e="loop"},r,o=1){const u=n.filter(h4),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const f4={decay:ng,inertia:ng,tween:gu,keyframes:gu,spring:_f};function ow(n){typeof n.type=="string"&&(n.type=f4[n.type])}class wy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const d4=n=>n/100;class xy extends wy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ow(t);const{type:e=gu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||gu;p!==gu&&typeof m[0]!="number"&&(this.mixKeyframes=Gu(d4,sw(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Sy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:b,repeatDelay:D,type:j,onUpdate:q,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const K=this.currentTime-g*(this.playbackSpeed>=0?1:-1),J=this.playbackSpeed>=0?K<0:K>o;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let B=this.currentTime,it=r;if(T){const w=Math.min(this.currentTime,o)/m;let x=Math.floor(w),I=w%1;!I&&w>=1&&(I=1),I===1&&x--,x=Math.min(x,T+1),!!(x%2)&&(b==="reverse"?(I=1-I,D&&(I-=D/m)):b==="mirror"&&(it=c)),B=Ki(0,1,I)*m}const st=J?{done:!1,value:y[0]}:it.next(B);u&&(st.value=u(st.value));let{done:ot}=st;!J&&p!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return R&&j!==ng&&(st.value=Ay(y,this.options,L,this.speed)),q&&q(st.value),R&&this.finish(),st}then(t,e){return this.finished.then(t,e)}get duration(){return Qn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(this.currentTime)}set time(t){t=ms(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Qn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=$O,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function m4(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const da=n=>n*180/Math.PI,ig=n=>{const t=da(Math.atan2(n[1],n[0]));return sg(t)},p4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:ig,rotateZ:ig,skewX:n=>da(Math.atan(n[1])),skewY:n=>da(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},sg=n=>(n=n%360,n<0&&(n+=360),n),$E=ig,WE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),JE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),g4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WE,scaleY:JE,scale:n=>(WE(n)+JE(n))/2,rotateX:n=>sg(da(Math.atan2(n[6],n[5]))),rotateY:n=>sg(da(Math.atan2(-n[2],n[0]))),rotateZ:$E,rotate:$E,skewX:n=>da(Math.atan(n[4])),skewY:n=>da(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function rg(n){return n.includes("scale")?1:0}function ag(n,t){if(!n||n==="none")return rg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=g4,o=e;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=p4,o=m}if(!o)return rg(t);const u=r[t],c=o[1].split(",").map(v4);return typeof u=="function"?u(c):c[u]}const y4=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return ag(e,t)};function v4(n){return parseFloat(n.trim())}const Yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qo=new Set(Yo),ZE=n=>n===Ko||n===ft,_4=new Set(["x","y","z"]),T4=Yo.filter(n=>!_4.has(n));function E4(n){const t=[];return T4.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const cr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>ag(t,"x"),y:(n,{transform:t})=>ag(t,"y")};cr.translateX=cr.x;cr.translateY=cr.y;const pa=new Set;let og=!1,lg=!1,ug=!1;function lw(){if(lg){const n=Array.from(pa).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=E4(r);o.length&&(e.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lg=!1,og=!1,pa.forEach(n=>n.complete(ug)),pa.clear()}function uw(){pa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(lg=!0)})}function b4(){ug=!0,uw(),lw(),ug=!1}class Ry{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(pa.add(this),og||(og=!0,ae.read(uw),ae.resolveKeyframes(lw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}m4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pa.delete(this)}cancel(){this.state==="scheduled"&&(pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const S4=n=>n.startsWith("--");function A4(n,t,e){S4(t)?n.style.setProperty(t,e):n.style[t]=e}const w4=py(()=>window.ScrollTimeline!==void 0),x4={};function R4(n,t){const e=py(n);return()=>x4[t]??e()}const cw=R4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ou=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,tb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ou([0,.65,.55,1]),circOut:ou([.55,0,1,.45]),backIn:ou([.31,.01,.66,-.59]),backOut:ou([.33,1.53,.69,.99])};function hw(n,t){if(n)return typeof n=="function"?cw()?rw(n,t):"ease-out":Q1(n)?ou(n):Array.isArray(n)?n.map(e=>hw(e,t)||tb.easeOut):tb[n]}function C4(n,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const y={[t]:e};p&&(y.offset=p);const T=hw(m,o);Array.isArray(T)&&(y.easing=T);const b={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),n.animate(y,b)}function fw(n){return typeof n=="function"&&"applyToOptions"in n}function I4({type:n,...t}){return fw(n)&&cw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class D4 extends wy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,my(typeof t.type!="string");const g=I4(t);this.animation=C4(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Ay(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(y):A4(e,r,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Qn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ms(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&w4()?(this.animation.timeline=t,Xn):e(this)}}const dw={anticipate:q1,backInOut:H1,circInOut:K1};function N4(n){return n in dw}function V4(n){typeof n.ease=="string"&&N4(n.ease)&&(n.ease=dw[n.ease])}const yp=10;class M4 extends D4{constructor(t){V4(t),ow(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new xy({...c,autoplay:!1}),p=Math.max(yp,hn.now()-this.startTime),g=Ki(0,yp,p-yp);e.setWithVelocity(m.sample(Math.max(0,p-g)).value,m.sample(p).value,g),m.stop()}}const eb=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Rr.test(n)||n==="0")&&!n.startsWith("url("));function O4(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function P4(n,t,e,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=eb(o,t),m=eb(u,t);return!c||!m?!1:O4(n)||(e==="spring"||fw(e))&&r}function cg(n){n.duration=0,n.type="keyframes"}const k4=new Set(["opacity","clipPath","filter","transform"]),L4=py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U4(n){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return L4()&&e&&k4.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const j4=40;class B4 extends wy{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hn.now();const b={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:y,...T},D=y?.KeyframeResolver||Ry;this.keyframeResolver=new D(m,(j,q,L)=>this.onKeyframesResolved(j,q,b,!L),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:y}=r;this.resolvedAt=hn.now(),P4(t,u,c,m)||((Ts.instantAnimations||!p)&&y?.(Ay(t,r,e)),t[0]=t[t.length-1],cg(r),r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>j4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},D=!g&&U4(b),j=b.motionValue?.owner?.current,q=D?new M4({...b,element:j}):new xy(b);q.finished.then(()=>{this.notifyFinished()}).catch(Xn),this.pendingTimeline&&(this.stopTimeline=q.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=q}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),b4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function mw(n,t,e,r=0,o=1){const u=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=n.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}const z4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function F4(n){const t=z4.exec(n);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function pw(n,t,e=1){const[r,o]=F4(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return P1(c)?parseFloat(c):c}return _y(o)?pw(o,t,e+1):o}const H4={type:"spring",stiffness:500,damping:25,restSpeed:10},q4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),G4={type:"keyframes",duration:.8},K4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y4=(n,{keyframes:t})=>t.length>2?G4:Qo.has(n)?n.startsWith("scale")?q4(t[1]):H4:K4,Q4=n=>n!==null;function X4(n,{repeat:t,repeatType:e="loop"},r){const o=n.filter(Q4),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}function Cy(n,t){return n?.[t]??n?.default??n}function $4({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Iy=(n,t,e,r={},o,u)=>c=>{const m=Cy(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ms(p);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:b=>{t.set(b),m.onUpdate&&m.onUpdate(b)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};$4(m)||Object.assign(y,Y4(n,y)),y.duration&&(y.duration=ms(y.duration)),y.repeatDelay&&(y.repeatDelay=ms(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(cg(y),y.delay===0&&(T=!0)),(Ts.instantAnimations||Ts.skipAnimations)&&(T=!0,cg(y),y.delay=0),y.allowFlatten=!m.type&&!m.ease,T&&!u&&t.get()!==void 0){const b=X4(y.keyframes,m);if(b!==void 0){ae.update(()=>{y.onUpdate(b),y.onComplete()});return}}return m.isSync?new xy(y):new B4(y)};function nb(n){const t=[{},{}];return n?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Dy(n,t,e,r){if(typeof t=="function"){const[o,u]=nb(r);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=nb(r);t=t(e!==void 0?e:n.custom,o,u)}return t}function Io(n,t,e){const r=n.getProps();return Dy(r,t,e!==void 0?e:r.custom,n)}const gw=new Set(["width","height","top","left","right","bottom",...Yo]),ib=30,W4=n=>!isNaN(parseFloat(n));class J4{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=hn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=W4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new gy);const r=this.events[t].add(e);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ib)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,ib);return U1(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uo(n,t){return new J4(n,t)}const hg=n=>Array.isArray(n);function Z4(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Uo(e))}function tP(n){return hg(n)?n[n.length-1]||0:n}function eP(n,t){const e=Io(n,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=tP(u[c]);Z4(n,c,m)}}const an=n=>!!(n&&n.getVelocity);function nP(n){return!!(an(n)&&n.add)}function fg(n,t){const e=n.getValue("willChange");if(nP(e))return e.add(t);if(!e&&Ts.WillChange){const r=new Ts.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function Ny(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const iP="framerAppearId",yw="data-"+Ny(iP);function vw(n){return n.props[yw]}function sP({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function _w(n,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const y in m){const T=n.getValue(y,n.latestValues[y]??null),b=m[y];if(b===void 0||g&&sP(g,y))continue;const D={delay:e,...Cy(u||{},y)},j=T.get();if(j!==void 0&&!T.isAnimating&&!Array.isArray(b)&&b===j&&!D.velocity)continue;let q=!1;if(window.MotionHandoffAnimation){const K=vw(n);if(K){const J=window.MotionHandoffAnimation(K,y,ae);J!==null&&(D.startTime=J,q=!0)}}fg(n,y),T.start(Iy(y,T,b,n.shouldReduceMotion&&gw.has(y)?{type:!1}:D,n,q));const L=T.animation;L&&p.push(L)}return c&&Promise.all(p).then(()=>{ae.update(()=>{c&&eP(n,c)})}),p}function dg(n,t,e={}){const r=Io(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(_w(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=o;return rP(n,t,p,g,y,T,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function rP(n,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(dg(p,t,{...c,delay:e+(typeof r=="function"?0:r)+mw(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function aP(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>dg(n,u,e));r=Promise.all(o)}else if(typeof t=="string")r=dg(n,t,e);else{const o=typeof t=="function"?Io(n,t,e.custom):t;r=Promise.all(_w(n,o,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}const oP={test:n=>n==="auto",parse:n=>n},Tw=n=>t=>t.test(n),Ew=[Ko,ft,Hi,nr,OO,MO,oP],sb=n=>Ew.find(Tw(n));function lP(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||L1(n):!0}const uP=new Set(["brightness","contrast","saturate","opacity"]);function cP(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(Ty)||[];if(!r)return n;const o=e.replace(r,"");let u=uP.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const hP=/\b([a-z-]*)\(.*?\)/gu,mg={...Rr,getAnimatableNone:n=>{const t=n.match(hP);return t?t.map(cP).join(" "):n}},rb={...Ko,transform:Math.round},fP={rotate:nr,rotateX:nr,rotateY:nr,rotateZ:nr,scale:Nh,scaleX:Nh,scaleY:Nh,scaleZ:Nh,skew:nr,skewX:nr,skewY:nr,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:Iu,originX:GE,originY:GE,originZ:ft},Vy={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,top:ft,right:ft,bottom:ft,left:ft,inset:ft,insetBlock:ft,insetBlockStart:ft,insetBlockEnd:ft,insetInline:ft,insetInlineStart:ft,insetInlineEnd:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,paddingBlock:ft,paddingBlockStart:ft,paddingBlockEnd:ft,paddingInline:ft,paddingInlineStart:ft,paddingInlineEnd:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,marginBlock:ft,marginBlockStart:ft,marginBlockEnd:ft,marginInline:ft,marginInlineStart:ft,marginInlineEnd:ft,backgroundPositionX:ft,backgroundPositionY:ft,...fP,zIndex:rb,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:rb},dP={...Vy,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:mg,WebkitFilter:mg},bw=n=>dP[n];function Sw(n,t){let e=bw(n);return e!==mg&&(e=Rr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const mP=new Set(["auto","none","0"]);function pP(n,t,e){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!mP.has(u)&&Du(u).values.length&&(o=n[r]),r++}if(o&&e)for(const u of t)n[u]=Sw(e,o)}class gP extends Ry{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let T=t[y];if(typeof T=="string"&&(T=T.trim(),_y(T))){const b=pw(T,e.current);b!==void 0&&(t[y]=b),y===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!gw.has(r)||t.length!==2)return;const[o,u]=t,c=sb(o),m=sb(u),p=qE(o),g=qE(u);if(p!==g&&cr[r]){this.needsMeasurement=!0;return}if(c!==m)if(ZE(c)&&ZE(m))for(let y=0;y<t.length;y++){const T=t[y];typeof T=="string"&&(t[y]=parseFloat(T))}else cr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||lP(t[o]))&&r.push(o);r.length&&pP(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=cr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function yP(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=e?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Aw=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function ww(n){return k1(n)&&"offsetHeight"in n}const{schedule:My}=X1(queueMicrotask,!1),ui={x:!1,y:!1};function xw(){return ui.x||ui.y}function vP(n){return n==="x"||n==="y"?ui[n]?null:(ui[n]=!0,()=>{ui[n]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function Rw(n,t){const e=yP(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function ab(n){return!(n.pointerType==="touch"||xw())}function _P(n,t,e={}){const[r,o,u]=Rw(n,e),c=m=>{if(!ab(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const y=T=>{ab(T)&&(g(T),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const Cw=(n,t)=>t?n===t?!0:Cw(n,t.parentElement):!1,Oy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,TP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Iw(n){return TP.has(n.tagName)||n.isContentEditable===!0}const Kh=new WeakSet;function ob(n){return t=>{t.key==="Enter"&&n(t)}}function vp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const EP=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=ob(()=>{if(Kh.has(e))return;vp(e,"down");const o=ob(()=>{vp(e,"up")}),u=()=>vp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function lb(n){return Oy(n)&&!xw()}function bP(n,t,e={}){const[r,o,u]=Rw(n,e),c=m=>{const p=m.currentTarget;if(!lb(m))return;Kh.add(p);const g=t(p,m),y=(D,j)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",b),Kh.has(p)&&Kh.delete(p),lb(D)&&typeof g=="function"&&g(D,{success:j})},T=D=>{y(D,p===window||p===document||e.useGlobalTarget||Cw(p,D.target))},b=D=>{y(D,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",b,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),ww(m)&&(m.addEventListener("focus",g=>EP(g,o)),!Iw(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Dw(n){return k1(n)&&"ownerSVGElement"in n}function SP(n){return Dw(n)&&n.tagName==="svg"}const AP=[...Ew,Ve,Rr],wP=n=>AP.find(Tw(n)),ub=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:ub(),y:ub()}),cb=()=>({min:0,max:0}),Ue=()=>({x:cb(),y:cb()}),pg={current:null},Nw={current:!1},xP=typeof window<"u";function RP(){if(Nw.current=!0,!!xP)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>pg.current=n.matches;n.addEventListener("change",t),t()}else pg.current=!1}const CP=new WeakMap;function Yf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Nu(n){return typeof n=="string"||Array.isArray(n)}const Py=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ky=["initial",...Py];function Qf(n){return Yf(n.animate)||ky.some(t=>Nu(n[t]))}function Vw(n){return!!(Qf(n)||n.variants)}function IP(n,t,e){for(const r in t){const o=t[r],u=e[r];if(an(o))n.addValue(r,o);else if(an(u))n.addValue(r,Uo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Uo(c!==void 0?c:o,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const hb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Tf={};function Mw(n){Tf=n}function DP(){return Tf}class NP{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ry,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=hn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Qf(e),this.isVariantNode=Vw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in T){const D=T[b];p[b]!==void 0&&an(D)&&D.set(p[b])}}mount(t){this.current=t,CP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Nw.current||RP(),this.shouldReduceMotion=pg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Qo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Tf){const e=Tf[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<hb.length;r++){const o=hb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=IP(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Uo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(P1(r)||L1(r))?r=parseFloat(r):!wP(r)&&Rr.test(e)&&(r=Sw(t,e)),this.setBaseTarget(t,an(r)?r.get():r)),an(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Dy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!an(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new gy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){My.render(this.render)}}class Ow extends NP{constructor(){super(...arguments),this.KeyframeResolver=gP}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const r=t.style;return r?r[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Dr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Pw({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function VP({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function MP(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function _p(n){return n===void 0||n===1}function gg({scale:n,scaleX:t,scaleY:e}){return!_p(n)||!_p(t)||!_p(e)}function ca(n){return gg(n)||kw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function kw(n){return fb(n.x)||fb(n.y)}function fb(n){return n&&n!=="0%"}function Ef(n,t,e){const r=n-e,o=t*r;return e+o}function db(n,t,e,r,o){return o!==void 0&&(n=Ef(n,o,r)),Ef(n,e,r)+t}function yg(n,t=0,e=1,r,o){n.min=db(n.min,t,e,r,o),n.max=db(n.max,t,e,r,o)}function Lw(n,{x:t,y:e}){yg(n.x,t.translate,t.scale,t.originPoint),yg(n.y,e.translate,e.scale,e.originPoint)}const mb=.999999999999,pb=1.0000000000001;function OP(n,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Lw(n,c)),r&&ca(u.latestValues)&&bo(n,u.latestValues))}t.x<pb&&t.x>mb&&(t.x=1),t.y<pb&&t.y>mb&&(t.y=1)}function Eo(n,t){n.min=n.min+t,n.max=n.max+t}function gb(n,t,e,r,o=.5){const u=ce(n.min,n.max,o);yg(n,t,e,u,r)}function bo(n,t){gb(n.x,t.x,t.scaleX,t.scale,t.originX),gb(n.y,t.y,t.scaleY,t.scale,t.originY)}function Uw(n,t){return Pw(MP(n.getBoundingClientRect(),t))}function PP(n,t,e){const r=Uw(n,e),{scroll:o}=t;return o&&(Eo(r.x,o.offset.x),Eo(r.y,o.offset.y)),r}const kP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LP=Yo.length;function UP(n,t,e){let r="",o=!0;for(let u=0;u<LP;u++){const c=Yo[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=Aw(m,Vy[c]);if(!p){o=!1;const y=kP[c]||c;r+=`${y}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Ly(n,t,e){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(Qo.has(p)){c=!0;continue}else if(W1(p)){o[p]=g;continue}else{const y=Aw(g,Vy[p]);p.startsWith("origin")?(m=!0,u[p]=y):r[p]=y}}if(t.transform||(c||e?r.transform=UP(t,n.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;r.transformOrigin=`${p} ${g} ${y}`}}function jw(n,{style:t,vars:e},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function yb(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const nu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(ft.test(n))n=parseFloat(n);else return n;const e=yb(n,t.target.x),r=yb(n,t.target.y);return`${e}% ${r}%`}},jP={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,o=Rr.parse(n);if(o.length>5)return r;const u=Rr.createTransformer(n),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ce(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},vg={borderRadius:{...nu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nu,borderTopRightRadius:nu,borderBottomLeftRadius:nu,borderBottomRightRadius:nu,boxShadow:jP};function Bw(n,{layout:t,layoutId:e}){return Qo.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!vg[n]||n==="opacity")}function Uy(n,t,e){const r=n.style,o=t?.style,u={};if(!r)return u;for(const c in r)(an(r[c])||o&&an(o[c])||Bw(c,n)||e?.getValue(c)?.liveStyle!==void 0)&&(u[c]=r[c]);return u}function BP(n){return window.getComputedStyle(n)}class zP extends Ow{constructor(){super(...arguments),this.type="html",this.renderInstance=jw}readValueFromInstance(t,e){if(Qo.has(e))return this.projection?.isProjecting?rg(e):y4(t,e);{const r=BP(t),o=(W1(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Uw(t,e)}build(t,e,r){Ly(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Uy(t,e,r)}}const FP={offset:"stroke-dashoffset",array:"stroke-dasharray"},HP={offset:"strokeDashoffset",array:"strokeDasharray"};function qP(n,t,e=1,r=0,o=!0){n.pathLength=1;const u=o?FP:HP;n[u.offset]=ft.transform(-r);const c=ft.transform(t),m=ft.transform(e);n[u.array]=`${c} ${m}`}const GP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function zw(n,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,y){if(Ly(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:b}=n;T.transform&&(b.transform=T.transform,delete T.transform),(b.transform||T.transformOrigin)&&(b.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete T.transformBox);for(const D of GP)T[D]!==void 0&&(b[D]=T[D],delete T[D]);t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),r!==void 0&&(T.scale=r),o!==void 0&&qP(T,o,u,c,!1)}const Fw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Hw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function KP(n,t,e,r){jw(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(Fw.has(o)?o:Ny(o),t.attrs[o])}function qw(n,t,e){const r=Uy(n,t,e);for(const o in n)if(an(n[o])||an(t[o])){const u=Yo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}class YP extends Ow{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Qo.has(e)){const r=bw(e);return r&&r.default||0}return e=Fw.has(e)?e:Ny(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return qw(t,e,r)}build(t,e,r){zw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){KP(t,e,r,o)}mount(t){this.isSVGTag=Hw(t.tagName),super.mount(t)}}const QP=ky.length;function Gw(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?Gw(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<QP;e++){const r=ky[e],o=n.props[r];(Nu(o)||o===!1)&&(t[r]=o)}return t}function Kw(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const XP=[...Py].reverse(),$P=Py.length;function WP(n){return t=>Promise.all(t.map(({animation:e,options:r})=>aP(n,e,r)))}function JP(n){let t=WP(n),e=vb(),r=!0;const o=p=>(g,y)=>{const T=Io(n,y,p==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:b,transitionEnd:D,...j}=T;g={...g,...j,...D}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,y=Gw(n.parent)||{},T=[],b=new Set;let D={},j=1/0;for(let L=0;L<$P;L++){const K=XP[L],J=e[K],B=g[K]!==void 0?g[K]:y[K],it=Nu(B),st=K===p?J.isActive:null;st===!1&&(j=L);let ot=B===y[K]&&B!==g[K]&&it;if(ot&&r&&n.manuallyAnimateOnMount&&(ot=!1),J.protectedKeys={...D},!J.isActive&&st===null||!B&&!J.prevProp||Yf(B)||typeof B=="boolean")continue;const R=ZP(J.prevProp,B);let w=R||K===p&&J.isActive&&!ot&&it||L>j&&it,x=!1;const I=Array.isArray(B)?B:[B];let V=I.reduce(o(K),{});st===!1&&(V={});const{prevResolvedValues:k={}}=J,N={...k,...V},qt=rt=>{w=!0,b.has(rt)&&(x=!0,b.delete(rt)),J.needsAnimating[rt]=!0;const dt=n.getValue(rt);dt&&(dt.liveStyle=!1)};for(const rt in N){const dt=V[rt],Ct=k[rt];if(D.hasOwnProperty(rt))continue;let Mt=!1;hg(dt)&&hg(Ct)?Mt=!Kw(dt,Ct):Mt=dt!==Ct,Mt?dt!=null?qt(rt):b.add(rt):dt!==void 0&&b.has(rt)?qt(rt):J.protectedKeys[rt]=!0}J.prevProp=B,J.prevResolvedValues=V,J.isActive&&(D={...D,...V}),r&&n.blockInitialAnimation&&(w=!1);const fe=ot&&R;w&&(!fe||x)&&T.push(...I.map(rt=>{const dt={type:K};if(typeof rt=="string"&&r&&!fe&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ct}=n,Mt=Io(Ct,rt);if(Ct.enteringChildren&&Mt){const{delayChildren:P}=Mt.transition||{};dt.delay=mw(Ct.enteringChildren,n,P)}}return{animation:rt,options:dt}}))}if(b.size){const L={};if(typeof g.initial!="boolean"){const K=Io(n,Array.isArray(g.initial)?g.initial[0]:g.initial);K&&K.transition&&(L.transition=K.transition)}b.forEach(K=>{const J=n.getBaseTarget(K),B=n.getValue(K);B&&(B.liveStyle=!0),L[K]=J??null}),T.push({animation:L})}let q=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(q=!1),r=!1,q?t(T):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const y=c(p);for(const T in e)e[T].protectedKeys={};return y}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=vb()}}}function ZP(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Kw(t,n):!1}function la(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vb(){return{animate:la(!0),whileInView:la(),whileHover:la(),whileTap:la(),whileDrag:la(),whileFocus:la(),exit:la()}}function _b(n,t){n.min=t.min,n.max=t.max}function li(n,t){_b(n.x,t.x),_b(n.y,t.y)}function Tb(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const Yw=1e-4,tk=1-Yw,ek=1+Yw,Qw=.01,nk=0-Qw,ik=0+Qw;function fn(n){return n.max-n.min}function sk(n,t,e){return Math.abs(n-t)<=e}function Eb(n,t,e,r=.5){n.origin=r,n.originPoint=ce(t.min,t.max,n.origin),n.scale=fn(e)/fn(t),n.translate=ce(e.min,e.max,n.origin)-n.originPoint,(n.scale>=tk&&n.scale<=ek||isNaN(n.scale))&&(n.scale=1),(n.translate>=nk&&n.translate<=ik||isNaN(n.translate))&&(n.translate=0)}function yu(n,t,e,r){Eb(n.x,t.x,e.x,r?r.originX:void 0),Eb(n.y,t.y,e.y,r?r.originY:void 0)}function bb(n,t,e){n.min=e.min+t.min,n.max=n.min+fn(t)}function rk(n,t,e){bb(n.x,t.x,e.x),bb(n.y,t.y,e.y)}function Sb(n,t,e){n.min=t.min-e.min,n.max=n.min+fn(t)}function bf(n,t,e){Sb(n.x,t.x,e.x),Sb(n.y,t.y,e.y)}function Ab(n,t,e,r,o){return n-=t,n=Ef(n,1/e,r),o!==void 0&&(n=Ef(n,1/o,r)),n}function ak(n,t=0,e=1,r=.5,o,u=n,c=n){if(Hi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ce(u.min,u.max,r);n===u&&(m-=t),n.min=Ab(n.min,t,e,m,o),n.max=Ab(n.max,t,e,m,o)}function wb(n,t,[e,r,o],u,c){ak(n,t[e],t[r],t[o],t.scale,u,c)}const ok=["x","scaleX","originX"],lk=["y","scaleY","originY"];function xb(n,t,e,r){wb(n.x,t,ok,e?e.x:void 0,r?r.x:void 0),wb(n.y,t,lk,e?e.y:void 0,r?r.y:void 0)}function Rb(n){return n.translate===0&&n.scale===1}function Xw(n){return Rb(n.x)&&Rb(n.y)}function Cb(n,t){return n.min===t.min&&n.max===t.max}function uk(n,t){return Cb(n.x,t.x)&&Cb(n.y,t.y)}function Ib(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function $w(n,t){return Ib(n.x,t.x)&&Ib(n.y,t.y)}function Db(n){return fn(n.x)/fn(n.y)}function Nb(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Kn(n){return[n("x"),n("y")]}function ck(n,t,e){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:b,skewX:D,skewY:j}=e;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),T&&(r+=`rotateX(${T}deg) `),b&&(r+=`rotateY(${b}deg) `),D&&(r+=`skewX(${D}deg) `),j&&(r+=`skewY(${j}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const Ww=["TopLeft","TopRight","BottomLeft","BottomRight"],hk=Ww.length,Vb=n=>typeof n=="string"?parseFloat(n):n,Mb=n=>typeof n=="number"||ft.test(n);function fk(n,t,e,r,o,u){o?(n.opacity=ce(0,e.opacity??1,dk(r)),n.opacityExit=ce(t.opacity??1,0,mk(r))):u&&(n.opacity=ce(t.opacity??1,e.opacity??1,r));for(let c=0;c<hk;c++){const m=`border${Ww[c]}Radius`;let p=Ob(t,m),g=Ob(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Mb(p)===Mb(g)?(n[m]=Math.max(ce(Vb(p),Vb(g),r),0),(Hi.test(g)||Hi.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||e.rotate)&&(n.rotate=ce(t.rotate||0,e.rotate||0,r))}function Ob(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const dk=Jw(0,.5,G1),mk=Jw(.5,.95,Xn);function Jw(n,t,e){return r=>r<n?0:r>t?1:e(Cu(n,t,r))}function pk(n,t,e){const r=an(n)?n:Uo(n);return r.start(Iy("",r,t,e)),r.animation}function Vu(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}const gk=(n,t)=>n.depth-t.depth;class yk{constructor(){this.children=[],this.isDirty=!1}add(t){fy(this.children,t),this.isDirty=!0}remove(t){dy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gk),this.isDirty=!1,this.children.forEach(t)}}function vk(n,t){const e=hn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(xr(r),n(u-t))};return ae.setup(r,!0),()=>xr(r)}function Yh(n){return an(n)?n.get():n}class _k{constructor(){this.members=[]}add(t){fy(this.members,t),t.scheduleRender()}remove(t){if(dy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Tp=["","X","Y","Z"],Tk=1e3;let Ek=0;function Ep(n,t,e,r){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function Zw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=vw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ae,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Zw(r)}function tx({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=Ek++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ak),this.nodes.forEach(Ck),this.nodes.forEach(Ik),this.nodes.forEach(wk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new yk)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Dw(c)&&!SP(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let y,T=0;const b=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{T=window.innerWidth}),n(c,()=>{const D=window.innerWidth;D!==T&&(T=D,this.root.updateBlockedByResize=!0,y&&y(),y=vk(b,250),Qh.hasAnimatedSinceResize&&(Qh.hasAnimatedSinceResize=!1,this.nodes.forEach(Lb)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:b,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||Ok,{onLayoutAnimationStart:q,onLayoutAnimationComplete:L}=g.getProps(),K=!this.targetLayout||!$w(this.targetLayout,D),J=!T&&b;if(this.options.layoutRoot||this.resumeFrom||J||T&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Cy(j,"layout"),onPlay:q,onComplete:L};(g.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(y,J)}else T||Lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Dk),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Rk),this.nodes.forEach(bk),this.nodes.forEach(Sk)):this.nodes.forEach(kb),this.clearAllSnapshots();const m=hn.now();We.delta=Ki(0,1e3/60,m-We.timestamp),We.timestamp=m,We.isProcessing=!0,fp.update.process(We),fp.preRender.process(We),fp.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,My.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xk),this.sharedNodes.forEach(Nk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Xw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||ca(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),Pk(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ue();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(kk))){const{scroll:g}=this.root;g&&(Eo(m.x,g.offset.x),Eo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Ue();if(li(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&li(m,c),Eo(m.x,y.offset.x),Eo(m.y,y.offset.y))}return m}applyTransform(c,m=!1){const p=Ue();li(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&bo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ca(y.latestValues)&&bo(p,y.latestValues)}return ca(this.latestValues)&&bo(p,this.latestValues),p}removeTransform(c){const m=Ue();li(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ca(g.latestValues))continue;gg(g.latestValues)&&g.updateSnapshot();const y=Ue(),T=g.measurePageBox();li(y,T),xb(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ca(this.latestValues)&&xb(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=We.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),Lw(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||gg(this.parent.latestValues)||kw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),bf(this.relativeTargetOrigin,m,p),li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===We.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;li(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,b=this.treeScale.y;OP(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ue());const{target:D}=c;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Tb(this.prevProjectionDelta.x,this.projectionDelta.x),Tb(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==b||!Nb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Nb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},T=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=Ue(),D=p?p.source:void 0,j=this.layout?this.layout.source:void 0,q=D!==j,L=this.getStack(),K=!L||L.members.length<=1,J=!!(q&&!K&&this.options.crossfade===!0&&!this.path.some(Mk));this.animationProgress=0;let B;this.mixTargetDelta=it=>{const st=it/1e3;Ub(T.x,c.x,st),Ub(T.y,c.y,st),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bf(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vk(this.relativeTarget,this.relativeTargetOrigin,b,st),B&&uk(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Ue()),li(B,this.relativeTarget)),q&&(this.animationValues=y,fk(y,g,this.latestValues,st,J,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Qh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uo(0)),this.currentAnimation=pk(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:y}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&ex(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ue();const T=fn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const b=fn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+b}li(m,p),bo(m,y),yu(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new _k),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&Ep("z",c,g,this.animationValues);for(let y=0;y<Tp.length;y++)Ep(`rotate${Tp[y]}`,c,g,this.animationValues),Ep(`skew${Tp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Yh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Yh(m?.pointerEvents)||""),this.hasProjected&&!ca(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=ck(this.projectionDeltaWithTransform,this.treeScale,y);p&&(T=p(y,T)),c.transform=T;const{x:b,y:D}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${D.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in vg){if(y[j]===void 0)continue;const{correct:q,applyTo:L,isCSSVariable:K}=vg[j],J=T==="none"?y[j]:q(y[j],g);if(L){const B=L.length;for(let it=0;it<B;it++)c[L[it]]=J}else K?this.options.visualElement.renderState.vars[j]=J:c[j]=J}this.options.layoutId&&(c.pointerEvents=g===this?Yh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Pb),this.root.sharedNodes.clear()}}}function bk(n){n.updateLayout()}function Sk(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?Kn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],b=fn(T);T.min=e[y].min,T.max=T.min+b}):ex(o,t.layoutBox,e)&&Kn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],b=fn(e[y]);T.max=T.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+b)});const c=To();yu(c,e,t.layoutBox);const m=To();u?yu(m,n.applyTransform(r,!0),t.measuredBox):yu(m,e,t.layoutBox);const p=!Xw(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:b}=y;if(T&&b){const D=Ue();bf(D,t.layoutBox,T.layoutBox);const j=Ue();bf(j,e,b.layoutBox),$w(D,j)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=D,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function Ak(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function wk(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function xk(n){n.clearSnapshot()}function Pb(n){n.clearMeasurements()}function kb(n){n.isLayoutDirty=!1}function Rk(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function Lb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Ck(n){n.resolveTargetDelta()}function Ik(n){n.calcProjection()}function Dk(n){n.resetSkewAndRotation()}function Nk(n){n.removeLeadSnapshot()}function Ub(n,t,e){n.translate=ce(t.translate,0,e),n.scale=ce(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function jb(n,t,e,r){n.min=ce(t.min,e.min,r),n.max=ce(t.max,e.max,r)}function Vk(n,t,e,r){jb(n.x,t.x,e.x,r),jb(n.y,t.y,e.y,r)}function Mk(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Ok={duration:.45,ease:[.4,0,.1,1]},Bb=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),zb=Bb("applewebkit/")&&!Bb("chrome/")?Math.round:Xn;function Fb(n){n.min=zb(n.min),n.max=zb(n.max)}function Pk(n){Fb(n.x),Fb(n.y)}function ex(n,t,e){return n==="position"||n==="preserve-aspect"&&!sk(Db(t),Db(e),.2)}function kk(n){return n!==n.root&&n.scroll?.wasRoot}const Lk=tx({attachResizeListener:(n,t)=>Vu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bp={current:void 0},nx=tx({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!bp.current){const n=new Lk({});n.mount(window),n.setOptions({layoutScroll:!0}),bp.current=n}return bp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),jy=at.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Hb(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Uk(...n){return t=>{let e=!1;const r=n.map(o=>{const u=Hb(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():Hb(n[o],null)}}}}function jk(...n){return at.useCallback(Uk(...n),n)}class Bk extends at.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=ww(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zk({children:n,isPresent:t,anchorX:e,root:r}){const o=at.useId(),u=at.useRef(null),c=at.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=at.useContext(jy),p=n.props?.ref??n?.ref,g=jk(u,p);return at.useInsertionEffect(()=>{const{width:y,height:T,top:b,left:D,right:j}=c.current;if(t||!u.current||!y||!T)return;const q=e==="left"?`left: ${D}`:`right: ${j}`;u.current.dataset.motionPopId=o;const L=document.createElement("style");m&&(L.nonce=m);const K=r??document.head;return K.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${T}px !important;
            ${q}px !important;
            top: ${b}px !important;
          }
        `),()=>{K.contains(L)&&K.removeChild(L)}},[t]),C.jsx(Bk,{isPresent:t,childRef:u,sizeRef:c,children:at.cloneElement(n,{ref:g})})}const Fk=({children:n,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=hy(Hk),y=at.useId();let T=!0,b=at.useMemo(()=>(T=!1,{id:y,initial:t,isPresent:e,custom:o,onExitComplete:D=>{g.set(D,!0);for(const j of g.values())if(!j)return;r&&r()},register:D=>(g.set(D,!1),()=>g.delete(D))}),[e,g,r]);return u&&T&&(b={...b}),at.useMemo(()=>{g.forEach((D,j)=>g.set(j,!1))},[e]),at.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(n=C.jsx(zk,{isPresent:e,anchorX:m,root:p,children:n})),C.jsx(Kf.Provider,{value:b,children:n})};function Hk(){return new Map}function ix(n=!0){const t=at.useContext(Kf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=at.useId();at.useEffect(()=>{if(n)return o(u)},[n]);const c=at.useCallback(()=>n&&r&&r(u),[u,r,n]);return!e&&r?[!1,c]:[!0]}const Vh=n=>n.key||"";function qb(n){const t=[];return at.Children.forEach(n,e=>{at.isValidElement(e)&&t.push(e)}),t}const sx=({children:n,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,y]=ix(c),T=at.useMemo(()=>qb(n),[n]),b=c&&!g?[]:T.map(Vh),D=at.useRef(!0),j=at.useRef(T),q=hy(()=>new Map),L=at.useRef(new Set),[K,J]=at.useState(T),[B,it]=at.useState(T);O1(()=>{D.current=!1,j.current=T;for(let R=0;R<B.length;R++){const w=Vh(B[R]);b.includes(w)?(q.delete(w),L.current.delete(w)):q.get(w)!==!0&&q.set(w,!1)}},[B,b.length,b.join("-")]);const st=[];if(T!==K){let R=[...T];for(let w=0;w<B.length;w++){const x=B[w],I=Vh(x);b.includes(I)||(R.splice(w,0,x),st.push(x))}return u==="wait"&&st.length&&(R=st),it(qb(R)),J(T),null}const{forceRender:ot}=at.useContext(cy);return C.jsx(C.Fragment,{children:B.map(R=>{const w=Vh(R),x=c&&!g?!1:T===B||b.includes(w),I=()=>{if(L.current.has(w))return;if(L.current.add(w),q.has(w))q.set(w,!0);else return;let V=!0;q.forEach(k=>{k||(V=!1)}),V&&(ot?.(),it(j.current),c&&y?.(),r&&r())};return C.jsx(Fk,{isPresent:x,initial:!D.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:x?void 0:I,anchorX:m,children:R},w)})})},rx=at.createContext({strict:!1}),Gb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Kb=!1;function qk(){if(Kb)return;const n={};for(const t in Gb)n[t]={isEnabled:e=>Gb[t].some(r=>!!e[r])};Mw(n),Kb=!0}function ax(){return qk(),DP()}function Gk(n){const t=ax();for(const e in n)t[e]={...t[e],...n[e]};Mw(t)}const Kk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Kk.has(n)}let ox=n=>!Sf(n);function Yk(n){typeof n=="function"&&(ox=t=>t.startsWith("on")?!Sf(t):n(t))}try{Yk(require("@emotion/is-prop-valid").default)}catch{}function Qk(n,t,e){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(ox(o)||e===!0&&Sf(o)||!t&&!Sf(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Xf=at.createContext({});function Xk(n,t){if(Qf(n)){const{initial:e,animate:r}=n;return{initial:e===!1||Nu(e)?e:void 0,animate:Nu(r)?r:void 0}}return n.inherit!==!1?t:{}}function $k(n){const{initial:t,animate:e}=Xk(n,at.useContext(Xf));return at.useMemo(()=>({initial:t,animate:e}),[Yb(t),Yb(e)])}function Yb(n){return Array.isArray(n)?n.join(" "):n}const By=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lx(n,t,e){for(const r in t)!an(t[r])&&!Bw(r,e)&&(n[r]=t[r])}function Wk({transformTemplate:n},t){return at.useMemo(()=>{const e=By();return Ly(e,t,n),Object.assign({},e.vars,e.style)},[t])}function Jk(n,t){const e=n.style||{},r={};return lx(r,e,n),Object.assign(r,Wk(n,t)),r}function Zk(n,t){const e={},r=Jk(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const ux=()=>({...By(),attrs:{}});function t3(n,t,e,r){const o=at.useMemo(()=>{const u=ux();return zw(u,t,Hw(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};lx(u,n.style,n),o.style={...u,...o.style}}return o}const e3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zy(n){return typeof n!="string"||n.includes("-")?!1:!!(e3.indexOf(n)>-1||/[A-Z]/u.test(n))}function n3(n,t,e,{latestValues:r},o,u=!1,c){const p=(c??zy(n)?t3:Zk)(t,r,o,n),g=Qk(t,typeof n=="string",u),y=n!==at.Fragment?{...g,...p,ref:e}:{},{children:T}=t,b=at.useMemo(()=>an(T)?T.get():T,[T]);return at.createElement(n,{...y,children:b})}function i3({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,o){return{latestValues:s3(e,r,o,n),renderState:t()}}function s3(n,t,e,r){const o={},u=r(n,{});for(const b in u)o[b]=Yh(u[b]);let{initial:c,animate:m}=n;const p=Qf(n),g=Vw(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const T=y?m:c;if(T&&typeof T!="boolean"&&!Yf(T)){const b=Array.isArray(T)?T:[T];for(let D=0;D<b.length;D++){const j=Dy(n,b[D]);if(j){const{transitionEnd:q,transition:L,...K}=j;for(const J in K){let B=K[J];if(Array.isArray(B)){const it=y?B.length-1:0;B=B[it]}B!==null&&(o[J]=B)}for(const J in q)o[J]=q[J]}}}return o}const cx=n=>(t,e)=>{const r=at.useContext(Xf),o=at.useContext(Kf),u=()=>i3(n,t,r,o);return e?u():hy(u)},r3=cx({scrapeMotionValuesFromProps:Uy,createRenderState:By}),a3=cx({scrapeMotionValuesFromProps:qw,createRenderState:ux}),o3=Symbol.for("motionComponentSymbol");function l3(n,t,e){const r=at.useRef(e);at.useInsertionEffect(()=>{r.current=e});const o=at.useRef(null);return at.useCallback(u=>{u&&n.onMount?.(u),t&&(u?t.mount(u):t.unmount());const c=r.current;if(typeof c=="function")if(u){const m=c(u);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const hx=at.createContext({});function lu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function u3(n,t,e,r,o,u){const{visualElement:c}=at.useContext(Xf),m=at.useContext(rx),p=at.useContext(Kf),g=at.useContext(jy).reducedMotion,y=at.useRef(null);r=r||m.renderer,!y.current&&r&&(y.current=r(n,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:u}));const T=y.current,b=at.useContext(hx);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&c3(y.current,e,o,b);const D=at.useRef(!1);at.useInsertionEffect(()=>{T&&D.current&&T.update(e,p)});const j=e[yw],q=at.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return O1(()=>{T&&(D.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),q.current&&T.animationState&&T.animationState.animateChanges())}),at.useEffect(()=>{T&&(!q.current&&T.animationState&&T.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),q.current=!1),T.enteringChildren=void 0)}),T}function c3(n,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:fx(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&lu(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:p,layoutRoot:g})}function fx(n){if(n)return n.options.allowProjection!==!1?n.projection:fx(n.parent)}function Sp(n,{forwardMotionProps:t=!1,type:e}={},r,o){r&&Gk(r);const u=e?e==="svg":zy(n),c=u?a3:r3;function m(g,y){let T;const b={...at.useContext(jy),...g,layoutId:h3(g)},{isStatic:D}=b,j=$k(g),q=c(g,D);if(!D&&M1){f3();const L=d3(b);T=L.MeasureLayout,j.visualElement=u3(n,q,b,o,L.ProjectionNode,u)}return C.jsxs(Xf.Provider,{value:j,children:[T&&j.visualElement?C.jsx(T,{visualElement:j.visualElement,...b}):null,n3(n,g,l3(q,j.visualElement,y),q,D,t,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=at.forwardRef(m);return p[o3]=n,p}function h3({layoutId:n}){const t=at.useContext(cy).id;return t&&n!==void 0?t+"-"+n:n}function f3(n,t){at.useContext(rx).strict}function d3(n){const t=ax(),{drag:e,layout:r}=t;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e?.isEnabled(n)||r?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function m3(n,t){if(typeof Proxy>"u")return Sp;const e=new Map,r=(u,c)=>Sp(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,Sp(c,void 0,n,t)),e.get(c))})}const p3=(n,t)=>t.isSVG??zy(n)?new YP(t):new zP(t,{allowProjection:n!==at.Fragment});class g3 extends Dr{constructor(t){super(t),t.animationState||(t.animationState=JP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Yf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let y3=0;class v3 extends Dr{constructor(){super(...arguments),this.id=y3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _3={animation:{Feature:g3},exit:{Feature:v3}};function Qu(n){return{point:{x:n.pageX,y:n.pageY}}}const T3=n=>t=>Oy(t)&&n(t,Qu(t));function vu(n,t,e,r){return Vu(n,t,T3(e),r)}const dx=({current:n})=>n?n.ownerDocument.defaultView:null,Qb=(n,t)=>Math.abs(n-t);function E3(n,t){const e=Qb(n.x,t.x),r=Qb(n.y,t.y);return Math.sqrt(e**2+r**2)}const Xb=new Set(["auto","scroll"]);class mx{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=D=>{this.handleScroll(D.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=wp(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,q=E3(D.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!q)return;const{point:L}=D,{timestamp:K}=We;this.history.push({...L,timestamp:K});const{onStart:J,onMove:B}=this.handlers;j||(J&&J(this.lastMoveEvent,D),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,D)},this.handlePointerMove=(D,j)=>{this.lastMoveEvent=D,this.lastMoveEventInfo=Ap(j,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(D,j)=>{this.end();const{onEnd:q,onSessionEnd:L,resumeAnimation:K}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&K&&K(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const J=wp(D.type==="pointercancel"?this.lastMoveEventInfo:Ap(j,this.transformPagePoint),this.history);this.startEvent&&q&&q(D,J),L&&L(D,J)},!Oy(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=Qu(t),g=Ap(p,this.transformPagePoint),{point:y}=g,{timestamp:T}=We;this.history=[{...y,timestamp:T}];const{onSessionStart:b}=e;b&&b(t,wp(g,this.history)),this.removeListeners=Gu(vu(this.contextWindow,"pointermove",this.handlePointerMove),vu(this.contextWindow,"pointerup",this.handlePointerUp),vu(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let e=t.parentElement;for(;e;){const r=getComputedStyle(e);(Xb.has(r.overflowX)||Xb.has(r.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-e.x,y:o.y-e.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),ae.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),xr(this.updatePoint)}}function Ap(n,t){return t?{point:t(n.point)}:n}function $b(n,t){return{x:n.x-t.x,y:n.y-t.y}}function wp({point:n},t){return{point:n,delta:$b(n,px(t)),offset:$b(n,b3(t)),velocity:S3(t,.1)}}function b3(n){return n[0]}function px(n){return n[n.length-1]}function S3(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const o=px(n);for(;e>=0&&(r=n[e],!(o.timestamp-r.timestamp>ms(t)));)e--;if(!r)return{x:0,y:0};const u=Qn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function A3(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?ce(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?ce(e,n,r.max):Math.min(n,e)),n}function Wb(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function w3(n,{top:t,left:e,bottom:r,right:o}){return{x:Wb(n.x,e,o),y:Wb(n.y,t,r)}}function Jb(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function x3(n,t){return{x:Jb(n.x,t.x),y:Jb(n.y,t.y)}}function R3(n,t){let e=.5;const r=fn(n),o=fn(t);return o>r?e=Cu(t.min,t.max-r,n.min):r>o&&(e=Cu(n.min,n.max-o,t.min)),Ki(0,1,e)}function C3(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const _g=.35;function I3(n=_g){return n===!1?n=0:n===!0&&(n=_g),{x:Zb(n,"left","right"),y:Zb(n,"top","bottom")}}function Zb(n,t,e){return{min:tS(n,t),max:tS(n,e)}}function tS(n,t){return typeof n=="number"?n:n[t]||0}const D3=new WeakMap;class N3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{e?(this.stopAnimation(),this.snapToCursor(Qu(T).point)):this.pauseAnimation()},c=(T,b)=>{this.stopAnimation();const{drag:D,dragPropagation:j,onDragStart:q}=this.getProps();if(D&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vP(D),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(K=>{let J=this.getAxisMotionValue(K).get()||0;if(Hi.test(J)){const{projection:B}=this.visualElement;if(B&&B.layout){const it=B.layout.layoutBox[K];it&&(J=fn(it)*(parseFloat(J)/100))}}this.originPoint[K]=J}),q&&ae.postRender(()=>q(T,b)),fg(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},m=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b;const{dragPropagation:D,dragDirectionLock:j,onDirectionLock:q,onDrag:L}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:K}=b;if(j&&this.currentDirection===null){this.currentDirection=V3(K),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",b.point,K),this.updateAxis("y",b.point,K),this.visualElement.render(),L&&L(T,b)},p=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b,this.stop(T,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Kn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new mx(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:dx(this.visualElement),element:this.visualElement.current})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ae.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Mh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=A3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&lu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=w3(r.layoutBox,t):this.constraints=!1,this.elastic=I3(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=C3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!lu(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=PP(r,o.root,this.visualElement.getTransformPagePoint());let c=x3(o.layout.layoutBox,u);if(e){const m=e(VP(c));this.hasMutatedConstraints=!!m,m&&(c=Pw(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Kn(y=>{if(!Mh(y,e,this.currentDirection))return;let T=p&&p[y]||{};c&&(T={min:0,max:0});const b=o?200:1e6,D=o?40:1e7,j={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return fg(this.visualElement,t),r.start(Iy(t,r,0,e,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(e=>{const{drag:r}=this.getProps();if(!Mh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e],p=u.get()||0;u.set(t[e]-ce(c,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!lu(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Kn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=R3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!Mh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;D3.set(this.visualElement,this);const t=this.visualElement.current,e=vu(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&!Iw(p.target)&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();lu(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const c=Vu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Kn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=p[y].translate,T.set(T.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=_g,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Mh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function V3(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class M3 extends Dr{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new N3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const eS=n=>(t,e)=>{n&&ae.postRender(()=>n(t,e))};class O3 extends Dr{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new mx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:eS(t),onStart:eS(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ae.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let xp=!1;class P3 extends at.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),xp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,xp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),My.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;xp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function gx(n){const[t,e]=ix(),r=at.useContext(cy);return C.jsx(P3,{...n,layoutGroup:r,switchLayoutGroup:at.useContext(hx),isPresent:t,safeToRemove:e})}const k3={pan:{Feature:O3},drag:{Feature:M3,ProjectionNode:nx,MeasureLayout:gx}};function nS(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&ae.postRender(()=>u(t,Qu(t)))}class L3 extends Dr{mount(){const{current:t}=this.node;t&&(this.unmount=_P(t,(e,r)=>(nS(this.node,r,"Start"),o=>nS(this.node,o,"End"))))}unmount(){}}class U3 extends Dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(Vu(this.node.current,"focus",()=>this.onFocus()),Vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iS(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&ae.postRender(()=>u(t,Qu(t)))}class j3 extends Dr{mount(){const{current:t}=this.node;t&&(this.unmount=bP(t,(e,r)=>(iS(this.node,r,"Start"),(o,{success:u})=>iS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tg=new WeakMap,Rp=new WeakMap,B3=n=>{const t=Tg.get(n.target);t&&t(n)},z3=n=>{n.forEach(B3)};function F3({root:n,...t}){const e=n||document;Rp.has(e)||Rp.set(e,{});const r=Rp.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(z3,{root:n,...t})),r[o]}function H3(n,t,e){const r=F3(t);return Tg.set(n,e),r.observe(n),()=>{Tg.delete(n),r.unobserve(n)}}const q3={some:0,all:1};class G3 extends Dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:q3[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),b=g?y:T;b&&b(p)};return H3(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(K3(t,e))&&this.startObserver()}unmount(){}}function K3({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Y3={inView:{Feature:G3},tap:{Feature:j3},focus:{Feature:U3},hover:{Feature:L3}},Q3={layout:{ProjectionNode:nx,MeasureLayout:gx}},X3={..._3,...Y3,...k3,...Q3},Xh=m3(X3,p3),$3=({restaurants:n,onFinish:t})=>{const[e,r]=at.useState(0),[o,u]=at.useState({like:[],pass:[]}),c=n[e],m=p=>{const g=n[e];u(y=>({...y,[p]:[...y[p],g.id]})),e<n.length-1?r(e+1):t({like:[...o.like,p==="like"?g.id:null].filter(Boolean)})};return c?C.jsxs("div",{className:"relative w-full max-w-sm mx-auto h-[500px] flex flex-col items-center justify-center",children:[C.jsxs("div",{className:"absolute top-[-40px] flex justify-between w-full px-4 text-xs font-black uppercase tracking-widest text-gray-400",children:[C.jsx("span",{className:"text-red-500",children:" Swipe Left to Pass"}),C.jsx("span",{className:"text-green-500",children:"Swipe Right to Like "})]}),C.jsx(sx,{mode:"wait",children:C.jsxs(Xh.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(p,g)=>{g.offset.x>100?m("like"):g.offset.x<-100&&m("pass")},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{x:200,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"w-full h-full bg-white dark:bg-gray-800 rounded-3xl shadow-2xl relative overflow-hidden flex flex-col cursor-grab active:cursor-grabbing border border-gray-100 dark:border-gray-700",children:[C.jsxs("div",{className:"w-full h-2/3 bg-gray-200 dark:bg-gray-700 relative",children:[C.jsx("img",{src:c.photoUrl||`https://via.placeholder.com/400x600?text=${encodeURIComponent(c.name)}`,alt:c.name,className:"w-full h-full object-cover"}),C.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:C.jsxs("span",{className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full shadow-lg",children:[c.priceLevel||"$$","  ",c.rating," "]})})]}),C.jsxs("div",{className:"p-6 flex flex-col h-1/3 justify-between",children:[C.jsxs("div",{children:[C.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white truncate",children:c.name}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-1",children:c.address})]}),C.jsx("div",{className:"flex gap-4",children:C.jsxs("a",{href:c.mapsUrl||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${c.name}, ${c.address}`)}`,target:"_blank",rel:"noreferrer",className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 dark:text-gray-300 text-gray-700 text-center rounded-xl text-sm font-bold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",onClick:p=>p.stopPropagation(),children:[C.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"})}),"Google Maps"]})})]})]},c.id)}),C.jsxs("div",{className:"mt-12 flex gap-8",children:[C.jsx("button",{onClick:()=>m("pass"),className:"w-16 h-16 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg text-red-500 hover:scale-110 active:scale-95 transition-all border border-red-100 dark:border-red-900/30",children:C.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),C.jsx("button",{onClick:()=>m("like"),className:"w-16 h-16 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg text-green-500 hover:scale-110 active:scale-95 transition-all border border-green-100 dark:border-green-900/30",children:C.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),C.jsxs("p",{className:"mt-8 text-sm text-gray-500",children:[e+1," / ",n.length]})]}):C.jsx("div",{className:"text-center py-20 font-bold",children:"No restaurants to display"})},W3=({sessionId:n,restaurants:t,currentUser:e,sessionData:r,onFinish:o})=>{const[u,c]=at.useState([]),[m,p]=at.useState(0),[g,y]=at.useState(!1),[T,b]=at.useState([]),[D,j]=at.useState(null),[q,L]=at.useState(!1),K=5,J=60,B=320;at.useEffect(()=>{r.amidakuji?.initialRungs&&c([...r.amidakuji.initialRungs])},[r.amidakuji?.initialRungs]);const it=(x,I)=>{if(g||x>=K-1)return;const V={lane:x,y:Math.round(I/20)*20};u.some(k=>k.lane===V.lane&&k.y===V.y)||c(k=>[...k,V])},st=x=>{let I=x;const V=[{x:I*J+60,y:40}];return[...u].sort((N,qt)=>N.y-qt.y).forEach(N=>{N.lane===I?(V.push({x:I*J+60,y:N.y+40}),I++,V.push({x:I*J+60,y:N.y+40})):N.lane===I-1&&(V.push({x:I*J+60,y:N.y+40}),I--,V.push({x:I*J+60,y:N.y+40}))}),V.push({x:I*J+60,y:B+40}),{path:V,endLane:I}},ot=()=>{const{path:x,endLane:I}=st(m);b(x),y(!0);const k=(r.amidakuji?.results||[])[I],N=t.find(qt=>qt.id===k)||t[0];j(N),setTimeout(()=>{y(!1),L(!0),o(N)},x.length*500)},R=(r.amidakuji?.results||[]).map(x=>t.find(I=>I.id===x)||{name:"???"}),w=r.amidakuji?.ranking||[];return C.jsxs("div",{className:"flex flex-col items-center",children:[C.jsxs("div",{className:"mb-8 flex gap-4 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-2xl border border-gray-200 dark:border-gray-600",children:[C.jsx("p",{className:"text-sm font-bold text-gray-500 self-center px-2",children:"Your Starting Lane:"}),[...Array(K)].map((x,I)=>C.jsx("button",{onClick:()=>p(I),disabled:g,className:`w-10 h-10 rounded-xl border-2 font-black transition-all ${m===I?"bg-blue-600 border-blue-600 text-white shadow-lg scale-110":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-400 hover:border-blue-400"} ${g?"cursor-not-allowed opacity-50":""}`,children:I+1},I))]}),C.jsxs("div",{className:"relative bg-white dark:bg-gray-800 p-10 rounded-[2.5rem] shadow-2xl border-4 border-gray-100 dark:border-gray-700 overflow-visible",style:{width:(K-1)*J+120,height:B+100},onClick:x=>{if(g)return;const I=x.currentTarget.getBoundingClientRect(),V=x.clientX-I.left-40,k=x.clientY-I.top-40;if(k>10&&k<B-10){const N=Math.floor(V/J);N>=0&&N<K-1&&it(N,k)}},children:[[...Array(K)].map((x,I)=>C.jsx("div",{className:"absolute bg-gray-200 dark:bg-gray-700 w-1.5 rounded-full",style:{left:I*J+60,top:40,height:B}},I)),u.map((x,I)=>C.jsx(Xh.div,{initial:{scaleX:0},animate:{scaleX:1},className:"absolute h-1.5 bg-blue-500 rounded-full origin-left shadow-[0_0_8px_rgba(59,130,246,0.5)]",style:{left:x.lane*J+60,top:x.y+40,width:J}},I)),C.jsx("div",{className:"absolute bottom-[20px] left-[20px] right-[20px] flex justify-between pointer-events-none",children:R.map((x,I)=>C.jsxs("div",{className:"flex flex-col items-center w-[60px]",children:[C.jsx("div",{className:"w-8 h-8 bg-yellow-100 dark:bg-yellow-900/30 rounded-full mb-1 flex items-center justify-center",children:C.jsx("span",{className:"text-yellow-600 text-xs",children:""})}),C.jsx("span",{className:"text-[10px] font-black text-gray-500 dark:text-gray-400 truncate w-full text-center",children:x.name})]},I))}),C.jsx(sx,{children:g&&C.jsx(Xh.div,{className:"absolute w-6 h-6 bg-yellow-400 rounded-full shadow-[0_0_20px_rgba(250,204,21,1)] z-20 flex items-center justify-center border-2 border-white",initial:{x:T[0]?.x+20,y:T[0]?.y},animate:{x:T.map(x=>x.x+20),y:T.map(x=>x.y)},transition:{duration:T.length*.5,ease:"linear"},children:C.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-ping"})})})]}),C.jsxs("div",{className:"mt-12 flex gap-4",children:[C.jsxs("button",{disabled:g,onClick:()=>c([]),className:"px-6 py-4 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-bold rounded-2xl shadow-lg hover:bg-gray-300 transition-all flex items-center gap-2",children:[C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Reset"]}),C.jsx("button",{disabled:g,onClick:ot,className:"px-10 py-4 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 text-white font-black rounded-2xl shadow-xl hover:shadow-2xl hover:scale-105 active:scale-95 transition-all uppercase tracking-widest flex items-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:g?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-5 h-5 border-4 border-white border-t-transparent rounded-full animate-spin"}),"Tracing Path..."]}):"Start Battle! "})]}),q&&w.length>0&&C.jsxs(Xh.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md border-2 border-blue-200 dark:border-blue-800",children:[C.jsx("h3",{className:"text-xl font-bold mb-4 text-center text-gray-900 dark:text-white",children:" Restaurant Rankings"}),C.jsx("div",{className:"space-y-2",children:w.map((x,I)=>C.jsxs("div",{className:`flex justify-between items-center py-3 px-4 rounded-xl transition-all ${D?.id===x.id?"bg-yellow-100 dark:bg-yellow-900/30 border-2 border-yellow-400":"bg-gray-50 dark:bg-gray-700/50"}`,children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("span",{className:`text-2xl font-black ${I===0?"text-yellow-500":I===1?"text-gray-400":I===2?"text-orange-600":"text-gray-500"}`,children:["#",I+1]}),C.jsxs("div",{children:[C.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:x.name}),D?.id===x.id&&C.jsx("span",{className:"ml-2 text-xs bg-yellow-400 text-yellow-900 px-2 py-0.5 rounded-full font-bold",children:"YOUR PICK"})]})]}),C.jsxs("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-400",children:[x.votes," ",x.votes===1?"vote":"votes"]})]},x.id))})]})]})},J3=n=>new Promise(t=>{setTimeout(()=>{const e=[{id:"1",name:"Tasty Taiwan",rating:4.5,priceLevel:200,address:"Xinyi District, Taipei",cuisine:"Taiwanese",location:"Taipei - Xinyi District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Tasty+Taiwan+Xinyi+Taipei",photoUrl:"https://via.placeholder.com/400x300/FF6B6B/FFFFFF?text=Tasty+Taiwan"},{id:"3",name:"Gourmet House",rating:4.8,priceLevel:350,address:"Da-an District, Taipei",cuisine:"Western",location:"Taipei - Da-an District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Gourmet+House+Daan+Taipei",photoUrl:"https://via.placeholder.com/400x300/95E1D3/FFFFFF?text=Gourmet+House"},{id:"5",name:"Zen Garden",rating:4.6,priceLevel:250,address:"Zhongshan District, Taipei",cuisine:"Japanese",location:"Taipei - Zhongshan District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Zen+Garden+Zhongshan+Taipei",photoUrl:"https://via.placeholder.com/400x300/AA96DA/FFFFFF?text=Zen+Garden"},{id:"6",name:"Luxury Dine",rating:4.9,priceLevel:800,address:"Xinyi District, Taipei",cuisine:"Western",location:"Taipei - Xinyi District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Luxury+Dine+Xinyi+Taipei",photoUrl:"https://via.placeholder.com/400x300/FCBAD3/FFFFFF?text=Luxury+Dine"},{id:"8",name:"Noodle Paradise",rating:4.7,priceLevel:160,address:"Songshan District, Taipei",cuisine:"Chinese",location:"Taipei - Songshan District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Noodle+Paradise+Songshan+Taipei",photoUrl:"https://via.placeholder.com/400x300/A8D8EA/FFFFFF?text=Noodle+Paradise"},{id:"9",name:"Sushi Master",rating:4.5,priceLevel:400,address:"Xinyi District, Taipei",cuisine:"Japanese",location:"Taipei - Xinyi District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Sushi+Master+Xinyi+Taipei",photoUrl:"https://via.placeholder.com/400x300/FFAAA5/FFFFFF?text=Sushi+Master"},{id:"11",name:"Korean BBQ House",rating:4.6,priceLevel:300,address:"Da-an District, Taipei",cuisine:"Korean",location:"Taipei - Da-an District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Korean+BBQ+Daan+Taipei",photoUrl:"https://via.placeholder.com/400x300/C7CEEA/FFFFFF?text=Korean+BBQ"},{id:"12",name:"Italian Corner",rating:4.3,priceLevel:350,address:"Zhongshan District, Taipei",cuisine:"Italian",location:"Taipei - Zhongshan District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Italian+Corner+Zhongshan+Taipei",photoUrl:"https://via.placeholder.com/400x300/B5EAD7/FFFFFF?text=Italian+Corner"},{id:"20",name:"Banqiao Burgers",rating:4.2,priceLevel:250,address:"Banqiao District",cuisine:"Western",location:"New Taipei - Banqiao District ( - )",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=Banqiao"},{id:"2",name:"Malay Feast",rating:4.2,priceLevel:150,address:"Bukit Bintang, KL",cuisine:"Malay",location:"Kuala Lumpur - Bukit Bintang",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Malay+Feast+Bukit+Bintang",photoUrl:"https://via.placeholder.com/400x300/4ECDC4/FFFFFF?text=Malay+Feast"},{id:"10",name:"Thai Delight",rating:3.9,priceLevel:140,address:"Bukit Bintang, KL",cuisine:"Thai",location:"Kuala Lumpur - Bukit Bintang",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Thai+Delight+KL",photoUrl:"https://via.placeholder.com/400x300/FF8B94/FFFFFF?text=Thai+Delight"},{id:"13",name:"KLCC Sky Bar",rating:4.8,priceLevel:900,address:"KLCC, KL",cuisine:"Western",location:"Kuala Lumpur - KLCC",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=SkyBar"},{id:"14",name:"Bangsar Brunch",rating:4.5,priceLevel:300,address:"Bangsar, KL",cuisine:"Western",location:"Kuala Lumpur - Bangsar",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=Bangsar"},{id:"4",name:"Satay Garden",rating:4,priceLevel:120,address:"Subang Jaya, Selangor",cuisine:"Malay",location:"Selangor - Subang Jaya",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Satay+Garden+Subang+Jaya",photoUrl:"https://via.placeholder.com/400x300/F38181/FFFFFF?text=Satay+Garden"},{id:"7",name:"Spice Route",rating:4.4,priceLevel:180,address:"Petaling Jaya, Selangor",cuisine:"Indian",location:"Selangor - Petaling Jaya",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Spice+Route+Petaling+Jaya",photoUrl:"https://via.placeholder.com/400x300/FFFFD2/333333?text=Spice+Route"},{id:"15",name:"Klang Bak Kut Teh",rating:4.7,priceLevel:150,address:"Klang, Selangor",cuisine:"Chinese",location:"Selangor - Klang",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=Klang"}];console.log("Filtering restaurants with:",JSON.stringify(n,null,2));const r=e.filter(o=>{if(o.rating<4)return!1;const u=n.minPrice||0,c=n.maxPrice||1e4;return!(o.priceLevel<u||o.priceLevel>c||n.locations&&n.locations.length>0&&!n.locations.some(p=>{const g=p.split(" - "),y=g[g.length-1];return y?o.location.toLowerCase().includes(y.toLowerCase()):!1})||n.cuisines&&n.cuisines.length>0&&!n.cuisines.some(p=>o.cuisine.toLowerCase()===p.toLowerCase()))});console.log(`Matched ${r.length} restaurants`),t(r)},800)});function Z3(){const[n,t]=at.useState(null),[e,r]=at.useState(!1),[o,u]=at.useState("home"),[c,m]=at.useState(""),[p,g]=at.useState(""),[y,T]=at.useState([]);at.useEffect(()=>{const it=new URLSearchParams(window.location.search).get("id");it&&(m(it),u("join"))},[]),at.useEffect(()=>{let B=()=>{};const it=n?.id||(o==="waiting"||o==="swiping"?c:null);return it&&(B=lO(lr(ir,"sessions",it),st=>{if(st.exists()){const ot=st.data();t({id:st.id,...ot});const R=Le.currentUser?.uid;ot.participantPreferences?.[R]&&o!=="swiping"&&o!=="waiting_amidakuji"&&o!=="amidakuji"&&o!=="finished"&&(b({id:st.id,...ot}),u("swiping")),ot.status==="amidakuji"&&o!=="amidakuji"&&u("amidakuji"),ot.status==="finished"&&o!=="finished"&&u("finished")}})),()=>B()},[n?.id,c,o]);const b=async B=>{r(!0);const it=Le.currentUser.uid,st=B.participantPreferences?.[it];st||console.warn("No participant preferences found, using session defaults");const ot={minPrice:Number(B.minPrice),maxPrice:Number(B.maxPrice),locations:st?.locations||[],cuisines:st?.cuisines||[]},R=await J3(ot);T(R),r(!1)};at.useEffect(()=>{if(!n?.waitDeadline)return;const B=setInterval(()=>{const ot=(n.waitDeadline.toDate?n.waitDeadline.toDate():new Date(n.waitDeadline))-new Date;if(ot<=0)g("Time is up! Transitioning..."),clearInterval(B);else{const R=Math.floor(ot/6e4),w=Math.floor(ot%6e4/1e3);g(`${R}:${w<10?"0":""}${w}`)}},1e3);return()=>clearInterval(B)},[n?.waitDeadline]);const D=async B=>{r(!0);try{Le.currentUser||await jS(Le);const it={...B,hostId:Le.currentUser.uid,status:"recruiting",createdAt:gf(),participants:[Le.currentUser.uid],waitDeadline:new Date(Date.now()+B.waitMinutes*6e4)},st=await oO(qM(ir,"sessions"),it);t({id:st.id,...it}),u("created")}catch(it){console.error("Error creating session:",it),alert("Failed to create session. Check your Firebase config.")}finally{r(!1)}},j=async()=>{n?.id&&u("preferences")},q=(B=5,it=8)=>{const st=[];for(let w=0;w<it;w++){const x=Math.floor(Math.random()*(B-1)),I=Math.random()*260+30;st.push({lane:x,y:Math.round(I/20)*20})}return st.sort((w,x)=>w.y-x.y)},L=async()=>{if(!(!n?.id||!n?.restaurantVotes)){r(!0);try{const B={};Object.values(n.restaurantVotes).forEach(I=>{I.forEach(V=>{B[V]=(B[V]||0)+1})});const ot=[...Object.keys(B).sort((I,V)=>B[V]-B[I]).slice(0,5)];ot.length<5&&y.forEach(I=>{ot.length<5&&!ot.includes(I.id)&&ot.push(I.id)});const R=ot.map(I=>{const V=y.find(k=>k.id===I);return{id:I,name:V?.name||"Unknown",votes:B[I]||0}}),w=lr(ir,"sessions",n.id),x={status:"amidakuji",amidakuji:{results:ot,initialRungs:q(),ranking:R}};await qh(w,x,{merge:!0})}catch(B){console.error("Error starting amidakuji phase:",B),alert("Failed to start Amidakuji phase.")}finally{r(!1)}}},K=async B=>{if(n?.id){r(!0);try{const it=lr(ir,"sessions",n.id),st={participantPreferences:{[Le.currentUser.uid]:{...B,submittedAt:gf()}}};n.hostId===Le.currentUser.uid&&(st.status="swiping"),await qh(it,st,{merge:!0});const ot={...n,participantPreferences:{...n.participantPreferences,[Le.currentUser.uid]:B}};await b(ot),u("swiping")}catch(it){console.error("Error submitting preferences:",it),alert("Failed to submit preferences.")}finally{r(!1)}}},J=async(B,it=null)=>{if(m(B),it&&n){const st={...n,participantPreferences:{...n.participantPreferences,[Le.currentUser.uid]:it}};await b(st),u("swiping")}else u("waiting")};return C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:[o==="home"&&C.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[C.jsx("h1",{className:"text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 mb-6 py-2",children:"GatheringFun"}),C.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-16",children:"Decide where and when to meet, the fun way!"}),C.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all cursor-pointer border-2 border-transparent hover:border-blue-500",onClick:()=>u("create"),children:[C.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:C.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),C.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Create Gathering"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Host a new meeting and invite friends."})]}),C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl border-2 border-transparent hover:border-purple-500",children:[C.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:C.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),C.jsx("h3",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Join Gathering"}),C.jsx("input",{type:"text",placeholder:"Enter Session ID",value:c,onChange:B=>m(B.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:bg-gray-700 dark:border-gray-600 mb-4 focus:ring-2 focus:ring-purple-500 outline-none dark:text-white"}),C.jsx("button",{onClick:()=>c&&u("join"),className:"w-full py-3 bg-purple-600 text-white font-bold rounded-xl shadow-lg hover:bg-purple-700 transition-all",children:"Join Now"})]})]})]}),o==="create"&&C.jsxs("div",{className:"text-center",children:[C.jsx("button",{onClick:()=>u("home"),className:"mb-8 text-gray-500 hover:text-blue-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),C.jsx(fO,{onSubmit:D,loading:e})]}),o==="join"&&C.jsxs("div",{className:"text-center",children:[C.jsx("button",{onClick:()=>u("home"),className:"mb-8 text-gray-500 hover:text-purple-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),C.jsx(dO,{sessionId:c,onJoined:J})]}),o==="preferences"&&n&&C.jsxs("div",{className:"text-center",children:[C.jsx("button",{onClick:()=>{t(null),u("home")},className:"mb-8 text-gray-500 hover:text-blue-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),C.jsx(mO,{sessionData:n,onSubmit:K,loading:e})]}),(o==="created"||o==="waiting")&&C.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white",children:[C.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full",children:C.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),C.jsx("h2",{className:"text-3xl font-bold mb-2",children:"You're in!"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:o==="waiting"?"Preferences submitted. Waiting for Phase 2 to end...":`"${n?.name}" is LIVE!`}),C.jsxs("div",{className:"mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800",children:[C.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Time Remaining"}),C.jsx("p",{className:"text-4xl font-mono font-black text-blue-700 dark:text-blue-300",children:p||"--:--"})]}),(n||c)&&C.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700 mb-8",children:[C.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Session ID"}),C.jsx("code",{className:"text-2xl font-mono font-bold text-blue-600 dark:text-blue-400 select-all",children:n?n.id:c})]}),C.jsx("button",{onClick:()=>{const B=n?n.id:c;navigator.clipboard.writeText(B),alert("ID copied!")},className:"w-full py-4 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all mb-4",children:"Copy ID"}),n?.hostId===Le.currentUser?.uid&&n?.status==="recruiting"&&C.jsx("button",{onClick:j,disabled:e,className:"w-full py-4 bg-gradient-to-r from-orange-500 to-pink-500 text-white font-bold rounded-xl shadow-lg hover:scale-[1.02] transition-all mb-4",children:e?"Starting...":"Start Swiping Phase "}),C.jsx("button",{onClick:()=>{t(null),u("home")},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium",children:" Exit Session"}),n?.hostId===Le.currentUser?.uid&&n?.status==="swiping"&&C.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-700",children:[C.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Once everyone has voted, start the game!"}),C.jsx("button",{onClick:L,disabled:e,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl shadow-lg hover:scale-[1.02] transition-all",children:e?"Initializing...":"Start Amidakuji Battle! "})]})]}),o==="swiping"&&C.jsxs("div",{className:"text-center",children:[C.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-12",children:"Vote for Restaurants"}),e?C.jsxs("div",{className:"py-20 flex flex-col items-center justify-center",children:[C.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-4"}),C.jsx("p",{className:"text-gray-500 font-bold animate-pulse",children:"Finding best spots for you..."})]}):C.jsx($3,{restaurants:y,onFinish:async B=>{try{console.log("Swiping finished, saving votes:",B);const it=lr(ir,"sessions",n.id);await qh(it,{restaurantVotes:{[Le.currentUser.uid]:B.like}},{merge:!0}),console.log("Votes saved, transitioning to waiting_amidakuji"),u("waiting_amidakuji")}catch(it){console.error("Error saving votes:",it),alert("Error saving votes: "+it.message+". Please check console or try again.")}}})]}),o==="waiting_amidakuji"&&C.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white",children:[C.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full text-blue-600",children:C.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),C.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Votes Cast!"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Waiting for everyone to finish swiping. Next: The Amidakuji Game!"}),C.jsxs("div",{className:"animate-pulse flex items-center justify-center gap-2 mb-8",children:[C.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full"}),C.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full",style:{animationDelay:"200ms"}}),C.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full",style:{animationDelay:"400ms"}})]}),n?.hostId===Le.currentUser?.uid&&C.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-700",children:[C.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Once everyone has voted, start the game!"}),C.jsx("button",{onClick:L,disabled:e,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl shadow-lg hover:scale-[1.02] transition-all",children:e?"Initializing...":"Start Amidakuji Battle! "})]})]}),o==="amidakuji"&&C.jsxs("div",{className:"text-center",children:[C.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-2 py-2",children:""}),C.jsx("p",{className:"text-gray-500 mb-12",children:"Add rungs to the ladder and select your starting lane!"}),C.jsx(W3,{sessionId:n.id,restaurants:y,currentUser:Le.currentUser,sessionData:n,onFinish:async B=>{const it=lr(ir,"sessions",n.id);await aO(it,{status:"finished",finalChoice:B})}})]}),o==="finished"&&n?.finalChoice&&C.jsxs("div",{className:"max-w-2xl mx-auto p-12 bg-white dark:bg-gray-800 rounded-[3rem] shadow-2xl text-center border-4 border-yellow-400",children:[C.jsx("div",{className:"mb-8",children:C.jsx("span",{className:"px-6 py-2 bg-yellow-400 text-yellow-900 text-sm font-black rounded-full uppercase tracking-tighter",children:"Winner Winner Dinner!"})}),C.jsx("h1",{className:"text-6xl font-black text-gray-900 dark:text-white mb-4",children:n.finalChoice.name}),C.jsx("p",{className:"text-xl text-gray-500 dark:text-gray-400 mb-8",children:n.finalChoice.address}),C.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-8 rounded-3xl mb-10 flex flex-col gap-3",children:[C.jsxs("div",{className:"flex justify-between items-center text-sm",children:[C.jsx("span",{className:"text-gray-500",children:"Date"}),C.jsx("span",{className:"font-bold dark:text-gray-300",children:n.startDate})]}),C.jsxs("div",{className:"flex justify-between items-center text-sm",children:[C.jsx("span",{className:"text-gray-500",children:"Price Range"}),C.jsxs("span",{className:"font-bold text-green-600",children:["$".repeat(n.minPrice)," - ","$".repeat(n.maxPrice)]})]})]}),C.jsxs("div",{className:"flex flex-col gap-4",children:[C.jsxs("button",{onClick:()=>{const B=n.finalChoice.mapsUrl||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(n.finalChoice.name+" "+n.finalChoice.address)}`;window.open(B,"_blank")},className:"w-full py-5 bg-gradient-to-r from-red-500 to-pink-500 text-white font-black rounded-2xl shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all flex items-center justify-center gap-3",children:[C.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"})}),"View on Google Maps"]}),C.jsxs("button",{onClick:()=>{const B=encodeURIComponent(`Gathering: ${n.name}`),it=encodeURIComponent(`Restaurant: ${n.finalChoice.name}\\nAddress: ${n.finalChoice.address}`),st=`https://www.google.com/calendar/render?action=TEMPLATE&text=${B}&details=${it}&location=${encodeURIComponent(n.finalChoice.address)}`;window.open(st,"_blank")},className:"w-full py-5 bg-blue-600 text-white font-black rounded-2xl shadow-xl hover:bg-blue-700 hover:scale-[1.02] transition-all flex items-center justify-center gap-3",children:[C.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM7 11h5v5H7z"})}),"Add to Google Calendar"]}),C.jsx("button",{onClick:()=>u("home"),className:"py-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-sm font-medium",children:"Start New Gathering"})]})]})]})}nC.createRoot(document.getElementById("root")).render(C.jsx(at.StrictMode,{children:C.jsx(Z3,{})}));
