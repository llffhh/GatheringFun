(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var Gm={exports:{}},Jl={};var rT;function BC(){if(rT)return Jl;rT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=t,Jl.jsx=e,Jl.jsxs=e,Jl}var aT;function zC(){return aT||(aT=1,Gm.exports=BC()),Gm.exports}var x=zC(),Km={exports:{}},Ct={};var oT;function HC(){if(oT)return Ct;oT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function D(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,N={};function F(P,Z,ut){this.props=P,this.context=Z,this.refs=N,this.updater=ut||j}F.prototype.isReactComponent={},F.prototype.setState=function(P,Z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Z,"setState")},F.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=F.prototype;function q(P,Z,ut){this.props=P,this.context=Z,this.refs=N,this.updater=ut||j}var at=q.prototype=new $;at.constructor=q,K(at,F.prototype),at.isPureReactComponent=!0;var it=Array.isArray;function ct(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(P,Z,ut){var ft=ut.ref;return{$$typeof:i,type:P,key:Z,ref:ft!==void 0?ft:null,props:ut}}function O(P,Z){return R(P.type,Z,P.props)}function M(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function L(P){var Z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ut){return Z[ut]})}var I=/\/+/g;function pt(P,Z){return typeof P=="object"&&P!==null&&P.key!=null?L(""+P.key):Z.toString(36)}function vt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ct,ct):(P.status="pending",P.then(function(Z){P.status==="pending"&&(P.status="fulfilled",P.value=Z)},function(Z){P.status==="pending"&&(P.status="rejected",P.reason=Z)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function G(P,Z,ut,ft,At){var Nt=typeof P;(Nt==="undefined"||Nt==="boolean")&&(P=null);var zt=!1;if(P===null)zt=!0;else switch(Nt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(P.$$typeof){case i:case t:zt=!0;break;case y:return zt=P._init,G(zt(P._payload),Z,ut,ft,At)}}if(zt)return At=At(P),zt=ft===""?"."+pt(P,0):ft,it(At)?(ut="",zt!=null&&(ut=zt.replace(I,"$&/")+"/"),G(At,Z,ut,"",function(Rr){return Rr})):At!=null&&(M(At)&&(At=O(At,ut+(At.key==null||P&&P.key===At.key?"":(""+At.key).replace(I,"$&/")+"/")+zt)),Z.push(At)),1;zt=0;var Oe=ft===""?".":ft+":";if(it(P))for(var oe=0;oe<P.length;oe++)ft=P[oe],Nt=Oe+pt(ft,oe),zt+=G(ft,Z,ut,Nt,At);else if(oe=D(P),typeof oe=="function")for(P=oe.call(P),oe=0;!(ft=P.next()).done;)ft=ft.value,Nt=Oe+pt(ft,oe++),zt+=G(ft,Z,ut,Nt,At);else if(Nt==="object"){if(typeof P.then=="function")return G(vt(P),Z,ut,ft,At);throw Z=String(P),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return zt}function et(P,Z,ut){if(P==null)return P;var ft=[],At=0;return G(P,ft,"","",function(Nt){return Z.call(ut,Nt,At++)}),ft}function ot(P){if(P._status===-1){var Z=P._result;Z=Z(),Z.then(function(ut){(P._status===0||P._status===-1)&&(P._status=1,P._result=ut)},function(ut){(P._status===0||P._status===-1)&&(P._status=2,P._result=ut)}),P._status===-1&&(P._status=0,P._result=Z)}if(P._status===1)return P._result.default;throw P._result}var xt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Mt={map:et,forEach:function(P,Z,ut){et(P,function(){Z.apply(this,arguments)},ut)},count:function(P){var Z=0;return et(P,function(){Z++}),Z},toArray:function(P){return et(P,function(Z){return Z})||[]},only:function(P){if(!M(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ct.Activity=T,Ct.Children=Mt,Ct.Component=F,Ct.Fragment=e,Ct.Profiler=o,Ct.PureComponent=q,Ct.StrictMode=r,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(P){return C.H.useMemoCache(P)}},Ct.cache=function(P){return function(){return P.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(P,Z,ut){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ft=K({},P.props),At=P.key;if(Z!=null)for(Nt in Z.key!==void 0&&(At=""+Z.key),Z)!A.call(Z,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&Z.ref===void 0||(ft[Nt]=Z[Nt]);var Nt=arguments.length-2;if(Nt===1)ft.children=ut;else if(1<Nt){for(var zt=Array(Nt),Oe=0;Oe<Nt;Oe++)zt[Oe]=arguments[Oe+2];ft.children=zt}return R(P.type,At,ft)},Ct.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ct.createElement=function(P,Z,ut){var ft,At={},Nt=null;if(Z!=null)for(ft in Z.key!==void 0&&(Nt=""+Z.key),Z)A.call(Z,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(At[ft]=Z[ft]);var zt=arguments.length-2;if(zt===1)At.children=ut;else if(1<zt){for(var Oe=Array(zt),oe=0;oe<zt;oe++)Oe[oe]=arguments[oe+2];At.children=Oe}if(P&&P.defaultProps)for(ft in zt=P.defaultProps,zt)At[ft]===void 0&&(At[ft]=zt[ft]);return R(P,Nt,At)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(P){return{$$typeof:m,render:P}},Ct.isValidElement=M,Ct.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:ot}},Ct.memo=function(P,Z){return{$$typeof:g,type:P,compare:Z===void 0?null:Z}},Ct.startTransition=function(P){var Z=C.T,ut={};C.T=ut;try{var ft=P(),At=C.S;At!==null&&At(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ct,xt)}catch(Nt){xt(Nt)}finally{Z!==null&&ut.types!==null&&(Z.types=ut.types),C.T=Z}},Ct.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ct.use=function(P){return C.H.use(P)},Ct.useActionState=function(P,Z,ut){return C.H.useActionState(P,Z,ut)},Ct.useCallback=function(P,Z){return C.H.useCallback(P,Z)},Ct.useContext=function(P){return C.H.useContext(P)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(P,Z){return C.H.useDeferredValue(P,Z)},Ct.useEffect=function(P,Z){return C.H.useEffect(P,Z)},Ct.useEffectEvent=function(P){return C.H.useEffectEvent(P)},Ct.useId=function(){return C.H.useId()},Ct.useImperativeHandle=function(P,Z,ut){return C.H.useImperativeHandle(P,Z,ut)},Ct.useInsertionEffect=function(P,Z){return C.H.useInsertionEffect(P,Z)},Ct.useLayoutEffect=function(P,Z){return C.H.useLayoutEffect(P,Z)},Ct.useMemo=function(P,Z){return C.H.useMemo(P,Z)},Ct.useOptimistic=function(P,Z){return C.H.useOptimistic(P,Z)},Ct.useReducer=function(P,Z,ut){return C.H.useReducer(P,Z,ut)},Ct.useRef=function(P){return C.H.useRef(P)},Ct.useState=function(P){return C.H.useState(P)},Ct.useSyncExternalStore=function(P,Z,ut){return C.H.useSyncExternalStore(P,Z,ut)},Ct.useTransition=function(){return C.H.useTransition()},Ct.version="19.2.0",Ct}var lT;function _g(){return lT||(lT=1,Km.exports=HC()),Km.exports}var rt=_g(),Ym={exports:{}},Zl={},Qm={exports:{}},Xm={};var uT;function qC(){return uT||(uT=1,(function(i){function t(G,et){var ot=G.length;G.push(et);t:for(;0<ot;){var xt=ot-1>>>1,Mt=G[xt];if(0<o(Mt,et))G[xt]=et,G[ot]=Mt,ot=xt;else break t}}function e(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var et=G[0],ot=G.pop();if(ot!==et){G[0]=ot;t:for(var xt=0,Mt=G.length,P=Mt>>>1;xt<P;){var Z=2*(xt+1)-1,ut=G[Z],ft=Z+1,At=G[ft];if(0>o(ut,ot))ft<Mt&&0>o(At,ut)?(G[xt]=At,G[ft]=ot,xt=ft):(G[xt]=ut,G[Z]=ot,xt=Z);else if(ft<Mt&&0>o(At,ot))G[xt]=At,G[ft]=ot,xt=ft;else break t}}return et}function o(G,et){var ot=G.sortIndex-et.sortIndex;return ot!==0?ot:G.id-et.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],y=1,T=null,b=3,D=!1,j=!1,K=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function at(G){for(var et=e(g);et!==null;){if(et.callback===null)r(g);else if(et.startTime<=G)r(g),et.sortIndex=et.expirationTime,t(p,et);else break;et=e(g)}}function it(G){if(K=!1,at(G),!j)if(e(p)!==null)j=!0,ct||(ct=!0,L());else{var et=e(g);et!==null&&vt(it,et.startTime-G)}}var ct=!1,C=-1,A=5,R=-1;function O(){return N?!0:!(i.unstable_now()-R<A)}function M(){if(N=!1,ct){var G=i.unstable_now();R=G;var et=!0;try{t:{j=!1,K&&(K=!1,$(C),C=-1),D=!0;var ot=b;try{e:{for(at(G),T=e(p);T!==null&&!(T.expirationTime>G&&O());){var xt=T.callback;if(typeof xt=="function"){T.callback=null,b=T.priorityLevel;var Mt=xt(T.expirationTime<=G);if(G=i.unstable_now(),typeof Mt=="function"){T.callback=Mt,at(G),et=!0;break e}T===e(p)&&r(p),at(G)}else r(p);T=e(p)}if(T!==null)et=!0;else{var P=e(g);P!==null&&vt(it,P.startTime-G),et=!1}}break t}finally{T=null,b=ot,D=!1}et=void 0}}finally{et?L():ct=!1}}}var L;if(typeof q=="function")L=function(){q(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pt=I.port2;I.port1.onmessage=M,L=function(){pt.postMessage(null)}}else L=function(){F(M,0)};function vt(G,et){C=F(function(){G(i.unstable_now())},et)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(G){switch(b){case 1:case 2:case 3:var et=3;break;default:et=b}var ot=b;b=et;try{return G()}finally{b=ot}},i.unstable_requestPaint=function(){N=!0},i.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ot=b;b=G;try{return et()}finally{b=ot}},i.unstable_scheduleCallback=function(G,et,ot){var xt=i.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?xt+ot:xt):ot=xt,G){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=ot+Mt,G={id:y++,callback:et,priorityLevel:G,startTime:ot,expirationTime:Mt,sortIndex:-1},ot>xt?(G.sortIndex=ot,t(g,G),e(p)===null&&G===e(g)&&(K?($(C),C=-1):K=!0,vt(it,ot-xt))):(G.sortIndex=Mt,t(p,G),j||D||(j=!0,ct||(ct=!0,L()))),G},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(G){var et=b;return function(){var ot=b;b=et;try{return G.apply(this,arguments)}finally{b=ot}}}})(Xm)),Xm}var cT;function GC(){return cT||(cT=1,Qm.exports=qC()),Qm.exports}var $m={exports:{}},tn={};var hT;function KC(){if(hT)return tn;hT=1;var i=_g();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:y}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,y)},tn.flushSync=function(p){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=y,r.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,T=m(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:D}):y==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=m(y,g.crossOrigin);r.d.L(p,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},tn.requestFormReset=function(p){r.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var fT;function YC(){if(fT)return $m.exports;fT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),$m.exports=KC(),$m.exports}var dT;function QC(){if(dT)return Zl;dT=1;var i=GC(),t=_g(),e=YC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),q=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function pt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case K:return"Fragment";case F:return"Profiler";case N:return"StrictMode";case it:return"Suspense";case ct:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case q:return n.displayName||"Context";case $:return(n._context.displayName||"Context")+".Consumer";case at:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:pt(n.type)||"Memo";case A:s=n._payload,n=n._init;try{return pt(n(s))}catch{}}return null}var vt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},xt=[],Mt=-1;function P(n){return{current:n}}function Z(n){0>Mt||(n.current=xt[Mt],xt[Mt]=null,Mt--)}function ut(n,s){Mt++,xt[Mt]=n.current,n.current=s}var ft=P(null),At=P(null),Nt=P(null),zt=P(null);function Oe(n,s){switch(ut(Nt,s),ut(At,n),ut(ft,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?R_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=R_(s),n=D_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Z(ft),ut(ft,n)}function oe(){Z(ft),Z(At),Z(Nt)}function Rr(n){n.memoizedState!==null&&ut(zt,n);var s=ft.current,a=D_(s,n.type);s!==a&&(ut(At,n),ut(ft,a))}function Ea(n){At.current===n&&(Z(ft),Z(At)),zt.current===n&&(Z(zt),Ql._currentValue=ot)}var ba,Sa;function di(n){if(ba===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ba=s&&s[1]||"",Sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+n+Sa}var Qo=!1;function Dr(n,s){if(!n||Qo)return"";Qo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(X){var Y=X}Reflect.construct(n,[],tt)}else{try{tt.call()}catch(X){Y=X}n.call(tt.prototype)}}else{try{throw Error()}catch(X){Y=X}(tt=n())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var V=_.split(`
`),H=S.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===H.length)for(l=V.length-1,f=H.length-1;1<=l&&0<=f&&V[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==H[f]){var W=`
`+V[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{Qo=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?di(a):""}function Xo(n,s){switch(n.tag){case 26:case 27:case 5:return di(n.type);case 16:return di("Lazy");case 13:return n.child!==s&&s!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Dr(n.type,!1);case 11:return Dr(n.type.render,!1);case 1:return Dr(n.type,!0);case 31:return di("Activity");default:return""}}function $o(n){try{var s="",a=null;do s+=Xo(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,ke=i.unstable_scheduleCallback,bs=i.unstable_cancelCallback,Yf=i.unstable_shouldYield,Xu=i.unstable_requestPaint,on=i.unstable_now,Ir=i.unstable_getCurrentPriorityLevel,Wo=i.unstable_ImmediatePriority,Jo=i.unstable_UserBlockingPriority,Ss=i.unstable_NormalPriority,Qf=i.unstable_LowPriority,$u=i.unstable_IdlePriority,Wu=i.log,Ju=i.unstable_setDisableYieldValue,$n=null,qe=null;function Mn(n){if(typeof Wu=="function"&&Ju(n),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode($n,n)}catch{}}var ge=Math.clz32?Math.clz32:tc,Zu=Math.log,Aa=Math.LN2;function tc(n){return n>>>=0,n===0?32:31-(Zu(n)/Aa|0)|0}var mi=256,Nr=262144,be=4194304;function pi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gi(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=pi(l):(_&=S,_!==0?f=pi(_):a||(a=S&~n,a!==0&&(f=pi(a))))):(S=l&~d,S!==0?f=pi(S):_!==0?f=pi(_):a||(a=l&~n,a!==0&&(f=pi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Wn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Xf(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var n=be;return be<<=1,(be&62914560)===0&&(be=4194304),n}function yi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Vr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $f(n,s,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,V=n.expirationTimes,H=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-ge(a),tt=1<<W;S[W]=0,V[W]=-1;var Y=H[W];if(Y!==null)for(H[W]=null,W=0;W<Y.length;W++){var X=Y[W];X!==null&&(X.lane&=-536870913)}a&=~tt}l!==0&&Mr(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~s))}function Mr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-ge(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Zo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-ge(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function tl(n,s){var a=s&-s;return a=(a&42)!==0?1:Or(a),(a&(n.suspendedLanes|s))!==0?0:a}function Or(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Yi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function nc(){var n=et.p;return n!==0?n:(n=window.event,n===void 0?32:J_(n.type))}function Jn(n,s){var a=et.p;try{return et.p=n,s()}finally{et.p=a}}var Zn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Zn,Fe="__reactProps$"+Zn,vi="__reactContainer$"+Zn,wa="__reactEvents$"+Zn,Wf="__reactListeners$"+Zn,ic="__reactHandles$"+Zn,sc="__reactResources$"+Zn,_i="__reactMarker$"+Zn;function xa(n){delete n[Se],delete n[Fe],delete n[wa],delete n[Wf],delete n[ic]}function Ti(n){var s=n[Se];if(s)return s;for(var a=n.parentNode;a;){if(s=a[vi]||a[Se]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=P_(n);n!==null;){if(a=n[Se])return a;n=P_(n)}return s}n=a,a=n.parentNode}return null}function On(n){if(n=n[Se]||n[vi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function bn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ei(n){var s=n[sc];return s||(s=n[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ae(n){n[_i]=!0}var el=new Set,nl={};function bi(n,s){Si(n,s),Si(n+"Capture",s)}function Si(n,s){for(nl[n]=s,n=0;n<s.length;n++)el.add(s[n])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},rl={};function rc(n){return Ee.call(rl,n)?!0:Ee.call(sl,n)?!1:il.test(n)?rl[n]=!0:(sl[n]=!0,!1)}function Ca(n,s,a){if(rc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Sn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function we(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function Be(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function As(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function al(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Xt(n){if(!n._valueTracker){var s=As(n)?"checked":"value";n._valueTracker=al(n,s,""+n[s])}}function kr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=As(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Ai(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Pr=/[\n"\\]/g;function fn(n){return n.replace(Pr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ra(n,s,a,l,f,d,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Be(s)):n.value!==""+Be(s)&&(n.value=""+Be(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?ol(n,_,Be(s)):a!=null?ol(n,_,Be(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Be(S):n.removeAttribute("name")}function ac(n,s,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Xt(n);return}a=a!=null?""+Be(a):"",s=s!=null?""+Be(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Xt(n)}function ol(n,s,a){s==="number"&&Ai(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ws(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Be(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function oc(n,s,a){if(s!=null&&(s=""+Be(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Be(a):""}function xs(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(vt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Be(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Xt(n)}function dn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||lc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function ul(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ll(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&ll(n,d,s[d])}function Da(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(n){return Cs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ti(){}var cl=null;function kn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Rs=null,wi=null;function Lr(n){var s=On(n);if(s&&(n=s.stateNode)){var a=n[Fe]||null;t:switch(n=s.stateNode,s.type){case"input":if(Ra(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Fe]||null;if(!f)throw Error(r(90));Ra(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&kr(l)}break t;case"textarea":oc(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&ws(n,!!a.multiple,s,!1)}}}var Na=!1;function Ds(n,s,a){if(Na)return n(s,a);Na=!0;try{var l=n(s);return l}finally{if(Na=!1,(Rs!==null||wi!==null)&&(nh(),Rs&&(s=Rs,n=wi,wi=Rs=null,Lr(s),n)))for(s=0;s<n.length;s++)Lr(n[s])}}function ei(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Fe]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Pn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Ur=!1}var xi=null,hl=null,jr=null;function fl(){if(jr)return jr;var n,s=hl,a=s.length,l,f="value"in xi?xi.value:xi.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return jr=f.slice(n,1<l?1-l:void 0)}function Fr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Qi(){return!0}function ni(){return!1}function Ge(n){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:ni,this.isPropagationStopped=ni,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ge(Xi),Is=T({},Xi,{view:0,detail:0}),dl=Ge(Is),Ns,Va,Ri,Ma=T({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ri&&(Ri&&n.type==="mousemove"?(Ns=n.screenX-Ri.screenX,Va=n.screenY-Ri.screenY):Va=Ns=0,Ri=n),Ns)},movementY:function(n){return"movementY"in n?n.movementY:Va}}),ml=Ge(Ma),Br=T({},Ma,{dataTransfer:0}),cc=Ge(Br),hc=T({},Is,{relatedTarget:0}),zr=Ge(hc),pl=T({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=Ge(pl),Oa=T({},Xi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dc=Ge(Oa),mc=T({},Xi,{data:0}),Di=Ge(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yc[n])?!!s[n]:!1}function Vs(){return vc}var ln=T({},Is,{key:function(n){if(n.key){var s=pc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Fr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(n){return n.type==="keypress"?Fr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_c=Ge(ln),Tc=T({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Ge(Tc),h=T({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),v=Ge(h),E=T({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ge(E),B=T({},Ma,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ge(B),lt=T({},Xi,{newState:0,oldState:0}),Dt=Ge(lt),ye=[9,13,27,32],Kt=Pn&&"CompositionEvent"in window,le=null;Pn&&"documentMode"in document&&(le=document.documentMode);var Ln=Pn&&"TextEvent"in window&&!le,Ii=Pn&&(!Kt||le&&8<le&&11>=le),ii=" ",si=!1;function Hr(n,s){switch(n){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pa=!1;function hx(n,s){switch(n){case"compositionend":return ka(s);case"keypress":return s.which!==32?null:(si=!0,ii);case"textInput":return n=s.data,n===ii&&si?null:n;default:return null}}function fx(n,s){if(Pa)return n==="compositionend"||!Kt&&Hr(n,s)?(n=fl(),jr=hl=xi=null,Pa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ii&&s.locale!=="ko"?null:s.data;default:return null}}var dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!dx[n.type]:s==="textarea"}function Fy(n,s,a,l){Rs?wi?wi.push(l):wi=[l]:Rs=l,s=uh(s,"onChange"),0<s.length&&(a=new Ci("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var gl=null,yl=null;function mx(n){b_(n,0)}function Ec(n){var s=bn(n);if(kr(s))return n}function By(n,s){if(n==="change")return s}var zy=!1;if(Pn){var Jf;if(Pn){var Zf="oninput"in document;if(!Zf){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),Zf=typeof Hy.oninput=="function"}Jf=Zf}else Jf=!1;zy=Jf&&(!document.documentMode||9<document.documentMode)}function qy(){gl&&(gl.detachEvent("onpropertychange",Gy),yl=gl=null)}function Gy(n){if(n.propertyName==="value"&&Ec(yl)){var s=[];Fy(s,yl,n,kn(n)),Ds(mx,s)}}function px(n,s,a){n==="focusin"?(qy(),gl=s,yl=a,gl.attachEvent("onpropertychange",Gy)):n==="focusout"&&qy()}function gx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ec(yl)}function yx(n,s){if(n==="click")return Ec(s)}function vx(n,s){if(n==="input"||n==="change")return Ec(s)}function _x(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var An=typeof Object.is=="function"?Object.is:_x;function vl(n,s){if(An(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ee.call(s,f)||!An(n[f],s[f]))return!1}return!0}function Ky(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yy(n,s){var a=Ky(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ky(a)}}function Qy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Qy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Xy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ai(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ai(n.document)}return s}function td(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Tx=Pn&&"documentMode"in document&&11>=document.documentMode,La=null,ed=null,_l=null,nd=!1;function $y(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nd||La==null||La!==Ai(l)||(l=La,"selectionStart"in l&&td(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=uh(ed,"onSelect"),0<l.length&&(s=new Ci("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=La)))}function qr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ua={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},id={},Wy={};Pn&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Gr(n){if(id[n])return id[n];if(!Ua[n])return n;var s=Ua[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Wy)return id[n]=s[a];return n}var Jy=Gr("animationend"),Zy=Gr("animationiteration"),t0=Gr("animationstart"),Ex=Gr("transitionrun"),bx=Gr("transitionstart"),Sx=Gr("transitioncancel"),e0=Gr("transitionend"),n0=new Map,sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sd.push("scrollEnd");function ri(n,s){n0.set(n,s),bi(s,[n])}var bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Un=[],ja=0,rd=0;function Sc(){for(var n=ja,s=rd=ja=0;s<n;){var a=Un[s];Un[s++]=null;var l=Un[s];Un[s++]=null;var f=Un[s];Un[s++]=null;var d=Un[s];if(Un[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&i0(a,f,d)}}function Ac(n,s,a,l){Un[ja++]=n,Un[ja++]=s,Un[ja++]=a,Un[ja++]=l,rd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ad(n,s,a,l){return Ac(n,s,a,l),wc(n)}function Kr(n,s){return Ac(n,null,null,s),wc(n)}function i0(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-ge(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function wc(n){if(50<Bl)throw Bl=0,pm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Fa={};function Ax(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,s,a,l){return new Ax(n,s,a,l)}function od(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wi(n,s){var a=n.alternate;return a===null?(a=wn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function s0(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function xc(n,s,a,l,f,d){var _=0;if(l=n,typeof n=="function")od(n)&&(_=1);else if(typeof n=="string")_=DC(n,a,ft.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=wn(31,a,s,f),n.elementType=R,n.lanes=d,n;case K:return Yr(a.children,f,d,s);case N:_=8,f|=24;break;case F:return n=wn(12,a,s,f|2),n.elementType=F,n.lanes=d,n;case it:return n=wn(13,a,s,f),n.elementType=it,n.lanes=d,n;case ct:return n=wn(19,a,s,f),n.elementType=ct,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:_=10;break t;case $:_=9;break t;case at:_=11;break t;case C:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=wn(_,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function Yr(n,s,a,l){return n=wn(7,n,l,s),n.lanes=a,n}function ld(n,s,a){return n=wn(6,n,null,s),n.lanes=a,n}function r0(n){var s=wn(18,null,null,0);return s.stateNode=n,s}function ud(n,s,a){return s=wn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var a0=new WeakMap;function jn(n,s){if(typeof n=="object"&&n!==null){var a=a0.get(n);return a!==void 0?a:(s={value:n,source:s,stack:$o(s)},a0.set(n,s),s)}return{value:n,source:s,stack:$o(s)}}var Ba=[],za=0,Cc=null,Tl=0,Fn=[],Bn=0,Ms=null,Ni=1,Vi="";function Ji(n,s){Ba[za++]=Tl,Ba[za++]=Cc,Cc=n,Tl=s}function o0(n,s,a){Fn[Bn++]=Ni,Fn[Bn++]=Vi,Fn[Bn++]=Ms,Ms=n;var l=Ni;n=Vi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var d=32-ge(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ni=1<<32-ge(s)+f|a<<f|l,Vi=d+n}else Ni=1<<d|a<<f|l,Vi=n}function cd(n){n.return!==null&&(Ji(n,1),o0(n,1,0))}function hd(n){for(;n===Cc;)Cc=Ba[--za],Ba[za]=null,Tl=Ba[--za],Ba[za]=null;for(;n===Ms;)Ms=Fn[--Bn],Fn[Bn]=null,Vi=Fn[--Bn],Fn[Bn]=null,Ni=Fn[--Bn],Fn[Bn]=null}function l0(n,s){Fn[Bn++]=Ni,Fn[Bn++]=Vi,Fn[Bn++]=Ms,Ni=s.id,Vi=s.overflow,Ms=n}var Ke=null,ie=null,Bt=!1,Os=null,zn=!1,fd=Error(r(519));function ks(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw El(jn(s,n)),fd}function u0(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Se]=n,s[Fe]=l,a){case"dialog":kt("cancel",s),kt("close",s);break;case"iframe":case"object":case"embed":kt("load",s);break;case"video":case"audio":for(a=0;a<Hl.length;a++)kt(Hl[a],s);break;case"source":kt("error",s);break;case"img":case"image":case"link":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"input":kt("invalid",s),ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":kt("invalid",s);break;case"textarea":kt("invalid",s),xs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||x_(s.textContent,a)?(l.popover!=null&&(kt("beforetoggle",s),kt("toggle",s)),l.onScroll!=null&&kt("scroll",s),l.onScrollEnd!=null&&kt("scrollend",s),l.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||ks(n,!0)}function c0(n){for(Ke=n.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function Ha(n){if(n!==Ke)return!1;if(!Bt)return c0(n),Bt=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Im(n.type,n.memoizedProps)),a=!a),a&&ie&&ks(n),c0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ie=k_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ie=k_(n)}else s===27?(s=ie,Xs(n.type)?(n=km,km=null,ie=n):ie=s):ie=Ke?qn(n.stateNode.nextSibling):null;return!0}function Qr(){ie=Ke=null,Bt=!1}function dd(){var n=Os;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),Os=null),n}function El(n){Os===null?Os=[n]:Os.push(n)}var md=P(null),Xr=null,Zi=null;function Ps(n,s,a){ut(md,s._currentValue),s._currentValue=a}function ts(n){n._currentValue=md.current,Z(md)}function pd(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function gd(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var V=0;V<s.length;V++)if(S.context===s[V]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),pd(d.return,a,n),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),pd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function qa(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;An(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===zt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ql):n=[Ql])}f=f.return}n!==null&&gd(s,n,a,l),s.flags|=262144}function Rc(n){for(n=n.firstContext;n!==null;){if(!An(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function $r(n){Xr=n,Zi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ye(n){return h0(Xr,n)}function Dc(n,s){return Xr===null&&$r(n),h0(n,s)}function h0(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Zi===null){if(n===null)throw Error(r(308));Zi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Zi=Zi.next=s;return a}var wx=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},xx=i.unstable_scheduleCallback,Cx=i.unstable_NormalPriority,xe={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yd(){return{controller:new wx,data:new Map,refCount:0}}function bl(n){n.refCount--,n.refCount===0&&xx(Cx,function(){n.controller.abort()})}var Sl=null,vd=0,Ga=0,Ka=null;function Rx(n,s){if(Sl===null){var a=Sl=[];vd=0,Ga=Em(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vd++,s.then(f0,f0),s}function f0(){if(--vd===0&&Sl!==null){Ka!==null&&(Ka.status="fulfilled");var n=Sl;Sl=null,Ga=0,Ka=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Dx(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var d0=G.S;G.S=function(n,s){$v=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Rx(n,s),d0!==null&&d0(n,s)};var Wr=P(null);function _d(){var n=Wr.current;return n!==null?n:ne.pooledCache}function Ic(n,s){s===null?ut(Wr,Wr.current):ut(Wr,s.pool)}function m0(){var n=_d();return n===null?null:{parent:xe._currentValue,pool:n}}var Ya=Error(r(460)),Td=Error(r(474)),Nc=Error(r(542)),Vc={then:function(){}};function p0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function g0(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(ti,ti),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,v0(n),n;default:if(typeof s.status=="string")s.then(ti,ti);else{if(n=ne,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,v0(n),n}throw Zr=s,Ya}}function Jr(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zr=a,Ya):a}}var Zr=null;function y0(){if(Zr===null)throw Error(r(459));var n=Zr;return Zr=null,n}function v0(n){if(n===Ya||n===Nc)throw Error(r(483))}var Qa=null,Al=0;function Mc(n){var s=Al;return Al+=1,Qa===null&&(Qa=[]),g0(Qa,n,s)}function wl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Oc(n,s){throw s.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function _0(n){function s(U,k){if(n){var z=U.deletions;z===null?(U.deletions=[k],U.flags|=16):z.push(k)}}function a(U,k){if(!n)return null;for(;k!==null;)s(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function f(U,k){return U=Wi(U,k),U.index=0,U.sibling=null,U}function d(U,k,z){return U.index=z,n?(z=U.alternate,z!==null?(z=z.index,z<k?(U.flags|=67108866,k):z):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function _(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function S(U,k,z,J){return k===null||k.tag!==6?(k=ld(z,U.mode,J),k.return=U,k):(k=f(k,z),k.return=U,k)}function V(U,k,z,J){var _t=z.type;return _t===K?W(U,k,z.props.children,J,z.key):k!==null&&(k.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&Jr(_t)===k.type)?(k=f(k,z.props),wl(k,z),k.return=U,k):(k=xc(z.type,z.key,z.props,null,U.mode,J),wl(k,z),k.return=U,k)}function H(U,k,z,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=ud(z,U.mode,J),k.return=U,k):(k=f(k,z.children||[]),k.return=U,k)}function W(U,k,z,J,_t){return k===null||k.tag!==7?(k=Yr(z,U.mode,J,_t),k.return=U,k):(k=f(k,z),k.return=U,k)}function tt(U,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ld(""+k,U.mode,z),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case D:return z=xc(k.type,k.key,k.props,null,U.mode,z),wl(z,k),z.return=U,z;case j:return k=ud(k,U.mode,z),k.return=U,k;case A:return k=Jr(k),tt(U,k,z)}if(vt(k)||L(k))return k=Yr(k,U.mode,z,null),k.return=U,k;if(typeof k.then=="function")return tt(U,Mc(k),z);if(k.$$typeof===q)return tt(U,Dc(U,k),z);Oc(U,k)}return null}function Y(U,k,z,J){var _t=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _t!==null?null:S(U,k,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===_t?V(U,k,z,J):null;case j:return z.key===_t?H(U,k,z,J):null;case A:return z=Jr(z),Y(U,k,z,J)}if(vt(z)||L(z))return _t!==null?null:W(U,k,z,J,null);if(typeof z.then=="function")return Y(U,k,Mc(z),J);if(z.$$typeof===q)return Y(U,k,Dc(U,z),J);Oc(U,z)}return null}function X(U,k,z,J,_t){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(z)||null,S(k,U,""+J,_t);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case D:return U=U.get(J.key===null?z:J.key)||null,V(k,U,J,_t);case j:return U=U.get(J.key===null?z:J.key)||null,H(k,U,J,_t);case A:return J=Jr(J),X(U,k,z,J,_t)}if(vt(J)||L(J))return U=U.get(z)||null,W(k,U,J,_t,null);if(typeof J.then=="function")return X(U,k,z,Mc(J),_t);if(J.$$typeof===q)return X(U,k,z,Dc(k,J),_t);Oc(k,J)}return null}function mt(U,k,z,J){for(var _t=null,qt=null,gt=k,Vt=k=0,Lt=null;gt!==null&&Vt<z.length;Vt++){gt.index>Vt?(Lt=gt,gt=null):Lt=gt.sibling;var Gt=Y(U,gt,z[Vt],J);if(Gt===null){gt===null&&(gt=Lt);break}n&&gt&&Gt.alternate===null&&s(U,gt),k=d(Gt,k,Vt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt,gt=Lt}if(Vt===z.length)return a(U,gt),Bt&&Ji(U,Vt),_t;if(gt===null){for(;Vt<z.length;Vt++)gt=tt(U,z[Vt],J),gt!==null&&(k=d(gt,k,Vt),qt===null?_t=gt:qt.sibling=gt,qt=gt);return Bt&&Ji(U,Vt),_t}for(gt=l(gt);Vt<z.length;Vt++)Lt=X(gt,U,Vt,z[Vt],J),Lt!==null&&(n&&Lt.alternate!==null&&gt.delete(Lt.key===null?Vt:Lt.key),k=d(Lt,k,Vt),qt===null?_t=Lt:qt.sibling=Lt,qt=Lt);return n&&gt.forEach(function(tr){return s(U,tr)}),Bt&&Ji(U,Vt),_t}function Et(U,k,z,J){if(z==null)throw Error(r(151));for(var _t=null,qt=null,gt=k,Vt=k=0,Lt=null,Gt=z.next();gt!==null&&!Gt.done;Vt++,Gt=z.next()){gt.index>Vt?(Lt=gt,gt=null):Lt=gt.sibling;var tr=Y(U,gt,Gt.value,J);if(tr===null){gt===null&&(gt=Lt);break}n&&gt&&tr.alternate===null&&s(U,gt),k=d(tr,k,Vt),qt===null?_t=tr:qt.sibling=tr,qt=tr,gt=Lt}if(Gt.done)return a(U,gt),Bt&&Ji(U,Vt),_t;if(gt===null){for(;!Gt.done;Vt++,Gt=z.next())Gt=tt(U,Gt.value,J),Gt!==null&&(k=d(Gt,k,Vt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return Bt&&Ji(U,Vt),_t}for(gt=l(gt);!Gt.done;Vt++,Gt=z.next())Gt=X(gt,U,Vt,Gt.value,J),Gt!==null&&(n&&Gt.alternate!==null&&gt.delete(Gt.key===null?Vt:Gt.key),k=d(Gt,k,Vt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return n&&gt.forEach(function(FC){return s(U,FC)}),Bt&&Ji(U,Vt),_t}function ee(U,k,z,J){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:t:{for(var _t=z.key;k!==null;){if(k.key===_t){if(_t=z.type,_t===K){if(k.tag===7){a(U,k.sibling),J=f(k,z.props.children),J.return=U,U=J;break t}}else if(k.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&Jr(_t)===k.type){a(U,k.sibling),J=f(k,z.props),wl(J,z),J.return=U,U=J;break t}a(U,k);break}else s(U,k);k=k.sibling}z.type===K?(J=Yr(z.props.children,U.mode,J,z.key),J.return=U,U=J):(J=xc(z.type,z.key,z.props,null,U.mode,J),wl(J,z),J.return=U,U=J)}return _(U);case j:t:{for(_t=z.key;k!==null;){if(k.key===_t)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(U,k.sibling),J=f(k,z.children||[]),J.return=U,U=J;break t}else{a(U,k);break}else s(U,k);k=k.sibling}J=ud(z,U.mode,J),J.return=U,U=J}return _(U);case A:return z=Jr(z),ee(U,k,z,J)}if(vt(z))return mt(U,k,z,J);if(L(z)){if(_t=L(z),typeof _t!="function")throw Error(r(150));return z=_t.call(z),Et(U,k,z,J)}if(typeof z.then=="function")return ee(U,k,Mc(z),J);if(z.$$typeof===q)return ee(U,k,Dc(U,z),J);Oc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(U,k.sibling),J=f(k,z),J.return=U,U=J):(a(U,k),J=ld(z,U.mode,J),J.return=U,U=J),_(U)):a(U,k)}return function(U,k,z,J){try{Al=0;var _t=ee(U,k,z,J);return Qa=null,_t}catch(gt){if(gt===Ya||gt===Nc)throw gt;var qt=wn(29,gt,null,U.mode);return qt.lanes=J,qt.return=U,qt}finally{}}}var ta=_0(!0),T0=_0(!1),Ls=!1;function Ed(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Us(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function js(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=wc(n),i0(n,null,a),s}return Ac(n,l,s,a),wc(n)}function xl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Zo(n,a)}}function Sd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Ad=!1;function Cl(){if(Ad){var n=Ka;if(n!==null)throw n}}function Rl(n,s,a,l){Ad=!1;var f=n.updateQueue;Ls=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var V=S,H=V.next;V.next=null,_===null?d=H:_.next=H,_=V;var W=n.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=H:S.next=H,W.lastBaseUpdate=V))}if(d!==null){var tt=f.baseState;_=0,W=H=V=null,S=d;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(Pt&Y)===Y:(l&Y)===Y){Y!==0&&Y===Ga&&(Ad=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=n,Et=S;Y=s;var ee=a;switch(Et.tag){case 1:if(mt=Et.payload,typeof mt=="function"){tt=mt.call(ee,tt,Y);break t}tt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Et.payload,Y=typeof mt=="function"?mt.call(ee,tt,Y):mt,Y==null)break t;tt=T({},tt,Y);break t;case 2:Ls=!0}}Y=S.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(H=W=X,V=tt):W=W.next=X,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(V=tt),f.baseState=V,f.firstBaseUpdate=H,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),qs|=_,n.lanes=_,n.memoizedState=tt}}function E0(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function b0(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)E0(a[n],s)}var Xa=P(null),kc=P(0);function S0(n,s){n=us,ut(kc,n),ut(Xa,s),us=n|s.baseLanes}function wd(){ut(kc,us),ut(Xa,Xa.current)}function xd(){us=kc.current,Z(Xa),Z(kc)}var xn=P(null),Hn=null;function Fs(n){var s=n.alternate;ut(ve,ve.current&1),ut(xn,n),Hn===null&&(s===null||Xa.current!==null||s.memoizedState!==null)&&(Hn=n)}function Cd(n){ut(ve,ve.current),ut(xn,n),Hn===null&&(Hn=n)}function A0(n){n.tag===22?(ut(ve,ve.current),ut(xn,n),Hn===null&&(Hn=n)):Bs()}function Bs(){ut(ve,ve.current),ut(xn,xn.current)}function Cn(n){Z(xn),Hn===n&&(Hn=null),Z(ve)}var ve=P(0);function Pc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mm(a)||Om(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var es=0,It=null,Zt=null,Ce=null,Lc=!1,$a=!1,ea=!1,Uc=0,Dl=0,Wa=null,Ix=0;function de(){throw Error(r(321))}function Rd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!An(n[a],s[a]))return!1;return!0}function Dd(n,s,a,l,f,d){return es=d,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=n===null||n.memoizedState===null?ov:qd,ea=!1,d=a(l,f),ea=!1,$a&&(d=x0(s,a,l,f)),w0(n),d}function w0(n){G.H=Vl;var s=Zt!==null&&Zt.next!==null;if(es=0,Ce=Zt=It=null,Lc=!1,Dl=0,Wa=null,s)throw Error(r(300));n===null||Re||(n=n.dependencies,n!==null&&Rc(n)&&(Re=!0))}function x0(n,s,a,l){It=n;var f=0;do{if($a&&(Wa=null),Dl=0,$a=!1,25<=f)throw Error(r(301));if(f+=1,Ce=Zt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=lv,d=s(a,l)}while($a);return d}function Nx(){var n=G.H,s=n.useState()[0];return s=typeof s.then=="function"?Il(s):s,n=n.useState()[0],(Zt!==null?Zt.memoizedState:null)!==n&&(It.flags|=1024),s}function Id(){var n=Uc!==0;return Uc=0,n}function Nd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Vd(n){if(Lc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lc=!1}es=0,Ce=Zt=It=null,$a=!1,Dl=Uc=0,Wa=null}function un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?It.memoizedState=Ce=n:Ce=Ce.next=n,Ce}function _e(){if(Zt===null){var n=It.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var s=Ce===null?It.memoizedState:Ce.next;if(s!==null)Ce=s,Zt=n;else{if(n===null)throw It.alternate===null?Error(r(467)):Error(r(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ce===null?It.memoizedState=Ce=n:Ce=Ce.next=n}return Ce}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(n){var s=Dl;return Dl+=1,Wa===null&&(Wa=[]),n=g0(Wa,n,s),s=It,(Ce===null?s.memoizedState:Ce.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?ov:qd),n}function Fc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Il(n);if(n.$$typeof===q)return Ye(n)}throw Error(r(438,String(n)))}function Md(n){var s=null,a=It.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=jc(),It.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=O;return s.index++,a}function ns(n,s){return typeof s=="function"?s(n):s}function Bc(n){var s=_e();return Od(s,Zt,n)}function Od(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var S=_=null,V=null,H=s,W=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(Pt&tt)===tt:(es&tt)===tt){var Y=H.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===Ga&&(W=!0);else if((es&Y)===Y){H=H.next,Y===Ga&&(W=!0);continue}else tt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(S=V=tt,_=d):V=V.next=tt,It.lanes|=Y,qs|=Y;tt=H.action,ea&&a(d,tt),d=H.hasEagerState?H.eagerState:a(d,tt)}else Y={lane:tt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(S=V=Y,_=d):V=V.next=Y,It.lanes|=tt,qs|=tt;H=H.next}while(H!==null&&H!==s);if(V===null?_=d:V.next=S,!An(d,n.memoizedState)&&(Re=!0,W&&(a=Ka,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=V,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function kd(n){var s=_e(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);An(d,s.memoizedState)||(Re=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function C0(n,s,a){var l=It,f=_e(),d=Bt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!An((Zt||f).memoizedState,a);if(_&&(f.memoizedState=a,Re=!0),f=f.queue,Ud(I0.bind(null,l,f,n),[n]),f.getSnapshot!==s||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},D0.bind(null,l,f,a,s),null),ne===null)throw Error(r(349));d||(es&127)!==0||R0(l,s,a)}return a}function R0(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=It.updateQueue,s===null?(s=jc(),It.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function D0(n,s,a,l){s.value=a,s.getSnapshot=l,N0(s)&&V0(n)}function I0(n,s,a){return a(function(){N0(s)&&V0(n)})}function N0(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!An(n,a)}catch{return!0}}function V0(n){var s=Kr(n,2);s!==null&&vn(s,n,2)}function Pd(n){var s=un();if(typeof n=="function"){var a=n;if(n=a(),ea){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:n},s}function M0(n,s,a,l){return n.baseState=a,Od(n,Zt,typeof l=="function"?l:ns)}function Vx(n,s,a,l,f){if(qc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,O0(s,d)):(d.next=a.next,s.pending=a.next=d)}}function O0(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=G.T,_={};G.T=_;try{var S=a(f,l),V=G.S;V!==null&&V(_,S),k0(n,s,S)}catch(H){Ld(n,s,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(f,l),k0(n,s,d)}catch(H){Ld(n,s,H)}}function k0(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){P0(n,s,l)},function(l){return Ld(n,s,l)}):P0(n,s,a)}function P0(n,s,a){s.status="fulfilled",s.value=a,L0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,O0(n,a)))}function Ld(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,L0(s),s=s.next;while(s!==l)}n.action=null}function L0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function U0(n,s){return s}function j0(n,s){if(Bt){var a=ne.formState;if(a!==null){t:{var l=It;if(Bt){if(ie){e:{for(var f=ie,d=zn;f.nodeType!==8;){if(!d){f=null;break e}if(f=qn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ie=qn(f.nextSibling),l=f.data==="F!";break t}}ks(l)}l=!1}l&&(s=a[0])}}return a=un(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:s},a.queue=l,a=sv.bind(null,It,l),l.dispatch=a,l=Pd(!1),d=Hd.bind(null,It,!1,l.queue),l=un(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=Vx.bind(null,It,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function F0(n){var s=_e();return B0(s,Zt,n)}function B0(n,s,a){if(s=Od(n,s,U0)[0],n=Bc(ns)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Il(s)}catch(_){throw _===Ya?Nc:_}else l=s;s=_e();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(It.flags|=2048,Ja(9,{destroy:void 0},Mx.bind(null,f,a),null)),[l,d,n]}function Mx(n,s){n.action=s}function z0(n){var s=_e(),a=Zt;if(a!==null)return B0(s,a,n);_e(),s=s.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Ja(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=It.updateQueue,s===null&&(s=jc(),It.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function H0(){return _e().memoizedState}function zc(n,s,a,l){var f=un();It.flags|=n,f.memoizedState=Ja(1|s,{destroy:void 0},a,l===void 0?null:l)}function Hc(n,s,a,l){var f=_e();l=l===void 0?null:l;var d=f.memoizedState.inst;Zt!==null&&l!==null&&Rd(l,Zt.memoizedState.deps)?f.memoizedState=Ja(s,d,a,l):(It.flags|=n,f.memoizedState=Ja(1|s,d,a,l))}function q0(n,s){zc(8390656,8,n,s)}function Ud(n,s){Hc(2048,8,n,s)}function Ox(n){It.flags|=4;var s=It.updateQueue;if(s===null)s=jc(),It.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function G0(n){var s=_e().memoizedState;return Ox({ref:s,nextImpl:n}),function(){if((Yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function K0(n,s){return Hc(4,2,n,s)}function Y0(n,s){return Hc(4,4,n,s)}function Q0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function X0(n,s,a){a=a!=null?a.concat([n]):null,Hc(4,4,Q0.bind(null,s,n),a)}function jd(){}function $0(n,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Rd(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function W0(n,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Rd(s,l[1]))return l[0];if(l=n(),ea){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,s],l}function Fd(n,s,a){return a===void 0||(es&1073741824)!==0&&(Pt&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Jv(),It.lanes|=n,qs|=n,a)}function J0(n,s,a,l){return An(a,s)?a:Xa.current!==null?(n=Fd(n,a,l),An(n,s)||(Re=!0),n):(es&42)===0||(es&1073741824)!==0&&(Pt&261930)===0?(Re=!0,n.memoizedState=a):(n=Jv(),It.lanes|=n,qs|=n,s)}function Z0(n,s,a,l,f){var d=et.p;et.p=d!==0&&8>d?d:8;var _=G.T,S={};G.T=S,Hd(n,!1,s,a);try{var V=f(),H=G.S;if(H!==null&&H(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=Dx(V,l);Nl(n,s,W,In(n))}else Nl(n,s,l,In(n))}catch(tt){Nl(n,s,{then:function(){},status:"rejected",reason:tt},In())}finally{et.p=d,_!==null&&S.types!==null&&(_.types=S.types),G.T=_}}function kx(){}function Bd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=tv(n).queue;Z0(n,f,s,ot,a===null?kx:function(){return ev(n),a(l)})}function tv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ot},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function ev(n){var s=tv(n);s.next===null&&(s=n.alternate.memoizedState),Nl(n,s.next.queue,{},In())}function zd(){return Ye(Ql)}function nv(){return _e().memoizedState}function iv(){return _e().memoizedState}function Px(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=In();n=Us(a);var l=js(s,n,a);l!==null&&(vn(l,s,a),xl(l,s,a)),s={cache:yd()},n.payload=s;return}s=s.return}}function Lx(n,s,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(n)?rv(s,a):(a=ad(n,s,a,l),a!==null&&(vn(a,n,l),av(a,s,l)))}function sv(n,s,a){var l=In();Nl(n,s,a,l)}function Nl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(n))rv(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,An(S,_))return Ac(n,s,f,0),ne===null&&Sc(),!1}catch{}finally{}if(a=ad(n,s,f,l),a!==null)return vn(a,n,l),av(a,s,l),!0}return!1}function Hd(n,s,a,l){if(l={lane:2,revertLane:Em(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(n)){if(s)throw Error(r(479))}else s=ad(n,a,l,2),s!==null&&vn(s,n,2)}function qc(n){var s=n.alternate;return n===It||s!==null&&s===It}function rv(n,s){$a=Lc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function av(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Zo(n,a)}}var Vl={readContext:Ye,use:Fc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Vl.useEffectEvent=de;var ov={readContext:Ye,use:Fc,useCallback:function(n,s){return un().memoizedState=[n,s===void 0?null:s],n},useContext:Ye,useEffect:q0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,zc(4194308,4,Q0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return zc(4194308,4,n,s)},useInsertionEffect:function(n,s){zc(4,2,n,s)},useMemo:function(n,s){var a=un();s=s===void 0?null:s;var l=n();if(ea){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=un();if(a!==void 0){var f=a(s);if(ea){Mn(!0);try{a(s)}finally{Mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Lx.bind(null,It,n),[l.memoizedState,n]},useRef:function(n){var s=un();return n={current:n},s.memoizedState=n},useState:function(n){n=Pd(n);var s=n.queue,a=sv.bind(null,It,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:jd,useDeferredValue:function(n,s){var a=un();return Fd(a,n,s)},useTransition:function(){var n=Pd(!1);return n=Z0.bind(null,It,n.queue,!0,!1),un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=It,f=un();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ne===null)throw Error(r(349));(Pt&127)!==0||R0(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,q0(I0.bind(null,l,d,n),[n]),l.flags|=2048,Ja(9,{destroy:void 0},D0.bind(null,l,d,a,s),null),a},useId:function(){var n=un(),s=ne.identifierPrefix;if(Bt){var a=Vi,l=Ni;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Uc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Ix++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:zd,useFormState:j0,useActionState:j0,useOptimistic:function(n){var s=un();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Hd.bind(null,It,!0,a),a.dispatch=s,[n,s]},useMemoCache:Md,useCacheRefresh:function(){return un().memoizedState=Px.bind(null,It)},useEffectEvent:function(n){var s=un(),a={impl:n};return s.memoizedState=a,function(){if((Yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qd={readContext:Ye,use:Fc,useCallback:$0,useContext:Ye,useEffect:Ud,useImperativeHandle:X0,useInsertionEffect:K0,useLayoutEffect:Y0,useMemo:W0,useReducer:Bc,useRef:H0,useState:function(){return Bc(ns)},useDebugValue:jd,useDeferredValue:function(n,s){var a=_e();return J0(a,Zt.memoizedState,n,s)},useTransition:function(){var n=Bc(ns)[0],s=_e().memoizedState;return[typeof n=="boolean"?n:Il(n),s]},useSyncExternalStore:C0,useId:nv,useHostTransitionStatus:zd,useFormState:F0,useActionState:F0,useOptimistic:function(n,s){var a=_e();return M0(a,Zt,n,s)},useMemoCache:Md,useCacheRefresh:iv};qd.useEffectEvent=G0;var lv={readContext:Ye,use:Fc,useCallback:$0,useContext:Ye,useEffect:Ud,useImperativeHandle:X0,useInsertionEffect:K0,useLayoutEffect:Y0,useMemo:W0,useReducer:kd,useRef:H0,useState:function(){return kd(ns)},useDebugValue:jd,useDeferredValue:function(n,s){var a=_e();return Zt===null?Fd(a,n,s):J0(a,Zt.memoizedState,n,s)},useTransition:function(){var n=kd(ns)[0],s=_e().memoizedState;return[typeof n=="boolean"?n:Il(n),s]},useSyncExternalStore:C0,useId:nv,useHostTransitionStatus:zd,useFormState:z0,useActionState:z0,useOptimistic:function(n,s){var a=_e();return Zt!==null?M0(a,Zt,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Md,useCacheRefresh:iv};lv.useEffectEvent=G0;function Gd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Kd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=In(),f=Us(l);f.payload=s,a!=null&&(f.callback=a),s=js(n,f,l),s!==null&&(vn(s,n,l),xl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=In(),f=Us(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=js(n,f,l),s!==null&&(vn(s,n,l),xl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=In(),l=Us(a);l.tag=2,s!=null&&(l.callback=s),s=js(n,l,a),s!==null&&(vn(s,n,a),xl(s,n,a))}};function uv(n,s,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!vl(a,l)||!vl(f,d):!0}function cv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Kd.enqueueReplaceState(s,s.state,null)}function na(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function hv(n){bc(n)}function fv(n){console.error(n)}function dv(n){bc(n)}function Gc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function mv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Yd(n,s,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(n,s)},a}function pv(n){return n=Us(n),n.tag=3,n}function gv(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){mv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){mv(s,a,l),typeof f!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Ux(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&qa(s,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?ih():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),vm(n,l,f)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),vm(n,l,f)),!1}throw Error(r(435,a.tag))}return vm(n,l,f),ih(),!1}if(Bt)return s=xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==fd&&(n=Error(r(422),{cause:l}),El(jn(n,a)))):(l!==fd&&(s=Error(r(423),{cause:l}),El(jn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=jn(l,a),f=Yd(n.stateNode,l,f),Sd(n,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=jn(d,a),Fl===null?Fl=[d]:Fl.push(d),me!==4&&(me=2),s===null)return!0;l=jn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Yd(a.stateNode,l,n),Sd(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gs===null||!Gs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=pv(f),gv(f,n,a,l),Sd(a,f),!1}a=a.return}while(a!==null);return!1}var Qd=Error(r(461)),Re=!1;function Qe(n,s,a,l){s.child=n===null?T0(s,null,a,l):ta(s,n.child,a,l)}function yv(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return $r(s),l=Dd(n,s,a,_,d,f),S=Id(),n!==null&&!Re?(Nd(n,s,f),is(n,s,f)):(Bt&&S&&cd(s),s.flags|=1,Qe(n,s,l,f),s.child)}function vv(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!od(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,_v(n,s,d,l,f)):(n=xc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!nm(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(_,l)&&n.ref===s.ref)return is(n,s,f)}return s.flags|=1,n=Wi(d,l),n.ref=s.ref,n.return=s,s.child=n}function _v(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(vl(d,l)&&n.ref===s.ref)if(Re=!1,s.pendingProps=l=d,nm(n,f))(n.flags&131072)!==0&&(Re=!0);else return s.lanes=n.lanes,is(n,s,f)}return Xd(n,s,a,l,f)}function Tv(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return Ev(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ic(s,d!==null?d.cachePool:null),d!==null?S0(s,d):wd(),A0(s);else return l=s.lanes=536870912,Ev(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ic(s,d.cachePool),S0(s,d),Bs(),s.memoizedState=null):(n!==null&&Ic(s,null),wd(),Bs());return Qe(n,s,f,a),s.child}function Ml(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ev(n,s,a,l,f){var d=_d();return d=d===null?null:{parent:xe._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Ic(s,null),wd(),A0(s),n!==null&&qa(n,s,l,!0),s.childLanes=f,null}function Kc(n,s){return s=Qc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function bv(n,s,a){return ta(s,n.child,null,a),n=Kc(s,s.pendingProps),n.flags|=2,Cn(s),s.memoizedState=null,n}function jx(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Bt){if(l.mode==="hidden")return n=Kc(s,l),s.lanes=536870912,Ml(null,n);if(Cd(s),(n=ie)?(n=O_(n,zn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ms!==null?{id:Ni,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=r0(n),a.return=s,s.child=a,Ke=s,ie=null)):n=null,n===null)throw ks(s);return s.lanes=536870912,null}return Kc(s,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(Cd(s),f)if(s.flags&256)s.flags&=-257,s=bv(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Re||qa(n,s,a,!1),f=(a&n.childLanes)!==0,Re||f){if(l=ne,l!==null&&(_=tl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Kr(n,_),vn(l,n,_),Qd;ih(),s=bv(n,s,a)}else n=d.treeContext,ie=qn(_.nextSibling),Ke=s,Bt=!0,Os=null,zn=!1,n!==null&&l0(s,n),s=Kc(s,l),s.flags|=4096;return s}return n=Wi(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Yc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Xd(n,s,a,l,f){return $r(s),a=Dd(n,s,a,l,void 0,f),l=Id(),n!==null&&!Re?(Nd(n,s,f),is(n,s,f)):(Bt&&l&&cd(s),s.flags|=1,Qe(n,s,a,f),s.child)}function Sv(n,s,a,l,f,d){return $r(s),s.updateQueue=null,a=x0(s,l,a,f),w0(n),l=Id(),n!==null&&!Re?(Nd(n,s,d),is(n,s,d)):(Bt&&l&&cd(s),s.flags|=1,Qe(n,s,a,d),s.child)}function Av(n,s,a,l,f){if($r(s),s.stateNode===null){var d=Fa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ye(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Ed(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ye(_):Fa,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Gd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Kd.enqueueReplaceState(d,d.state,null),Rl(s,l,d,f),Cl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var S=s.memoizedProps,V=na(a,S);d.props=V;var H=d.context,W=a.contextType;_=Fa,typeof W=="object"&&W!==null&&(_=Ye(W));var tt=a.getDerivedStateFromProps;W=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&cv(s,d,l,_),Ls=!1;var Y=s.memoizedState;d.state=Y,Rl(s,l,d,f),Cl(),H=s.memoizedState,S||Y!==H||Ls?(typeof tt=="function"&&(Gd(s,a,tt,l),H=s.memoizedState),(V=Ls||uv(s,a,V,l,Y,H,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=_,l=V):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,bd(n,s),_=s.memoizedProps,W=na(a,_),d.props=W,tt=s.pendingProps,Y=d.context,H=a.contextType,V=Fa,typeof H=="object"&&H!==null&&(V=Ye(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||Y!==V)&&cv(s,d,l,V),Ls=!1,Y=s.memoizedState,d.state=Y,Rl(s,l,d,f),Cl();var X=s.memoizedState;_!==tt||Y!==X||Ls||n!==null&&n.dependencies!==null&&Rc(n.dependencies)?(typeof S=="function"&&(Gd(s,a,S,l),X=s.memoizedState),(W=Ls||uv(s,a,W,l,Y,X,V)||n!==null&&n.dependencies!==null&&Rc(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,V)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=X),d.props=l,d.state=X,d.context=V,l=W):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Yc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=ta(s,n.child,null,f),s.child=ta(s,null,a,f)):Qe(n,s,a,f),s.memoizedState=d.state,n=s.child):n=is(n,s,f),n}function wv(n,s,a,l){return Qr(),s.flags|=256,Qe(n,s,a,l),s.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wd(n){return{baseLanes:n,cachePool:m0()}}function Jd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Dn),n}function xv(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Bt){if(f?Fs(s):Bs(),(n=ie)?(n=O_(n,zn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ms!==null?{id:Ni,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=r0(n),a.return=s,s.child=a,Ke=s,ie=null)):n=null,n===null)throw ks(s);return Om(n)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Bs(),f=s.mode,S=Qc({mode:"hidden",children:S},f),l=Yr(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=Wd(a),l.childLanes=Jd(n,_,a),s.memoizedState=$d,Ml(null,l)):(Fs(s),Zd(s,S))}var V=n.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(d)s.flags&256?(Fs(s),s.flags&=-257,s=tm(n,s,a)):s.memoizedState!==null?(Bs(),s.child=n.child,s.flags|=128,s=null):(Bs(),S=l.fallback,f=s.mode,l=Qc({mode:"visible",children:l.children},f),S=Yr(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,ta(s,n.child,null,a),l=s.child,l.memoizedState=Wd(a),l.childLanes=Jd(n,_,a),s.memoizedState=$d,s=Ml(null,l));else if(Fs(s),Om(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,El({value:l,source:null,stack:null}),s=tm(n,s,a)}else if(Re||qa(n,s,a,!1),_=(a&n.childLanes)!==0,Re||_){if(_=ne,_!==null&&(l=tl(_,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,Kr(n,l),vn(_,n,l),Qd;Mm(S)||ih(),s=tm(n,s,a)}else Mm(S)?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,ie=qn(S.nextSibling),Ke=s,Bt=!0,Os=null,zn=!1,n!==null&&l0(s,n),s=Zd(s,l.children),s.flags|=4096);return s}return f?(Bs(),S=l.fallback,f=s.mode,V=n.child,H=V.sibling,l=Wi(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,H!==null?S=Wi(H,S):(S=Yr(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,Ml(null,l),l=s.child,S=n.child.memoizedState,S===null?S=Wd(a):(f=S.cachePool,f!==null?(V=xe._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=m0(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Jd(n,_,a),s.memoizedState=$d,Ml(n.child,l)):(Fs(s),a=n.child,n=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=a,s.memoizedState=null,a)}function Zd(n,s){return s=Qc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Qc(n,s){return n=wn(22,n,null,s),n.lanes=0,n}function tm(n,s,a){return ta(s,n.child,null,a),n=Zd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Cv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),pd(n.return,s,a)}function em(n,s,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Rv(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ve.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,ut(ve,_),Qe(n,s,l,a),l=Bt?Tl:0,!S&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cv(n,a,s);else if(n.tag===19)Cv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Pc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),em(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Pc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}em(s,!0,a,null,d,l);break;case"together":em(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function is(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),qs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(qa(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Wi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Wi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function nm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Rc(n)))}function Fx(n,s,a){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),Ps(s,xe,n.memoizedState.cache),Qr();break;case 27:case 5:Rr(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:Ps(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Cd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Fs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?xv(n,s,a):(Fs(s),n=is(n,s,a),n!==null?n.sibling:null);Fs(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(qa(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Rv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(ve,ve.current),l)break;return null;case 22:return s.lanes=0,Tv(n,s,a,s.pendingProps);case 24:Ps(s,xe,n.memoizedState.cache)}return is(n,s,a)}function Dv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Re=!0;else{if(!nm(n,a)&&(s.flags&128)===0)return Re=!1,Fx(n,s,a);Re=(n.flags&131072)!==0}else Re=!1,Bt&&(s.flags&1048576)!==0&&o0(s,Tl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=Jr(s.elementType),s.type=n,typeof n=="function")od(n)?(l=na(n,l),s.tag=1,s=Av(null,s,n,l,a)):(s.tag=0,s=Xd(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===at){s.tag=11,s=yv(null,s,n,l,a);break t}else if(f===C){s.tag=14,s=vv(null,s,n,l,a);break t}}throw s=pt(n)||n,Error(r(306,s,""))}}return s;case 0:return Xd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=na(l,s.pendingProps),Av(n,s,l,f,a);case 3:t:{if(Oe(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,bd(n,s),Rl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Ps(s,xe,l),l!==d.cache&&gd(s,[xe],a,!0),Cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=wv(n,s,l,a);break t}else if(l!==f){f=jn(Error(r(424)),s),El(f),s=wv(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ie=qn(n.firstChild),Ke=s,Bt=!0,Os=null,zn=!0,a=T0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qr(),l===f){s=is(n,s,a);break t}Qe(n,s,l,a)}s=s.child}return s;case 26:return Yc(n,s),n===null?(a=F_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Bt||(a=s.type,n=s.pendingProps,l=ch(Nt.current).createElement(a),l[Se]=s,l[Fe]=n,Xe(l,a,n),Ae(l),s.stateNode=l):s.memoizedState=F_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Rr(s),n===null&&Bt&&(l=s.stateNode=L_(s.type,s.pendingProps,Nt.current),Ke=s,zn=!0,f=ie,Xs(s.type)?(km=f,ie=qn(l.firstChild)):ie=f),Qe(n,s,s.pendingProps.children,a),Yc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Bt&&((f=l=ie)&&(l=gC(l,s.type,s.pendingProps,zn),l!==null?(s.stateNode=l,Ke=s,ie=qn(l.firstChild),zn=!1,f=!0):f=!1),f||ks(s)),Rr(s),f=s.type,d=s.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,Im(f,d)?l=null:_!==null&&Im(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Dd(n,s,Nx,null,null,a),Ql._currentValue=f),Yc(n,s),Qe(n,s,l,a),s.child;case 6:return n===null&&Bt&&((n=a=ie)&&(a=yC(a,s.pendingProps,zn),a!==null?(s.stateNode=a,Ke=s,ie=null,n=!0):n=!1),n||ks(s)),null;case 13:return xv(n,s,a);case 4:return Oe(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=ta(s,null,l,a):Qe(n,s,l,a),s.child;case 11:return yv(n,s,s.type,s.pendingProps,a);case 7:return Qe(n,s,s.pendingProps,a),s.child;case 8:return Qe(n,s,s.pendingProps.children,a),s.child;case 12:return Qe(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ps(s,s.type,l.value),Qe(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,$r(s),f=Ye(f),l=l(f),s.flags|=1,Qe(n,s,l,a),s.child;case 14:return vv(n,s,s.type,s.pendingProps,a);case 15:return _v(n,s,s.type,s.pendingProps,a);case 19:return Rv(n,s,a);case 31:return jx(n,s,a);case 22:return Tv(n,s,a,s.pendingProps);case 24:return $r(s),l=Ye(xe),n===null?(f=_d(),f===null&&(f=ne,d=yd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Ed(s),Ps(s,xe,f)):((n.lanes&a)!==0&&(bd(n,s),Rl(s,null,null,a),Cl()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ps(s,xe,l)):(l=d.cache,Ps(s,xe,l),l!==f.cache&&gd(s,[xe],a,!0))),Qe(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ss(n){n.flags|=4}function im(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(n_())n.flags|=8192;else throw Zr=Vc,Td}else n.flags&=-16777217}function Iv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!G_(s))if(n_())n.flags|=8192;else throw Zr=Vc,Td}function Xc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ec():536870912,n.lanes|=s,no|=s)}function Ol(n,s){if(!Bt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function se(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function Bx(n,s,a){var l=s.pendingProps;switch(hd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(s),null;case 1:return se(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ts(xe),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ha(s)?ss(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dd())),se(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(ss(s),d!==null?(se(s),Iv(s,d)):(se(s),im(s,f,null,l,a))):d?d!==n.memoizedState?(ss(s),se(s),Iv(s,d)):(se(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&ss(s),se(s),im(s,f,n,l,a)),null;case 27:if(Ea(s),a=Nt.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}n=ft.current,Ha(s)?u0(s):(n=L_(f,l,a),s.stateNode=n,ss(s))}return se(s),null;case 5:if(Ea(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}if(d=ft.current,Ha(s))u0(s);else{var _=ch(Nt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Se]=s,d[Fe]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Xe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ss(s)}}return se(s),im(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ss(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=Nt.current,Ha(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=Ke,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Se]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(n.nodeValue,a)),n||ks(s,!0)}else n=ch(n).createTextNode(l),n[Se]=s,s.stateNode=n}return se(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Ha(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Se]=s}else Qr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),n=!1}else a=dd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Cn(s),s):(Cn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return se(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ha(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Se]=s}else Qr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),f=!1}else f=dd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Cn(s),s):(Cn(s),null)}return Cn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Xc(s,s.updateQueue),se(s),null);case 4:return oe(),n===null&&wm(s.stateNode.containerInfo),se(s),null;case 10:return ts(s.type),se(s),null;case 19:if(Z(ve),l=s.memoizedState,l===null)return se(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Ol(l,!1);else{if(me!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=Pc(n),d!==null){for(s.flags|=128,Ol(l,!1),n=d.updateQueue,s.updateQueue=n,Xc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)s0(a,n),a=a.sibling;return ut(ve,ve.current&1|2),Bt&&Ji(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&on()>th&&(s.flags|=128,f=!0,Ol(l,!1),s.lanes=4194304)}else{if(!f)if(n=Pc(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Xc(s,n),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Bt)return se(s),null}else 2*on()-l.renderingStartTime>th&&a!==536870912&&(s.flags|=128,f=!0,Ol(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=on(),n.sibling=null,a=ve.current,ut(ve,f?a&1|2:a&1),Bt&&Ji(s,l.treeForkCount),n):(se(s),null);case 22:case 23:return Cn(s),xd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(se(s),s.subtreeFlags&6&&(s.flags|=8192)):se(s),a=s.updateQueue,a!==null&&Xc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&Z(Wr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ts(xe),se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function zx(n,s){switch(hd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ts(xe),oe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ea(s),null;case 31:if(s.memoizedState!==null){if(Cn(s),s.alternate===null)throw Error(r(340));Qr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Cn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Qr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Z(ve),null;case 4:return oe(),null;case 10:return ts(s.type),null;case 22:case 23:return Cn(s),xd(),n!==null&&Z(Wr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ts(xe),null;case 25:return null;default:return null}}function Nv(n,s){switch(hd(s),s.tag){case 3:ts(xe),oe();break;case 26:case 27:case 5:Ea(s);break;case 4:oe();break;case 31:s.memoizedState!==null&&Cn(s);break;case 13:Cn(s);break;case 19:Z(ve);break;case 10:ts(s.type);break;case 22:case 23:Cn(s),xd(),n!==null&&Z(Wr);break;case 24:ts(xe)}}function kl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Wt(s,s.return,S)}}function zs(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var V=a,H=S;try{H()}catch(W){Wt(f,V,W)}}}l=l.next}while(l!==d)}}catch(W){Wt(s,s.return,W)}}function Vv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{b0(s,a)}catch(l){Wt(n,n.return,l)}}}function Mv(n,s,a){a.props=na(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(n,s,l)}}function Pl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Wt(n,s,f)}}function Mi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Wt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Wt(n,s,f)}else a.current=null}function Ov(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Wt(n,n.return,f)}}function sm(n,s,a){try{var l=n.stateNode;cC(l,n.type,a,s),l[Fe]=s}catch(f){Wt(n,n.return,f)}}function kv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xs(n.type)||n.tag===4}function rm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||kv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xs(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function am(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ti));else if(l!==4&&(l===27&&Xs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(am(n,s,a),n=n.sibling;n!==null;)am(n,s,a),n=n.sibling}function $c(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Xs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for($c(n,s,a),n=n.sibling;n!==null;)$c(n,s,a),n=n.sibling}function Pv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xe(s,l,a),s[Se]=n,s[Fe]=a}catch(d){Wt(n,n.return,d)}}var rs=!1,De=!1,om=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Hx(n,s){if(n=n.containerInfo,Rm=yh,n=Xy(n),td(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,V=-1,H=0,W=0,tt=n,Y=null;e:for(;;){for(var X;tt!==a||f!==0&&tt.nodeType!==3||(S=_+f),tt!==d||l!==0&&tt.nodeType!==3||(V=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(X=tt.firstChild)!==null;)Y=tt,tt=X;for(;;){if(tt===n)break e;if(Y===a&&++H===f&&(S=_),Y===d&&++W===l&&(V=_),(X=tt.nextSibling)!==null)break;tt=Y,Y=tt.parentNode}tt=X}a=S===-1||V===-1?null:{start:S,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dm={focusedElem:n,selectionRange:a},yh=!1,ze=s;ze!==null;)if(s=ze,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ze=n;else for(;ze!==null;){switch(s=ze,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=na(a.type,f);n=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Et){Wt(a,a.return,Et)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Vm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Vm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,ze=n;break}ze=s.return}}function Uv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:os(n,a),l&4&&kl(5,a);break;case 1:if(os(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(_){Wt(a,a.return,_)}else{var f=na(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(a,a.return,_)}}l&64&&Vv(a),l&512&&Pl(a,a.return);break;case 3:if(os(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{b0(n,s)}catch(_){Wt(a,a.return,_)}}break;case 27:s===null&&l&4&&Pv(a);case 26:case 5:os(n,a),s===null&&l&4&&Ov(a),l&512&&Pl(a,a.return);break;case 12:os(n,a);break;case 31:os(n,a),l&4&&Bv(n,a);break;case 13:os(n,a),l&4&&zv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Jx.bind(null,a),vC(n,a))));break;case 22:if(l=a.memoizedState!==null||rs,!l){s=s!==null&&s.memoizedState!==null||De,f=rs;var d=De;rs=l,(De=s)&&!d?ls(n,a,(a.subtreeFlags&8772)!==0):os(n,a),rs=f,De=d}break;case 30:break;default:os(n,a)}}function jv(n){var s=n.alternate;s!==null&&(n.alternate=null,jv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&xa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ue=null,mn=!1;function as(n,s,a){for(a=a.child;a!==null;)Fv(n,s,a),a=a.sibling}function Fv(n,s,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:De||Mi(a,s),as(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Mi(a,s);var l=ue,f=mn;Xs(a.type)&&(ue=a.stateNode,mn=!1),as(n,s,a),Gl(a.stateNode),ue=l,mn=f;break;case 5:De||Mi(a,s);case 6:if(l=ue,f=mn,ue=null,as(n,s,a),ue=l,mn=f,ue!==null)if(mn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){Wt(a,s,d)}else try{ue.removeChild(a.stateNode)}catch(d){Wt(a,s,d)}break;case 18:ue!==null&&(mn?(n=ue,V_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),co(n)):V_(ue,a.stateNode));break;case 4:l=ue,f=mn,ue=a.stateNode.containerInfo,mn=!0,as(n,s,a),ue=l,mn=f;break;case 0:case 11:case 14:case 15:zs(2,a,s),De||zs(4,a,s),as(n,s,a);break;case 1:De||(Mi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Mv(a,s,l)),as(n,s,a);break;case 21:as(n,s,a);break;case 22:De=(l=De)||a.memoizedState!==null,as(n,s,a),De=l;break;default:as(n,s,a)}}function Bv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{co(n)}catch(a){Wt(s,s.return,a)}}}function zv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{co(n)}catch(a){Wt(s,s.return,a)}}function qx(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Lv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Lv),s;default:throw Error(r(435,n.tag))}}function Wc(n,s){var a=qx(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=Zx.bind(null,n,l);l.then(f,f)}})}function pn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=s,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Xs(S.type)){ue=S.stateNode,mn=!1;break t}break;case 5:ue=S.stateNode,mn=!1;break t;case 3:case 4:ue=S.stateNode.containerInfo,mn=!0;break t}S=S.return}if(ue===null)throw Error(r(160));Fv(d,_,f),ue=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Hv(s,n),s=s.sibling}var ai=null;function Hv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(s,n),gn(n),l&4&&(zs(3,n,n.return),kl(3,n),zs(5,n,n.return));break;case 1:pn(s,n),gn(n),l&512&&(De||a===null||Mi(a,a.return)),l&64&&rs&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(pn(s,n),gn(n),l&512&&(De||a===null||Mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_i]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,a),d[Se]=n,Ae(d),l=d;break t;case"link":var _=H_("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;case"meta":if(_=H_("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Se]=n,Ae(d),l=d}n.stateNode=l}else q_(f,n.type,n.stateNode);else n.stateNode=z_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?q_(f,n.type,n.stateNode):z_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&sm(n,n.memoizedProps,a.memoizedProps)}break;case 27:pn(s,n),gn(n),l&512&&(De||a===null||Mi(a,a.return)),a!==null&&l&4&&sm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(pn(s,n),gn(n),l&512&&(De||a===null||Mi(a,a.return)),n.flags&32){f=n.stateNode;try{dn(f,"")}catch(mt){Wt(n,n.return,mt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,sm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(om=!0);break;case 6:if(pn(s,n),gn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(mt){Wt(n,n.return,mt)}}break;case 3:if(dh=null,f=ai,ai=hh(s.containerInfo),pn(s,n),ai=f,gn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(s.containerInfo)}catch(mt){Wt(n,n.return,mt)}om&&(om=!1,qv(n));break;case 4:l=ai,ai=hh(n.stateNode.containerInfo),pn(s,n),gn(n),ai=l;break;case 12:pn(s,n),gn(n);break;case 31:pn(s,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Wc(n,l)));break;case 13:pn(s,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=on()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Wc(n,l)));break;case 22:f=n.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,H=rs,W=De;if(rs=H||f,De=W||V,pn(s,n),De=W,rs=H,gn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||V||rs||De||ia(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(d=V.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=V.stateNode;var tt=V.memoizedProps.style,Y=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(mt){Wt(V,V.return,mt)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(mt){Wt(V,V.return,mt)}}}else if(s.tag===18){if(a===null){V=s;try{var X=V.stateNode;f?M_(X,!0):M_(V.stateNode,!1)}catch(mt){Wt(V,V.return,mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wc(n,a))));break;case 19:pn(s,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Wc(n,l)));break;case 30:break;case 21:break;default:pn(s,n),gn(n)}}function gn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(kv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=rm(n);$c(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var S=rm(n);$c(n,S,_);break;case 3:case 4:var V=a.stateNode.containerInfo,H=rm(n);am(n,H,V);break;default:throw Error(r(161))}}catch(W){Wt(n,n.return,W)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function qv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;qv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function os(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Uv(n,s.alternate,s),s=s.sibling}function ia(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:zs(4,s,s.return),ia(s);break;case 1:Mi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Mv(s,s.return,a),ia(s);break;case 27:Gl(s.stateNode);case 26:case 5:Mi(s,s.return),ia(s);break;case 22:s.memoizedState===null&&ia(s);break;case 30:ia(s);break;default:ia(s)}n=n.sibling}}function ls(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:ls(f,d,a),kl(4,d);break;case 1:if(ls(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Wt(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)E0(V[f],S)}catch(H){Wt(l,l.return,H)}}a&&_&64&&Vv(d),Pl(d,d.return);break;case 27:Pv(d);case 26:case 5:ls(f,d,a),a&&l===null&&_&4&&Ov(d),Pl(d,d.return);break;case 12:ls(f,d,a);break;case 31:ls(f,d,a),a&&_&4&&Bv(f,d);break;case 13:ls(f,d,a),a&&_&4&&zv(f,d);break;case 22:d.memoizedState===null&&ls(f,d,a),Pl(d,d.return);break;case 30:break;default:ls(f,d,a)}s=s.sibling}}function lm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&bl(a))}function um(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&bl(n))}function oi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gv(n,s,a,l),s=s.sibling}function Gv(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:oi(n,s,a,l),f&2048&&kl(9,s);break;case 1:oi(n,s,a,l);break;case 3:oi(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&bl(n)));break;case 12:if(f&2048){oi(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){Wt(s,s.return,V)}}else oi(n,s,a,l);break;case 31:oi(n,s,a,l);break;case 13:oi(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?oi(n,s,a,l):Ll(n,s):d._visibility&2?oi(n,s,a,l):(d._visibility|=2,Za(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&lm(_,s);break;case 24:oi(n,s,a,l),f&2048&&um(s.alternate,s);break;default:oi(n,s,a,l)}}function Za(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,_=s,S=a,V=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Za(d,_,S,V,f),kl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Za(d,_,S,V,f):Ll(d,_):(W._visibility|=2,Za(d,_,S,V,f)),f&&H&2048&&lm(_.alternate,_);break;case 24:Za(d,_,S,V,f),f&&H&2048&&um(_.alternate,_);break;default:Za(d,_,S,V,f)}s=s.sibling}}function Ll(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ll(a,l),f&2048&&lm(l.alternate,l);break;case 24:Ll(a,l),f&2048&&um(l.alternate,l);break;default:Ll(a,l)}s=s.sibling}}var Ul=8192;function to(n,s,a){if(n.subtreeFlags&Ul)for(n=n.child;n!==null;)Kv(n,s,a),n=n.sibling}function Kv(n,s,a){switch(n.tag){case 26:to(n,s,a),n.flags&Ul&&n.memoizedState!==null&&IC(a,ai,n.memoizedState,n.memoizedProps);break;case 5:to(n,s,a);break;case 3:case 4:var l=ai;ai=hh(n.stateNode.containerInfo),to(n,s,a),ai=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,to(n,s,a),Ul=l):to(n,s,a));break;default:to(n,s,a)}}function Yv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function jl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ze=l,Xv(l,n)}Yv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qv(n),n=n.sibling}function Qv(n){switch(n.tag){case 0:case 11:case 15:jl(n),n.flags&2048&&zs(9,n,n.return);break;case 3:jl(n);break;case 12:jl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Jc(n)):jl(n);break;default:jl(n)}}function Jc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ze=l,Xv(l,n)}Yv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:zs(8,s,s.return),Jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(s));break;default:Jc(s)}n=n.sibling}}function Xv(n,s){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:zs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=n;ze!==null;){l=ze;var f=l.sibling,d=l.return;if(jv(l),l===a){ze=null;break t}if(f!==null){f.return=d,ze=f;break t}ze=d}}}var Gx={getCacheForType:function(n){var s=Ye(xe),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Ye(xe).controller.signal}},Kx=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,Ot=null,Pt=0,$t=0,Rn=null,Hs=!1,eo=!1,cm=!1,us=0,me=0,qs=0,sa=0,hm=0,Dn=0,no=0,Fl=null,yn=null,fm=!1,Zc=0,$v=0,th=1/0,eh=null,Gs=null,Pe=0,Ks=null,io=null,cs=0,dm=0,mm=null,Wv=null,Bl=0,pm=null;function In(){return(Yt&2)!==0&&Pt!==0?Pt&-Pt:G.T!==null?Em():nc()}function Jv(){if(Dn===0)if((Pt&536870912)===0||Bt){var n=Nr;Nr<<=1,(Nr&3932160)===0&&(Nr=262144),Dn=n}else Dn=536870912;return n=xn.current,n!==null&&(n.flags|=32),Dn}function vn(n,s,a){(n===ne&&($t===2||$t===9)||n.cancelPendingCommit!==null)&&(so(n,0),Ys(n,Pt,Dn,!1)),Vr(n,a),((Yt&2)===0||n!==ne)&&(n===ne&&((Yt&2)===0&&(sa|=a),me===4&&Ys(n,Pt,Dn,!1)),Oi(n))}function Zv(n,s,a){if((Yt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Wn(n,s),f=l?Xx(n,s):ym(n,s,!0),d=l;do{if(f===0){eo&&!l&&Ys(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!Yx(a)){f=ym(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var S=n;f=Fl;var V=S.current.memoizedState.isDehydrated;if(V&&(so(S,_).flags|=256),_=ym(S,_,!1),_!==2){if(cm&&!V){S.errorRecoveryDisabledLanes|=d,sa|=d,f=4;break t}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){so(n,0),Ys(n,s,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ys(l,s,Dn,!Hs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Zc+300-on(),10<f)){if(Ys(l,s,Dn,!Hs),gi(l,0,!0)!==0)break t;cs=s,l.timeoutHandle=I_(t_.bind(null,l,a,yn,eh,fm,s,Dn,sa,no,Hs,d,"Throttled",-0,0),f);break t}t_(l,a,yn,eh,fm,s,Dn,sa,no,Hs,d,null,-0,0)}}break}while(!0);Oi(n)}function t_(n,s,a,l,f,d,_,S,V,H,W,tt,Y,X){if(n.timeoutHandle=-1,tt=s.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Kv(s,d,tt);var mt=(d&62914560)===d?Zc-on():(d&4194048)===d?$v-on():0;if(mt=NC(tt,mt),mt!==null){cs=d,n.cancelPendingCommit=mt(l_.bind(null,n,s,d,a,l,f,_,S,V,W,tt,null,Y,X)),Ys(n,d,_,!H);return}}l_(n,s,d,a,l,f,_,S,V)}function Yx(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ys(n,s,a,l){s&=~hm,s&=~sa,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-ge(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Mr(n,a,s)}function nh(){return(Yt&6)===0?(zl(0),!1):!0}function gm(){if(Ot!==null){if($t===0)var n=Ot.return;else n=Ot,Zi=Xr=null,Vd(n),Qa=null,Al=0,n=Ot;for(;n!==null;)Nv(n.alternate,n),n=n.return;Ot=null}}function so(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,dC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),cs=0,gm(),ne=n,Ot=a=Wi(n.current,null),Pt=s,$t=0,Rn=null,Hs=!1,eo=Wn(n,s),cm=!1,no=Dn=hm=sa=qs=me=0,yn=Fl=null,fm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-ge(l),d=1<<f;s|=n[f],l&=~d}return us=s,Sc(),a}function e_(n,s){It=null,G.H=Vl,s===Ya||s===Nc?(s=y0(),$t=3):s===Td?(s=y0(),$t=4):$t=s===Qd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,Ot===null&&(me=1,Gc(n,jn(s,n.current)))}function n_(){var n=xn.current;return n===null?!0:(Pt&4194048)===Pt?Hn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?n===Hn:!1}function i_(){var n=G.H;return G.H=Vl,n===null?Vl:n}function s_(){var n=G.A;return G.A=Gx,n}function ih(){me=4,Hs||(Pt&4194048)!==Pt&&xn.current!==null||(eo=!0),(qs&134217727)===0&&(sa&134217727)===0||ne===null||Ys(ne,Pt,Dn,!1)}function ym(n,s,a){var l=Yt;Yt|=2;var f=i_(),d=s_();(ne!==n||Pt!==s)&&(eh=null,so(n,s)),s=!1;var _=me;t:do try{if($t!==0&&Ot!==null){var S=Ot,V=Rn;switch($t){case 8:gm(),_=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(s=!0);var H=$t;if($t=0,Rn=null,ro(n,S,V,H),a&&eo){_=0;break t}break;default:H=$t,$t=0,Rn=null,ro(n,S,V,H)}}Qx(),_=me;break}catch(W){e_(n,W)}while(!0);return s&&n.shellSuspendCounter++,Zi=Xr=null,Yt=l,G.H=f,G.A=d,Ot===null&&(ne=null,Pt=0,Sc()),_}function Qx(){for(;Ot!==null;)r_(Ot)}function Xx(n,s){var a=Yt;Yt|=2;var l=i_(),f=s_();ne!==n||Pt!==s?(eh=null,th=on()+500,so(n,s)):eo=Wn(n,s);t:do try{if($t!==0&&Ot!==null){s=Ot;var d=Rn;e:switch($t){case 1:$t=0,Rn=null,ro(n,s,d,1);break;case 2:case 9:if(p0(d)){$t=0,Rn=null,a_(s);break}s=function(){$t!==2&&$t!==9||ne!==n||($t=7),Oi(n)},d.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:p0(d)?($t=0,Rn=null,a_(s)):($t=0,Rn=null,ro(n,s,d,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var S=Ot;if(_?G_(_):S.stateNode.complete){$t=0,Rn=null;var V=S.sibling;if(V!==null)Ot=V;else{var H=S.return;H!==null?(Ot=H,sh(H)):Ot=null}break e}}$t=0,Rn=null,ro(n,s,d,5);break;case 6:$t=0,Rn=null,ro(n,s,d,6);break;case 8:gm(),me=6;break t;default:throw Error(r(462))}}$x();break}catch(W){e_(n,W)}while(!0);return Zi=Xr=null,G.H=l,G.A=f,Yt=a,Ot!==null?0:(ne=null,Pt=0,Sc(),me)}function $x(){for(;Ot!==null&&!Yf();)r_(Ot)}function r_(n){var s=Dv(n.alternate,n,us);n.memoizedProps=n.pendingProps,s===null?sh(n):Ot=s}function a_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Sv(a,s,s.pendingProps,s.type,void 0,Pt);break;case 11:s=Sv(a,s,s.pendingProps,s.type.render,s.ref,Pt);break;case 5:Vd(s);default:Nv(a,s),s=Ot=s0(s,us),s=Dv(a,s,us)}n.memoizedProps=n.pendingProps,s===null?sh(n):Ot=s}function ro(n,s,a,l){Zi=Xr=null,Vd(s),Qa=null,Al=0;var f=s.return;try{if(Ux(n,f,s,a,Pt)){me=1,Gc(n,jn(a,n.current)),Ot=null;return}}catch(d){if(f!==null)throw Ot=f,d;me=1,Gc(n,jn(a,n.current)),Ot=null;return}s.flags&32768?(Bt||l===1?n=!0:eo||(Pt&536870912)!==0?n=!1:(Hs=n=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),o_(s,n)):sh(s)}function sh(n){var s=n;do{if((s.flags&32768)!==0){o_(s,Hs);return}n=s.return;var a=Bx(s.alternate,s,us);if(a!==null){Ot=a;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=n}while(s!==null);me===0&&(me=5)}function o_(n,s){do{var a=zx(n.alternate,n);if(a!==null){a.flags&=32767,Ot=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Ot=n;return}Ot=n=a}while(n!==null);me=6,Ot=null}function l_(n,s,a,l,f,d,_,S,V){n.cancelPendingCommit=null;do rh();while(Pe!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=rd,$f(n,a,d,_,S,V),n===ne&&(Ot=ne=null,Pt=0),io=s,Ks=n,cs=a,dm=d,mm=f,Wv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,tC(Ss,function(){return d_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=et.p,et.p=2,_=Yt,Yt|=4;try{Hx(n,s,a)}finally{Yt=_,et.p=f,G.T=l}}Pe=1,u_(),c_(),h_()}}function u_(){if(Pe===1){Pe=0;var n=Ks,s=io,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var f=Yt;Yt|=4;try{Hv(s,n);var d=Dm,_=Xy(n.containerInfo),S=d.focusedElem,V=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Qy(S.ownerDocument.documentElement,S)){if(V!==null&&td(S)){var H=V.start,W=V.end;if(W===void 0&&(W=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(W,S.value.length);else{var tt=S.ownerDocument||document,Y=tt&&tt.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),mt=S.textContent.length,Et=Math.min(V.start,mt),ee=V.end===void 0?Et:Math.min(V.end,mt);!X.extend&&Et>ee&&(_=ee,ee=Et,Et=_);var U=Yy(S,Et),k=Yy(S,ee);if(U&&k&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==k.node||X.focusOffset!==k.offset)){var z=tt.createRange();z.setStart(U.node,U.offset),X.removeAllRanges(),Et>ee?(X.addRange(z),X.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),X.addRange(z))}}}}for(tt=[],X=S;X=X.parentNode;)X.nodeType===1&&tt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var J=tt[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}yh=!!Rm,Dm=Rm=null}finally{Yt=f,et.p=l,G.T=a}}n.current=s,Pe=2}}function c_(){if(Pe===2){Pe=0;var n=Ks,s=io,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var f=Yt;Yt|=4;try{Uv(n,s.alternate,s)}finally{Yt=f,et.p=l,G.T=a}}Pe=3}}function h_(){if(Pe===4||Pe===3){Pe=0,Xu();var n=Ks,s=io,a=cs,l=Wv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pe=5:(Pe=0,io=Ks=null,f_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Gs=null),Yi(a),s=s.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot($n,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=G.T,f=et.p,et.p=2,G.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{G.T=s,et.p=f}}(cs&3)!==0&&rh(),Oi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===pm?Bl++:(Bl=0,pm=n):Bl=0,zl(0)}}function f_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,bl(s)))}function rh(){return u_(),c_(),h_(),d_()}function d_(){if(Pe!==5)return!1;var n=Ks,s=dm;dm=0;var a=Yi(cs),l=G.T,f=et.p;try{et.p=32>a?32:a,G.T=null,a=mm,mm=null;var d=Ks,_=cs;if(Pe=0,io=Ks=null,cs=0,(Yt&6)!==0)throw Error(r(331));var S=Yt;if(Yt|=4,Qv(d.current),Gv(d,d.current,_,a),Yt=S,zl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{et.p=f,G.T=l,f_(n,s)}}function m_(n,s,a){s=jn(a,s),s=Yd(n.stateNode,s,2),n=js(n,s,2),n!==null&&(Vr(n,2),Oi(n))}function Wt(n,s,a){if(n.tag===3)m_(n,n,a);else for(;s!==null;){if(s.tag===3){m_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gs===null||!Gs.has(l))){n=jn(a,n),a=pv(2),l=js(s,a,2),l!==null&&(gv(a,l,s,n),Vr(l,2),Oi(l));break}}s=s.return}}function vm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Kx;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(cm=!0,f.add(a),n=Wx.bind(null,n,s,a),s.then(n,n))}function Wx(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ne===n&&(Pt&a)===a&&(me===4||me===3&&(Pt&62914560)===Pt&&300>on()-Zc?(Yt&2)===0&&so(n,0):hm|=a,no===Pt&&(no=0)),Oi(n)}function p_(n,s){s===0&&(s=ec()),n=Kr(n,s),n!==null&&(Vr(n,s),Oi(n))}function Jx(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),p_(n,a)}function Zx(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),p_(n,a)}function tC(n,s){return ke(n,s)}var ah=null,ao=null,_m=!1,oh=!1,Tm=!1,Qs=0;function Oi(n){n!==ao&&n.next===null&&(ao===null?ah=ao=n:ao=ao.next=n),oh=!0,_m||(_m=!0,nC())}function zl(n,s){if(!Tm&&oh){Tm=!0;do for(var a=!1,l=ah;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ge(42|n)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,__(l,d))}else d=Pt,d=gi(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,__(l,d));l=l.next}while(a);Tm=!1}}function eC(){g_()}function g_(){oh=_m=!1;var n=0;Qs!==0&&fC()&&(n=Qs);for(var s=on(),a=null,l=ah;l!==null;){var f=l.next,d=y_(l,s);d===0?(l.next=null,a===null?ah=f:a.next=f,f===null&&(ao=a)):(a=l,(n!==0||(d&3)!==0)&&(oh=!0)),l=f}Pe!==0&&Pe!==5||zl(n),Qs!==0&&(Qs=0)}function y_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-ge(d),S=1<<_,V=f[_];V===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Xf(S,s)):V<=s&&(n.expiredLanes|=S),d&=~S}if(s=ne,a=Pt,a=gi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&($t===2||$t===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Wn(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&bs(l),Yi(a)){case 2:case 8:a=Jo;break;case 32:a=Ss;break;case 268435456:a=$u;break;default:a=Ss}return l=v_.bind(null,n),a=ke(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&bs(l),n.callbackPriority=2,n.callbackNode=null,2}function v_(n,s){if(Pe!==0&&Pe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(rh()&&n.callbackNode!==a)return null;var l=Pt;return l=gi(n,n===ne?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Zv(n,l,s),y_(n,on()),n.callbackNode!=null&&n.callbackNode===a?v_.bind(null,n):null)}function __(n,s){if(rh())return null;Zv(n,s,!0)}function nC(){mC(function(){(Yt&6)!==0?ke(Wo,eC):g_()})}function Em(){if(Qs===0){var n=Ga;n===0&&(n=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Qs=n}return Qs}function T_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ia(""+n)}function E_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function iC(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=T_((f[Fe]||null).action),_=l.submitter;_&&(s=(s=_[Fe]||null)?T_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var S=new Ci("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var V=_?E_(f,_):new FormData(f);Bd(a,{pending:!0,data:V,method:f.method,action:d},null,V)}}else typeof d=="function"&&(S.preventDefault(),V=_?E_(f,_):new FormData(f),Bd(a,{pending:!0,data:V,method:f.method,action:d},d,V))},currentTarget:f}]})}}for(var bm=0;bm<sd.length;bm++){var Sm=sd[bm],sC=Sm.toLowerCase(),rC=Sm[0].toUpperCase()+Sm.slice(1);ri(sC,"on"+rC)}ri(Jy,"onAnimationEnd"),ri(Zy,"onAnimationIteration"),ri(t0,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Ex,"onTransitionRun"),ri(bx,"onTransitionStart"),ri(Sx,"onTransitionCancel"),ri(e0,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function b_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],V=S.instance,H=S.currentTarget;if(S=S.listener,V!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=H;try{d(f)}catch(W){bc(W)}f.currentTarget=null,d=V}else for(_=0;_<l.length;_++){if(S=l[_],V=S.instance,H=S.currentTarget,S=S.listener,V!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=H;try{d(f)}catch(W){bc(W)}f.currentTarget=null,d=V}}}}function kt(n,s){var a=s[wa];a===void 0&&(a=s[wa]=new Set);var l=n+"__bubble";a.has(l)||(S_(s,n,2,!1),a.add(l))}function Am(n,s,a){var l=0;s&&(l|=4),S_(a,n,l,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function wm(n){if(!n[lh]){n[lh]=!0,el.forEach(function(a){a!=="selectionchange"&&(aC.has(a)||Am(a,!1,n),Am(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[lh]||(s[lh]=!0,Am("selectionchange",!1,s))}}function S_(n,s,a,l){switch(J_(s)){case 2:var f=OC;break;case 8:f=kC;break;default:f=Fm}a=f.bind(null,s,a,n),f=void 0,!Ur||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function xm(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Ti(S),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Ds(function(){var H=d,W=kn(a),tt=[];t:{var Y=n0.get(n);if(Y!==void 0){var X=Ci,mt=n;switch(n){case"keypress":if(Fr(a)===0)break t;case"keydown":case"keyup":X=_c;break;case"focusin":mt="focus",X=zr;break;case"focusout":mt="blur",X=zr;break;case"beforeblur":case"afterblur":X=zr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Jy:case Zy:case t0:X=fc;break;case e0:X=w;break;case"scroll":case"scrollend":X=dl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=$i;break;case"toggle":case"beforetoggle":X=Dt}var Et=(s&4)!==0,ee=!Et&&(n==="scroll"||n==="scrollend"),U=Et?Y!==null?Y+"Capture":null:Y;Et=[];for(var k=H,z;k!==null;){var J=k;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||U===null||(J=ei(k,U),J!=null&&Et.push(ql(k,J,z))),ee)break;k=k.return}0<Et.length&&(Y=new X(Y,mt,null,a,W),tt.push({event:Y,listeners:Et}))}}if((s&7)===0){t:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&a!==cl&&(mt=a.relatedTarget||a.fromElement)&&(Ti(mt)||mt[vi]))break t;if((X||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(mt=a.relatedTarget||a.toElement,X=H,mt=mt?Ti(mt):null,mt!==null&&(ee=u(mt),Et=mt.tag,mt!==ee||Et!==5&&Et!==27&&Et!==6)&&(mt=null)):(X=null,mt=H),X!==mt)){if(Et=ml,J="onMouseLeave",U="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(Et=$i,J="onPointerLeave",U="onPointerEnter",k="pointer"),ee=X==null?Y:bn(X),z=mt==null?Y:bn(mt),Y=new Et(J,k+"leave",X,a,W),Y.target=ee,Y.relatedTarget=z,J=null,Ti(W)===H&&(Et=new Et(U,k+"enter",mt,a,W),Et.target=z,Et.relatedTarget=ee,J=Et),ee=J,X&&mt)e:{for(Et=oC,U=X,k=mt,z=0,J=U;J;J=Et(J))z++;J=0;for(var _t=k;_t;_t=Et(_t))J++;for(;0<z-J;)U=Et(U),z--;for(;0<J-z;)k=Et(k),J--;for(;z--;){if(U===k||k!==null&&U===k.alternate){Et=U;break e}U=Et(U),k=Et(k)}Et=null}else Et=null;X!==null&&A_(tt,Y,X,Et,!1),mt!==null&&ee!==null&&A_(tt,ee,mt,Et,!0)}}t:{if(Y=H?bn(H):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var qt=By;else if(jy(Y))if(zy)qt=vx;else{qt=gx;var gt=px}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&Da(H.elementType)&&(qt=By):qt=yx;if(qt&&(qt=qt(n,H))){Fy(tt,qt,a,W);break t}gt&&gt(n,Y,H),n==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&ol(Y,"number",Y.value)}switch(gt=H?bn(H):window,n){case"focusin":(jy(gt)||gt.contentEditable==="true")&&(La=gt,ed=H,_l=null);break;case"focusout":_l=ed=La=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,$y(tt,a,W);break;case"selectionchange":if(Tx)break;case"keydown":case"keyup":$y(tt,a,W)}var Vt;if(Kt)t:{switch(n){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Pa?Hr(n,a)&&(Lt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ii&&a.locale!=="ko"&&(Pa||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Pa&&(Vt=fl()):(xi=W,hl="value"in xi?xi.value:xi.textContent,Pa=!0)),gt=uh(H,Lt),0<gt.length&&(Lt=new Di(Lt,n,null,a,W),tt.push({event:Lt,listeners:gt}),Vt?Lt.data=Vt:(Vt=ka(a),Vt!==null&&(Lt.data=Vt)))),(Vt=Ln?hx(n,a):fx(n,a))&&(Lt=uh(H,"onBeforeInput"),0<Lt.length&&(gt=new Di("onBeforeInput","beforeinput",null,a,W),tt.push({event:gt,listeners:Lt}),gt.data=Vt)),iC(tt,n,H,a,W)}b_(tt,s)})}function ql(n,s,a){return{instance:n,listener:s,currentTarget:a}}function uh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(n,a),f!=null&&l.unshift(ql(n,f,d)),f=ei(n,s),f!=null&&l.push(ql(n,f,d))),n.tag===3)return l;n=n.return}return[]}function oC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function A_(n,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var S=a,V=S.alternate,H=S.stateNode;if(S=S.tag,V!==null&&V===l)break;S!==5&&S!==26&&S!==27||H===null||(V=H,f?(H=ei(a,d),H!=null&&_.unshift(ql(a,H,V))):f||(H=ei(a,d),H!=null&&_.push(ql(a,H,V)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var lC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function w_(n){return(typeof n=="string"?n:""+n).replace(lC,`
`).replace(uC,"")}function x_(n,s){return s=w_(s),w_(n)===s}function te(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||dn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&dn(n,""+l);break;case"className":Sn(n,"class",l);break;case"tabIndex":Sn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(n,a,l);break;case"style":ul(n,l,d);break;case"data":if(s!=="object"){Sn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ia(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&te(n,s,"name",f.name,f,null),te(n,s,"formEncType",f.formEncType,f,null),te(n,s,"formMethod",f.formMethod,f,null),te(n,s,"formTarget",f.formTarget,f,null)):(te(n,s,"encType",f.encType,f,null),te(n,s,"method",f.method,f,null),te(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ia(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ti);break;case"onScroll":l!=null&&kt("scroll",n);break;case"onScrollEnd":l!=null&&kt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ia(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":kt("beforetoggle",n),kt("toggle",n),Ca(n,"popover",l);break;case"xlinkActuate":we(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ca(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Ca(n,a,l))}}function Cm(n,s,a,l,f,d){switch(a){case"style":ul(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?dn(n,l):(typeof l=="number"||typeof l=="bigint")&&dn(n,""+l);break;case"onScroll":l!=null&&kt("scroll",n);break;case"onScrollEnd":l!=null&&kt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[Fe]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ca(n,a,l)}}}function Xe(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",n),kt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(n,s,d,_,a,null)}}f&&te(n,s,"srcSet",a.srcSet,a,null),l&&te(n,s,"src",a.src,a,null);return;case"input":kt("invalid",n);var S=d=_=f=null,V=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":V=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:te(n,s,l,W,a,null)}}ac(n,d,S,V,H,_,f,!1);return;case"select":kt("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:te(n,s,f,S,a,null)}s=d,a=_,n.multiple=!!l,s!=null?ws(n,!!l,s,!1):a!=null&&ws(n,!!l,a,!0);return;case"textarea":kt("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:te(n,s,_,S,a,null)}xs(n,l,f,d);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(n,s,V,l,a,null)}return;case"dialog":kt("beforetoggle",n),kt("toggle",n),kt("cancel",n),kt("close",n);break;case"iframe":case"object":kt("load",n);break;case"video":case"audio":for(l=0;l<Hl.length;l++)kt(Hl[l],n);break;case"image":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"embed":case"source":case"link":kt("error",n),kt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(n,s,H,l,a,null)}return;default:if(Da(s)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Cm(n,s,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&te(n,s,S,l,a,null))}function cC(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,V=null,H=null,W=null;for(X in a){var tt=a[X];if(a.hasOwnProperty(X)&&tt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=tt;default:l.hasOwnProperty(X)||te(n,s,X,null,l,tt)}}for(var Y in l){var X=l[Y];if(tt=a[Y],l.hasOwnProperty(Y)&&(X!=null||tt!=null))switch(Y){case"type":d=X;break;case"name":f=X;break;case"checked":H=X;break;case"defaultChecked":W=X;break;case"value":_=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==tt&&te(n,s,Y,X,l,tt)}}Ra(n,_,S,V,H,W,d,f);return;case"select":X=_=S=Y=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":X=V;default:l.hasOwnProperty(d)||te(n,s,d,null,l,V)}for(f in l)if(d=l[f],V=a[f],l.hasOwnProperty(f)&&(d!=null||V!=null))switch(f){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==V&&te(n,s,f,d,l,V)}s=S,a=_,l=X,Y!=null?ws(n,!!a,Y,!1):!!l!=!!a&&(s!=null?ws(n,!!a,s,!0):ws(n,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:te(n,s,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&te(n,s,_,f,l,d)}oc(n,Y,X);return;case"option":for(var mt in a)if(Y=a[mt],a.hasOwnProperty(mt)&&Y!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":n.selected=!1;break;default:te(n,s,mt,null,l,Y)}for(V in l)if(Y=l[V],X=a[V],l.hasOwnProperty(V)&&Y!==X&&(Y!=null||X!=null))switch(V){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:te(n,s,V,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)Y=a[Et],a.hasOwnProperty(Et)&&Y!=null&&!l.hasOwnProperty(Et)&&te(n,s,Et,null,l,Y);for(H in l)if(Y=l[H],X=a[H],l.hasOwnProperty(H)&&Y!==X&&(Y!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:te(n,s,H,Y,l,X)}return;default:if(Da(s)){for(var ee in a)Y=a[ee],a.hasOwnProperty(ee)&&Y!==void 0&&!l.hasOwnProperty(ee)&&Cm(n,s,ee,void 0,l,Y);for(W in l)Y=l[W],X=a[W],!l.hasOwnProperty(W)||Y===X||Y===void 0&&X===void 0||Cm(n,s,W,Y,l,X);return}}for(var U in a)Y=a[U],a.hasOwnProperty(U)&&Y!=null&&!l.hasOwnProperty(U)&&te(n,s,U,null,l,Y);for(tt in l)Y=l[tt],X=a[tt],!l.hasOwnProperty(tt)||Y===X||Y==null&&X==null||te(n,s,tt,Y,l,X)}function C_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hC(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&C_(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var V=a[l],H=V.startTime;if(H>S)break;var W=V.transferSize,tt=V.initiatorType;W&&C_(tt)&&(V=V.responseEnd,_+=W*(V<S?1:(S-H)/(V-H)))}if(--l,s+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Rm=null,Dm=null;function ch(n){return n.nodeType===9?n:n.ownerDocument}function R_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Im(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Nm=null;function fC(){var n=window.event;return n&&n.type==="popstate"?n===Nm?!1:(Nm=n,!0):(Nm=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,dC=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,mC=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(n){return N_.resolve(null).then(n).catch(pC)}:I_;function pC(n){setTimeout(function(){throw n})}function Xs(n){return n==="head"}function V_(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),co(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Gl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Gl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[_i]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Gl(n.ownerDocument.body);a=f}while(a);co(s)}function M_(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Vm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vm(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function gC(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[_i])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=qn(n.nextSibling),n===null)break}return null}function yC(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=qn(n.nextSibling),n===null))return null;return n}function O_(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=qn(n.nextSibling),n===null))return null;return n}function Mm(n){return n.data==="$?"||n.data==="$~"}function Om(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function vC(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function qn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var km=null;function k_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return qn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function P_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function L_(n,s,a){switch(s=ch(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Gl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);xa(n)}var Gn=new Map,U_=new Set;function hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var hs=et.d;et.d={f:_C,r:TC,D:EC,C:bC,L:SC,m:AC,X:xC,S:wC,M:CC};function _C(){var n=hs.f(),s=nh();return n||s}function TC(n){var s=On(n);s!==null&&s.tag===5&&s.type==="form"?ev(s):hs.r(n)}var oo=typeof document>"u"?null:document;function j_(n,s,a){var l=oo;if(l&&typeof s=="string"&&s){var f=fn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),U_.has(f)||(U_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xe(s,"link",n),Ae(s),l.head.appendChild(s)))}}function EC(n){hs.D(n),j_("dns-prefetch",n,null)}function bC(n,s){hs.C(n,s),j_("preconnect",n,s)}function SC(n,s,a){hs.L(n,s,a);var l=oo;if(l&&n&&s){var f='link[rel="preload"][as="'+fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(n)+'"]';var d=f;switch(s){case"style":d=lo(n);break;case"script":d=uo(n)}Gn.has(d)||(n=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Gn.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Kl(d))||s==="script"&&l.querySelector(Yl(d))||(s=l.createElement("link"),Xe(s,"link",n),Ae(s),l.head.appendChild(s)))}}function AC(n,s){hs.m(n,s);var a=oo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(n)}if(!Gn.has(d)&&(n=T({rel:"modulepreload",href:n},s),Gn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}l=a.createElement("link"),Xe(l,"link",n),Ae(l),a.head.appendChild(l)}}}function wC(n,s,a){hs.S(n,s,a);var l=oo;if(l&&n){var f=Ei(l).hoistableStyles,d=lo(n);s=s||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Kl(d)))S.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Gn.get(d))&&Pm(n,a);var V=_=l.createElement("link");Ae(V),Xe(V,"link",n),V._p=new Promise(function(H,W){V.onload=H,V.onerror=W}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,fh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function xC(n,s){hs.X(n,s);var a=oo;if(a&&n){var l=Ei(a).hoistableScripts,f=uo(n),d=l.get(f);d||(d=a.querySelector(Yl(f)),d||(n=T({src:n,async:!0},s),(s=Gn.get(f))&&Lm(n,s),d=a.createElement("script"),Ae(d),Xe(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function CC(n,s){hs.M(n,s);var a=oo;if(a&&n){var l=Ei(a).hoistableScripts,f=uo(n),d=l.get(f);d||(d=a.querySelector(Yl(f)),d||(n=T({src:n,async:!0,type:"module"},s),(s=Gn.get(f))&&Lm(n,s),d=a.createElement("script"),Ae(d),Xe(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function F_(n,s,a,l){var f=(f=Nt.current)?hh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=lo(a.href),a=Ei(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=lo(a.href);var d=Ei(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(Kl(n)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(n,a),d||RC(f,n,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=uo(a),a=Ei(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function lo(n){return'href="'+fn(n)+'"'}function Kl(n){return'link[rel="stylesheet"]['+n+"]"}function B_(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function RC(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xe(s,"link",a),Ae(s),n.head.appendChild(s))}function uo(n){return'[src="'+fn(n)+'"]'}function Yl(n){return"script[async]"+n}function z_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return s.instance=l,Ae(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ae(l),Xe(l,"style",f),fh(l,a.precedence,n),s.instance=l;case"stylesheet":f=lo(a.href);var d=n.querySelector(Kl(f));if(d)return s.state.loading|=4,s.instance=d,Ae(d),d;l=B_(a),(f=Gn.get(f))&&Pm(l,f),d=(n.ownerDocument||n).createElement("link"),Ae(d);var _=d;return _._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),Xe(d,"link",l),s.state.loading|=4,fh(d,a.precedence,n),s.instance=d;case"script":return d=uo(a.src),(f=n.querySelector(Yl(d)))?(s.instance=f,Ae(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),Lm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ae(f),Xe(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,fh(l,a.precedence,n));return s.instance}function fh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Pm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Lm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var dh=null;function H_(n,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[_i]||d[Se]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=n+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function q_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function DC(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function G_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function IC(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=lo(l.href),d=s.querySelector(Kl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=mh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,Ae(d);return}d=s.ownerDocument||s,l=B_(l),(f=Gn.get(f))&&Pm(l,f),d=d.createElement("link"),Ae(d);var _=d;_._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),Xe(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=mh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Um=0;function NC(n,s){return n.stylesheets&&n.count===0&&gh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Um===0&&(Um=62500*hC());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Um?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ph=null;function gh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ph=new Map,s.forEach(VC,n),ph=null,mh.call(n))}function VC(n,s){if(!(s.state.loading&4)){var a=ph.get(n);if(a)var l=a.get(null);else{a=new Map,ph.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Ql={$$typeof:q,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function MC(n,s,a,l,f,d,_,S,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function K_(n,s,a,l,f,d,_,S,V,H,W,tt){return n=new MC(n,s,a,_,V,H,W,tt,S),s=1,d===!0&&(s|=24),d=wn(3,null,null,s),n.current=d,d.stateNode=n,s=yd(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Ed(d),n}function Y_(n){return n?(n=Fa,n):Fa}function Q_(n,s,a,l,f,d){f=Y_(f),l.context===null?l.context=f:l.pendingContext=f,l=Us(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=js(n,l,s),a!==null&&(vn(a,n,s),xl(a,n,s))}function X_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function jm(n,s){X_(n,s),(n=n.alternate)&&X_(n,s)}function $_(n){if(n.tag===13||n.tag===31){var s=Kr(n,67108864);s!==null&&vn(s,n,67108864),jm(n,67108864)}}function W_(n){if(n.tag===13||n.tag===31){var s=In();s=Or(s);var a=Kr(n,s);a!==null&&vn(a,n,s),jm(n,s)}}var yh=!0;function OC(n,s,a,l){var f=G.T;G.T=null;var d=et.p;try{et.p=2,Fm(n,s,a,l)}finally{et.p=d,G.T=f}}function kC(n,s,a,l){var f=G.T;G.T=null;var d=et.p;try{et.p=8,Fm(n,s,a,l)}finally{et.p=d,G.T=f}}function Fm(n,s,a,l){if(yh){var f=Bm(l);if(f===null)xm(n,s,l,vh,a),Z_(n,l);else if(LC(f,n,s,a,l))l.stopPropagation();else if(Z_(n,l),s&4&&-1<PC.indexOf(n)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var V=1<<31-ge(_);S.entanglements[1]|=V,_&=~V}Oi(d),(Yt&6)===0&&(th=on()+500,zl(0))}}break;case 31:case 13:S=Kr(d,2),S!==null&&vn(S,d,2),nh(),jm(d,2)}if(d=Bm(l),d===null&&xm(n,s,l,vh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else xm(n,s,l,null,a)}}function Bm(n){return n=kn(n),zm(n)}var vh=null;function zm(n){if(vh=null,n=Ti(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return vh=n,null}function J_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ir()){case Wo:return 2;case Jo:return 8;case Ss:case Qf:return 32;case $u:return 268435456;default:return 32}default:return 32}}var Hm=!1,$s=null,Ws=null,Js=null,Xl=new Map,$l=new Map,Zs=[],PC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(n,s){switch(n){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Xl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(s.pointerId)}}function Wl(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=On(s),s!==null&&$_(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function LC(n,s,a,l,f){switch(s){case"focusin":return $s=Wl($s,n,s,a,l,f),!0;case"dragenter":return Ws=Wl(Ws,n,s,a,l,f),!0;case"mouseover":return Js=Wl(Js,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Xl.set(d,Wl(Xl.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,$l.set(d,Wl($l.get(d)||null,n,s,a,l,f)),!0}return!1}function tT(n){var s=Ti(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Jn(n.priority,function(){W_(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,Jn(n.priority,function(){W_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _h(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Bm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);cl=l,a.target.dispatchEvent(l),cl=null}else return s=On(a),s!==null&&$_(s),n.blockedOn=a,!1;s.shift()}return!0}function eT(n,s,a){_h(n)&&a.delete(s)}function UC(){Hm=!1,$s!==null&&_h($s)&&($s=null),Ws!==null&&_h(Ws)&&(Ws=null),Js!==null&&_h(Js)&&(Js=null),Xl.forEach(eT),$l.forEach(eT)}function Th(n,s){n.blockedOn===s&&(n.blockedOn=null,Hm||(Hm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,UC)))}var Eh=null;function nT(n){Eh!==n&&(Eh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Eh===n&&(Eh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(zm(l||a)===null)continue;break}var d=On(a);d!==null&&(n.splice(s,3),s-=3,Bd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function co(n){function s(V){return Th(V,n)}$s!==null&&Th($s,n),Ws!==null&&Th(Ws,n),Js!==null&&Th(Js,n),Xl.forEach(s),$l.forEach(s);for(var a=0;a<Zs.length;a++){var l=Zs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)tT(a),a.blockedOn===null&&Zs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Fe]||null;if(typeof d=="function")_||nT(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Fe]||null)S=_.formAction;else if(zm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),nT(a)}}}function iT(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function qm(n){this._internalRoot=n}bh.prototype.render=qm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=In();Q_(a,l,n,s,null,null)},bh.prototype.unmount=qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Q_(n.current,2,null,n,null,null),nh(),s[vi]=null}};function bh(n){this._internalRoot=n}bh.prototype.unstable_scheduleHydration=function(n){if(n){var s=nc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Zs.length&&s!==0&&s<Zs[a].priority;a++);Zs.splice(a,0,n),a===0&&tT(n)}};var sT=t.version;if(sT!=="19.2.0")throw Error(r(527,sT,"19.2.0"));et.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var jC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{$n=Sh.inject(jC),qe=Sh}catch{}}return Zl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=hv,d=fv,_=dv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=K_(n,1,!1,null,null,a,l,null,f,d,_,iT),n[vi]=s.current,wm(n),new qm(s)},Zl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=hv,_=fv,S=dv,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),s=K_(n,1,!0,s,a??null,l,f,V,d,_,S,iT),s.context=Y_(null),a=s.current,l=In(),l=Or(l),f=Us(l),f.callback=null,js(a,f,l),a=l,s.current.lanes=a,Vr(s,a),Oi(s),n[vi]=s.current,wm(n),new bh(s)},Zl.version="19.2.0",Zl}var mT;function XC(){if(mT)return Ym.exports;mT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ym.exports=QC(),Ym.exports}var $C=XC();const WC=()=>{};var pT={};const eS=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},JC=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],c=i[e++],m=i[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],c=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},nS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,y=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,D=g&63;p||(D=64,c||(b=64)),r.push(e[y],e[T],e[b],e[D])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(eS(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):JC(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const T=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new ZC;const b=u<<2|m>>4;if(r.push(b),g!==64){const D=m<<4&240|g>>2;if(r.push(D),T!==64){const j=g<<6&192|T;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ZC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(i){const t=eS(i);return nS.encodeByteArray(t,!0)},Xh=function(i){return tR(i).replace(/\./g,"")},iS=function(i){try{return nS.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nR=()=>eR().__FIREBASE_DEFAULTS__,iR=()=>{if(typeof process>"u"||typeof pT>"u")return;const i=pT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&iS(i[1]);return t&&JSON.parse(t)},bf=()=>{try{return WC()||nR()||iR()||sR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},sS=i=>bf()?.emulatorHosts?.[i],rR=i=>{const t=sS(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},rS=()=>bf()?.config,aS=i=>bf()?.[`_${i}`];class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Uo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oS(i){return(await fetch(i,{credentials:"include"})).ok}function oR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Xh(JSON.stringify(e)),Xh(JSON.stringify(c)),""].join(".")}const lu={};function lR(){const i={prod:[],emulator:[]};for(const t of Object.keys(lu))lu[t]?i.emulator.push(t):i.prod.push(t);return i}function uR(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let gT=!1;function lS(i,t){if(typeof window>"u"||typeof document>"u"||!Uo(window.location.host)||lu[i]===t||lu[i]||gT)return;lu[i]=t;function e(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=lR().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{gT=!0,c()},b}function y(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=uR(r),D=e("text"),j=document.getElementById(D)||document.createElement("span"),K=e("learnmore"),N=document.getElementById(K)||document.createElement("a"),F=e("preprendIcon"),$=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;m(q),y(N,K);const at=g();p($,F),q.append($,j,N,at),document.body.appendChild(q)}u?(j.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function hR(){const i=bf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function mR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pR(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gR(){return!hR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yR(){try{return typeof indexedDB=="object"}catch{return!1}}function vR(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const _R="FirebaseError";class Es extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=_R,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?TR(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Es(o,m,r)}}function TR(i,t){return i.replace(ER,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const ER=/\{\$([^}]+)}/g;function bR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function pr(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=i[o],c=t[o];if(yT(u)&&yT(c)){if(!pr(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function yT(i){return i!==null&&typeof i=="object"}function Ou(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function SR(i,t){const e=new AR(i,t);return e.subscribe.bind(e)}class AR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");wR(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wR(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Wm(){}function En(i){return i&&i._delegate?i._delegate:i}class pa{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const aa="[DEFAULT]";class xR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new aR;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RR(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CR(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CR(i){return i===aa?void 0:i}function RR(i){return i.instantiationMode==="EAGER"}class DR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new xR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ut||(Ut={}));const IR={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},NR=Ut.INFO,VR={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},MR=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=VR[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tg{constructor(t){this.name=t,this._logLevel=NR,this._logHandler=MR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?IR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const OR=(i,t)=>t.some(e=>i instanceof e);let vT,_T;function kR(){return vT||(vT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return _T||(_T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uS=new WeakMap,wp=new WeakMap,cS=new WeakMap,Jm=new WeakMap,Eg=new WeakMap;function LR(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{e(ur(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&uS.set(e,i)}).catch(()=>{}),Eg.set(t,i),t}function UR(i){if(wp.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});wp.set(i,t)}let xp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return wp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||cS.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ur(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function jR(i){xp=i(xp)}function FR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(Zm(this),t,...e);return cS.set(r,t.sort?t.sort():[t]),ur(r)}:PR().includes(i)?function(...t){return i.apply(Zm(this),t),ur(uS.get(this))}:function(...t){return ur(i.apply(Zm(this),t))}}function BR(i){return typeof i=="function"?FR(i):(i instanceof IDBTransaction&&UR(i),OR(i,kR())?new Proxy(i,xp):i)}function ur(i){if(i instanceof IDBRequest)return LR(i);if(Jm.has(i))return Jm.get(i);const t=BR(i);return t!==i&&(Jm.set(i,t),Eg.set(t,i)),t}const Zm=i=>Eg.get(i);function zR(i,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=ur(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ur(c.result),p.oldVersion,p.newVersion,ur(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const HR=["get","getKey","getAll","getAllKeys","count"],qR=["put","add","delete","clear"],tp=new Map;function TT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(tp.get(t))return tp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=qR.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||HR.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return tp.set(t,u),u}jR(i=>({...i,get:(t,e,r)=>TT(t,e)||i.get(t,e,r),has:(t,e)=>!!TT(t,e)||i.has(t,e)}));class GR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(KR(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function KR(i){return i.getComponent()?.type==="VERSION"}const Cp="@firebase/app",ET="0.14.7";const ps=new Tg("@firebase/app"),YR="@firebase/app-compat",QR="@firebase/analytics-compat",XR="@firebase/analytics",$R="@firebase/app-check-compat",WR="@firebase/app-check",JR="@firebase/auth",ZR="@firebase/auth-compat",t2="@firebase/database",e2="@firebase/data-connect",n2="@firebase/database-compat",i2="@firebase/functions",s2="@firebase/functions-compat",r2="@firebase/installations",a2="@firebase/installations-compat",o2="@firebase/messaging",l2="@firebase/messaging-compat",u2="@firebase/performance",c2="@firebase/performance-compat",h2="@firebase/remote-config",f2="@firebase/remote-config-compat",d2="@firebase/storage",m2="@firebase/storage-compat",p2="@firebase/firestore",g2="@firebase/ai",y2="@firebase/firestore-compat",v2="firebase",_2="12.8.0";const Rp="[DEFAULT]",T2={[Cp]:"fire-core",[YR]:"fire-core-compat",[XR]:"fire-analytics",[QR]:"fire-analytics-compat",[WR]:"fire-app-check",[$R]:"fire-app-check-compat",[JR]:"fire-auth",[ZR]:"fire-auth-compat",[t2]:"fire-rtdb",[e2]:"fire-data-connect",[n2]:"fire-rtdb-compat",[i2]:"fire-fn",[s2]:"fire-fn-compat",[r2]:"fire-iid",[a2]:"fire-iid-compat",[o2]:"fire-fcm",[l2]:"fire-fcm-compat",[u2]:"fire-perf",[c2]:"fire-perf-compat",[h2]:"fire-rc",[f2]:"fire-rc-compat",[d2]:"fire-gcs",[m2]:"fire-gcs-compat",[p2]:"fire-fst",[y2]:"fire-fst-compat",[g2]:"fire-vertex","fire-js":"fire-js",[v2]:"fire-js-all"};const $h=new Map,E2=new Map,Dp=new Map;function bT(i,t){try{i.container.addComponent(t)}catch(e){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Ro(i){const t=i.name;if(Dp.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;Dp.set(t,i);for(const e of $h.values())bT(e,i);for(const e of E2.values())bT(e,i);return!0}function bg(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function ci(i){return i==null?!1:i.settings!==void 0}const b2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Mu("app","Firebase",b2);class S2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const jo=_2;function hS(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:Rp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(e||(e=rS()),!e)throw cr.create("no-options");const u=$h.get(o);if(u){if(pr(e,u.options)&&pr(r,u.config))return u;throw cr.create("duplicate-app",{appName:o})}const c=new DR(o);for(const p of Dp.values())c.addComponent(p);const m=new S2(e,r,c);return $h.set(o,m),m}function fS(i=Rp){const t=$h.get(i);if(!t&&i===Rp&&rS())return hS();if(!t)throw cr.create("no-app",{appName:i});return t}function hr(i,t,e){let r=T2[i]??i;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(c.join(" "));return}Ro(new pa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const A2="firebase-heartbeat-database",w2=1,vu="firebase-heartbeat-store";let ep=null;function dS(){return ep||(ep=zR(A2,w2,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(vu)}catch(e){console.warn(e)}}}}).catch(i=>{throw cr.create("idb-open",{originalErrorMessage:i.message})})),ep}async function x2(i){try{const e=(await dS()).transaction(vu),r=await e.objectStore(vu).get(mS(i));return await e.done,r}catch(t){if(t instanceof Es)ps.warn(t.message);else{const e=cr.create("idb-get",{originalErrorMessage:t?.message});ps.warn(e.message)}}}async function ST(i,t){try{const r=(await dS()).transaction(vu,"readwrite");await r.objectStore(vu).put(t,mS(i)),await r.done}catch(e){if(e instanceof Es)ps.warn(e.message);else{const r=cr.create("idb-set",{originalErrorMessage:e?.message});ps.warn(r.message)}}}function mS(i){return`${i.name}!${i.options.appId}`}const C2=1024,R2=30;class D2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new N2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=AT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>R2){const o=V2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=AT(),{heartbeatsToSend:e,unsentEntries:r}=I2(this._heartbeatsCache.heartbeats),o=Xh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ps.warn(t),""}}}function AT(){return new Date().toISOString().substring(0,10)}function I2(i,t=C2){const e=[];let r=i.slice();for(const o of i){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),wT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),wT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class N2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yR()?vR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await x2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ST(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ST(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function wT(i){return Xh(JSON.stringify({version:2,heartbeats:i})).length}function V2(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}function M2(i){Ro(new pa("platform-logger",t=>new GR(t),"PRIVATE")),Ro(new pa("heartbeat",t=>new D2(t),"PRIVATE")),hr(Cp,ET,i),hr(Cp,ET,"esm2020"),hr("fire-js","")}M2("");var O2="firebase",k2="12.8.0";hr(O2,k2,"app");function pS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P2=pS,gS=new Mu("auth","Firebase",pS());const Wh=new Tg("@firebase/auth");function L2(i,...t){Wh.logLevel<=Ut.WARN&&Wh.warn(`Auth (${jo}): ${i}`,...t)}function Oh(i,...t){Wh.logLevel<=Ut.ERROR&&Wh.error(`Auth (${jo}): ${i}`,...t)}function gs(i,...t){throw Sg(i,...t)}function Pi(i,...t){return Sg(i,...t)}function yS(i,t,e){const r={...P2(),[t]:e};return new Mu("auth","Firebase",r).create(t,{appName:i.name})}function fr(i){return yS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sg(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return gS.create(i,...t)}function St(i,t,...e){if(!i)throw Sg(t,...e)}function fs(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Oh(t),new Error(t)}function ys(i,t){i||fs(t)}function Ip(){return typeof self<"u"&&self.location?.href||""}function U2(){return xT()==="http:"||xT()==="https:"}function xT(){return typeof self<"u"&&self.location?.protocol||null}function j2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U2()||dR()||"connection"in navigator)?navigator.onLine:!0}function F2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class ku{constructor(t,e){this.shortDelay=t,this.longDelay=e,ys(e>t,"Short delay should be less than long delay!"),this.isMobile=cR()||mR()}get(){return j2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ag(i,t){ys(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class vS{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H2=new ku(3e4,6e4);function Sf(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Fo(i,t,e,r,o={}){return _S(i,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Ou({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return fR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Uo(i.emulatorConfig.host)&&(g.credentials="include"),vS.fetch()(await ES(i,i.config.apiHost,e,m),g)})}async function _S(i,t,e){i._canInitEmulator=!1;const r={...B2,...t};try{const o=new q2(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ah(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ah(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ah(i,"user-disabled",c);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw yS(i,y,g);gs(i,y)}}catch(o){if(o instanceof Es)throw o;gs(i,"network-request-failed",{message:String(o)})}}async function TS(i,t,e,r,o={}){const u=await Fo(i,t,e,r,o);return"mfaPendingCredential"in u&&gs(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ES(i,t,e,r){const o=`${t}${e}?${r}`,u=i,c=u.config.emulator?Ag(i.config,o):`${i.config.apiScheme}://${o}`;return z2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),H2.get())})}}function Ah(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Pi(i,t,r);return o.customData._tokenResponse=e,o}async function G2(i,t){return Fo(i,"POST","/v1/accounts:delete",t)}async function Jh(i,t){return Fo(i,"POST","/v1/accounts:lookup",t)}function uu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function K2(i,t=!1){const e=En(i),r=await e.getIdToken(t),o=wg(r);St(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:uu(np(o.auth_time)),issuedAtTime:uu(np(o.iat)),expirationTime:uu(np(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function np(i){return Number(i)*1e3}function wg(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=iS(e);return o?JSON.parse(o):(Oh("Failed to decode base64 JWT payload"),null)}catch(o){return Oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function CT(i){const t=wg(i);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function _u(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Es&&Y2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function Y2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class Q2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Np{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zh(i){const t=i.auth,e=await i.getIdToken(),r=await _u(i,Jh(t,{idToken:e}));St(r?.users.length,t,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?bS(o.providerUserInfo):[],c=$2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Np(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,y)}async function X2(i){const t=En(i);await Zh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $2(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function bS(i){return i.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function W2(i,t){const e=await _S(i,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await ES(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&Uo(i.emulatorConfig.host)&&(p.credentials="include"),vS.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function J2(i,t){return Fo(i,"POST","/v2/accounts:revokeToken",Sf(i,t))}class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):CT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=CT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await W2(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new Eo;return r&&(St(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(St(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return fs("not implemented")}}function er(i,t){St(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await _u(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return K2(this,t)}reload(){return X2(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(fr(this.auth));const t=await this.getIdToken();return await _u(this,G2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:D,providerData:j,stsTokenManager:K}=e;St(T&&K,t,"internal-error");const N=Eo.fromJSON(this.name,K);St(typeof T=="string",t,"internal-error"),er(r,t.name),er(o,t.name),St(typeof b=="boolean",t,"internal-error"),St(typeof D=="boolean",t,"internal-error"),er(u,t.name),er(c,t.name),er(m,t.name),er(p,t.name),er(g,t.name),er(y,t.name);const F=new hi({uid:T,auth:t,email:o,emailVerified:b,displayName:r,isAnonymous:D,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:N,createdAt:g,lastLoginAt:y});return j&&Array.isArray(j)&&(F.providerData=j.map($=>({...$}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(t,e,r=!1){const o=new Eo;o.updateFromServerResponse(e);const u=new hi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Zh(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Eo;m.updateFromIdToken(r);const p=new hi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const RT=new Map;function ds(i){ys(i instanceof Function,"Expected a class definition");let t=RT.get(i);return t?(ys(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,RT.set(i,t),t)}class SS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}SS.type="NONE";const DT=SS;function kh(i,t,e){return`firebase:${i}:${t}:${e}`}class bo{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=kh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Jh(this.auth,{idToken:t}).catch(()=>{});return e?hi._fromGetAccountInfoResponse(this.auth,e,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new bo(ds(DT),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ds(DT);const c=kh(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const b=await Jh(t,{idToken:y}).catch(()=>{});if(!b)break;T=await hi._fromGetAccountInfoResponse(t,b,y)}else T=hi._fromJSON(t,y);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new bo(u,t,r))}}function IT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(AS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(DS(t))return"Blackberry";if(IS(t))return"Webos";if(wS(t))return"Safari";if((t.includes("chrome/")||xS(t))&&!t.includes("edge/"))return"Chrome";if(RS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if(r?.length===2)return r[1]}return"Other"}function AS(i=an()){return/firefox\//i.test(i)}function wS(i=an()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xS(i=an()){return/crios\//i.test(i)}function CS(i=an()){return/iemobile/i.test(i)}function RS(i=an()){return/android/i.test(i)}function DS(i=an()){return/blackberry/i.test(i)}function IS(i=an()){return/webos/i.test(i)}function xg(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Z2(i=an()){return xg(i)&&!!window.navigator?.standalone}function tD(){return pR()&&document.documentMode===10}function NS(i=an()){return xg(i)||RS(i)||IS(i)||DS(i)||/windows phone/i.test(i)||CS(i)}function VS(i,t=[]){let e;switch(i){case"Browser":e=IT(an());break;case"Worker":e=`${IT(an())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${jo}/${r}`}class eD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function nD(i,t={}){return Fo(i,"GET","/v2/passwordPolicy",Sf(i,t))}const iD=6;class sD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??iD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class rD{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NT(this),this.idTokenSubscription=new NT(this),this.beforeStateQueue=new eD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ds(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Jh(this,{idToken:t}),r=await hi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ci(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Zh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=F2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ci(this.app))return Promise.reject(fr(this));const e=t?En(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ci(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await nD(this),e=new sD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Mu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await J2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ds(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[ds(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&L2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Af(i){return En(i)}class NT{constructor(t){this.auth=t,this.observer=null,this.addObserver=SR(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aD(i){Cg=i}function oD(i){return Cg.loadJS(i)}function lD(){return Cg.gapiScript}function uD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function cD(i,t){const e=bg(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(pr(u,t??{}))return o;gs(o,"already-initialized")}return e.initialize({options:t})}function hD(i,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(ds);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t?.popupRedirectResolver)}function fD(i,t,e){const r=Af(i);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=MS(t),{host:c,port:m}=dD(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},y=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(pr(g,r.config.emulator)&&pr(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Uo(c)?(oS(`${u}//${c}${p}`),lS("Auth",!0)):mD()}function MS(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function dD(i){const t=MS(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:VT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:VT(c)}}}function VT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function mD(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class OS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return fs("not implemented")}_getIdTokenResponse(t){return fs("not implemented")}_linkToIdToken(t,e){return fs("not implemented")}_getReauthenticationResolver(t){return fs("not implemented")}}async function So(i,t){return TS(i,"POST","/v1/accounts:signInWithIdp",Sf(i,t))}const pD="http://localhost";class ga extends OS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ga(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):gs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new ga(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return So(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,So(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,So(t,e)}buildRequest(){const t={requestUri:pD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ou(e)}return t}}class kS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Pu extends kS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ir extends Pu{constructor(){super("facebook.com")}static credential(t){return ga._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class sr extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ga._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return sr.credential(e,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class rr extends Pu{constructor(){super("github.com")}static credential(t){return ga._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends Pu{constructor(){super("twitter.com")}static credential(t,e){return ga._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return ar.credential(e,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function gD(i,t){return TS(i,"POST","/v1/accounts:signUp",Sf(i,t))}class gr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await hi._fromIdTokenResponse(t,r,o),c=MT(r);return new gr({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=MT(r);return new gr({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function MT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function yD(i){if(ci(i.app))return Promise.reject(fr(i));const t=Af(i);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new gr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await gD(t,{returnSecureToken:!0}),r=await gr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}class tf extends Es{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new tf(t,e,r,o)}}function PS(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(i,u,t,r):u})}async function vD(i,t,e=!1){const r=await _u(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return gr._forOperation(i,"link",r)}async function _D(i,t,e=!1){const{auth:r}=i;if(ci(r.app))return Promise.reject(fr(r));const o="reauthenticate";try{const u=await _u(i,PS(r,o,t,i),e);St(u.idToken,r,"internal-error");const c=wg(u.idToken);St(c,r,"internal-error");const{sub:m}=c;return St(i.uid===m,r,"user-mismatch"),gr._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&gs(r,"user-mismatch"),u}}async function TD(i,t,e=!1){if(ci(i.app))return Promise.reject(fr(i));const r="signIn",o=await PS(i,r,t),u=await gr._fromIdTokenResponse(i,r,o);return e||await i._updateCurrentUser(u.user),u}function ED(i,t,e,r){return En(i).onIdTokenChanged(t,e,r)}function bD(i,t,e){return En(i).beforeAuthStateChanged(t,e)}const ef="__sak";class LS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const SD=1e3,AD=10;class US extends LS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);tD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,AD):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}US.type="LOCAL";const wD=US;class jS extends LS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}jS.type="SESSION";const FS=jS;function xD(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class wf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new wf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await xD(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];function Rg(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}class CD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Rg("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Li(){return window}function RD(i){Li().location.href=i}function BS(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function DD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ID(){return navigator?.serviceWorker?.controller||null}function ND(){return BS()?self:null}const zS="firebaseLocalStorageDb",VD=1,nf="firebaseLocalStorage",HS="fbase_key";class Lu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function xf(i,t){return i.transaction([nf],t?"readwrite":"readonly").objectStore(nf)}function MD(){const i=indexedDB.deleteDatabase(zS);return new Lu(i).toPromise()}function Vp(){const i=indexedDB.open(zS,VD);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(nf,{keyPath:HS})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(nf)?t(r):(r.close(),await MD(),t(await Vp()))})})}async function OT(i,t,e){const r=xf(i,!0).put({[HS]:t,value:e});return new Lu(r).toPromise()}async function OD(i,t){const e=xf(i,!1).get(t),r=await new Lu(e).toPromise();return r===void 0?null:r.value}function kT(i,t){const e=xf(i,!0).delete(t);return new Lu(e).toPromise()}const kD=800,PD=3;class qS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>PD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(ND()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DD(),!this.activeServiceWorker)return;this.sender=new CD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ID()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vp();return await OT(t,ef,"1"),await kT(t,ef),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>OT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>OD(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>kT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=xf(o,!1).getAll();return new Lu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qS.type="LOCAL";const LD=qS;new ku(3e4,6e4);function UD(i,t){return t?ds(t):(St(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Dg extends OS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return So(t,this._buildIdpRequest())}_linkToIdToken(t,e){return So(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return So(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function jD(i){return TD(i.auth,new Dg(i),i.bypassAuthState)}function FD(i){const{auth:t,user:e}=i;return St(e,t,"internal-error"),_D(e,new Dg(i),i.bypassAuthState)}async function BD(i){const{auth:t,user:e}=i;return St(e,t,"internal-error"),vD(e,new Dg(i),i.bypassAuthState)}class GS{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return jD;case"linkViaPopup":case"linkViaRedirect":return BD;case"reauthViaPopup":case"reauthViaRedirect":return FD;default:gs(this.auth,"internal-error")}}resolve(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zD=new ku(2e3,1e4);class go extends GS{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const t=Rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zD.get())};t()}}go.currentPopupAction=null;const HD="pendingRedirect",Ph=new Map;class qD extends GS{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Ph.get(this.auth._key());if(!t){try{const r=await GD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Ph.set(this.auth._key(),t)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GD(i,t){const e=QD(t),r=YD(i);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function KD(i,t){Ph.set(i._key(),t)}function YD(i){return ds(i._redirectPersistence)}function QD(i){return kh(HD,i.config.apiKey,i.name)}async function XD(i,t,e=!1){if(ci(i.app))return Promise.reject(fr(i));const r=Af(i),o=UD(r,t),c=await new qD(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const $D=600*1e3;class WD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!JD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!KS(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Pi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$D&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(t))}saveEventToCache(t){this.cachedEventUids.add(PT(t)),this.lastProcessedEventTime=Date.now()}}function PT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function KS({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function JD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KS(i);default:return!1}}async function ZD(i,t={}){return Fo(i,"GET","/v1/projects",t)}const tI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eI=/^https?/;async function nI(i){if(i.config.emulator)return;const{authorizedDomains:t}=await ZD(i);for(const e of t)try{if(iI(e))return}catch{}gs(i,"unauthorized-domain")}function iI(i){const t=Ip(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!eI.test(e))return!1;if(tI.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const sI=new ku(3e4,6e4);function LT(){const i=Li().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function rI(i){return new Promise((t,e)=>{function r(){LT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{LT(),e(Pi(i,"network-request-failed"))},timeout:sI.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)r();else{const o=uD("iframefcb");return Li()[o]=()=>{gapi.load?r():e(Pi(i,"network-request-failed"))},oD(`${lD()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Lh=null,t})}let Lh=null;function aI(i){return Lh=Lh||rI(i),Lh}const oI=new ku(5e3,15e3),lI="__/auth/iframe",uI="emulator/auth/iframe",cI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fI(i){const t=i.config;St(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?Ag(t,uI):`https://${i.config.authDomain}/${lI}`,r={apiKey:t.apiKey,appName:i.name,v:jo},o=hI.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${Ou(r).slice(1)}`}async function dI(i){const t=await aI(i),e=Li().gapi;return St(e,i,"internal-error"),t.open({where:document.body,url:fI(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Pi(i,"network-request-failed"),m=Li().setTimeout(()=>{u(c)},oI.get());function p(){Li().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const mI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pI=500,gI=600,yI="_blank",vI="http://localhost";class UT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _I(i,t,e,r=pI,o=gI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...mI,width:r.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();e&&(m=xS(g)?yI:e),AS(g)&&(t=t||vI,p.scrollbars="yes");const y=Object.entries(p).reduce((b,[D,j])=>`${b}${D}=${j},`,"");if(Z2(g)&&m!=="_self")return TI(t||"",m),new UT(null);const T=window.open(t||"",m,y);St(T,i,"popup-blocked");try{T.focus()}catch{}return new UT(T)}function TI(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const EI="__/auth/handler",bI="emulator/auth/handler",SI=encodeURIComponent("fac");async function jT(i,t,e,r,o,u){St(i.config.authDomain,i,"auth-domain-config-required"),St(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:jo,eventId:o};if(t instanceof kS){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",bR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof Pu){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const p=await i._getAppCheckToken(),g=p?`#${SI}=${encodeURIComponent(p)}`:"";return`${AI(i)}?${Ou(m).slice(1)}${g}`}function AI({config:i}){return i.emulator?Ag(i,bI):`https://${i.authDomain}/${EI}`}const ip="webStorageSupport";class wI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FS,this._completeRedirectFn=XD,this._overrideRedirectResult=KD}async _openPopup(t,e,r,o){ys(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await jT(t,e,r,Ip(),o);return _I(t,u,Rg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await jT(t,e,r,Ip(),o);return RD(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(ys(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await dI(t),r=new WD(t);return e.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ip,{type:ip},o=>{const u=o?.[0]?.[ip];u!==void 0&&e(!!u),gs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=nI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return NS()||wS()||xg()}}const xI=wI;var FT="@firebase/auth",BT="1.12.0";class CI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DI(i){Ro(new pa("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(i)},g=new rD(r,o,u,p);return hD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Ro(new pa("auth-internal",t=>{const e=Af(t.getProvider("auth").getImmediate());return(r=>new CI(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(FT,BT,RI(i)),hr(FT,BT,"esm2020")}const II=300,NI=aS("authIdTokenMaxAge")||II;let zT=null;const VI=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>NI)return;const o=e?.token;zT!==o&&(zT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MI(i=fS()){const t=bg(i,"auth");if(t.isInitialized())return t.getImmediate();const e=cD(i,{popupRedirectResolver:xI,persistence:[LD,wD,FS]}),r=aS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=VI(u.toString());bD(e,c,()=>c(e.currentUser)),ED(e,m=>c(m))}}const o=sS("auth");return o&&fD(e,`http://${o}`),e}function OI(){return document.getElementsByTagName("head")?.[0]??document}aD({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const u=Pi("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",OI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DI("Browser");var HT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,YS;(function(){var i;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(O,M,L){for(var I=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)I[pt-2]=arguments[pt];return A.prototype[M].apply(O,I)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const O=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)O[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;M<16;++M)O[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],M=C.g[2];let L=C.g[3],I;I=A+(L^R&(M^L))+O[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+O[1]+3905402710&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+O[2]+606105819&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+O[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(L^R&(M^L))+O[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+O[5]+1200080426&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+O[6]+2821735955&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+O[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(L^R&(M^L))+O[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+O[9]+2336552879&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+O[10]+4294925233&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+O[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(L^R&(M^L))+O[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+O[13]+4254626195&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+O[14]+2792965006&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+O[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(M^L&(R^M))+O[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+O[6]+3225465664&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+O[11]+643717713&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+O[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^L&(R^M))+O[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+O[10]+38016083&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+O[15]+3634488961&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+O[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^L&(R^M))+O[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+O[14]+3275163606&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+O[3]+4107603335&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+O[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^L&(R^M))+O[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+O[2]+4243563512&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+O[7]+1735328473&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+O[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(R^M^L)+O[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+O[8]+2272392833&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+O[11]+1839030562&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+O[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^L)+O[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+O[4]+1272893353&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+O[7]+4139469664&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+O[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^L)+O[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+O[0]+3936430074&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+O[3]+3572445317&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+O[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^L)+O[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+O[12]+3873151461&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+O[15]+530742520&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+O[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(M^(R|~L))+O[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+O[7]+1126891415&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+O[14]+2878612391&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+O[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~L))+O[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+O[3]+2399980690&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+O[10]+4293915773&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+O[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~L))+O[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+O[15]+4264355552&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+O[6]+2734768916&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+O[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~L))+O[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+O[11]+3174756917&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+O[2]+718787259&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,O=this.C;let M=this.h,L=0;for(;L<A;){if(M==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(O[M++]=C.charCodeAt(L++),M==this.blockSize){o(this,O),M=0;break}}else for(;L<A;)if(O[M++]=C[L++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)C[A++]=this.g[R]>>>O&255;return C};function u(C,A){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function c(C,A){this.h=A;const R=[];let O=!0;for(let M=C.length-1;M>=0;M--){const L=C[M]|0;O&&L==A||(R[M]=L,O=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return N(g(-C));const A=[];let R=1;for(let O=0;C>=R;O++)A[O]=C/R|0,R*=4294967296;return new c(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return N(y(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let O=T;for(let L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+M),A);M<8?(M=g(Math.pow(A,M)),O=O.j(M).add(g(I))):(O=O.j(R),O=O.add(g(I)))}return O}var T=p(0),b=p(1),D=p(16777216);i=c.prototype,i.m=function(){if(K(this))return-N(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);C+=(O>=0?O:4294967296+O)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(j(this))return"0";if(K(this))return"-"+N(this).toString(C);const A=g(Math.pow(C,6));var R=this;let O="";for(;;){const M=at(R,A).g;R=F(R,M.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,j(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function j(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function K(C){return C.h==-1}i.l=function(C){return C=F(this,C),K(C)?-1:j(C)?0:1};function N(C){const A=C.g.length,R=[];for(let O=0;O<A;O++)R[O]=~C.g[O];return new c(R,~C.h).add(b)}i.abs=function(){return K(this)?N(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let O=0;for(let M=0;M<=A;M++){let L=O+(this.i(M)&65535)+(C.i(M)&65535),I=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);O=I>>>16,L&=65535,I&=65535,R[M]=I<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function F(C,A){return C.add(N(A))}i.j=function(C){if(j(this)||j(C))return T;if(K(this))return K(C)?N(this).j(N(C)):N(N(this).j(C));if(K(C))return N(this.j(N(C)));if(this.l(D)<0&&C.l(D)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<C.g.length;M++){const L=this.i(O)>>>16,I=this.i(O)&65535,pt=C.i(M)>>>16,vt=C.i(M)&65535;R[2*O+2*M]+=I*vt,$(R,2*O+2*M),R[2*O+2*M+1]+=L*vt,$(R,2*O+2*M+1),R[2*O+2*M+1]+=I*pt,$(R,2*O+2*M+1),R[2*O+2*M+2]+=L*pt,$(R,2*O+2*M+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new c(R,0)};function $(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function q(C,A){this.g=C,this.h=A}function at(C,A){if(j(A))throw Error("division by zero");if(j(C))return new q(T,T);if(K(C))return A=at(N(C),A),new q(N(A.g),N(A.h));if(K(A))return A=at(C,N(A)),new q(N(A.g),A.h);if(C.g.length>30){if(K(C)||K(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,O=A;O.l(C)<=0;)R=it(R),O=it(O);var M=ct(R,1),L=ct(O,1);for(O=ct(O,2),R=ct(R,2);!j(O);){var I=L.add(O);I.l(C)<=0&&(M=M.add(R),L=I),O=ct(O,1),R=ct(R,1)}return A=F(C,M.j(A)),new q(M,A)}for(M=T;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(R),I=L.j(A);K(I)||I.l(C)>0;)R-=O,L=g(R),I=L.j(A);j(L)&&(L=b),M=M.add(L),C=F(C,I)}return new q(M,C)}i.B=function(C){return at(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)&C.i(O);return new c(R,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)|C.i(O);return new c(R,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)^C.i(O);return new c(R,this.h^C.h)};function it(C){const A=C.g.length+1,R=[];for(let O=0;O<A;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(R,C.h)}function ct(C,A){const R=A>>5;A%=32;const O=C.g.length-R,M=[];for(let L=0;L<O;L++)M[L]=A>0?C.i(L+R)>>>A|C.i(L+R+1)<<32-A:C.i(L+R);return new c(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,dr=c}).apply(typeof HT<"u"?HT:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QS,nu,XS,Uh,Mp,$S,WS,JS;(function(){var i,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=e(this);function o(h,v){if(v)t:{var E=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var B=h[w];if(!(B in E))break t;E=E[B]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var E=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&E.push([w,v[w]]);return E}});var u=u||{},c=this||self;function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=p,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function T(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,B,Q){for(var lt=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)lt[Dt-2]=arguments[Dt];return v.prototype[B].apply(w,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const v=h.length;if(v>0){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function j(h,v){for(let w=1;w<arguments.length;w++){const B=arguments[w];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const Q=B.length||0;h.length=E+Q;for(let lt=0;lt<Q;lt++)h[E+lt]=B[lt]}else h.push(B)}}class K{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(h){c.setTimeout(()=>{throw h},0)}function F(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,E){const w=q.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var q=new K(()=>new at,h=>h.reset());class at{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,C=new $,A=()=>{const h=Promise.resolve(void 0);it=()=>{h.then(R)}};function R(){for(var h;h=F();){try{h.h.call(h.g)}catch(E){N(E)}var v=q;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ct=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function pt(h,v){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(pt,M),pt.prototype.init=function(h,v){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&pt.Z.h.call(this)},pt.prototype.h=function(){pt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(h,v,E,w,B){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=B,this.key=++G,this.da=this.fa=!1}function ot(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xt(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function Mt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function P(h){const v={};for(const E in h)v[E]=h[E];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,v){let E,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(E in w)h[E]=w[E];for(let Q=0;Q<Z.length;Q++)E=Z[Q],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,E,w,B){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const lt=Nt(h,v,w,B);return lt>-1?(v=h[lt],E||(v.fa=!1)):(v=new et(v,this.src,Q,!!w,B),v.fa=E,h.push(v)),v};function At(h,v){const E=v.type;if(E in h.g){var w=h.g[E],B=Array.prototype.indexOf.call(w,v,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(w,B,1),Q&&(ot(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Nt(h,v,E,w){for(let B=0;B<h.length;++B){const Q=h[B];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==w)return B}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Oe={};function oe(h,v,E,w,B){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)oe(h,v[Q],E,w,B);return null}return E=$o(E),h&&h[vt]?h.J(v,E,m(w)?!!w.capture:!1,B):Rr(h,v,E,!1,w,B)}function Rr(h,v,E,w,B,Q){if(!v)throw Error("Invalid event type");const lt=m(B)?!!B.capture:!!B;let Dt=Dr(h);if(Dt||(h[zt]=Dt=new ft(h)),E=Dt.add(v,E,w,lt,Q),E.proxy)return E;if(w=Ea(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)L||(B=lt),B===void 0&&(B=!1),h.addEventListener(v.toString(),w,B);else if(h.attachEvent)h.attachEvent(di(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ea(){function h(E){return v.call(h.src,h.listener,E)}const v=Qo;return h}function ba(h,v,E,w,B){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)ba(h,v[Q],E,w,B);else w=m(w)?!!w.capture:!!w,E=$o(E),h&&h[vt]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],E=Nt(v,E,w,B),E>-1&&(ot(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Dr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Nt(v,E,w,B)),(E=h>-1?v[h]:null)&&Sa(E))}function Sa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[vt])At(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(di(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=Dr(v))?(At(E,h),E.h==0&&(E.src=null,v[zt]=null)):ot(h)}}}function di(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function Qo(h,v){if(h.da)h=!0;else{v=new pt(v,this);const E=h.listener,w=h.ha||h.src;h.fa&&Sa(h),h=E.call(w,v)}return h}function Dr(h){return h=h[zt],h instanceof ft?h:null}var Xo="__closure_events_fn_"+(Math.random()*1e9>>>0);function $o(h){return typeof h=="function"?h:(h[Xo]||(h[Xo]=function(v){return h.handleEvent(v)}),h[Xo])}function Ee(){O.call(this),this.i=new ft(this),this.M=this,this.G=null}T(Ee,O),Ee.prototype[vt]=!0,Ee.prototype.removeEventListener=function(h,v,E,w){ba(this,h,v,E,w)};function ke(h,v){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var B=v;v=new M(w,h),ut(v,B)}B=!0;let Q,lt;if(E)for(lt=E.length-1;lt>=0;lt--)Q=v.g=E[lt],B=bs(Q,w,!0,v)&&B;if(Q=v.g=h,B=bs(Q,w,!0,v)&&B,B=bs(Q,w,!1,v)&&B,E)for(lt=0;lt<E.length;lt++)Q=v.g=E[lt],B=bs(Q,w,!1,v)&&B}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let w=0;w<E.length;w++)ot(E[w]);delete h.g[v],h.h--}}this.G=null},Ee.prototype.J=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},Ee.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function bs(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let Q=0;Q<v.length;++Q){const lt=v[Q];if(lt&&!lt.da&&lt.capture==E){const Dt=lt.listener,ye=lt.ha||lt.src;lt.fa&&At(h.i,lt),B=Dt.call(ye,w)!==!1&&B}}return B&&!w.defaultPrevented}function Yf(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Xu(h){h.g=Yf(()=>{h.g=null,h.i&&(h.i=!1,Xu(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class on extends O{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(h){O.call(this),this.h=h,this.g={}}T(Ir,O);var Wo=[];function Jo(h){xt(h.g,function(v,E){this.g.hasOwnProperty(E)&&Sa(v)},h),h.g={}}Ir.prototype.N=function(){Ir.Z.N.call(this),Jo(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=c.JSON.stringify,Qf=c.JSON.parse,$u=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Wu(){}function Ju(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){M.call(this,"d")}T(qe,M);function Mn(){M.call(this,"c")}T(Mn,M);var ge={},Zu=null;function Aa(){return Zu=Zu||new Ee}ge.Ia="serverreachability";function tc(h){M.call(this,ge.Ia,h)}T(tc,M);function mi(h){const v=Aa();ke(v,new tc(v))}ge.STAT_EVENT="statevent";function Nr(h,v){M.call(this,ge.STAT_EVENT,h),this.stat=v}T(Nr,M);function be(h){const v=Aa();ke(v,new Nr(v,h))}ge.Ja="timingevent";function pi(h,v){M.call(this,ge.Ja,h),this.size=v}T(pi,M);function gi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Xf(h,v,E,w,B,Q){h.info(function(){if(h.g)if(Q){var lt="",Dt=Q.split("&");for(let Kt=0;Kt<Dt.length;Kt++){var ye=Dt[Kt].split("=");if(ye.length>1){const le=ye[0];ye=ye[1];const Ln=le.split("_");lt=Ln.length>=2&&Ln[1]=="type"?lt+(le+"="+ye+"&"):lt+(le+"=redacted&")}}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+v+`
`+E+`
`+lt})}function ec(h,v,E,w,B,Q,lt){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+v+`
`+E+`
`+Q+" "+lt})}function yi(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+$f(h,E)+(w?" "+w:"")})}function Vr(h,v){h.info(function(){return"TIMEOUT: "+v})}Wn.prototype.info=function(){};function $f(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let lt=1;lt<w.length;lt++)w[lt]=""}}}}return Ss(Q)}catch{return v}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tl;function Or(){}T(Or,Wu),Or.prototype.g=function(){return new XMLHttpRequest},tl=new Or;function Yi(h){return encodeURIComponent(String(h))}function nc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function Jn(h,v,E,w){this.j=h,this.i=v,this.l=E,this.S=w||1,this.V=new Ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Se={},Fe={};function vi(h,v,E){h.M=1,h.A=kr(we(v)),h.u=E,h.R=!0,wa(h,null)}function wa(h,v){h.F=Date.now(),_i(h),h.B=we(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Da(E.i,"t",w),h.C=0,E=h.j.L,h.h=new Zn,h.g=yc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new on(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,w=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(Wo[0]=B.toString()),B=Wo);for(let Q=0;Q<B.length;Q++){const lt=oe(E,B[Q],w||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),mi(),Xf(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ni(h)==3?v.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)t:{const Dt=ni(this.g),ye=this.g.ya(),Kt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Dt!=4||ye==7||(ye==8||Kt<=0?mi(3):mi(2)),Ti(this);var v=this.g.ca();this.X=v;var E=Wf(this);if(this.o=v==200,ec(this.i,this.v,this.B,this.l,this.S,Dt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var Q=w;break e}}Q=null}if(h=Q)yi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,h);else{this.o=!1,this.m=3,be(12),bn(this),On(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<E.length;)if(le=sc(this,E),le==Fe){Dt==4&&(this.m=4,be(14),h=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Se){this.m=4,be(15),yi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else yi(this.i,this.l,le,null),Ei(this,le);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||E.length!=0||this.h.h||(this.m=1,be(16),h=!1),this.o=this.o&&h,!h)yi(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),pl(lt),lt.P=!0,be(11))}}else yi(this.i,this.l,E,null),Ei(this,E);Dt==4&&bn(this),this.o&&!this.K&&(Dt==4?dc(this.j,this):(this.o=!1,_i(this)))}else Xi(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),bn(this),On(this)}}}catch{}finally{}};function Wf(h){if(!ic(h))return h.g.la();const v=Ge(h.g);if(v==="")return"";let E="";const w=v.length,B=ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),On(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<w;Q++)h.h.h=!0,E+=h.h.i.decode(v[Q],{stream:!(B&&Q==w-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function ic(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function sc(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?Fe:(E=Number(v.substring(E,w)),isNaN(E)?Se:(w+=1,w+E>v.length?Fe:(v=v.slice(w,w+E),h.C=w+E,v)))}Jn.prototype.cancel=function(){this.K=!0,bn(this)};function _i(h){h.T=Date.now()+h.H,xa(h,h.H)}function xa(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=gi(g(h.aa,h),v)}function Ti(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Vr(this.i,this.B),this.M!=2&&(mi(),be(17)),bn(this),this.m=2,On(this)):xa(this,this.T-h)};function On(h){h.j.I==0||h.K||dc(h.j,h)}function bn(h){Ti(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Jo(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ei(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Si(E.h,h))){if(!h.L&&Si(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Oa(E),Ns(E);else break t;zr(E),be(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=gi(g(E.Va,E),6e3));bi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Di(E,11)}else if((h.L||E.g==h)&&Oa(E),!I(v))for(B=E.Ba.g.parse(v),v=0;v<B.length;v++){let Kt=B[v];const le=Kt[0];if(!(le<=E.K))if(E.K=le,Kt=Kt[1],E.I==2)if(Kt[0]=="c"){E.M=Kt[1],E.ba=Kt[2];const Ln=Kt[3];Ln!=null&&(E.ka=Ln,E.j.info("VER="+E.ka));const Ii=Kt[4];Ii!=null&&(E.za=Ii,E.j.info("SVER="+E.za));const ii=Kt[5];ii!=null&&typeof ii=="number"&&ii>0&&(w=1.5*ii,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const si=h.g;if(si){const Hr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var Q=w.h;Q.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(il(Q,Q.h),Q.h=null))}if(w.G){const ka=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(w.wa=ka,Xt(w.J,w.G,ka))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var lt=h;if(w.na=gc(w,w.L?w.ba:null,w.W),lt.L){sl(w.h,lt);var Dt=lt,ye=w.O;ye&&(Dt.H=ye),Dt.D&&(Ti(Dt),_i(Dt)),w.g=lt}else hc(w);E.i.length>0&&Ri(E)}else Kt[0]!="stop"&&Kt[0]!="close"||Di(E,7);else E.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Di(E,7):dl(E):Kt[0]!="noop"&&E.l&&E.l.qa(Kt),E.A=0)}}mi(4)}catch{}}var Ae=class{constructor(h,v){this.g=h,this.map=v}};function el(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bi(h){return h.h?1:h.g?h.g.size:0}function Si(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function il(h,v){h.g?h.g.add(v):h.h=v}function sl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}el.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return D(h.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let B,Q=null;w>=0?(B=h[E].substring(0,w),Q=h[E].substring(w+1)):B=h[E],v(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Sn?(this.l=h.l,Be(this,h.j),this.o=h.o,this.g=h.g,As(this,h.u),this.h=h.h,al(this,uc(h.i)),this.m=h.m):h&&(v=String(h).match(rc))?(this.l=!1,Be(this,v[1]||"",!0),this.o=Ai(v[2]||""),this.g=Ai(v[3]||"",!0),As(this,v[4]),this.h=Ai(v[5]||"",!0),al(this,v[6]||"",!0),this.m=Ai(v[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}Sn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Pr(v,Ra,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Pr(v,Ra,!0),"@"),h.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Pr(E,E.charAt(0)=="/"?ol:ac,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Pr(E,oc)),h.join("")},Sn.prototype.resolve=function(h){const v=we(this);let E=!!h.j;E?Be(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var w=h.h;if(E)As(v,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=v.h.lastIndexOf("/");B!=-1&&(w=v.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let lt=0;lt<B.length;){const Dt=B[lt++];Dt=="."?w&&lt==B.length&&Q.push(""):Dt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&lt==B.length&&Q.push("")):(Q.push(Dt),w=!0)}w=Q.join("/")}else w=B}return E?v.h=w:E=h.i.toString()!=="",E?al(v,uc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function we(h){return new Sn(h)}function Be(h,v,E){h.j=E?Ai(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function As(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function al(h,v,E){v instanceof xs?(h.i=v,Ia(h.i,h.l)):(E||(v=Pr(v,ws)),h.i=new xs(v,h.l))}function Xt(h,v,E){h.i.set(v,E)}function kr(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ai(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,fn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ra=/[#\/\?@]/g,ac=/[#\?:]/g,ol=/[#\?]/g,ws=/[#\?@]/g,oc=/#/g;function xs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ca(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}i=xs.prototype,i.add=function(h,v){dn(this),this.i=null,h=Cs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function lc(h,v){dn(h),v=Cs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ll(h,v){return dn(h),v=Cs(h,v),h.g.has(v)}i.forEach=function(h,v){dn(this),this.g.forEach(function(E,w){E.forEach(function(B){h.call(v,B,w,this)},this)},this)};function ul(h,v){dn(h);let E=[];if(typeof v=="string")ll(h,v)&&(E=E.concat(h.g.get(Cs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}i.set=function(h,v){return dn(this),this.i=null,h=Cs(this,h),ll(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=ul(this,h),h.length>0?String(h[0]):v):v};function Da(h,v,E){lc(h,v),E.length>0&&(h.i=null,h.g.set(Cs(h,v),D(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var E=v[w];const B=Yi(E);E=ul(this,E);for(let Q=0;Q<E.length;Q++){let lt=B;E[Q]!==""&&(lt+="="+Yi(E[Q])),h.push(lt)}}return this.i=h.join("&")};function uc(h){const v=new xs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Cs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ia(h,v){v&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(E,w){const B=w.toLowerCase();w!=B&&(lc(this,w),Da(this,B,E))},h)),h.j=v}function ti(h,v){const E=new Wn;if(c.Image){const w=new Image;w.onload=y(kn,E,"TestLoadImage: loaded",!0,v,w),w.onerror=y(kn,E,"TestLoadImage: error",!1,v,w),w.onabort=y(kn,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=y(kn,E,"TestLoadImage: timeout",!1,v,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function cl(h,v){const E=new Wn,w=new AbortController,B=setTimeout(()=>{w.abort(),kn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(Q=>{clearTimeout(B),Q.ok?kn(E,"TestPingServer: ok",!0,v):kn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),kn(E,"TestPingServer: error",!1,v)})}function kn(h,v,E,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(E)}catch{}}function Rs(){this.g=new $u}function wi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(wi,Wu),wi.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(h,v){Ee.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Lr,Ee),i=Lr.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ei(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ds(this):ei(this),this.readyState==3&&Na(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ds(this))},i.Na=function(h){this.g&&(this.response=h,Ds(this))},i.ga=function(){this.g&&Ds(this)};function Ds(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}i.setRequestHeader=function(h,v){this.A.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let v="";return xt(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function Ur(h,v,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=Pn(E),typeof h=="string"?E!=null&&Yi(E):Xt(h,v,E))}function Jt(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Jt,Ee);var xi=/^https?$/i,hl=["POST","PUT"];i=Jt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tl.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){jr(this,Q);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)E.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())E.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(hl,v,void 0)>=0)||w||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of E)this.g.setRequestHeader(Q,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){jr(this,Q)}};function jr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,fl(h),Qi(h)}function fl(h){h.A||(h.A=!0,ke(h,"complete"),ke(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ke(this,"complete"),ke(this,"abort"),Qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Jt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Fr(this):this.Xa())},i.Xa=function(){Fr(this)};function Fr(h){if(h.h&&typeof u<"u"){if(h.v&&ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(ke(h,"readystatechange"),ni(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var w;if(w=Q===0){let lt=String(h.D).match(rc)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),w=!xi.test(lt?lt.toLowerCase():"")}E=w}if(E)ke(h,"complete"),ke(h,"success");else{h.o=6;try{var B=ni(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",fl(h)}}finally{Qi(h)}}}}function Qi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||ke(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Qf(v)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(h){const v={};h=(h.g&&ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(I(h[w]))continue;var E=nc(h[w]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[B]||[];v[B]=Q,Q.push(E)}Mt(v,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Is(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,h),this.Za=Ci("retryDelaySeedMs",1e4,h),this.Ta=Ci("forwardChannelMaxRetries",2,h),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new el(h&&h.concurrentRequestLimit),this.Ba=new Rs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Is.prototype,i.ka=8,i.I=1,i.connect=function(h,v,E,w){be(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=gc(this,null,this.W),Ri(this)};function dl(h){if(Va(h),h.I==3){var v=h.V++,E=we(h.J);if(Xt(E,"SID",h.M),Xt(E,"RID",v),Xt(E,"TYPE","terminate"),Br(h,E),v=new Jn(h,h.j,v),v.M=2,v.A=kr(we(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=yc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),_i(v)}pc(h)}function Ns(h){h.g&&(pl(h),h.g.cancel(),h.g=null)}function Va(h){Ns(h),h.v&&(c.clearTimeout(h.v),h.v=null),Oa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ri(h){if(!nl(h.h)&&!h.m){h.m=!0;var v=h.Ea;it||A(),ct||(it(),ct=!0),C.add(v,h),h.D=0}}function Ma(h,v){return bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=gi(g(h.Ea,h,v),mc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new Jn(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=P(Q),ut(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=cc(this,B,v),E=we(this.J),Xt(E,"RID",h),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),Br(this,E),Q&&(this.R?v="headers="+Yi(Pn(Q))+"&"+v:this.u&&Ur(E,this.u,Q)),il(this.h,B),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",v),Xt(E,"SID","null"),B.U=!0,vi(B,E,null)):vi(B,E,v),this.I=2}}else this.I==3&&(h?ml(this,h):this.i.length==0||nl(this.h)||ml(this))};function ml(h,v){var E;v?E=v.l:E=h.V++;const w=we(h.J);Xt(w,"SID",h.M),Xt(w,"RID",E),Xt(w,"AID",h.K),Br(h,w),h.u&&h.o&&Ur(w,h.u,h.o),E=new Jn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=cc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),il(h.h,E),vi(E,w,v)}function Br(h,v){h.H&&xt(h.H,function(E,w){Xt(v,w,E)}),h.l&&xt({},function(E,w){Xt(v,w,E)})}function cc(h,v,E){E=Math.min(h.i.length,E);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var B=h.i;let Dt=-1;for(;;){const ye=["count="+E];Dt==-1?E>0?(Dt=B[0].g,ye.push("ofs="+Dt)):Dt=0:ye.push("ofs="+Dt);let Kt=!0;for(let le=0;le<E;le++){var Q=B[le].g;const Ln=B[le].map;if(Q-=Dt,Q<0)Dt=Math.max(0,B[le].g-100),Kt=!1;else try{Q="req"+Q+"_"||"";try{var lt=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ii,ii]of lt){let si=ii;m(ii)&&(si=Ss(ii)),ye.push(Q+Ii+"="+encodeURIComponent(si))}}catch(Ii){throw ye.push(Q+"type="+encodeURIComponent("_badmap")),Ii}}catch{w&&w(Ln)}}if(Kt){lt=ye.join("&");break t}}lt=void 0}return h=h.i.splice(0,E),v.G=h,lt}function hc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;it||A(),ct||(it(),ct=!0),C.add(v,h),h.A=0}}function zr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=gi(g(h.Da,h),mc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=gi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ns(this),fc(this))};function pl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function fc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=we(h.na);Xt(v,"RID","rpc"),Xt(v,"SID",h.M),Xt(v,"AID",h.K),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(v,"TO",h.ia),Xt(v,"TYPE","xmlhttp"),Br(h,v),h.u&&h.o&&Ur(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=kr(we(v)),E.u=null,E.R=!0,wa(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Ns(this),zr(this),be(19))};function Oa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dc(h,v){var E=null;if(h.g==v){Oa(h),pl(h),h.g=null;var w=2}else if(Si(h.h,v))E=v.G,sl(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var B=h.D;w=Aa(),ke(w,new pi(w,E)),Ri(h)}else hc(h);else if(B=v.m,B==3||B==0&&v.X>0||!(w==1&&Ma(h,v)||w==2&&zr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),B){case 1:Di(h,5);break;case 4:Di(h,10);break;case 3:Di(h,6);break;default:Di(h,2)}}}function mc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Di(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),w=h.Ua;const B=!w;w=new Sn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Be(w,"https"),kr(w),B?ti(w.toString(),E):cl(w.toString(),E)}else be(2);h.I=0,h.l&&h.l.pa(v),pc(h),Va(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const v=rl(h.h);(v.length!=0||h.i.length!=0)&&(j(h.ja,v),j(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function gc(h,v,E){var w=E instanceof Sn?we(E):new Sn(E);if(w.g!="")v&&(w.g=v+"."+w.g),As(w,w.u);else{var B=c.location;w=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const Q=new Sn(null);w&&Be(Q,w),v&&(Q.g=v),B&&As(Q,B),E&&(Q.h=E),w=Q}return E=h.G,v=h.wa,E&&v&&Xt(w,E,v),Xt(w,"VER",h.ka),Br(h,w),w}function yc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Jt(new wi({ab:E})):new Jt(h.ma),v.Fa(h.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}i=vc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Vs(){}Vs.prototype.g=function(h,v){return new ln(h,v)};function ln(h,v){Ee.call(this),this.g=new Is(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!I(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new $i(this)}T(ln,Ee),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){dl(this.g)},ln.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ss(h),h=E);v.i.push(new Ae(v.Ya++,h)),v.I==3&&Ri(v)},ln.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,ln.Z.N.call(this)};function _c(h){qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(_c,qe);function Tc(){Mn.call(this),this.status=1}T(Tc,Mn);function $i(h){this.g=h}T($i,vc),$i.prototype.ra=function(){ke(this.g,"a")},$i.prototype.qa=function(h){ke(this.g,new _c(h))},$i.prototype.pa=function(h){ke(this.g,new Tc)},$i.prototype.oa=function(){ke(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,JS=function(){return new Vs},WS=function(){return Aa()},$S=ge,Mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Uh=Mr,Zo.COMPLETE="complete",XS=Zo,Ju.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,nu=Ju,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,QS=Jt}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Bo="12.8.0";function kI(i){Bo=i}const ya=new Tg("@firebase/firestore");function ho(){return ya.logLevel}function ht(i,...t){if(ya.logLevel<=Ut.DEBUG){const e=t.map(Ig);ya.debug(`Firestore (${Bo}): ${i}`,...e)}}function vs(i,...t){if(ya.logLevel<=Ut.ERROR){const e=t.map(Ig);ya.error(`Firestore (${Bo}): ${i}`,...e)}}function Do(i,...t){if(ya.logLevel<=Ut.WARN){const e=t.map(Ig);ya.warn(`Firestore (${Bo}): ${i}`,...e)}}function Ig(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function bt(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,ZS(i,r,e)}function ZS(i,t,e){let r=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw vs(r),new Error(r)}function Qt(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||ZS(t,o,r)}function Rt(i,t){return i}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Es{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class tA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(nn.UNAUTHENTICATED)))}shutdown(){}}class LI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class UI{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new tA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class jI{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FI{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new jI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const r=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new qT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zI(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class Ng{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=zI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function jt(i,t){return i<t?-1:i>t?1:0}function Op(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return sp(o)===sp(u)?jt(o,u):sp(o)?1:-1}return jt(i.length,t.length)}const HI=55296,qI=57343;function sp(i){const t=i.charCodeAt(0);return t>=HI&&t<=qI}function Io(i,t,e){return i.length===t.length&&i.every(((r,o)=>e(r,t[o])))}const GT="__name__";class ki{constructor(t,e,r){e===void 0?e=0:e>t.length&&bt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&bt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=ki.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return jt(t.length,e.length)}static compareSegments(t,e){const r=ki.isNumericId(t),o=ki.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?ki.extractNumericId(t).compare(ki.extractNumericId(e)):Op(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return dr.fromString(t.substring(4,t.length-2))}}class ce extends ki{construct(t,e,r){return new ce(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new ce(e)}static emptyPath(){return new ce([])}}const GI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends ki{construct(t,e,r){return new Je(t,e,r)}static isValidIdentifier(t){return GI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GT}static keyField(){return new Je([GT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new yt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new yt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new yt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(e)}static emptyPath(){return new Je([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(ce.fromString(t))}static fromName(t){return new Tt(ce.fromString(t).popFirst(5))}static empty(){return new Tt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ce.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new ce(t.slice()))}}function KI(i,t,e){if(!e)throw new yt(st.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function YI(i,t,e,r){if(t===!0&&r===!0)throw new yt(st.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function KT(i){if(!Tt.isDocumentKey(i))throw new yt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function eA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Vg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":bt(12329,{type:typeof i})}function Ui(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new yt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Vg(i);throw new yt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function Ve(i,t){const e={typeString:i};return t&&(e.value=t),e}function Uu(i,t){if(!eA(i))throw new yt(st.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new yt(st.INVALID_ARGUMENT,e);return!0}const YT=-62135596800,QT=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*QT);return new re(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<YT)throw new yt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QT}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-YT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ve("string",re._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new re(0,0))}static max(){return new wt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function QI(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(r===1e9?new re(e+1,0):new re(e,r));return new yr(o,Tt.empty(),t)}function XI(i){return new yr(i.readTime,i.key,Tu)}class yr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new yr(wt.min(),Tt.empty(),Tu)}static max(){return new yr(wt.max(),Tt.empty(),Tu)}}function $I(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Tt.comparator(i.documentKey,t.documentKey),e!==0?e:jt(i.largestBatchId,t.largestBatchId))}const WI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function zo(i){if(i.code!==st.FAILED_PRECONDITION||i.message!==WI)throw i;ht("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new nt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof nt?e:nt.resolve(e)}catch(e){return nt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):nt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):nt.reject(e)}static resolve(t){return new nt(((e,r)=>{e(t)}))}static reject(t){return new nt(((e,r)=>{r(t)}))}static waitFor(t){return new nt(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=nt.resolve(!1);for(const r of t)e=e.next((o=>o?nt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new nt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((y=>{c[g]=y,++m,m===u&&r(c)}),(y=>o(y)))}}))}static doWhile(t,e){return new nt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function ZI(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ho(i){return i.name==="IndexedDbTransactionError"}class Cf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Cf.ce=-1;const Mg=-1;function Rf(i){return i==null}function sf(i){return i===0&&1/i==-1/0}function tN(i){return typeof i=="number"&&Number.isInteger(i)&&!sf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const nA="";function eN(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=XT(t)),t=nN(i.get(e),t);return XT(t)}function nN(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case nA:e+="";break;default:e+=u}}return e}function XT(i){return i+nA+""}function $T(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function wr(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function iA(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class fe{constructor(t,e){this.comparator=t,this.root=e||We.EMPTY}insert(t,e){return new fe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xh(this.root,t,this.comparator,!0)}}class xh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??We.RED,this.left=o??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new We(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new WT(this.data.getIterator())}getIteratorFrom(t){return new WT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new je(this.comparator);return e.data=t,e}}class WT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Vn([])}unionWith(t){let e=new je(Je.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Vn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Io(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class sA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sA("Invalid base64 string: "+u):u}})(t);return new Ze(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Ze(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(i){if(Qt(!!i,39018),typeof i=="string"){let t=0;const e=iN.exec(i);if(Qt(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(i.seconds),nanos:Te(i.nanos)}}function Te(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function _r(i){return typeof i=="string"?Ze.fromBase64String(i):Ze.fromUint8Array(i)}const rA="server_timestamp",aA="__type__",oA="__previous_value__",lA="__local_write_time__";function Og(i){return(i?.mapValue?.fields||{})[aA]?.stringValue===rA}function Df(i){const t=i.mapValue.fields[oA];return Og(t)?Df(t):t}function Eu(i){const t=vr(i.mapValue.fields[lA].timestampValue);return new re(t.seconds,t.nanos)}class sN{constructor(t,e,r,o,u,c,m,p,g,y,T){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=T}}const rf="(default)";class bu{constructor(t,e){this.projectId=t,this.database=e||rf}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(t){return t instanceof bu&&t.projectId===this.projectId&&t.database===this.database}}function rN(i,t){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new yt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(i.options.projectId,t)}const uA="__type__",aN="__max__",Ch={mapValue:{}},cA="__vector__",af="value";function Tr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Og(i)?4:lN(i)?9007199254740991:oN(i)?10:11:bt(28295,{value:i})}function qi(i,t){if(i===t)return!0;const e=Tr(i);if(e!==Tr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Eu(i).isEqual(Eu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=vr(o.timestampValue),m=vr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return _r(o.bytesValue).isEqual(_r(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Te(o.doubleValue),m=Te(u.doubleValue);return c===m?sf(c)===sf(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return Io(i.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if($T(c)!==$T(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!qi(c[p],m[p])))return!1;return!0})(i,t);default:return bt(52216,{left:i})}}function Su(i,t){return(i.values||[]).find((e=>qi(e,t)))!==void 0}function No(i,t){if(i===t)return 0;const e=Tr(i),r=Tr(t);if(e!==r)return jt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return jt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return JT(i.timestampValue,t.timestampValue);case 4:return JT(Eu(i),Eu(t));case 5:return Op(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=_r(u),p=_r(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const y=jt(m[g],p[g]);if(y!==0)return y}return jt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=jt(Te(u.latitude),Te(c.latitude));return m!==0?m:jt(Te(u.longitude),Te(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return ZT(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[af]?.arrayValue,y=p[af]?.arrayValue,T=jt(g?.values?.length||0,y?.values?.length||0);return T!==0?T:ZT(g,y)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Ch.mapValue&&c===Ch.mapValue)return 0;if(u===Ch.mapValue)return 1;if(c===Ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let T=0;T<p.length&&T<y.length;++T){const b=Op(p[T],y[T]);if(b!==0)return b;const D=No(m[p[T]],g[y[T]]);if(D!==0)return D}return jt(p.length,y.length)})(i.mapValue,t.mapValue);default:throw bt(23264,{he:e})}}function JT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return jt(i,t);const e=vr(i),r=vr(t),o=jt(e.seconds,r.seconds);return o!==0?o:jt(e.nanos,r.nanos)}function ZT(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=No(e[o],r[o]);if(u)return u}return jt(e.length,r.length)}function Vo(i){return kp(i)}function kp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=vr(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return _r(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return Tt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=kp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${kp(e.fields[c])}`;return o+"}"})(i.mapValue):bt(61005,{value:i})}function jh(i){switch(Tr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Df(i);return t?16+jh(t):16;case 5:return 2*i.stringValue.length;case 6:return _r(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+jh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return wr(r.fields,((u,c)=>{o+=u.length+jh(c)})),o})(i.mapValue);default:throw bt(13486,{value:i})}}function Pp(i){return!!i&&"integerValue"in i}function kg(i){return!!i&&"arrayValue"in i}function tE(i){return!!i&&"nullValue"in i}function eE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fh(i){return!!i&&"mapValue"in i}function oN(i){return(i?.mapValue?.fields||{})[uA]?.stringValue===cA}function cu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return wr(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=cu(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=cu(i.arrayValue.values[e]);return t}return{...i}}function lN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===aN}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Fh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=cu(e)}setAll(t){let e=Je.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=cu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Fh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){wr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Tn(cu(this.value))}}function hA(i){const t=[];return wr(i.fields,((e,r)=>{const o=new Je([e]);if(Fh(r)){const u=hA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Vn(t)}class sn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,wt.min(),wt.min(),wt.min(),Tn.empty(),0)}static newFoundDocument(t,e,r,o){return new sn(t,1,e,wt.min(),r,o,0)}static newNoDocument(t,e){return new sn(t,2,e,wt.min(),wt.min(),Tn.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,wt.min(),wt.min(),Tn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(t,e){this.position=t,this.inclusive=e}}function nE(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?r=Tt.comparator(Tt.fromName(c.referenceValue),e.key):r=No(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!qi(i.position[e],t.position[e]))return!1;return!0}class lf{constructor(t,e="asc"){this.field=t,this.dir=e}}function uN(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class fA{}class Ue extends fA{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new hN(t,e,r):e==="array-contains"?new mN(t,r):e==="in"?new pN(t,r):e==="not-in"?new gN(t,r):e==="array-contains-any"?new yN(t,r):new Ue(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new fN(t,r):new dN(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(No(e,this.value)):e!==null&&Tr(this.value)===Tr(e)&&this.matchesComparison(No(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends fA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Gi(t,e)}matches(t){return dA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dA(i){return i.op==="and"}function mA(i){return cN(i)&&dA(i)}function cN(i){for(const t of i.filters)if(t instanceof Gi)return!1;return!0}function Lp(i){if(i instanceof Ue)return i.field.canonicalString()+i.op.toString()+Vo(i.value);if(mA(i))return i.filters.map((t=>Lp(t))).join(",");{const t=i.filters.map((e=>Lp(e))).join(",");return`${i.op}(${t})`}}function pA(i,t){return i instanceof Ue?(function(r,o){return o instanceof Ue&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(i,t):i instanceof Gi?(function(r,o){return o instanceof Gi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&pA(c,o.filters[m])),!0):!1})(i,t):void bt(19439)}function gA(i){return i instanceof Ue?(function(e){return`${e.field.canonicalString()} ${e.op} ${Vo(e.value)}`})(i):i instanceof Gi?(function(e){return e.op.toString()+" {"+e.getFilters().map(gA).join(" ,")+"}"})(i):"Filter"}class hN extends Ue{constructor(t,e,r){super(t,e,r),this.key=Tt.fromName(r.referenceValue)}matches(t){const e=Tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class fN extends Ue{constructor(t,e){super(t,"in",e),this.keys=yA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class dN extends Ue{constructor(t,e){super(t,"not-in",e),this.keys=yA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function yA(i,t){return(t.arrayValue?.values||[]).map((e=>Tt.fromName(e.referenceValue)))}class mN extends Ue{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return kg(e)&&Su(e.arrayValue,this.value)}}class pN extends Ue{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Su(this.value.arrayValue,e)}}class gN extends Ue{constructor(t,e){super(t,"not-in",e)}matches(t){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Su(this.value.arrayValue,e)}}class yN extends Ue{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!kg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Su(this.value.arrayValue,r)))}}class vN{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function sE(i,t=null,e=[],r=[],o=null,u=null,c=null){return new vN(i,t,e,r,o,u,c)}function Pg(i){const t=Rt(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Lp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Rf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Vo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Vo(r))).join(",")),t.Te=e}return t.Te}function Lg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!uN(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!pA(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!iE(i.startAt,t.startAt)&&iE(i.endAt,t.endAt)}function Up(i){return Tt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class If{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _N(i,t,e,r,o,u,c,m){return new If(i,t,e,r,o,u,c,m)}function Nf(i){return new If(i)}function rE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function TN(i){return Tt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function EN(i){return i.collectionGroup!==null}function hu(i){const t=Rt(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new je(Je.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new lf(u,r))})),e.has(Je.keyField().canonicalString())||t.Ie.push(new lf(Je.keyField(),r))}return t.Ie}function ji(i){const t=Rt(i);return t.Ee||(t.Ee=bN(t,hu(i))),t.Ee}function bN(i,t){if(i.limitType==="F")return sE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new lf(o.field,u)}));const e=i.endAt?new of(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new of(i.startAt.position,i.startAt.inclusive):null;return sE(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function jp(i,t,e){return new If(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Vf(i,t){return Lg(ji(i),ji(t))&&i.limitType===t.limitType}function vA(i){return`${Pg(ji(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>gA(o))).join(", ")}]`),Rf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Vo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Vo(o))).join(",")),`Target(${r})`})(ji(i))}; limitType=${i.limitType})`}function Mf(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Tt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of hu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=nE(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,hu(r),o)||r.endAt&&!(function(c,m,p){const g=nE(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,hu(r),o))})(i,t)}function SN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function _A(i){return(t,e)=>{let r=!1;for(const o of hu(i)){const u=AN(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function AN(i,t,e){const r=i.field.isKeyField()?Tt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?No(p,g):bt(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:i.dir})}}class _a{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){wr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return iA(this.inner)}size(){return this.innerSize}}const wN=new fe(Tt.comparator);function _s(){return wN}const TA=new fe(Tt.comparator);function iu(...i){let t=TA;for(const e of i)t=t.insert(e.key,e);return t}function EA(i){let t=TA;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function ca(){return fu()}function bA(){return fu()}function fu(){return new _a((i=>i.toString()),((i,t)=>i.isEqual(t)))}const xN=new fe(Tt.comparator),CN=new je(Tt.comparator);function Ft(...i){let t=CN;for(const e of i)t=t.add(e);return t}const RN=new je(jt);function DN(){return RN}function Ug(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(t)?"-0":t}}function SA(i){return{integerValue:""+i}}function IN(i,t){return tN(t)?SA(t):Ug(i,t)}class Of{constructor(){this._=void 0}}function NN(i,t,e){return i instanceof Au?(function(o,u){const c={fields:{[aA]:{stringValue:rA},[lA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Og(u)&&(u=Df(u)),u&&(c.fields[oA]=u),{mapValue:c}})(e,t):i instanceof Mo?wA(i,t):i instanceof wu?xA(i,t):(function(o,u){const c=AA(o,u),m=aE(c)+aE(o.Ae);return Pp(c)&&Pp(o.Ae)?SA(m):Ug(o.serializer,m)})(i,t)}function VN(i,t,e){return i instanceof Mo?wA(i,t):i instanceof wu?xA(i,t):e}function AA(i,t){return i instanceof uf?(function(r){return Pp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Au extends Of{}class Mo extends Of{constructor(t){super(),this.elements=t}}function wA(i,t){const e=CA(t);for(const r of i.elements)e.some((o=>qi(o,r)))||e.push(r);return{arrayValue:{values:e}}}class wu extends Of{constructor(t){super(),this.elements=t}}function xA(i,t){let e=CA(t);for(const r of i.elements)e=e.filter((o=>!qi(o,r)));return{arrayValue:{values:e}}}class uf extends Of{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function aE(i){return Te(i.integerValue||i.doubleValue)}function CA(i){return kg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class RA{constructor(t,e){this.field=t,this.transform=e}}function MN(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof Mo&&o instanceof Mo||r instanceof wu&&o instanceof wu?Io(r.elements,o.elements,qi):r instanceof uf&&o instanceof uf?qi(r.Ae,o.Ae):r instanceof Au&&o instanceof Au})(i.transform,t.transform)}class ON{constructor(t,e){this.version=t,this.transformResults=e}}class Fi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Fi}static exists(t){return new Fi(void 0,t)}static updateTime(t){return new Fi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class kf{}function DA(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new NA(i.key,Fi.none()):new ju(i.key,i.data,Fi.none());{const e=i.data,r=Tn.empty();let o=new je(Je.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new xr(i.key,r,new Vn(o.toArray()),Fi.none())}}function kN(i,t,e){i instanceof ju?(function(o,u,c){const m=o.value.clone(),p=lE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,e):i instanceof xr?(function(o,u,c){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=lE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(IA(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function du(i,t,e,r){return i instanceof ju?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=u.value.clone(),y=uE(u.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,e,r):i instanceof xr?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=uE(u.fieldTransforms,p,c),y=c.data;return y.setAll(IA(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,e,r):(function(u,c,m){return Bh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,e)}function PN(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=AA(r.transform,o||null);u!=null&&(e===null&&(e=Tn.empty()),e.set(r.field,u))}return e||null}function oE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Io(r,o,((u,c)=>MN(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class ju extends kf{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xr extends kf{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function IA(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function lE(i,t,e){const r=new Map;Qt(i.length===e.length,32656,{Ve:e.length,de:i.length});for(let o=0;o<e.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,VN(c,m,e[o]))}return r}function uE(i,t,e){const r=new Map;for(const o of i){const u=o.transform,c=e.data.field(o.field);r.set(o.field,NN(u,c,t))}return r}class NA extends kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LN extends kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UN{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&kN(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=du(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=du(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=bA();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=DA(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(wt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&Io(this.mutations,t.mutations,((e,r)=>oE(e,r)))&&Io(this.baseMutations,t.baseMutations,((e,r)=>oE(e,r)))}}class jg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return xN})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new jg(t,e,r,o)}}class jN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FN{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ie,Ht;function BN(i){switch(i){case st.OK:return bt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return bt(15467,{code:i})}}function VA(i){if(i===void 0)return vs("GRPC error has no .code"),st.UNKNOWN;switch(i){case Ie.OK:return st.OK;case Ie.CANCELLED:return st.CANCELLED;case Ie.UNKNOWN:return st.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return st.INTERNAL;case Ie.UNAVAILABLE:return st.UNAVAILABLE;case Ie.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ie.NOT_FOUND:return st.NOT_FOUND;case Ie.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ie.ABORTED:return st.ABORTED;case Ie.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ie.DATA_LOSS:return st.DATA_LOSS;default:return bt(39323,{code:i})}}(Ht=Ie||(Ie={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function zN(){return new TextEncoder}const HN=new dr([4294967295,4294967295],0);function cE(i){const t=zN().encode(i),e=new YS;return e.update(t),new Uint8Array(e.digest())}function hE(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new dr([e,r],0),new dr([o,u],0)]}class Fg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new su(`Invalid padding: ${e}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new su(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=dr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(dr.fromNumber(r)));return o.compare(HN)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=cE(t),[r,o]=hE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Fg(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=cE(t),[r,o]=hE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Fu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Pf(wt.min(),o,new fe(jt),_s(),Ft())}}class Fu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Fu(r,e,Ft(),Ft(),Ft())}}class zh{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=o}}class MA{constructor(t,e){this.targetId=t,this.Ce=e}}class OA{constructor(t,e,r=Ze.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class fE{constructor(){this.ve=0,this.Fe=dE(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),e=Ft(),r=Ft();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:u})}})),new Fu(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=dE()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class qN{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.He=Rh(),this.Je=Rh(),this.Ze=new fe(jt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Up(u))if(r===0){const c=new Tt(u.path);this.et(e,c,sn.newNoDocument(c,wt.min()))}else Qt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=_r(r).toUint8Array()}catch(p){if(p instanceof sA)return Do("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Fg(c,o,u)}catch(p){return Do(p instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Up(m.target)){const p=new Tt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,sn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.Ke())}}));let r=Ft();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Pf(t,e,this.Ze,this.je,r);return this.je=_s(),this.He=Rh(),this.Je=Rh(),this.Ze=new fe(jt),o}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.qe(e,1):o.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new fE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new je(jt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new je(jt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Rh(){return new fe(Tt.comparator)}function dE(){return new fe(Tt.comparator)}const GN={asc:"ASCENDING",desc:"DESCENDING"},KN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YN={and:"AND",or:"OR"};class QN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Fp(i,t){return i.useProto3Json||Rf(t)?t:{value:t}}function cf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kA(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function XN(i,t){return cf(i,t.toTimestamp())}function Bi(i){return Qt(!!i,49232),wt.fromTimestamp((function(e){const r=vr(e);return new re(r.seconds,r.nanos)})(i))}function Bg(i,t){return Bp(i,t).canonicalString()}function Bp(i,t){const e=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function PA(i){const t=ce.fromString(i);return Qt(BA(t),10190,{key:t.toString()}),t}function zp(i,t){return Bg(i.databaseId,t.path)}function rp(i,t){const e=PA(t);if(e.get(1)!==i.databaseId.projectId)throw new yt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new yt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Tt(UA(e))}function LA(i,t){return Bg(i.databaseId,t)}function $N(i){const t=PA(i);return t.length===4?ce.emptyPath():UA(t)}function Hp(i){return new ce(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function UA(i){return Qt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mE(i,t,e){return{name:zp(i,t),fields:e.value.mapValue.fields}}function WN(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,y){return g.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),Ze.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ze.fromUint8Array(y||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const y=g.code===void 0?st.UNKNOWN:VA(g.code);return new yt(y,g.message||"")})(c);e=new OA(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=rp(i,r.document.name),u=Bi(r.document.updateTime),c=r.document.createTime?Bi(r.document.createTime):wt.min(),m=new Tn({mapValue:{fields:r.document.fields}}),p=sn.newFoundDocument(o,u,c,m),g=r.targetIds||[],y=r.removedTargetIds||[];e=new zh(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=rp(i,r.document),u=r.readTime?Bi(r.readTime):wt.min(),c=sn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new zh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=rp(i,r.document),u=r.removedTargetIds||[];e=new zh([],u,o,null)}else{if(!("filter"in t))return bt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new FN(o,u),m=r.targetId;e=new MA(m,c)}}return e}function JN(i,t){let e;if(t instanceof ju)e={update:mE(i,t.key,t.value)};else if(t instanceof NA)e={delete:zp(i,t.key)};else if(t instanceof xr)e={update:mE(i,t.key,t.data),updateMask:oV(t.fieldMask)};else{if(!(t instanceof LN))return bt(16599,{dt:t.type});e={verify:zp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Au)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw bt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:XN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(i,t.precondition)),e}function ZN(i,t){return i&&i.length>0?(Qt(t!==void 0,14353),i.map((e=>(function(o,u){let c=o.updateTime?Bi(o.updateTime):Bi(u);return c.isEqual(wt.min())&&(c=Bi(u)),new ON(c,o.transformResults||[])})(e,t)))):[]}function tV(i,t){return{documents:[LA(i,t.path)]}}function eV(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=LA(i,o);const u=(function(g){if(g.length!==0)return FA(Gi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((y=>(function(b){return{field:mo(b.field),direction:sV(b.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=Fp(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function nV(i){let t=$N(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Qt(r===1,65062);const y=e.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];e.where&&(u=(function(T){const b=jA(T);return b instanceof Gi&&mA(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((b=>(function(j){return new lf(po(j.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(b)))})(e.orderBy));let m=null;e.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Rf(b)?null:b})(e.limit));let p=null;e.startAt&&(p=(function(T){const b=!!T.before,D=T.values||[];return new of(D,b)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const b=!T.before,D=T.values||[];return new of(D,b)})(e.endAt)),_N(t,o,c,u,m,"F",p,g)}function iV(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function jA(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=po(e.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=po(e.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(e.unaryFilter.field);return Ue.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=po(e.unaryFilter.field);return Ue.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(i):i.fieldFilter!==void 0?(function(e){return Ue.create(po(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return Gi.create(e.compositeFilter.filters.map((r=>jA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(e.compositeFilter.op))})(i):bt(30097,{filter:i})}function sV(i){return GN[i]}function rV(i){return KN[i]}function aV(i){return YN[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return Je.fromServerFormat(i.fieldPath)}function FA(i){return i instanceof Ue?(function(e){if(e.op==="=="){if(eE(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NAN"}};if(tE(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(eE(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NOT_NAN"}};if(tE(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(e.field),op:rV(e.op),value:e.value}}})(i):i instanceof Gi?(function(e){const r=e.getFilters().map((o=>FA(o)));return r.length===1?r[0]:{compositeFilter:{op:aV(e.op),filters:r}}})(i):bt(54877,{filter:i})}function oV(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function BA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function zA(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class or{constructor(t,e,r,o,u=wt.min(),c=wt.min(),m=Ze.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lV{constructor(t){this.yt=t}}function uV(i){const t=nV({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?jp(t,t.limit,"L"):t}class cV{constructor(){this.Sn=new hV}addToCollectionParentIndex(t,e){return this.Sn.add(e),nt.resolve()}getCollectionParents(t,e){return nt.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return nt.resolve()}deleteFieldIndex(t,e){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,e){return nt.resolve()}getDocumentsMatchingTarget(t,e){return nt.resolve(null)}getIndexType(t,e){return nt.resolve(0)}getFieldIndexes(t,e){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,e){return nt.resolve(yr.min())}getMinOffsetFromCollectionGroup(t,e){return nt.resolve(yr.min())}updateCollectionGroup(t,e,r){return nt.resolve()}updateIndexEntries(t,e){return nt.resolve()}}class hV{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new je(ce.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new je(ce.comparator)).toArray()}}const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HA=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(HA,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Oo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Oo(0)}static ar(){return new Oo(-1)}}const gE="LruGarbageCollector",fV=1048576;function yE([i,t],[e,r]){const o=jt(i,e);return o===0?jt(t,r):o}class dV{constructor(t){this.Pr=t,this.buffer=new je(yE),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();yE(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class mV{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ht(gE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ho(e)?ht(gE,"Ignoring IndexedDB error during garbage collection: ",e):await zo(e)}await this.Ar(3e5)}))}}class pV{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return nt.resolve(Cf.ce);const r=new dV(e);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(pE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,o,u,c,m,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),ho()<=Ut.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function gV(i,t){return new pV(i,t)}class yV{constructor(){this.changes=new _a((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?nt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class vV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class _V{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&du(r.mutation,o,Vn.empty(),re.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Ft()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Ft()){const o=ca();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=iu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=ca();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Ft())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=_s();const c=fu(),m=(function(){return fu()})();return e.forEach(((p,g)=>{const y=r.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof xr)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),du(y.mutation,g,y.mutation.getFieldMask(),re.now())):c.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,y)=>c.set(g,y))),e.forEach(((g,y)=>m.set(g,new vV(y,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=fu();let o=new fe(((c,m)=>c-m)),u=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let y=r.get(p)||Vn.empty();y=m.applyToLocalView(g,y),r.set(p,y);const T=(o.get(m.batchId)||Ft()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,y=p.value,T=bA();y.forEach((b=>{if(!u.has(b)){const D=DA(e.get(b),r.get(b));D!==null&&T.set(b,D),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return nt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return TN(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):EN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):nt.resolve(ca());let m=Tu,p=u;return c.next((g=>nt.forEach(g,((y,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{p=p.insert(y,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ft()))).next((y=>({batchId:m,changes:EA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tt(e)).next((r=>{let o=iu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=iu();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(T,b){return new If(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((y=>{y.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,sn.newInvalidDocument(y)))}));let m=iu();return c.forEach(((p,g)=>{const y=u.get(p);y!==void 0&&du(y.mutation,g,Vn.empty(),re.now()),Mf(e,g)&&(m=m.insert(p,g))})),m}))}}class TV{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return nt.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(e)),nt.resolve()}getNamedQuery(t,e){return nt.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(o){return{name:o.name,query:uV(o.bundledQuery),readTime:Bi(o.readTime)}})(e)),nt.resolve()}}class EV{constructor(){this.overlays=new fe(Tt.comparator),this.Lr=new Map}getOverlay(t,e){return nt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ca();return nt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.bt(t,e,u)})),nt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(t,e,r){const o=ca(),u=e.length+1,c=new Tt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new fe(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let y=u.get(g.largestBatchId);y===null&&(y=ca(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=ca(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>m.set(g,y))),!(m.size()>=o)););return nt.resolve(m)}bt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new jN(e,r));let u=this.Lr.get(e);u===void 0&&(u=Ft(),this.Lr.set(e,u)),this.Lr.set(e,u.add(r.key))}}class bV{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,nt.resolve()}}class zg{constructor(){this.kr=new je(He.Kr),this.qr=new je(He.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new He(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new He(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new Tt(new ce([])),r=new He(e,t),o=new He(e,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new Tt(new ce([])),r=new He(e,t),o=new He(e,t+1);let u=Ft();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new He(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class He{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return Tt.comparator(t.key,e.key)||jt(t.Hr,e.Hr)}static Ur(t,e){return jt(t.Hr,e.Hr)||Tt.comparator(t.key,e.key)}}class SV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new je(He.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UN(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new He(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,e){return nt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Mg:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new He(e,0),o=new He(e,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new je(jt);return e.forEach((o=>{const u=new He(o,0),c=new He(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;Tt.isDocumentKey(u)||(u=u.child(""));const c=new He(new Tt(u),0);let m=new je(jt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),nt.resolve(this.Yr(m))}Yr(t){const e=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Qt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(e.mutations,(o=>{const u=new He(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new He(e,0),o=this.Jr.firstAfterOrEqual(r);return nt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class AV{constructor(t){this.ti=t,this.docs=(function(){return new fe(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return nt.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let r=_s();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=_s();const c=e.path,m=new Tt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||$I(XI(y),r)<=0||(o.has(y.key)||Mf(e,y))&&(u=u.insert(y.key,y.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){bt(9500)}ni(t,e){return nt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new wV(this)}getSize(t){return nt.resolve(this.size)}}class wV extends yV{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),nt.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class xV{constructor(t){this.persistence=t,this.ri=new _a((e=>Pg(e)),Lg),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.ii=0,this.si=new zg,this.targetCount=0,this.oi=Oo._r()}forEachTarget(t,e){return this.ri.forEach(((r,o)=>e(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),nt.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Oo(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,nt.resolve()}updateTargetData(t,e){return this.lr(e),nt.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return nt.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),nt.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),nt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return nt.resolve(r)}containsKey(t,e){return nt.resolve(this.si.containsKey(e))}}class qA{constructor(t,e){this._i={},this.overlays={},this.ai=new Cf(0),this.ui=!1,this.ui=!0,this.ci=new bV,this.referenceDelegate=t(this),this.li=new xV(this),this.indexManager=new cV,this.remoteDocumentCache=(function(o){return new AV(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new lV(e),this.Pi=new TV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new EV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new SV(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){ht("MemoryPersistence","Starting transaction:",t);const o=new CV(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,e){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class CV extends JI{constructor(t){super(),this.currentSequenceNumber=t}}class Hg{constructor(t){this.persistence=t,this.Ri=new zg,this.Ai=null}static Vi(t){return new Hg(t)}get di(){if(this.Ai)return this.Ai;throw bt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),nt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),nt.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const o=Tt.fromPath(r);return this.mi(t,o).next((u=>{u||e.removeEntry(o,wt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return nt.or([()=>nt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class hf{constructor(t,e){this.persistence=t,this.fi=new _a((r=>eN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=gV(this,e)}static Vi(t,e){return new hf(t,e)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return nt.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?nt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,e).next((m=>{m||(r++,u.removeEntry(c,wt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),nt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),nt.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=jh(t.data.value)),e}wr(t,e,r){return nt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.fi.get(e);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class qg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=o}static Es(t,e){let r=Ft(),o=Ft();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qg(t,e.fromCache,r,o)}}class RV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class DV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return gR()?8:ZI(an())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.gs(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new RV;return this.ys(t,e,c).next((m=>{if(u.result=m,this.As)return this.ws(t,e,c,m.size)}))})).next((()=>u.result))}ws(t,e,r,o){return r.documentReadCount<this.Vs?(ho()<=Ut.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",fo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(ho()<=Ut.DEBUG&&ht("QueryEngine","Query:",fo(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(ho()<=Ut.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",fo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(e))):nt.resolve())}gs(t,e){if(rE(e))return nt.resolve(null);let r=ji(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=jp(e,null,"F"),r=ji(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ft(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(e,m);return this.Ss(e,g,c,p.readTime)?this.gs(t,jp(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,r,o){return rE(e)||o.isEqual(wt.min())?nt.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(e,u);return this.Ss(e,c,r,o)?nt.resolve(null):(ho()<=Ut.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(e)),this.Ds(t,c,e,QI(o,Tu)).next((m=>m)))}))}bs(t,e){let r=new je(_A(t));return e.forEach(((o,u)=>{Mf(t,u)&&(r=r.add(u))})),r}Ss(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,e,r){return ho()<=Ut.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",fo(e)),this.fs.getDocumentsMatchingQuery(t,e,yr.min(),r)}Ds(t,e,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Gg="LocalStore",IV=3e8;class NV{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.vs=new fe(jt),this.Fs=new _a((u=>Pg(u)),Lg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _V(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function VV(i,t,e,r){return new NV(i,t,e,r)}async function GA(i,t){const e=Rt(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ft();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of u){m.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function MV(i,t){const e=Rt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,y){const T=g.batch,b=T.keys();let D=nt.resolve();return b.forEach((j=>{D=D.next((()=>y.getEntry(p,j))).next((K=>{const N=g.docVersions.get(j);Qt(N!==null,48541),K.version.compareTo(N)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),y.addEntry(K)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ft();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function KA(i){const t=Rt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function OV(i,t){const e=Rt(i),r=t.snapshotVersion;let o=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});o=e.vs;const m=[];t.targetChanges.forEach(((y,T)=>{const b=o.get(T);if(!b)return;m.push(e.li.removeMatchingKeys(u,y.removedDocuments,T).next((()=>e.li.addMatchingKeys(u,y.addedDocuments,T))));let D=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(Ze.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(y.resumeToken,r)),o=o.insert(T,D),(function(K,N,F){return K.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=IV?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(b,D,y)&&m.push(e.li.updateTargetData(u,D))}));let p=_s(),g=Ft();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,y))})),m.push(kV(u,c,t.documentUpdates).next((y=>{p=y.Bs,g=y.Ls}))),!r.isEqual(wt.min())){const y=e.li.getLastRemoteSnapshotVersion(u).next((T=>e.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(y)}return nt.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.vs=o,u)))}function kV(i,t,e){let r=Ft(),o=Ft();return e.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let c=_s();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ht(Gg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function PV(i,t){const e=Rt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Mg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function LV(i,t){const e=Rt(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.li.getTargetData(r,t).next((u=>u?(o=u,nt.resolve(o)):e.li.allocateTargetId(r).next((c=>(o=new or(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function qp(i,t,e){const r=Rt(i),o=r.vs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ho(c))throw c;ht(Gg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function vE(i,t,e){const r=Rt(i);let o=wt.min(),u=Ft();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const T=Rt(p),b=T.Fs.get(y);return b!==void 0?nt.resolve(T.vs.get(b)):T.li.getTargetData(g,y)})(r,c,ji(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?o:wt.min(),e?u:Ft()))).next((m=>(UV(r,SN(t),m),{documents:m,ks:u})))))}function UV(i,t,e){let r=i.Ms.get(t)||wt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Ms.set(t,r)}class _E{constructor(){this.activeTargetIds=DN()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jV{constructor(){this.vo=new _E,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new _E,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class FV{Mo(t){}shutdown(){}}const TE="ConnectivityMonitor";class EE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(TE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ht(TE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dh=null;function Gp(){return Dh===null?Dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dh++,"0x"+Dh.toString(16)}const ap="RestConnection",BV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class zV{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===rf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,u){const c=Gp(),m=this.Qo(t,e.toUriEncodedString());ht(ap,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),y=Uo(g);return this.zo(t,m,p,r,y).then((T=>(ht(ap,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Do(ap,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(t,e,r,o,u,c){return this.Wo(t,e,r,o,u)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,e){const r=BV[t];let o=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class HV{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const en="WebChannelConnection",tu=(i,t,e)=>{i.listen(t,(r=>{try{e(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ao extends zV{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ao.c_){const t=WS();tu(t,$S.STAT_EVENT,(e=>{e.stat===Mp.PROXY?ht(en,"STAT_EVENT: detected buffering proxy"):e.stat===Mp.NOPROXY&&ht(en,"STAT_EVENT: detected no buffering proxy")})),Ao.c_=!0}}zo(t,e,r,o,u){const c=Gp();return new Promise(((m,p)=>{const g=new QS;g.setWithCredentials(!0),g.listenOnce(XS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const T=g.getResponseJson();ht(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case Uh.TIMEOUT:ht(en,`RPC '${t}' ${c} timed out`),p(new yt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const b=g.getStatus();if(ht(en,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D?.error;if(j&&j.status&&j.message){const K=(function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf($)>=0?$:st.UNKNOWN})(j.status);p(new yt(K,j.message))}else p(new yt(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new yt(st.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(en,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);ht(en,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",y,r,15)}))}T_(t,e,r){const o=Gp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const g=u.join("");ht(en,`Creating RPC '${t}' stream ${o}: ${g}`,m);const y=c.createWebChannel(g,m);this.I_(y);let T=!1,b=!1;const D=new HV({Ho:j=>{b?ht(en,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(T||(ht(en,`Opening RPC '${t}' stream ${o} transport.`),y.open(),T=!0),ht(en,`RPC '${t}' stream ${o} sending:`,j),y.send(j))},Jo:()=>y.close()});return tu(y,nu.EventType.OPEN,(()=>{b||(ht(en,`RPC '${t}' stream ${o} transport opened.`),D.i_())})),tu(y,nu.EventType.CLOSE,(()=>{b||(b=!0,ht(en,`RPC '${t}' stream ${o} transport closed`),D.o_(),this.E_(y))})),tu(y,nu.EventType.ERROR,(j=>{b||(b=!0,Do(en,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),D.o_(new yt(st.UNAVAILABLE,"The operation could not be completed")))})),tu(y,nu.EventType.MESSAGE,(j=>{if(!b){const K=j.data[0];Qt(!!K,16349);const N=K,F=N?.error||N[0]?.error;if(F){ht(en,`RPC '${t}' stream ${o} received error:`,F);const $=F.status;let q=(function(ct){const C=Ie[ct];if(C!==void 0)return VA(C)})($),at=F.message;q===void 0&&(q=st.INTERNAL,at="Unknown error status: "+$+" with message "+F.message),b=!0,D.o_(new yt(q,at)),y.close()}else ht(en,`RPC '${t}' stream ${o} received:`,K),D.__(K)}})),Ao.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JS()}}function qV(i){return new Ao(i)}function op(){return typeof document<"u"?document:null}function Lf(i){return new QN(i,!0)}Ao.c_=!1;class YA{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const bE="PersistentStream";class QA{constructor(t,e,r,o,u,c,m,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===st.RESOURCE_EXHAUSTED?(vs(e.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new yt(st.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(bE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ht(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GV extends QA{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=WN(this.serializer,t),r=(function(u){if(!("targetChange"in u))return wt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Bi(c.readTime):wt.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=Hp(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=Up(p)?{documents:tV(u,p)}:{query:eV(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=kA(u,c.resumeToken);const g=Fp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(wt.min())>0){m.readTime=cf(u,c.snapshotVersion.toTimestamp());const g=Fp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=iV(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=Hp(this.serializer),e.removeTarget=t,this.K_(e)}}class KV extends QA{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=ZN(t.writeResults,t.commitTime),r=Bi(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Hp(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>JN(this.serializer,r)))};this.K_(e)}}class YV{}class QV extends YV{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,Bp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(st.UNKNOWN,u.toString())}))}jo(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,Bp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function XV(i,t,e,r){return new QV(i,t,e,r)}class $V{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const va="RemoteStore";class WV{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Ta(this)&&(ht(va,"Restarting streams for network reachability change."),await(async function(p){const g=Rt(p);g.Ea.add(4),await Bu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Uf(g)})(this))}))})),this.Va=new $V(r,o)}}async function Uf(i){if(Ta(i))for(const t of i.Ra)await t(!0)}async function Bu(i){for(const t of i.Ra)await t(!1)}function XA(i,t){const e=Rt(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Xg(e)?Qg(e):qo(e).O_()&&Yg(e,t))}function Kg(i,t){const e=Rt(i),r=qo(e);e.Ia.delete(t),r.O_()&&$A(e,t),e.Ia.size===0&&(r.O_()?r.L_():Ta(e)&&e.Va.set("Unknown"))}function Yg(i,t){if(i.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}qo(i).Z_(t)}function $A(i,t){i.da.$e(t),qo(i).X_(t)}function Qg(i){i.da=new qN({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),qo(i).start(),i.Va.ua()}function Xg(i){return Ta(i)&&!qo(i).x_()&&i.Ia.size>0}function Ta(i){return Rt(i).Ea.size===0}function WA(i){i.da=void 0}async function JV(i){i.Va.set("Online")}async function ZV(i){i.Ia.forEach(((t,e)=>{Yg(i,t)}))}async function tM(i,t){WA(i),Xg(i)?(i.Va.ha(t),Qg(i)):i.Va.set("Unknown")}async function eM(i,t,e){if(i.Va.set("Online"),t instanceof OA&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(i,t)}catch(r){ht(va,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ff(i,r)}else if(t instanceof zh?i.da.Xe(t):t instanceof MA?i.da.st(t):i.da.tt(t),!e.isEqual(wt.min()))try{const r=await KA(i.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=u.Ia.get(g);y&&u.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const y=u.Ia.get(p);if(!y)return;u.Ia.set(p,y.withResumeToken(Ze.EMPTY_BYTE_STRING,y.snapshotVersion)),$A(u,p);const T=new or(y.target,p,g,y.sequenceNumber);Yg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,e)}catch(r){ht(va,"Failed to raise snapshot:",r),await ff(i,r)}}async function ff(i,t,e){if(!Ho(t))throw t;i.Ea.add(1),await Bu(i),i.Va.set("Offline"),e||(e=()=>KA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ht(va,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await Uf(i)}))}function JA(i,t){return t().catch((e=>ff(i,e,t)))}async function jf(i){const t=Rt(i),e=Er(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mg;for(;nM(t);)try{const o=await PV(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,iM(t,o)}catch(o){await ff(t,o)}ZA(t)&&t1(t)}function nM(i){return Ta(i)&&i.Ta.length<10}function iM(i,t){i.Ta.push(t);const e=Er(i);e.O_()&&e.Y_&&e.ea(t.mutations)}function ZA(i){return Ta(i)&&!Er(i).x_()&&i.Ta.length>0}function t1(i){Er(i).start()}async function sM(i){Er(i).ra()}async function rM(i){const t=Er(i);for(const e of i.Ta)t.ea(e.mutations)}async function aM(i,t,e){const r=i.Ta.shift(),o=jg.from(r,t,e);await JA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await jf(i)}async function oM(i,t){t&&Er(i).Y_&&await(async function(r,o){if((function(c){return BN(c)&&c!==st.ABORTED})(o.code)){const u=r.Ta.shift();Er(r).B_(),await JA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jf(r)}})(i,t),ZA(i)&&t1(i)}async function SE(i,t){const e=Rt(i);e.asyncQueue.verifyOperationInProgress(),ht(va,"RemoteStore received new credentials");const r=Ta(e);e.Ea.add(3),await Bu(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Uf(e)}async function lM(i,t){const e=Rt(i);t?(e.Ea.delete(2),await Uf(e)):t||(e.Ea.add(2),await Bu(e),e.Va.set("Unknown"))}function qo(i){return i.ma||(i.ma=(function(e,r,o){const u=Rt(e);return u.sa(),new GV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:JV.bind(null,i),Yo:ZV.bind(null,i),t_:tM.bind(null,i),J_:eM.bind(null,i)}),i.Ra.push((async t=>{t?(i.ma.B_(),Xg(i)?Qg(i):i.Va.set("Unknown")):(await i.ma.stop(),WA(i))}))),i.ma}function Er(i){return i.fa||(i.fa=(function(e,r,o){const u=Rt(e);return u.sa(),new KV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:sM.bind(null,i),t_:oM.bind(null,i),ta:rM.bind(null,i),na:aM.bind(null,i)}),i.Ra.push((async t=>{t?(i.fa.B_(),await jf(i)):(await i.fa.stop(),i.Ta.length>0&&(ht(va,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class $g{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new $g(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(i,t){if(vs("AsyncQueue",`${t}: ${i}`),Ho(i))return new yt(st.UNAVAILABLE,`${t}: ${i}`);throw i}class wo{static emptySet(t){return new wo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Tt.comparator(e.key,r.key):(e,r)=>Tt.comparator(e.key,r.key),this.keyedMap=iu(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof wo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new wo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class AE{constructor(){this.ga=new fe(Tt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):bt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class ko{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new ko(t,e,wo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class uM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class cM{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Rt(e),u=o.queries;o.queries=wE(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new yt(st.ABORTED,"Firestore shutting down"))}}function wE(){return new _a((i=>vA(i)),Vf)}async function e1(i,t){const e=Rt(i);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new uM,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Wg(c,`Initialization of query '${fo(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.ba.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Jg(e)}async function n1(i,t){const e=Rt(i),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function hM(i,t){const e=Rt(i);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&Jg(e)}function fM(i,t,e){const r=Rt(i),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(e);r.queries.delete(t)}function Jg(i){i.Ca.forEach((t=>{t.next()}))}var Kp,xE;(xE=Kp||(Kp={})).Ma="default",xE.Cache="cache";class i1{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new ko(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Kp.Cache}}class s1{constructor(t){this.key=t}}class r1{constructor(t){this.key=t}}class dM{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ft(),this.mutatedKeys=Ft(),this.eu=_A(t),this.tu=new wo(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new AE,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,T)=>{const b=o.get(y),D=Mf(this.query,T)?T:null,j=!!b&&this.mutatedKeys.has(b.key),K=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let N=!1;b&&D?b.data.isEqual(D.data)?j!==K&&(r.track({type:3,doc:D}),N=!0):this.su(b,D)||(r.track({type:2,doc:D}),N=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!b&&D?(r.track({type:0,doc:D}),N=!0):b&&!D&&(r.track({type:1,doc:b}),N=!0,(p||g)&&(m=!0)),N&&(D?(c=c.add(D),u=K?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,T)=>(function(D,j){const K=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:N})}};return K(D)-K(j)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new ko(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new r1(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new s1(r))})),e}cu(t){this.Za=t.ks,this.Ya=Ft();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zg="SyncEngine";class mM{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class pM{constructor(t){this.key=t,this.hu=!1}}class gM{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new _a((m=>vA(m)),Vf),this.Iu=new Map,this.Eu=new Set,this.Ru=new fe(Tt.comparator),this.Au=new Map,this.Vu=new zg,this.du={},this.mu=new Map,this.fu=Oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yM(i,t,e=!0){const r=h1(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await a1(r,t,e,!0),o}async function vM(i,t){const e=h1(i);await a1(e,t,!0,!1)}async function a1(i,t,e,r){const o=await LV(i.localStore,ji(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await _M(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&e&&XA(i.remoteStore,o),m}async function _M(i,t,e,r,o){i.pu=(T,b,D)=>(async function(K,N,F,$){let q=N.view.ru(F);q.Ss&&(q=await vE(K.localStore,N.query,!1).then((({documents:C})=>N.view.ru(C,q))));const at=$&&$.targetChanges.get(N.targetId),it=$&&$.targetMismatches.get(N.targetId)!=null,ct=N.view.applyChanges(q,K.isPrimaryClient,at,it);return RE(K,N.targetId,ct.au),ct.snapshot})(i,T,b,D);const u=await vE(i.localStore,t,!0),c=new dM(t,u.ks),m=c.ru(u.documents),p=Fu.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);RE(i,e,g.au);const y=new mM(t,e,c);return i.Tu.set(t,y),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),g.snapshot}async function TM(i,t,e){const r=Rt(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Vf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await qp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Kg(r.remoteStore,o.targetId),Yp(r,o.targetId)})).catch(zo)):(Yp(r,o.targetId),await qp(r.localStore,o.targetId,!0))}async function EM(i,t){const e=Rt(i),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Kg(e.remoteStore,r.targetId))}async function bM(i,t,e){const r=DM(i);try{const o=await(function(c,m){const p=Rt(c),g=re.now(),y=m.reduce(((D,j)=>D.add(j.key)),Ft());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let j=_s(),K=Ft();return p.xs.getEntries(D,y).next((N=>{j=N,j.forEach(((F,$)=>{$.isValidDocument()||(K=K.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,j))).next((N=>{T=N;const F=[];for(const $ of m){const q=PN($,T.get($.key).overlayedDocument);q!=null&&F.push(new xr($.key,q,hA(q.value.mapValue),Fi.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,F,m)})).next((N=>{b=N;const F=N.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(D,N.batchId,F)}))})).then((()=>({batchId:b.batchId,changes:EA(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new fe(jt)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,e),await zu(r,o.changes),await jf(r.remoteStore)}catch(o){const u=Wg(o,"Failed to persist write");e.reject(u)}}async function o1(i,t){const e=Rt(i);try{const r=await OV(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Qt(c.hu,14607):o.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await zu(e,r,t)}catch(r){await zo(r)}}function CE(i,t,e){const r=Rt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Rt(c);p.onlineState=m;let g=!1;p.queries.forEach(((y,T)=>{for(const b of T.ba)b.va(m)&&(g=!0)})),g&&Jg(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function SM(i,t,e){const r=Rt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new fe(Tt.comparator);c=c.insert(u,sn.newNoDocument(u,wt.min()));const m=Ft().add(u),p=new Pf(wt.min(),new Map,new fe(jt),c,m);await o1(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(t),ty(r)}else await qp(r.localStore,t,!1).then((()=>Yp(r,t,e))).catch(zo)}async function AM(i,t){const e=Rt(i),r=t.batch.batchId;try{const o=await MV(e.localStore,t);u1(e,r,null),l1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await zu(e,o)}catch(o){await zo(o)}}async function wM(i,t,e){const r=Rt(i);try{const o=await(function(c,m){const p=Rt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qt(T!==null,37113),y=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(r.localStore,t);u1(r,t,e),l1(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await zu(r,o)}catch(o){await zo(o)}}function l1(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function u1(i,t,e){const r=Rt(i);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function Yp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Vu.Gr(t).forEach((r=>{i.Vu.containsKey(r)||c1(i,r)}))}function c1(i,t){i.Eu.delete(t.path.canonicalString());const e=i.Ru.get(t);e!==null&&(Kg(i.remoteStore,e),i.Ru=i.Ru.remove(t),i.Au.delete(e),ty(i))}function RE(i,t,e){for(const r of e)r instanceof s1?(i.Vu.addReference(r.key,t),xM(i,r)):r instanceof r1?(ht(Zg,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,t),i.Vu.containsKey(r.key)||c1(i,r.key)):bt(19791,{wu:r})}function xM(i,t){const e=t.key,r=e.path.canonicalString();i.Ru.get(e)||i.Eu.has(r)||(ht(Zg,"New document in limbo: "+e),i.Eu.add(r),ty(i))}function ty(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new Tt(ce.fromString(t)),r=i.fu.next();i.Au.set(r,new pM(e)),i.Ru=i.Ru.insert(e,r),XA(i.remoteStore,new or(ji(Nf(e.path)),r,"TargetPurposeLimboResolution",Cf.ce))}}async function zu(i,t,e){const r=Rt(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){o.push(g);const y=qg.Es(p.targetId,g);u.push(y)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const y=Rt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(g,(b=>nt.forEach(b.Ts,(D=>y.persistence.referenceDelegate.addReference(T,b.targetId,D))).next((()=>nt.forEach(b.Is,(D=>y.persistence.referenceDelegate.removeReference(T,b.targetId,D)))))))))}catch(T){if(!Ho(T))throw T;ht(Gg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const D=y.vs.get(b),j=D.snapshotVersion,K=D.withLastLimboFreeSnapshotVersion(j);y.vs=y.vs.insert(b,K)}}})(r.localStore,u))}async function CM(i,t){const e=Rt(i);if(!e.currentUser.isEqual(t)){ht(Zg,"User change. New user:",t.toKey());const r=await GA(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new yt(st.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await zu(e,r.Ns)}}function RM(i,t){const e=Rt(i),r=e.Au.get(t);if(r&&r.hu)return Ft().add(r.key);{let o=Ft();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function h1(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=o1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SM.bind(null,t),t.Pu.J_=hM.bind(null,t.eventManager),t.Pu.yu=fM.bind(null,t.eventManager),t}function DM(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wM.bind(null,t),t}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return VV(this.persistence,new DV,t.initialUser,this.serializer)}Cu(t){return new qA(Hg.Vi,this.serializer)}Du(t){return new jV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class IM extends df{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof hf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mV(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new qA((r=>hf.Vi(r,e)),this.serializer)}}class Qp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CM.bind(null,this.syncEngine),await lM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cM})()}createDatastore(t){const e=Lf(t.databaseInfo.databaseId),r=qV(t.databaseInfo);return XV(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new WV(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>CE(this.syncEngine,e,0)),(function(){return EE.v()?new EE:new FV})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,y){const T=new gM(o,u,c,m,p,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Rt(e);ht(va,"RemoteStore shutting down."),r.Ea.add(5),await Bu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qp.provider={build:()=>new Qp};class f1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const br="FirestoreClient";class NM{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ht(br,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ht(br,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Wg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function lp(i,t){i.asyncQueue.verifyOperationInProgress(),ht(br,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await GA(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function DE(i,t){i.asyncQueue.verifyOperationInProgress();const e=await VM(i);ht(br,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>SE(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>SE(t.remoteStore,o))),i._onlineComponents=t}async function VM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ht(br,"Using user provided OfflineComponentProvider");try{await lp(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Do("Error using user provided cache. Falling back to memory cache: "+e),await lp(i,new df)}}else ht(br,"Using default OfflineComponentProvider"),await lp(i,new IM(void 0));return i._offlineComponents}async function d1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ht(br,"Using user provided OnlineComponentProvider"),await DE(i,i._uninitializedComponentsProvider._online)):(ht(br,"Using default OnlineComponentProvider"),await DE(i,new Qp))),i._onlineComponents}function MM(i){return d1(i).then((t=>t.syncEngine))}async function Xp(i){const t=await d1(i),e=t.eventManager;return e.onListen=yM.bind(null,t.syncEngine),e.onUnlisten=TM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=vM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=EM.bind(null,t.syncEngine),e}function OM(i,t,e,r){const o=new f1(r),u=new i1(t,o,e);return i.asyncQueue.enqueueAndForget((async()=>e1(await Xp(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>n1(await Xp(i),u)))}}function kM(i,t,e={}){const r=new mr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const y=new f1({next:b=>{y.Nu(),c.enqueueAndForget((()=>n1(u,T)));const D=b.docs.has(m);!D&&b.fromCache?g.reject(new yt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new yt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new i1(Nf(m.path),y,{includeMetadataChanges:!0,Ka:!0});return e1(u,T)})(await Xp(i),i.asyncQueue,t,e,r))),r.promise}function PM(i,t){const e=new mr;return i.asyncQueue.enqueueAndForget((async()=>bM(await MM(i),t,e))),e.promise}function m1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const LM="ComponentProvider",IE=new Map;function UM(i,t,e,r,o){return new sN(i,t,e,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,m1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const p1="firestore.googleapis.com",NE=!0;class VE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p1,this.ssl=NE}else this.host=t.host,this.ssl=t.ssl??NE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=HA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fV)throw new yt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ey{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PI;switch(r.type){case"firstParty":return new FI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=IE.get(e);r&&(ht(LM,"Removing Datastore"),IE.delete(e),r.terminate())})(this),Promise.resolve()}}function jM(i,t,e,r={}){i=Ui(i,ey);const o=Uo(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${e}`;o&&(oS(`https://${m}`),lS("Firestore",!0)),u.host!==p1&&u.host!==m&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!pr(p,c)&&(i._setSettings(p),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=nn.MOCK_USER;else{g=oR(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new yt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new nn(T)}i._authCredentials=new LI(new tA(g,y))}}class Ff{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ff(this.firestore,t,this._query)}}class Me{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Uu(e,Me._jsonSchema))return new Me(t,r||null,new Tt(ce.fromString(e.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ve("string",Me._jsonSchemaVersion),referencePath:Ve("string")};class xu extends Ff{constructor(t,e,r){super(t,e,Nf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new Tt(t))}withConverter(t){return new xu(this.firestore,t,this._path)}}function la(i,t,...e){if(i=En(i),arguments.length===1&&(t=Ng.newId()),KI("doc","path",t),i instanceof ey){const r=ce.fromString(t,...e);return KT(r),new Me(i,null,new Tt(r))}{if(!(i instanceof Me||i instanceof xu))throw new yt(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ce.fromString(t,...e));return KT(r),new Me(i.firestore,i instanceof xu?i.converter:null,new Tt(r))}}const ME="AsyncQueue";class OE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YA(this,"async_queue_retry"),this._c=()=>{const r=op();r&&ht(ME,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=op();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=op();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ho(t))throw t;ht(ME,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",kE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=$g.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:kE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function kE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Po extends ey{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new OE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OE(t),this._firestoreClient=void 0,await t}}}function FM(i,t){const e=typeof i=="object"?i:fS(),r=typeof i=="string"?i:rf,o=bg(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=rR("firestore");u&&jM(o,...u)}return o}function ny(i){if(i._terminated)throw new yt(st.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||BM(i),i._firestoreClient}function BM(i){const t=i._freezeSettings(),e=UM(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new NM(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(Ze.fromBase64String(t))}catch(e){throw new yt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uu(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ve("string",Yn._jsonSchemaVersion),bytes:Ve("string")};class iy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hu{constructor(t){this._methodName=t}}class zi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(Uu(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ve("string",zi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class fi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uu(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new fi(t.vectorValues);throw new yt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Ve("string",fi._jsonSchemaVersion),vectorValues:Ve("object")};const zM=/^__.*__$/;class HM{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new xr(t,this.data,this.fieldMask,e,this.fieldTransforms):new ju(t,this.data,e,this.fieldTransforms)}}class g1{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new xr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function y1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{dataSource:i})}}class Bf{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Bf({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return mf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(y1(this.dataSource)&&zM.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class qM{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Lf(t)}createContext(t,e,r,o=!1){return new Bf({dataSource:t,methodName:e,targetDoc:r,path:Je.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v1(i){const t=i._freezeSettings(),e=Lf(i._databaseId);return new qM(i._databaseId,!!t.ignoreUndefinedProperties,e)}function GM(i,t,e,r,o,u={}){const c=i.createContext(u.merge||u.mergeFields?2:0,t,e,o);ay("Data must be an object, but it was:",c,r);const m=_1(r,c);let p,g;if(u.merge)p=new Vn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const T of u.mergeFields){const b=Cu(t,T,e);if(!c.contains(b))throw new yt(st.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);b1(y,b)||y.push(b)}p=new Vn(y),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new HM(new Tn(m),p,g)}class zf extends Hu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zf}}function KM(i,t,e){return new Bf({dataSource:3,targetDoc:t.settings.targetDoc,methodName:i._methodName,arrayElement:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class sy extends Hu{_toFieldTransform(t){return new RA(t.path,new Au)}isEqual(t){return t instanceof sy}}class ry extends Hu{constructor(t,e){super(t),this.Ac=e}_toFieldTransform(t){const e=KM(this,t,!0),r=this.Ac.map((u=>qu(u,e))),o=new Mo(r);return new RA(t.path,o)}isEqual(t){return t instanceof ry&&pr(this.Ac,t.Ac)}}function YM(i,t,e,r){const o=i.createContext(1,t,e);ay("Data must be an object, but it was:",o,r);const u=[],c=Tn.empty();wr(r,((p,g)=>{const y=E1(t,p,e);g=En(g);const T=o.childContextForFieldPath(y);if(g instanceof zf)u.push(y);else{const b=qu(g,T);b!=null&&(u.push(y),c.set(y,b))}}));const m=new Vn(u);return new g1(c,m,o.fieldTransforms)}function QM(i,t,e,r,o,u){const c=i.createContext(1,t,e),m=[Cu(t,r,e)],p=[o];if(u.length%2!=0)throw new yt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Cu(t,u[b])),p.push(u[b+1]);const g=[],y=Tn.empty();for(let b=m.length-1;b>=0;--b)if(!b1(g,m[b])){const D=m[b];let j=p[b];j=En(j);const K=c.childContextForFieldPath(D);if(j instanceof zf)g.push(D);else{const N=qu(j,K);N!=null&&(g.push(D),y.set(D,N))}}const T=new Vn(g);return new g1(y,T,c.fieldTransforms)}function qu(i,t){if(T1(i=En(i)))return ay("Unsupported field value:",t,i),_1(i,t);if(i instanceof Hu)return(function(r,o){if(!y1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=qu(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(r,o){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=re.fromDate(r);return{timestampValue:cf(o.serializer,u)}}if(r instanceof re){const u=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cf(o.serializer,u)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:kA(o.serializer,r._byteString)};if(r instanceof Me){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof fi)return(function(c,m){const p=c instanceof fi?c.toArray():c;return{mapValue:{fields:{[uA]:{stringValue:cA},[af]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw m.createError("VectorValues must only contain numeric values.");return Ug(m.serializer,y)}))}}}}}})(r,o);if(zA(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Vg(r)}`)})(i,t)}function _1(i,t){const e={};return iA(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wr(i,((r,o)=>{const u=qu(o,t.childContextForField(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function T1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof re||i instanceof zi||i instanceof Yn||i instanceof Me||i instanceof Hu||i instanceof fi||zA(i))}function ay(i,t,e){if(!T1(e)||!eA(e)){const r=Vg(e);throw r==="an object"?t.createError(i+" a custom object"):t.createError(i+" "+r)}}function Cu(i,t,e){if((t=En(t))instanceof iy)return t._internalPath;if(typeof t=="string")return E1(i,t);throw mf("Field path arguments must be of type string or ",i,!1,void 0,e)}const XM=new RegExp("[~\\*/\\[\\]]");function E1(i,t,e){if(t.search(XM)>=0)throw mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new iy(...t.split("."))._internalPath}catch{throw mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function mf(i,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new yt(st.INVALID_ARGUMENT,m+i+p)}function b1(i,t){return i.some((e=>e.isEqual(t)))}class $M{convertValue(t,e="none"){switch(Tr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(_r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return wr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[af].arrayValue?.values?.map((r=>Te(r.doubleValue)));return new fi(e)}convertGeoPoint(t){return new zi(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Df(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Eu(t));default:return null}}convertTimestamp(t){const e=vr(t);return new re(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ce.fromString(t);Qt(BA(r),9688,{name:t});const o=new bu(r.get(1),r.get(3)),u=new Tt(r.popFirst(5));return o.isEqual(e)||vs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}class S1 extends $M{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,e)}}function PE(){return new sy("serverTimestamp")}function WM(...i){return new ry("arrayUnion",i)}const LE="@firebase/firestore",UE="4.10.0";function jE(i){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class A1{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Cu("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class JM extends A1{data(){return super.data()}}function ZM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new yt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function t4(i,t,e){let r;return r=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,r}class ru{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class da extends A1{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Cu("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=da._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Ve("string",da._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Hh extends da{data(t={}){return super.data(t)}}class xo{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new ru(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Hh(this._firestore,this._userDataWriter,r.key,r,new ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:e4(m.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=xo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function e4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:i})}}xo._jsonSchemaVersion="firestore/querySnapshot/1.0",xo._jsonSchema={type:Ve("string",xo._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};function n4(i){i=Ui(i,Me);const t=Ui(i.firestore,Po),e=ny(t);return kM(e,i._key).then((r=>x1(t,i,r)))}function qh(i,t,e){i=Ui(i,Me);const r=Ui(i.firestore,Po),o=t4(i.converter,t,e),u=v1(r);return w1(r,[GM(u,"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,Fi.none())])}function i4(i,t,e,...r){i=Ui(i,Me);const o=Ui(i.firestore,Po),u=v1(o);let c;return c=typeof(t=En(t))=="string"||t instanceof iy?QM(u,"updateDoc",i._key,t,e,r):YM(u,"updateDoc",i._key,t),w1(o,[c.toMutation(i._key,Fi.exists(!0))])}function s4(i,...t){i=En(i);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||jE(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(jE(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,m;if(i instanceof Me)c=Ui(i.firestore,Po),m=Nf(i._key.path),u={next:g=>{t[r]&&t[r](x1(c,i,g))},error:t[r+1],complete:t[r+2]};else{const g=Ui(i,Ff);c=Ui(g.firestore,Po),m=g._query;const y=new S1(c);u={next:T=>{t[r]&&t[r](new xo(c,y,g,T))},error:t[r+1],complete:t[r+2]},ZM(i._query)}const p=ny(c);return OM(p,m,o,u)}function w1(i,t){const e=ny(i);return PM(e,t)}function x1(i,t,e){const r=e.docs.get(t._key),o=new S1(i);return new da(i,o,t._key,r,new ru(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){kI(jo),Ro(new pa("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Po(new UI(r.getProvider("auth-internal")),new BI(c,r.getProvider("app-check-internal")),rN(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),hr(LE,UE,t),hr(LE,UE,"esm2020")})();const r4={apiKey:"AIzaSyAMYFQeR-nSXC5TrC1_EG8O1dvV72grdPk",authDomain:"gatheringfun-9f90b.firebaseapp.com",projectId:"gatheringfun-9f90b",storageBucket:"gatheringfun-9f90b.firebasestorage.app",messagingSenderId:"127856246038",appId:"1:127856246038:web:15ccb418ad1828eff2e437",measurementId:"G-3L2YMD21VG"},C1=hS(r4),Nn=MI(C1),ua=FM(C1),a4={Taiwan:{" (Taipei)":["","","",""]," (New Taipei)":["","","",""]," (Taichung)":["","",""]," (Kaohsiung)":["","",""]},Malaysia:{"Kuala Lumpur":["Bukit Bintang","KLCC","Bangsar","Cheras"],Selangor:["Petaling Jaya","Subang Jaya","Shah Alam","Klang"],Penang:["George Town","Bayan Lepas","Butterworth"],Johor:["Johor Bahru","Skudai","Mount Austin"]}},o4=["Taiwanese","Chinese","Western","Japanese","Korean","Thai","Indian","Italian","Malay","Nyonya"],l4=({onSubmit:i,loading:t})=>{const[e,r]=rt.useState({name:"",startDate:"",endDate:"",country:"Taiwan",locations:[],cuisines:[],minPrice:100,maxPrice:1e3,waitMinutes:10}),o=p=>{const{name:g,value:y}=p.target;r(g==="country"?T=>({...T,[g]:y,locations:[]}):T=>({...T,[g]:y}))},u=(p,g)=>{r(y=>{const T=y[p],b=T.includes(g)?T.filter(D=>D!==g):[...T,g];return{...y,[p]:b}})},c=p=>{if(p.preventDefault(),!e.name||!e.startDate||!e.endDate||e.locations.length===0){alert("Please fill in required fields, including at least one location");return}i(e)},m=a4[e.country];return x.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center",children:"Start a New Gathering"}),x.jsxs("form",{onSubmit:c,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Gathering Name"}),x.jsx("input",{type:"text",name:"name",value:e.name,onChange:o,placeholder:"e.g., Friday Dinner Party",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),x.jsx("input",{type:"date",name:"startDate",value:e.startDate,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),x.jsx("input",{type:"date",name:"endDate",value:e.endDate,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),x.jsxs("select",{name:"country",value:e.country,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[x.jsx("option",{value:"Taiwan",children:"Taiwan"}),x.jsx("option",{value:"Malaysia",children:"Malaysia"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min Price"}),x.jsx("input",{type:"number",name:"minPrice",value:e.minPrice,onChange:o,min:"100",max:"1000",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Max Price"}),x.jsx("input",{type:"number",name:"maxPrice",value:e.maxPrice,onChange:o,min:"100",max:"1000",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Locations (Select multiple Districts/Areas)"}),x.jsx("div",{className:"max-h-60 overflow-y-auto space-y-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:Object.entries(m).map(([p,g])=>x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-bold text-gray-500 mb-2",children:p}),x.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>x.jsx("button",{type:"button",onClick:()=>u("locations",`${p} - ${y}`),className:`px-3 py-1 bg-white dark:bg-gray-700 rounded-md border transition-all text-xs font-medium ${e.locations.includes(`${p} - ${y}`)?"border-blue-500 ring-2 ring-blue-500/20 text-blue-600":"border-gray-200 dark:border-gray-600 text-gray-600"}`,children:y},y))})]},p))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",e.cuisines.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[e.cuisines.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:o4.map(p=>x.jsxs("button",{type:"button",onClick:()=>u("cuisines",p),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${e.cuisines.includes(p)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[e.cuisines.includes(p)&&" ",p]},p))}),e.cuisines.length===0&&x.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"Click to select multiple cuisines (optional)"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wait Duration (Minutes)"}),x.jsx("input",{type:"number",name:"waitMinutes",value:e.waitMinutes,onChange:o,min:"1",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Wait for participants to join before generating results."})]}),x.jsx("button",{type:"submit",disabled:t,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${t?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600"}`,children:t?"Creating...":"Create Gathering Link"})]})]})},u4=({sessionId:i,onJoined:t})=>{const[e,r]=rt.useState(null),[o,u]=rt.useState(!1),[c,m]=rt.useState(null),[p,g]=rt.useState({dates:[],timePeriods:[],locations:[],cuisines:[]});rt.useEffect(()=>{i&&y()},[i]);const y=async()=>{u(!0);try{const N=la(ua,"sessions",i),F=await n4(N);F.exists()?r({id:F.id,...F.data()}):m("Session not found")}catch{m("Error fetching session")}finally{u(!1)}},T=(N,F)=>{g($=>{const q=$[N],at=q.includes(F)?q.filter(it=>it!==F):[...q,F];return{...$,[N]:at}})},b=async N=>{if(N.preventDefault(),p.dates.length===0||p.timePeriods.length===0||p.locations.length===0){alert("Please select at least one date, time period, and location");return}u(!0);try{Nn.currentUser||await yD(Nn);const F=la(ua,"sessions",i);await qh(F,{participants:WM(Nn.currentUser.uid),participantPreferences:{[Nn.currentUser.uid]:{...p,submittedAt:PE()}}},{merge:!0}),t(i,{...p,submittedAt:PE()})}catch(F){console.error(F),alert("Failed to join session")}finally{u(!1)}},D=N=>{const F=new Date(N),$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${$[F.getDay()]}, ${q[F.getMonth()]} ${F.getDate()}`},j=()=>{if(!e)return[];const N=[],F=new Date(e.startDate),$=new Date(e.endDate);for(let q=new Date(F);q<=$;q.setDate(q.getDate()+1))N.push(new Date(q).toISOString().split("T")[0]);return N};if(o&&!e)return x.jsx("div",{className:"text-center py-20 text-blue-600 font-bold",children:"Loading Session..."});if(c)return x.jsx("div",{className:"text-center py-20 text-red-500 font-bold",children:c});if(!e)return null;const K=j();return x.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[x.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:['Join "',e.name,'"']}),x.jsx("p",{className:"text-gray-500 text-center mb-8 italic",children:"Choose your preferences from the host's list"}),x.jsxs("form",{onSubmit:b,className:"space-y-8",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Available Dates",p.dates.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[p.dates.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:K.map(N=>x.jsxs("button",{type:"button",onClick:()=>T("dates",N),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.dates.includes(N)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.dates.includes(N)&&" ",D(N)]},N))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Time Periods",p.timePeriods.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded-full",children:[p.timePeriods.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:["Morning","Afternoon","Evening","Night"].map(N=>x.jsxs("button",{type:"button",onClick:()=>T("timePeriods",N),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.timePeriods.includes(N)?"bg-orange-500 text-white shadow-lg ring-2 ring-orange-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.timePeriods.includes(N)&&" ",N]},N))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Locations",p.locations.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-0.5 rounded-full",children:[p.locations.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:e.locations.map(N=>x.jsxs("button",{type:"button",onClick:()=>T("locations",N),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.locations.includes(N)?"bg-green-600 text-white shadow-lg ring-2 ring-green-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.locations.includes(N)&&" ",N]},N))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",p.cuisines.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-0.5 rounded-full",children:[p.cuisines.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:e.cuisines.map(N=>x.jsxs("button",{type:"button",onClick:()=>T("cuisines",N),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${p.cuisines.includes(N)?"bg-purple-600 text-white shadow-lg ring-2 ring-purple-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.cuisines.includes(N)&&" ",N]},N))})]}),x.jsx("button",{type:"submit",disabled:o,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${o?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:o?"Joining...":"Submit Preferences & Join "})]})]})},c4=({sessionData:i,onSubmit:t,loading:e})=>{const[r,o]=rt.useState({dates:[],timePeriods:[],locations:[],cuisines:[]}),u=(y,T)=>{o(b=>{const D=b[y],j=D.includes(T)?D.filter(K=>K!==T):[...D,T];return{...b,[y]:j}})},c=y=>{if(y.preventDefault(),r.dates.length===0||r.locations.length===0){alert("Please select at least one date, time period, and location");return}t(r)},m=y=>{const T=new Date(y),b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${b[T.getDay()]}, ${D[T.getMonth()]} ${T.getDate()}`},g=(()=>{const y=[],T=new Date(i.startDate),b=new Date(i.endDate);for(let D=new Date(T);D<=b;D.setDate(D.getDate()+1))y.push(new Date(D).toISOString().split("T")[0]);return y})();return x.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:"Select Your Preferences"}),x.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-8",children:"Choose from the options set by the host"}),x.jsxs("form",{onSubmit:c,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Available Dates",r.dates.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[r.dates.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>x.jsxs("button",{type:"button",onClick:()=>u("dates",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.dates.includes(y)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.dates.includes(y)&&" ",m(y)]},y))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Time Periods",r.timePeriods.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded-full",children:[r.timePeriods.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:["Morning","Afternoon","Evening","Night"].map(y=>x.jsxs("button",{type:"button",onClick:()=>u("timePeriods",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.timePeriods.includes(y)?"bg-orange-500 text-white shadow-lg ring-2 ring-orange-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.timePeriods.includes(y)&&" ",y]},y))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Locations",r.locations.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-0.5 rounded-full",children:[r.locations.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:i.locations.map(y=>x.jsxs("button",{type:"button",onClick:()=>u("locations",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.locations.includes(y)?"bg-green-600 text-white shadow-lg ring-2 ring-green-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.locations.includes(y)&&" ",y]},y))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",r.cuisines.length>0&&x.jsxs("span",{className:"ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-0.5 rounded-full",children:[r.cuisines.length," selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:i.cuisines.map(y=>x.jsxs("button",{type:"button",onClick:()=>u("cuisines",y),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${r.cuisines.includes(y)?"bg-purple-600 text-white shadow-lg ring-2 ring-purple-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.cuisines.includes(y)&&" ",y]},y))}),x.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"Cuisine selection is optional"})]}),x.jsx("button",{type:"submit",disabled:e,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${e?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:e?"Saving...":"Submit Preferences & Start Swiping "})]})]})},oy=rt.createContext({});function ly(i){const t=rt.useRef(null);return t.current===null&&(t.current=i()),t.current}const R1=typeof window<"u",D1=R1?rt.useLayoutEffect:rt.useEffect,Hf=rt.createContext(null);function uy(i,t){i.indexOf(t)===-1&&i.push(t)}function cy(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Ki=(i,t,e)=>e>t?t:e<i?i:e;let hy=()=>{};const Ts={},I1=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function N1(i){return typeof i=="object"&&i!==null}const V1=i=>/^0[^.\s]+$/u.test(i);function fy(i){let t;return()=>(t===void 0&&(t=i()),t)}const Xn=i=>i,h4=(i,t)=>e=>t(i(e)),Gu=(...i)=>i.reduce(h4),Ru=(i,t,e)=>{const r=t-i;return r===0?1:(e-i)/r};class dy{constructor(){this.subscriptions=[]}add(t){return uy(this.subscriptions,t),()=>cy(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ms=i=>i*1e3,Qn=i=>i/1e3;function M1(i,t){return t?i*(1e3/t):0}const O1=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,f4=1e-7,d4=12;function m4(i,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=O1(c,r,o)-i,u>0?e=c:t=c;while(Math.abs(u)>f4&&++m<d4);return c}function Ku(i,t,e,r){if(i===t&&e===r)return Xn;const o=u=>m4(u,0,1,i,e);return u=>u===0||u===1?u:O1(o(u),t,r)}const k1=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,P1=i=>t=>1-i(1-t),L1=Ku(.33,1.53,.69,.99),my=P1(L1),U1=k1(my),j1=i=>(i*=2)<1?.5*my(i):.5*(2-Math.pow(2,-10*(i-1))),py=i=>1-Math.sin(Math.acos(i)),F1=P1(py),B1=k1(py),p4=Ku(.42,0,1,1),g4=Ku(0,0,.58,1),z1=Ku(.42,0,.58,1),y4=i=>Array.isArray(i)&&typeof i[0]!="number",H1=i=>Array.isArray(i)&&typeof i[0]=="number",v4={linear:Xn,easeIn:p4,easeInOut:z1,easeOut:g4,circIn:py,circInOut:B1,circOut:F1,backIn:my,backInOut:U1,backOut:L1,anticipate:j1},_4=i=>typeof i=="string",FE=i=>{if(H1(i)){hy(i.length===4);const[t,e,r,o]=i;return Ku(t,e,r,o)}else if(_4(i))return v4[i];return i},Ih=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function T4(i,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),i()),y(m)}const g={schedule:(y,T=!1,b=!1)=>{const j=b&&o?e:r;return T&&c.add(y),j.has(y)||j.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(m=y,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const E4=40;function q1(i,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Ih.reduce((q,at)=>(q[at]=T4(u),q),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:y,update:T,preRender:b,render:D,postRender:j}=c,K=()=>{const q=Ts.useManualTiming?o.timestamp:performance.now();e=!1,Ts.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(q-o.timestamp,E4),1)),o.timestamp=q,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),y.process(o),T.process(o),b.process(o),D.process(o),j.process(o),o.isProcessing=!1,e&&t&&(r=!1,i(K))},N=()=>{e=!0,r=!0,o.isProcessing||i(K)};return{schedule:Ih.reduce((q,at)=>{const it=c[at];return q[at]=(ct,C=!1,A=!1)=>(e||N(),it.schedule(ct,C,A)),q},{}),cancel:q=>{for(let at=0;at<Ih.length;at++)c[Ih[at]].cancel(q)},state:o,steps:c}}const{schedule:ae,cancel:Sr,state:$e,steps:up}=q1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let Gh;function b4(){Gh=void 0}const cn={now:()=>(Gh===void 0&&cn.set($e.isProcessing||Ts.useManualTiming?$e.timestamp:performance.now()),Gh),set:i=>{Gh=i,queueMicrotask(b4)}},G1=i=>t=>typeof t=="string"&&t.startsWith(i),K1=G1("--"),S4=G1("var(--"),gy=i=>S4(i)?A4.test(i.split("/*")[0].trim()):!1,A4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function BE(i){return typeof i!="string"?!1:i.split("/*")[0].includes("var(--")}const Go={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Du={...Go,transform:i=>Ki(0,1,i)},Nh={...Go,default:1},mu=i=>Math.round(i*1e5)/1e5,yy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function w4(i){return i==null}const x4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vy=(i,t)=>e=>!!(typeof e=="string"&&x4.test(e)&&e.startsWith(i)||t&&!w4(e)&&Object.prototype.hasOwnProperty.call(e,t)),Y1=(i,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(yy);return{[i]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},C4=i=>Ki(0,255,i),cp={...Go,transform:i=>Math.round(C4(i))},ha={test:vy("rgb","red"),parse:Y1("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:r=1})=>"rgba("+cp.transform(i)+", "+cp.transform(t)+", "+cp.transform(e)+", "+mu(Du.transform(r))+")"};function R4(i){let t="",e="",r="",o="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const $p={test:vy("#"),parse:R4,transform:ha.transform},Yu=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),nr=Yu("deg"),Hi=Yu("%"),dt=Yu("px"),D4=Yu("vh"),I4=Yu("vw"),zE={...Hi,parse:i=>Hi.parse(i)/100,transform:i=>Hi.transform(i*100)},yo={test:vy("hsl","hue"),parse:Y1("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(i)+", "+Hi.transform(mu(t))+", "+Hi.transform(mu(e))+", "+mu(Du.transform(r))+")"},Ne={test:i=>ha.test(i)||$p.test(i)||yo.test(i),parse:i=>ha.test(i)?ha.parse(i):yo.test(i)?yo.parse(i):$p.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?ha.transform(i):yo.transform(i),getAnimatableNone:i=>{const t=Ne.parse(i);return t.alpha=0,Ne.transform(t)}},N4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V4(i){return isNaN(i)&&typeof i=="string"&&(i.match(yy)?.length||0)+(i.match(N4)?.length||0)>0}const Q1="number",X1="color",M4="var",O4="var(",HE="${}",k4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iu(i){const t=i.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(k4,p=>(Ne.test(p)?(r.color.push(u),o.push(X1),e.push(Ne.parse(p))):p.startsWith(O4)?(r.var.push(u),o.push(M4),e.push(p)):(r.number.push(u),o.push(Q1),e.push(parseFloat(p))),++u,HE)).split(HE);return{values:e,split:m,indexes:r,types:o}}function $1(i){return Iu(i).values}function W1(i){const{split:t,types:e}=Iu(i),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===Q1?u+=mu(o[c]):m===X1?u+=Ne.transform(o[c]):u+=o[c]}return u}}const P4=i=>typeof i=="number"?0:Ne.test(i)?Ne.getAnimatableNone(i):i;function L4(i){const t=$1(i);return W1(i)(t.map(P4))}const Ar={test:V4,parse:$1,createTransformer:W1,getAnimatableNone:L4};function hp(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function U4({hue:i,saturation:t,lightness:e,alpha:r}){i/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=hp(p,m,i+1/3),u=hp(p,m,i),c=hp(p,m,i-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function pf(i,t){return e=>e>0?t:i}const he=(i,t,e)=>i+(t-i)*e,fp=(i,t,e)=>{const r=i*i,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},j4=[$p,ha,yo],F4=i=>j4.find(t=>t.test(i));function qE(i){const t=F4(i);if(!t)return!1;let e=t.parse(i);return t===yo&&(e=U4(e)),e}const GE=(i,t)=>{const e=qE(i),r=qE(t);if(!e||!r)return pf(i,t);const o={...e};return u=>(o.red=fp(e.red,r.red,u),o.green=fp(e.green,r.green,u),o.blue=fp(e.blue,r.blue,u),o.alpha=he(e.alpha,r.alpha,u),ha.transform(o))},Wp=new Set(["none","hidden"]);function B4(i,t){return Wp.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function z4(i,t){return e=>he(i,t,e)}function _y(i){return typeof i=="number"?z4:typeof i=="string"?gy(i)?pf:Ne.test(i)?GE:G4:Array.isArray(i)?J1:typeof i=="object"?Ne.test(i)?GE:H4:pf}function J1(i,t){const e=[...i],r=e.length,o=i.map((u,c)=>_y(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function H4(i,t){const e={...i,...t},r={};for(const o in e)i[o]!==void 0&&t[o]!==void 0&&(r[o]=_y(i[o])(i[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function q4(i,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=i.indexes[u][r[u]],m=i.values[c]??0;e[o]=m,r[u]++}return e}const G4=(i,t)=>{const e=Ar.createTransformer(t),r=Iu(i),o=Iu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Wp.has(i)&&!o.values.length||Wp.has(t)&&!r.values.length?B4(i,t):Gu(J1(q4(r,o),o.values),e):pf(i,t)};function Z1(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?he(i,t,e):_y(i)(i,t)}const K4=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>ae.update(t,e),stop:()=>Sr(t),now:()=>$e.isProcessing?$e.timestamp:cn.now()}},tw=(i,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(i(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gf=2e4;function Ty(i){let t=0;const e=50;let r=i.next(t);for(;!r.done&&t<gf;)t+=e,r=i.next(t);return t>=gf?1/0:t}function Y4(i,t=100,e){const r=e({...i,keyframes:[0,t]}),o=Math.min(Ty(r),gf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Qn(o)}}const Q4=5;function ew(i,t,e){const r=Math.max(t-Q4,0);return M1(e-i(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dp=.001;function X4({duration:i=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=Ki(pe.minDamping,pe.maxDamping,c),i=Ki(pe.minDuration,pe.maxDuration,Qn(i)),c<1?(o=g=>{const y=g*c,T=y*i,b=y-e,D=Jp(g,c),j=Math.exp(-T);return dp-b/D*j},u=g=>{const T=g*c*i,b=T*e+e,D=Math.pow(c,2)*Math.pow(g,2)*i,j=Math.exp(-T),K=Jp(Math.pow(g,2),c);return(-o(g)+dp>0?-1:1)*((b-D)*j)/K}):(o=g=>{const y=Math.exp(-g*i),T=(g-e)*i+1;return-dp+y*T},u=g=>{const y=Math.exp(-g*i),T=(e-g)*(i*i);return y*T});const m=5/i,p=W4(o,u,m);if(i=ms(i),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:i};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:i}}}const $4=12;function W4(i,t,e){let r=e;for(let o=1;o<$4;o++)r=r-i(r)/t(r);return r}function Jp(i,t){return i*Math.sqrt(1-t*t)}const J4=["duration","bounce"],Z4=["stiffness","damping","mass"];function KE(i,t){return t.some(e=>i[e]!==void 0)}function tO(i){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...i};if(!KE(i,Z4)&&KE(i,J4))if(i.visualDuration){const e=i.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Ki(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const e=X4(i);t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function yf(i=pe.visualDuration,t=pe.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:T,velocity:b,isResolvedFromDuration:D}=tO({...e,velocity:-Qn(e.velocity||0)}),j=b||0,K=g/(2*Math.sqrt(p*y)),N=c-u,F=Qn(Math.sqrt(p/y)),$=Math.abs(N)<5;r||(r=$?pe.restSpeed.granular:pe.restSpeed.default),o||(o=$?pe.restDelta.granular:pe.restDelta.default);let q;if(K<1){const it=Jp(F,K);q=ct=>{const C=Math.exp(-K*F*ct);return c-C*((j+K*F*N)/it*Math.sin(it*ct)+N*Math.cos(it*ct))}}else if(K===1)q=it=>c-Math.exp(-F*it)*(N+(j+F*N)*it);else{const it=F*Math.sqrt(K*K-1);q=ct=>{const C=Math.exp(-K*F*ct),A=Math.min(it*ct,300);return c-C*((j+K*F*N)*Math.sinh(A)+it*N*Math.cosh(A))/it}}const at={calculatedDuration:D&&T||null,next:it=>{const ct=q(it);if(D)m.done=it>=T;else{let C=it===0?j:0;K<1&&(C=it===0?ms(j):ew(q,it,ct));const A=Math.abs(C)<=r,R=Math.abs(c-ct)<=o;m.done=A&&R}return m.value=m.done?c:ct,m},toString:()=>{const it=Math.min(Ty(at),gf),ct=tw(C=>at.next(it*C).value,it,30);return it+"ms "+ct},toTransition:()=>{}};return at}yf.applyToOptions=i=>{const t=Y4(i,100,yf);return i.ease=t.ease,i.duration=ms(t.duration),i.type="keyframes",i};function Zp({keyframes:i,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:y}){const T=i[0],b={done:!1,value:T},D=A=>m!==void 0&&A<m||p!==void 0&&A>p,j=A=>m===void 0?p:p===void 0||Math.abs(m-A)<Math.abs(p-A)?m:p;let K=e*t;const N=T+K,F=c===void 0?N:c(N);F!==N&&(K=F-T);const $=A=>-K*Math.exp(-A/r),q=A=>F+$(A),at=A=>{const R=$(A),O=q(A);b.done=Math.abs(R)<=g,b.value=b.done?F:O};let it,ct;const C=A=>{D(b.value)&&(it=A,ct=yf({keyframes:[b.value,j(b.value)],velocity:ew(q,A,b.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:A=>{let R=!1;return!ct&&it===void 0&&(R=!0,at(A),C(A)),it!==void 0&&A>=it?ct.next(A-it):(!R&&at(A),b)}}}function eO(i,t,e){const r=[],o=e||Ts.mix||Z1,u=i.length-1;for(let c=0;c<u;c++){let m=o(i[c],i[c+1]);if(t){const p=Array.isArray(t)?t[c]||Xn:t;m=Gu(p,m)}r.push(m)}return r}function nO(i,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=i.length;if(hy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const m=eO(t,r,o),p=m.length,g=y=>{if(c&&y<i[0])return t[0];let T=0;if(p>1)for(;T<i.length-2&&!(y<i[T+1]);T++);const b=Ru(i[T],i[T+1],y);return m[T](b)};return e?y=>g(Ki(i[0],i[u-1],y)):g}function iO(i,t){const e=i[i.length-1];for(let r=1;r<=t;r++){const o=Ru(0,t,r);i.push(he(e,1,o))}}function sO(i){const t=[0];return iO(t,i.length-1),t}function rO(i,t){return i.map(e=>e*t)}function aO(i,t){return i.map(()=>t||z1).splice(0,i.length-1)}function pu({duration:i=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=y4(r)?r.map(FE):FE(r),u={done:!1,value:t[0]},c=rO(e&&e.length===t.length?e:sO(t),i),m=nO(c,t,{ease:Array.isArray(o)?o:aO(t,o)});return{calculatedDuration:i,next:p=>(u.value=m(p),u.done=p>=i,u)}}const oO=i=>i!==null;function Ey(i,{repeat:t,repeatType:e="loop"},r,o=1){const u=i.filter(oO),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const lO={decay:Zp,inertia:Zp,tween:pu,keyframes:pu,spring:yf};function nw(i){typeof i.type=="string"&&(i.type=lO[i.type])}class by{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const uO=i=>i/100;class Sy extends by{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==cn.now()&&this.tick(cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;nw(t);const{type:e=pu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||pu;p!==pu&&typeof m[0]!="number"&&(this.mixKeyframes=Gu(uO,Z1(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Ty(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:b,repeatDelay:D,type:j,onUpdate:K,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const F=this.currentTime-g*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?F<0:F>o;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,at=r;if(T){const A=Math.min(this.currentTime,o)/m;let R=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&R--,R=Math.min(R,T+1),!!(R%2)&&(b==="reverse"?(O=1-O,D&&(O-=D/m)):b==="mirror"&&(at=c)),q=Ki(0,1,O)*m}const it=$?{done:!1,value:y[0]}:at.next(q);u&&(it.value=u(it.value));let{done:ct}=it;!$&&p!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return C&&j!==Zp&&(it.value=Ey(y,this.options,N,this.speed)),K&&K(it.value),C&&this.finish(),it}then(t,e){return this.finished.then(t,e)}get duration(){return Qn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(this.currentTime)}set time(t){t=ms(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(cn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Qn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=K4,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function cO(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const fa=i=>i*180/Math.PI,tg=i=>{const t=fa(Math.atan2(i[1],i[0]));return eg(t)},hO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:tg,rotateZ:tg,skewX:i=>fa(Math.atan(i[1])),skewY:i=>fa(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},eg=i=>(i=i%360,i<0&&(i+=360),i),YE=tg,QE=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),XE=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),fO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:QE,scaleY:XE,scale:i=>(QE(i)+XE(i))/2,rotateX:i=>eg(fa(Math.atan2(i[6],i[5]))),rotateY:i=>eg(fa(Math.atan2(-i[2],i[0]))),rotateZ:YE,rotate:YE,skewX:i=>fa(Math.atan(i[4])),skewY:i=>fa(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function ng(i){return i.includes("scale")?1:0}function ig(i,t){if(!i||i==="none")return ng(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=fO,o=e;else{const m=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=hO,o=m}if(!o)return ng(t);const u=r[t],c=o[1].split(",").map(mO);return typeof u=="function"?u(c):c[u]}const dO=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return ig(e,t)};function mO(i){return parseFloat(i.trim())}const Ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yo=new Set(Ko),$E=i=>i===Go||i===dt,pO=new Set(["x","y","z"]),gO=Ko.filter(i=>!pO.has(i));function yO(i){const t=[];return gO.forEach(e=>{const r=i.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const lr={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>ig(t,"x"),y:(i,{transform:t})=>ig(t,"y")};lr.translateX=lr.x;lr.translateY=lr.y;const ma=new Set;let sg=!1,rg=!1,ag=!1;function iw(){if(rg){const i=Array.from(ma).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=yO(r);o.length&&(e.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rg=!1,sg=!1,ma.forEach(i=>i.complete(ag)),ma.clear()}function sw(){ma.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(rg=!0)})}function vO(){ag=!0,sw(),iw(),ag=!1}class Ay{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ma.add(this),sg||(sg=!0,ae.read(sw),ae.resolveKeyframes(iw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}cO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ma.delete(this)}cancel(){this.state==="scheduled"&&(ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _O=i=>i.startsWith("--");function TO(i,t,e){_O(t)?i.style.setProperty(t,e):i.style[t]=e}const EO=fy(()=>window.ScrollTimeline!==void 0),bO={};function SO(i,t){const e=fy(i);return()=>bO[t]??e()}const rw=SO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),au=([i,t,e,r])=>`cubic-bezier(${i}, ${t}, ${e}, ${r})`,WE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function aw(i,t){if(i)return typeof i=="function"?rw()?tw(i,t):"ease-out":H1(i)?au(i):Array.isArray(i)?i.map(e=>aw(e,t)||WE.easeOut):WE[i]}function AO(i,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const y={[t]:e};p&&(y.offset=p);const T=aw(m,o);Array.isArray(T)&&(y.easing=T);const b={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),i.animate(y,b)}function ow(i){return typeof i=="function"&&"applyToOptions"in i}function wO({type:i,...t}){return ow(i)&&rw()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class xO extends by{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,hy(typeof t.type!="string");const g=wO(t);this.animation=AO(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Ey(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(y):TO(e,r,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Qn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ms(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&EO()?(this.animation.timeline=t,Xn):e(this)}}const lw={anticipate:j1,backInOut:U1,circInOut:B1};function CO(i){return i in lw}function RO(i){typeof i.ease=="string"&&CO(i.ease)&&(i.ease=lw[i.ease])}const mp=10;class DO extends xO{constructor(t){RO(t),nw(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new Sy({...c,autoplay:!1}),p=Math.max(mp,cn.now()-this.startTime),g=Ki(0,mp,p-mp);e.setWithVelocity(m.sample(Math.max(0,p-g)).value,m.sample(p).value,g),m.stop()}}const JE=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Ar.test(i)||i==="0")&&!i.startsWith("url("));function IO(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function NO(i,t,e,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],c=JE(o,t),m=JE(u,t);return!c||!m?!1:IO(i)||(e==="spring"||ow(e))&&r}function og(i){i.duration=0,i.type="keyframes"}const VO=new Set(["opacity","clipPath","filter","transform"]),MO=fy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OO(i){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return MO()&&e&&VO.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const kO=40;class PO extends by{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=cn.now();const b={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:y,...T},D=y?.KeyframeResolver||Ay;this.keyframeResolver=new D(m,(j,K,N)=>this.onKeyframesResolved(j,K,b,!N),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:y}=r;this.resolvedAt=cn.now(),NO(t,u,c,m)||((Ts.instantAnimations||!p)&&y?.(Ey(t,r,e)),t[0]=t[t.length-1],og(r),r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>kO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},D=!g&&OO(b),j=b.motionValue?.owner?.current,K=D?new DO({...b,element:j}):new Sy(b);K.finished.then(()=>{this.notifyFinished()}).catch(Xn),this.pendingTimeline&&(this.stopTimeline=K.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=K}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),vO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function uw(i,t,e,r=0,o=1){const u=Array.from(i).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=i.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}const LO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UO(i){const t=LO.exec(i);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function cw(i,t,e=1){const[r,o]=UO(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return I1(c)?parseFloat(c):c}return gy(o)?cw(o,t,e+1):o}const jO={type:"spring",stiffness:500,damping:25,restSpeed:10},FO=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),BO={type:"keyframes",duration:.8},zO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HO=(i,{keyframes:t})=>t.length>2?BO:Yo.has(i)?i.startsWith("scale")?FO(t[1]):jO:zO,qO=i=>i!==null;function GO(i,{repeat:t,repeatType:e="loop"},r){const o=i.filter(qO),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}function wy(i,t){return i?.[t]??i?.default??i}function KO({when:i,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const xy=(i,t,e,r={},o,u)=>c=>{const m=wy(r,i)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ms(p);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:b=>{t.set(b),m.onUpdate&&m.onUpdate(b)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:i,motionValue:t,element:u?void 0:o};KO(m)||Object.assign(y,HO(i,y)),y.duration&&(y.duration=ms(y.duration)),y.repeatDelay&&(y.repeatDelay=ms(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(og(y),y.delay===0&&(T=!0)),(Ts.instantAnimations||Ts.skipAnimations)&&(T=!0,og(y),y.delay=0),y.allowFlatten=!m.type&&!m.ease,T&&!u&&t.get()!==void 0){const b=GO(y.keyframes,m);if(b!==void 0){ae.update(()=>{y.onUpdate(b),y.onComplete()});return}}return m.isSync?new Sy(y):new PO(y)};function ZE(i){const t=[{},{}];return i?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Cy(i,t,e,r){if(typeof t=="function"){const[o,u]=ZE(r);t=t(e!==void 0?e:i.custom,o,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,u]=ZE(r);t=t(e!==void 0?e:i.custom,o,u)}return t}function Co(i,t,e){const r=i.getProps();return Cy(r,t,e!==void 0?e:r.custom,i)}const hw=new Set(["width","height","top","left","right","bottom",...Ko]),tb=30,YO=i=>!isNaN(parseFloat(i));class QO{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=cn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new dy);const r=this.events[t].add(e);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tb)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,tb);return M1(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lo(i,t){return new QO(i,t)}const lg=i=>Array.isArray(i);function XO(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,Lo(e))}function $O(i){return lg(i)?i[i.length-1]||0:i}function WO(i,t){const e=Co(i,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=$O(u[c]);XO(i,c,m)}}const rn=i=>!!(i&&i.getVelocity);function JO(i){return!!(rn(i)&&i.add)}function ug(i,t){const e=i.getValue("willChange");if(JO(e))return e.add(t);if(!e&&Ts.WillChange){const r=new Ts.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function Ry(i){return i.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const ZO="framerAppearId",fw="data-"+Ry(ZO);function dw(i){return i.props[fw]}function tk({protectedKeys:i,needsAnimating:t},e){const r=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function mw(i,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&i.animationState&&i.animationState.getState()[o];for(const y in m){const T=i.getValue(y,i.latestValues[y]??null),b=m[y];if(b===void 0||g&&tk(g,y))continue;const D={delay:e,...wy(u||{},y)},j=T.get();if(j!==void 0&&!T.isAnimating&&!Array.isArray(b)&&b===j&&!D.velocity)continue;let K=!1;if(window.MotionHandoffAnimation){const F=dw(i);if(F){const $=window.MotionHandoffAnimation(F,y,ae);$!==null&&(D.startTime=$,K=!0)}}ug(i,y),T.start(xy(y,T,b,i.shouldReduceMotion&&hw.has(y)?{type:!1}:D,i,K));const N=T.animation;N&&p.push(N)}return c&&Promise.all(p).then(()=>{ae.update(()=>{c&&WO(i,c)})}),p}function cg(i,t,e={}){const r=Co(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(mw(i,r,e)):()=>Promise.resolve(),c=i.variantChildren&&i.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=o;return ek(i,t,p,g,y,T,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function ek(i,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of i.variantChildren)p.notify("AnimationStart",t),m.push(cg(p,t,{...c,delay:e+(typeof r=="function"?0:r)+uw(i.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function nk(i,t,e={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>cg(i,u,e));r=Promise.all(o)}else if(typeof t=="string")r=cg(i,t,e);else{const o=typeof t=="function"?Co(i,t,e.custom):t;r=Promise.all(mw(i,o,e))}return r.then(()=>{i.notify("AnimationComplete",t)})}const ik={test:i=>i==="auto",parse:i=>i},pw=i=>t=>t.test(i),gw=[Go,dt,Hi,nr,I4,D4,ik],eb=i=>gw.find(pw(i));function sk(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||V1(i):!0}const rk=new Set(["brightness","contrast","saturate","opacity"]);function ak(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=e.match(yy)||[];if(!r)return i;const o=e.replace(r,"");let u=rk.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const ok=/\b([a-z-]*)\(.*?\)/gu,hg={...Ar,getAnimatableNone:i=>{const t=i.match(ok);return t?t.map(ak).join(" "):i}},nb={...Go,transform:Math.round},lk={rotate:nr,rotateX:nr,rotateY:nr,rotateZ:nr,scale:Nh,scaleX:Nh,scaleY:Nh,scaleZ:Nh,skew:nr,skewX:nr,skewY:nr,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:Du,originX:zE,originY:zE,originZ:dt},Dy={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,top:dt,right:dt,bottom:dt,left:dt,inset:dt,insetBlock:dt,insetBlockStart:dt,insetBlockEnd:dt,insetInline:dt,insetInlineStart:dt,insetInlineEnd:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,paddingBlock:dt,paddingBlockStart:dt,paddingBlockEnd:dt,paddingInline:dt,paddingInlineStart:dt,paddingInlineEnd:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,marginBlock:dt,marginBlockStart:dt,marginBlockEnd:dt,marginInline:dt,marginInlineStart:dt,marginInlineEnd:dt,backgroundPositionX:dt,backgroundPositionY:dt,...lk,zIndex:nb,fillOpacity:Du,strokeOpacity:Du,numOctaves:nb},uk={...Dy,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:hg,WebkitFilter:hg},yw=i=>uk[i];function vw(i,t){let e=yw(i);return e!==hg&&(e=Ar),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const ck=new Set(["auto","none","0"]);function hk(i,t,e){let r=0,o;for(;r<i.length&&!o;){const u=i[r];typeof u=="string"&&!ck.has(u)&&Iu(u).values.length&&(o=i[r]),r++}if(o&&e)for(const u of t)i[u]=vw(e,o)}class fk extends Ay{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let T=t[y];if(typeof T=="string"&&(T=T.trim(),gy(T))){const b=cw(T,e.current);b!==void 0&&(t[y]=b),y===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!hw.has(r)||t.length!==2)return;const[o,u]=t,c=eb(o),m=eb(u),p=BE(o),g=BE(u);if(p!==g&&lr[r]){this.needsMeasurement=!0;return}if(c!==m)if($E(c)&&$E(m))for(let y=0;y<t.length;y++){const T=t[y];typeof T=="string"&&(t[y]=parseFloat(T))}else lr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||sk(t[o]))&&r.push(o);r.length&&hk(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=lr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function dk(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const o=e?.[i]??r.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const _w=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function Tw(i){return N1(i)&&"offsetHeight"in i}const{schedule:Iy}=q1(queueMicrotask,!1),ui={x:!1,y:!1};function Ew(){return ui.x||ui.y}function mk(i){return i==="x"||i==="y"?ui[i]?null:(ui[i]=!0,()=>{ui[i]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function bw(i,t){const e=dk(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function ib(i){return!(i.pointerType==="touch"||Ew())}function pk(i,t,e={}){const[r,o,u]=bw(i,e),c=m=>{if(!ib(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const y=T=>{ib(T)&&(g(T),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const Sw=(i,t)=>t?i===t?!0:Sw(i,t.parentElement):!1,Ny=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,gk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Aw(i){return gk.has(i.tagName)||i.isContentEditable===!0}const Kh=new WeakSet;function sb(i){return t=>{t.key==="Enter"&&i(t)}}function pp(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yk=(i,t)=>{const e=i.currentTarget;if(!e)return;const r=sb(()=>{if(Kh.has(e))return;pp(e,"down");const o=sb(()=>{pp(e,"up")}),u=()=>pp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function rb(i){return Ny(i)&&!Ew()}function vk(i,t,e={}){const[r,o,u]=bw(i,e),c=m=>{const p=m.currentTarget;if(!rb(m))return;Kh.add(p);const g=t(p,m),y=(D,j)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",b),Kh.has(p)&&Kh.delete(p),rb(D)&&typeof g=="function"&&g(D,{success:j})},T=D=>{y(D,p===window||p===document||e.useGlobalTarget||Sw(p,D.target))},b=D=>{y(D,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",b,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),Tw(m)&&(m.addEventListener("focus",g=>yk(g,o)),!Aw(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function ww(i){return N1(i)&&"ownerSVGElement"in i}function _k(i){return ww(i)&&i.tagName==="svg"}const Tk=[...gw,Ne,Ar],Ek=i=>Tk.find(pw(i)),ab=()=>({translate:0,scale:1,origin:0,originPoint:0}),vo=()=>({x:ab(),y:ab()}),ob=()=>({min:0,max:0}),Le=()=>({x:ob(),y:ob()}),fg={current:null},xw={current:!1},bk=typeof window<"u";function Sk(){if(xw.current=!0,!!bk)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>fg.current=i.matches;i.addEventListener("change",t),t()}else fg.current=!1}const Ak=new WeakMap;function qf(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Nu(i){return typeof i=="string"||Array.isArray(i)}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],My=["initial",...Vy];function Gf(i){return qf(i.animate)||My.some(t=>Nu(i[t]))}function Cw(i){return!!(Gf(i)||i.variants)}function wk(i,t,e){for(const r in t){const o=t[r],u=e[r];if(rn(o))i.addValue(r,o);else if(rn(u))i.addValue(r,Lo(o,{owner:i}));else if(u!==o)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=i.getStaticValue(r);i.addValue(r,Lo(c!==void 0?c:o,{owner:i}))}}for(const r in e)t[r]===void 0&&i.removeValue(r);return t}const lb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let vf={};function Rw(i){vf=i}function xk(){return vf}class Ck{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ay,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=cn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Gf(e),this.isVariantNode=Cw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in T){const D=T[b];p[b]!==void 0&&rn(D)&&D.set(p[b])}}mount(t){this.current=t,Ak.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(xw.current||Sk(),this.shouldReduceMotion=fg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Sr(this.notifyUpdate),Sr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Yo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in vf){const e=vf[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<lb.length;r++){const o=lb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=wk(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Lo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(I1(r)||V1(r))?r=parseFloat(r):!Ek(r)&&Ar.test(e)&&(r=vw(t,e)),this.setBaseTarget(t,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Cy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new dy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Iy.render(this.render)}}class Dw extends Ck{constructor(){super(...arguments),this.KeyframeResolver=fk}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const r=t.style;return r?r[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Cr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Iw({top:i,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:i,max:r}}}function Rk({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function Dk(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function gp(i){return i===void 0||i===1}function dg({scale:i,scaleX:t,scaleY:e}){return!gp(i)||!gp(t)||!gp(e)}function oa(i){return dg(i)||Nw(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function Nw(i){return ub(i.x)||ub(i.y)}function ub(i){return i&&i!=="0%"}function _f(i,t,e){const r=i-e,o=t*r;return e+o}function cb(i,t,e,r,o){return o!==void 0&&(i=_f(i,o,r)),_f(i,e,r)+t}function mg(i,t=0,e=1,r,o){i.min=cb(i.min,t,e,r,o),i.max=cb(i.max,t,e,r,o)}function Vw(i,{x:t,y:e}){mg(i.x,t.translate,t.scale,t.originPoint),mg(i.y,e.translate,e.scale,e.originPoint)}const hb=.999999999999,fb=1.0000000000001;function Ik(i,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&To(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Vw(i,c)),r&&oa(u.latestValues)&&To(i,u.latestValues))}t.x<fb&&t.x>hb&&(t.x=1),t.y<fb&&t.y>hb&&(t.y=1)}function _o(i,t){i.min=i.min+t,i.max=i.max+t}function db(i,t,e,r,o=.5){const u=he(i.min,i.max,o);mg(i,t,e,u,r)}function To(i,t){db(i.x,t.x,t.scaleX,t.scale,t.originX),db(i.y,t.y,t.scaleY,t.scale,t.originY)}function Mw(i,t){return Iw(Dk(i.getBoundingClientRect(),t))}function Nk(i,t,e){const r=Mw(i,e),{scroll:o}=t;return o&&(_o(r.x,o.offset.x),_o(r.y,o.offset.y)),r}const Vk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mk=Ko.length;function Ok(i,t,e){let r="",o=!0;for(let u=0;u<Mk;u++){const c=Ko[u],m=i[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=_w(m,Dy[c]);if(!p){o=!1;const y=Vk[c]||c;r+=`${y}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Oy(i,t,e){const{style:r,vars:o,transformOrigin:u}=i;let c=!1,m=!1;for(const p in t){const g=t[p];if(Yo.has(p)){c=!0;continue}else if(K1(p)){o[p]=g;continue}else{const y=_w(g,Dy[p]);p.startsWith("origin")?(m=!0,u[p]=y):r[p]=y}}if(t.transform||(c||e?r.transform=Ok(t,i.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;r.transformOrigin=`${p} ${g} ${y}`}}function Ow(i,{style:t,vars:e},r,o){const u=i.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function mb(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const eu={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(dt.test(i))i=parseFloat(i);else return i;const e=mb(i,t.target.x),r=mb(i,t.target.y);return`${e}% ${r}%`}},kk={correct:(i,{treeScale:t,projectionDelta:e})=>{const r=i,o=Ar.parse(i);if(o.length>5)return r;const u=Ar.createTransformer(i),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=he(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},pg={borderRadius:{...eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eu,borderTopRightRadius:eu,borderBottomLeftRadius:eu,borderBottomRightRadius:eu,boxShadow:kk};function kw(i,{layout:t,layoutId:e}){return Yo.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!pg[i]||i==="opacity")}function ky(i,t,e){const r=i.style,o=t?.style,u={};if(!r)return u;for(const c in r)(rn(r[c])||o&&rn(o[c])||kw(c,i)||e?.getValue(c)?.liveStyle!==void 0)&&(u[c]=r[c]);return u}function Pk(i){return window.getComputedStyle(i)}class Lk extends Dw{constructor(){super(...arguments),this.type="html",this.renderInstance=Ow}readValueFromInstance(t,e){if(Yo.has(e))return this.projection?.isProjecting?ng(e):dO(t,e);{const r=Pk(t),o=(K1(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Mw(t,e)}build(t,e,r){Oy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return ky(t,e,r)}}const Uk={offset:"stroke-dashoffset",array:"stroke-dasharray"},jk={offset:"strokeDashoffset",array:"strokeDasharray"};function Fk(i,t,e=1,r=0,o=!0){i.pathLength=1;const u=o?Uk:jk;i[u.offset]=dt.transform(-r);const c=dt.transform(t),m=dt.transform(e);i[u.array]=`${c} ${m}`}const Bk=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Pw(i,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,y){if(Oy(i,m,g),p){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:T,style:b}=i;T.transform&&(b.transform=T.transform,delete T.transform),(b.transform||T.transformOrigin)&&(b.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete T.transformBox);for(const D of Bk)T[D]!==void 0&&(b[D]=T[D],delete T[D]);t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),r!==void 0&&(T.scale=r),o!==void 0&&Fk(T,o,u,c,!1)}const Lw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Uw=i=>typeof i=="string"&&i.toLowerCase()==="svg";function zk(i,t,e,r){Ow(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(Lw.has(o)?o:Ry(o),t.attrs[o])}function jw(i,t,e){const r=ky(i,t,e);for(const o in i)if(rn(i[o])||rn(t[o])){const u=Ko.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=i[o]}return r}class Hk extends Dw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Yo.has(e)){const r=yw(e);return r&&r.default||0}return e=Lw.has(e)?e:Ry(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return jw(t,e,r)}build(t,e,r){Pw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){zk(t,e,r,o)}mount(t){this.isSVGTag=Uw(t.tagName),super.mount(t)}}const qk=My.length;function Fw(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?Fw(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<qk;e++){const r=My[e],o=i.props[r];(Nu(o)||o===!1)&&(t[r]=o)}return t}function Bw(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let r=0;r<e;r++)if(t[r]!==i[r])return!1;return!0}const Gk=[...Vy].reverse(),Kk=Vy.length;function Yk(i){return t=>Promise.all(t.map(({animation:e,options:r})=>nk(i,e,r)))}function Qk(i){let t=Yk(i),e=pb(),r=!0;const o=p=>(g,y)=>{const T=Co(i,y,p==="exit"?i.presenceContext?.custom:void 0);if(T){const{transition:b,transitionEnd:D,...j}=T;g={...g,...j,...D}}return g};function u(p){t=p(i)}function c(p){const{props:g}=i,y=Fw(i.parent)||{},T=[],b=new Set;let D={},j=1/0;for(let N=0;N<Kk;N++){const F=Gk[N],$=e[F],q=g[F]!==void 0?g[F]:y[F],at=Nu(q),it=F===p?$.isActive:null;it===!1&&(j=N);let ct=q===y[F]&&q!==g[F]&&at;if(ct&&r&&i.manuallyAnimateOnMount&&(ct=!1),$.protectedKeys={...D},!$.isActive&&it===null||!q&&!$.prevProp||qf(q)||typeof q=="boolean")continue;const C=Xk($.prevProp,q);let A=C||F===p&&$.isActive&&!ct&&at||N>j&&at,R=!1;const O=Array.isArray(q)?q:[q];let M=O.reduce(o(F),{});it===!1&&(M={});const{prevResolvedValues:L={}}=$,I={...L,...M},pt=et=>{A=!0,b.has(et)&&(R=!0,b.delete(et)),$.needsAnimating[et]=!0;const ot=i.getValue(et);ot&&(ot.liveStyle=!1)};for(const et in I){const ot=M[et],xt=L[et];if(D.hasOwnProperty(et))continue;let Mt=!1;lg(ot)&&lg(xt)?Mt=!Bw(ot,xt):Mt=ot!==xt,Mt?ot!=null?pt(et):b.add(et):ot!==void 0&&b.has(et)?pt(et):$.protectedKeys[et]=!0}$.prevProp=q,$.prevResolvedValues=M,$.isActive&&(D={...D,...M}),r&&i.blockInitialAnimation&&(A=!1);const vt=ct&&C;A&&(!vt||R)&&T.push(...O.map(et=>{const ot={type:F};if(typeof et=="string"&&r&&!vt&&i.manuallyAnimateOnMount&&i.parent){const{parent:xt}=i,Mt=Co(xt,et);if(xt.enteringChildren&&Mt){const{delayChildren:P}=Mt.transition||{};ot.delay=uw(xt.enteringChildren,i,P)}}return{animation:et,options:ot}}))}if(b.size){const N={};if(typeof g.initial!="boolean"){const F=Co(i,Array.isArray(g.initial)?g.initial[0]:g.initial);F&&F.transition&&(N.transition=F.transition)}b.forEach(F=>{const $=i.getBaseTarget(F),q=i.getValue(F);q&&(q.liveStyle=!0),N[F]=$??null}),T.push({animation:N})}let K=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(K=!1),r=!1,K?t(T):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();i.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const y=c(p);for(const T in e)e[T].protectedKeys={};return y}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=pb()}}}function Xk(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!Bw(t,i):!1}function ra(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pb(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}function gb(i,t){i.min=t.min,i.max=t.max}function li(i,t){gb(i.x,t.x),gb(i.y,t.y)}function yb(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}const zw=1e-4,$k=1-zw,Wk=1+zw,Hw=.01,Jk=0-Hw,Zk=0+Hw;function hn(i){return i.max-i.min}function t3(i,t,e){return Math.abs(i-t)<=e}function vb(i,t,e,r=.5){i.origin=r,i.originPoint=he(t.min,t.max,i.origin),i.scale=hn(e)/hn(t),i.translate=he(e.min,e.max,i.origin)-i.originPoint,(i.scale>=$k&&i.scale<=Wk||isNaN(i.scale))&&(i.scale=1),(i.translate>=Jk&&i.translate<=Zk||isNaN(i.translate))&&(i.translate=0)}function gu(i,t,e,r){vb(i.x,t.x,e.x,r?r.originX:void 0),vb(i.y,t.y,e.y,r?r.originY:void 0)}function _b(i,t,e){i.min=e.min+t.min,i.max=i.min+hn(t)}function e3(i,t,e){_b(i.x,t.x,e.x),_b(i.y,t.y,e.y)}function Tb(i,t,e){i.min=t.min-e.min,i.max=i.min+hn(t)}function Tf(i,t,e){Tb(i.x,t.x,e.x),Tb(i.y,t.y,e.y)}function Eb(i,t,e,r,o){return i-=t,i=_f(i,1/e,r),o!==void 0&&(i=_f(i,1/o,r)),i}function n3(i,t=0,e=1,r=.5,o,u=i,c=i){if(Hi.test(t)&&(t=parseFloat(t),t=he(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=he(u.min,u.max,r);i===u&&(m-=t),i.min=Eb(i.min,t,e,m,o),i.max=Eb(i.max,t,e,m,o)}function bb(i,t,[e,r,o],u,c){n3(i,t[e],t[r],t[o],t.scale,u,c)}const i3=["x","scaleX","originX"],s3=["y","scaleY","originY"];function Sb(i,t,e,r){bb(i.x,t,i3,e?e.x:void 0,r?r.x:void 0),bb(i.y,t,s3,e?e.y:void 0,r?r.y:void 0)}function Ab(i){return i.translate===0&&i.scale===1}function qw(i){return Ab(i.x)&&Ab(i.y)}function wb(i,t){return i.min===t.min&&i.max===t.max}function r3(i,t){return wb(i.x,t.x)&&wb(i.y,t.y)}function xb(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function Gw(i,t){return xb(i.x,t.x)&&xb(i.y,t.y)}function Cb(i){return hn(i.x)/hn(i.y)}function Rb(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}function Kn(i){return[i("x"),i("y")]}function a3(i,t,e){let r="";const o=i.x.translate/t.x,u=i.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:b,skewX:D,skewY:j}=e;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),T&&(r+=`rotateX(${T}deg) `),b&&(r+=`rotateY(${b}deg) `),D&&(r+=`skewX(${D}deg) `),j&&(r+=`skewY(${j}deg) `)}const m=i.x.scale*t.x,p=i.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const Kw=["TopLeft","TopRight","BottomLeft","BottomRight"],o3=Kw.length,Db=i=>typeof i=="string"?parseFloat(i):i,Ib=i=>typeof i=="number"||dt.test(i);function l3(i,t,e,r,o,u){o?(i.opacity=he(0,e.opacity??1,u3(r)),i.opacityExit=he(t.opacity??1,0,c3(r))):u&&(i.opacity=he(t.opacity??1,e.opacity??1,r));for(let c=0;c<o3;c++){const m=`border${Kw[c]}Radius`;let p=Nb(t,m),g=Nb(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Ib(p)===Ib(g)?(i[m]=Math.max(he(Db(p),Db(g),r),0),(Hi.test(g)||Hi.test(p))&&(i[m]+="%")):i[m]=g}(t.rotate||e.rotate)&&(i.rotate=he(t.rotate||0,e.rotate||0,r))}function Nb(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const u3=Yw(0,.5,F1),c3=Yw(.5,.95,Xn);function Yw(i,t,e){return r=>r<i?0:r>t?1:e(Ru(i,t,r))}function h3(i,t,e){const r=rn(i)?i:Lo(i);return r.start(xy("",r,t,e)),r.animation}function Vu(i,t,e,r={passive:!0}){return i.addEventListener(t,e,r),()=>i.removeEventListener(t,e)}const f3=(i,t)=>i.depth-t.depth;class d3{constructor(){this.children=[],this.isDirty=!1}add(t){uy(this.children,t),this.isDirty=!0}remove(t){cy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(f3),this.isDirty=!1,this.children.forEach(t)}}function m3(i,t){const e=cn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(Sr(r),i(u-t))};return ae.setup(r,!0),()=>Sr(r)}function Yh(i){return rn(i)?i.get():i}class p3{constructor(){this.members=[]}add(t){uy(this.members,t),t.scheduleRender()}remove(t){if(cy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},yp=["","X","Y","Z"],g3=1e3;let y3=0;function vp(i,t,e,r){const{latestValues:o}=t;o[i]&&(e[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function Qw(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=dw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",ae,!(o||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&Qw(r)}function Xw({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=y3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(T3),this.nodes.forEach(A3),this.nodes.forEach(w3),this.nodes.forEach(E3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new d3)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ww(c)&&!_k(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),i){let y,T=0;const b=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{T=window.innerWidth}),i(c,()=>{const D=window.innerWidth;D!==T&&(T=D,this.root.updateBlockedByResize=!0,y&&y(),y=m3(b,250),Qh.hasAnimatedSinceResize&&(Qh.hasAnimatedSinceResize=!1,this.nodes.forEach(Ob)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:b,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||I3,{onLayoutAnimationStart:K,onLayoutAnimationComplete:N}=g.getProps(),F=!this.targetLayout||!Gw(this.targetLayout,D),$=!T&&b;if(this.options.layoutRoot||this.resumeFrom||$||T&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...wy(j,"layout"),onPlay:K,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,$)}else T||Ob(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Qw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Mb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(S3),this.nodes.forEach(v3),this.nodes.forEach(_3)):this.nodes.forEach(Mb),this.clearAllSnapshots();const m=cn.now();$e.delta=Ki(0,1e3/60,m-$e.timestamp),$e.timestamp=m,$e.isProcessing=!0,up.update.process($e),up.preRender.process($e),up.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(b3),this.sharedNodes.forEach(C3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!qw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||oa(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),N3(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Le();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(V3))){const{scroll:g}=this.root;g&&(_o(m.x,g.offset.x),_o(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Le();if(li(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&li(m,c),_o(m.x,y.offset.x),_o(m.y,y.offset.y))}return m}applyTransform(c,m=!1){const p=Le();li(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&To(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),oa(y.latestValues)&&To(p,y.latestValues)}return oa(this.latestValues)&&To(p,this.latestValues),p}removeTransform(c){const m=Le();li(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!oa(g.latestValues))continue;dg(g.latestValues)&&g.updateSnapshot();const y=Le(),T=g.measurePageBox();li(y,T),Sb(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return oa(this.latestValues)&&Sb(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=$e.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),Vw(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||dg(this.parent.latestValues)||Nw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),Tf(this.relativeTargetOrigin,m,p),li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;li(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,b=this.treeScale.y;Ik(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Le());const{target:D}=c;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yb(this.prevProjectionDelta.x,this.projectionDelta.x),yb(this.prevProjectionDelta.y,this.projectionDelta.y)),gu(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==b||!Rb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Rb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vo(),this.projectionDelta=vo(),this.projectionDeltaWithTransform=vo()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},T=vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=Le(),D=p?p.source:void 0,j=this.layout?this.layout.source:void 0,K=D!==j,N=this.getStack(),F=!N||N.members.length<=1,$=!!(K&&!F&&this.options.crossfade===!0&&!this.path.some(D3));this.animationProgress=0;let q;this.mixTargetDelta=at=>{const it=at/1e3;kb(T.x,c.x,it),kb(T.y,c.y,it),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tf(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),R3(this.relativeTarget,this.relativeTargetOrigin,b,it),q&&r3(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Le()),li(q,this.relativeTarget)),K&&(this.animationValues=y,l3(y,g,this.latestValues,it,$,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=it},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Qh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lo(0)),this.currentAnimation=h3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(g3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:y}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&$w(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Le();const T=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const b=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+b}li(m,p),To(m,y),gu(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new p3),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&vp("z",c,g,this.animationValues);for(let y=0;y<yp.length;y++)vp(`rotate${yp[y]}`,c,g,this.animationValues),vp(`skew${yp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Yh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Yh(m?.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=a3(this.projectionDeltaWithTransform,this.treeScale,y);p&&(T=p(y,T)),c.transform=T;const{x:b,y:D}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${D.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in pg){if(y[j]===void 0)continue;const{correct:K,applyTo:N,isCSSVariable:F}=pg[j],$=T==="none"?y[j]:K(y[j],g);if(N){const q=N.length;for(let at=0;at<q;at++)c[N[at]]=$}else F?this.options.visualElement.renderState.vars[j]=$:c[j]=$}this.options.layoutId&&(c.pointerEvents=g===this?Yh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Vb),this.root.sharedNodes.clear()}}}function v3(i){i.updateLayout()}function _3(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=i.layout,{animationType:o}=i.options,u=t.source!==i.layout.source;o==="size"?Kn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],b=hn(T);T.min=e[y].min,T.max=T.min+b}):$w(o,t.layoutBox,e)&&Kn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],b=hn(e[y]);T.max=T.min+b,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[y].max=i.relativeTarget[y].min+b)});const c=vo();gu(c,e,t.layoutBox);const m=vo();u?gu(m,i.applyTransform(r,!0),t.measuredBox):gu(m,e,t.layoutBox);const p=!qw(c);let g=!1;if(!i.resumeFrom){const y=i.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:b}=y;if(T&&b){const D=Le();Tf(D,t.layoutBox,T.layoutBox);const j=Le();Tf(j,e,b.layoutBox),Gw(D,j)||(g=!0),y.options.layoutRoot&&(i.relativeTarget=j,i.relativeTargetOrigin=D,i.relativeParent=y)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function T3(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function E3(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function b3(i){i.clearSnapshot()}function Vb(i){i.clearMeasurements()}function Mb(i){i.isLayoutDirty=!1}function S3(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function Ob(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function A3(i){i.resolveTargetDelta()}function w3(i){i.calcProjection()}function x3(i){i.resetSkewAndRotation()}function C3(i){i.removeLeadSnapshot()}function kb(i,t,e){i.translate=he(t.translate,0,e),i.scale=he(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function Pb(i,t,e,r){i.min=he(t.min,e.min,r),i.max=he(t.max,e.max,r)}function R3(i,t,e,r){Pb(i.x,t.x,e.x,r),Pb(i.y,t.y,e.y,r)}function D3(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const I3={duration:.45,ease:[.4,0,.1,1]},Lb=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),Ub=Lb("applewebkit/")&&!Lb("chrome/")?Math.round:Xn;function jb(i){i.min=Ub(i.min),i.max=Ub(i.max)}function N3(i){jb(i.x),jb(i.y)}function $w(i,t,e){return i==="position"||i==="preserve-aspect"&&!t3(Cb(t),Cb(e),.2)}function V3(i){return i!==i.root&&i.scroll?.wasRoot}const M3=Xw({attachResizeListener:(i,t)=>Vu(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_p={current:void 0},Ww=Xw({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!_p.current){const i=new M3({});i.mount(window),i.setOptions({layoutScroll:!0}),_p.current=i}return _p.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),Py=rt.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function Fb(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function O3(...i){return t=>{let e=!1;const r=i.map(o=>{const u=Fb(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():Fb(i[o],null)}}}}function k3(...i){return rt.useCallback(O3(...i),i)}class P3 extends rt.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=Tw(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function L3({children:i,isPresent:t,anchorX:e,root:r}){const o=rt.useId(),u=rt.useRef(null),c=rt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=rt.useContext(Py),p=i.props?.ref??i?.ref,g=k3(u,p);return rt.useInsertionEffect(()=>{const{width:y,height:T,top:b,left:D,right:j}=c.current;if(t||!u.current||!y||!T)return;const K=e==="left"?`left: ${D}`:`right: ${j}`;u.current.dataset.motionPopId=o;const N=document.createElement("style");m&&(N.nonce=m);const F=r??document.head;return F.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${T}px !important;
            ${K}px !important;
            top: ${b}px !important;
          }
        `),()=>{F.contains(N)&&F.removeChild(N)}},[t]),x.jsx(P3,{isPresent:t,childRef:u,sizeRef:c,children:rt.cloneElement(i,{ref:g})})}const U3=({children:i,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=ly(j3),y=rt.useId();let T=!0,b=rt.useMemo(()=>(T=!1,{id:y,initial:t,isPresent:e,custom:o,onExitComplete:D=>{g.set(D,!0);for(const j of g.values())if(!j)return;r&&r()},register:D=>(g.set(D,!1),()=>g.delete(D))}),[e,g,r]);return u&&T&&(b={...b}),rt.useMemo(()=>{g.forEach((D,j)=>g.set(j,!1))},[e]),rt.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(i=x.jsx(L3,{isPresent:e,anchorX:m,root:p,children:i})),x.jsx(Hf.Provider,{value:b,children:i})};function j3(){return new Map}function Jw(i=!0){const t=rt.useContext(Hf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=rt.useId();rt.useEffect(()=>{if(i)return o(u)},[i]);const c=rt.useCallback(()=>i&&r&&r(u),[u,r,i]);return!e&&r?[!1,c]:[!0]}const Vh=i=>i.key||"";function Bb(i){const t=[];return rt.Children.forEach(i,e=>{rt.isValidElement(e)&&t.push(e)}),t}const F3=({children:i,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,y]=Jw(c),T=rt.useMemo(()=>Bb(i),[i]),b=c&&!g?[]:T.map(Vh),D=rt.useRef(!0),j=rt.useRef(T),K=ly(()=>new Map),N=rt.useRef(new Set),[F,$]=rt.useState(T),[q,at]=rt.useState(T);D1(()=>{D.current=!1,j.current=T;for(let C=0;C<q.length;C++){const A=Vh(q[C]);b.includes(A)?(K.delete(A),N.current.delete(A)):K.get(A)!==!0&&K.set(A,!1)}},[q,b.length,b.join("-")]);const it=[];if(T!==F){let C=[...T];for(let A=0;A<q.length;A++){const R=q[A],O=Vh(R);b.includes(O)||(C.splice(A,0,R),it.push(R))}return u==="wait"&&it.length&&(C=it),at(Bb(C)),$(T),null}const{forceRender:ct}=rt.useContext(oy);return x.jsx(x.Fragment,{children:q.map(C=>{const A=Vh(C),R=c&&!g?!1:T===q||b.includes(A),O=()=>{if(N.current.has(A))return;if(N.current.add(A),K.has(A))K.set(A,!0);else return;let M=!0;K.forEach(L=>{L||(M=!1)}),M&&(ct?.(),at(j.current),c&&y?.(),r&&r())};return x.jsx(U3,{isPresent:R,initial:!D.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:R?void 0:O,anchorX:m,children:C},A)})})},Zw=rt.createContext({strict:!1}),zb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Hb=!1;function B3(){if(Hb)return;const i={};for(const t in zb)i[t]={isEnabled:e=>zb[t].some(r=>!!e[r])};Rw(i),Hb=!0}function tx(){return B3(),xk()}function z3(i){const t=tx();for(const e in i)t[e]={...t[e],...i[e]};Rw(t)}const H3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ef(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||H3.has(i)}let ex=i=>!Ef(i);function q3(i){typeof i=="function"&&(ex=t=>t.startsWith("on")?!Ef(t):i(t))}try{q3(require("@emotion/is-prop-valid").default)}catch{}function G3(i,t,e){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(ex(o)||e===!0&&Ef(o)||!t&&!Ef(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}const Kf=rt.createContext({});function K3(i,t){if(Gf(i)){const{initial:e,animate:r}=i;return{initial:e===!1||Nu(e)?e:void 0,animate:Nu(r)?r:void 0}}return i.inherit!==!1?t:{}}function Y3(i){const{initial:t,animate:e}=K3(i,rt.useContext(Kf));return rt.useMemo(()=>({initial:t,animate:e}),[qb(t),qb(e)])}function qb(i){return Array.isArray(i)?i.join(" "):i}const Ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nx(i,t,e){for(const r in t)!rn(t[r])&&!kw(r,e)&&(i[r]=t[r])}function Q3({transformTemplate:i},t){return rt.useMemo(()=>{const e=Ly();return Oy(e,t,i),Object.assign({},e.vars,e.style)},[t])}function X3(i,t){const e=i.style||{},r={};return nx(r,e,i),Object.assign(r,Q3(i,t)),r}function $3(i,t){const e={},r=X3(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=r,e}const ix=()=>({...Ly(),attrs:{}});function W3(i,t,e,r){const o=rt.useMemo(()=>{const u=ix();return Pw(u,t,Uw(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};nx(u,i.style,i),o.style={...u,...o.style}}return o}const J3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uy(i){return typeof i!="string"||i.includes("-")?!1:!!(J3.indexOf(i)>-1||/[A-Z]/u.test(i))}function Z3(i,t,e,{latestValues:r},o,u=!1,c){const p=(c??Uy(i)?W3:$3)(t,r,o,i),g=G3(t,typeof i=="string",u),y=i!==rt.Fragment?{...g,...p,ref:e}:{},{children:T}=t,b=rt.useMemo(()=>rn(T)?T.get():T,[T]);return rt.createElement(i,{...y,children:b})}function tP({scrapeMotionValuesFromProps:i,createRenderState:t},e,r,o){return{latestValues:eP(e,r,o,i),renderState:t()}}function eP(i,t,e,r){const o={},u=r(i,{});for(const b in u)o[b]=Yh(u[b]);let{initial:c,animate:m}=i;const p=Gf(i),g=Cw(i);t&&g&&!p&&i.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const T=y?m:c;if(T&&typeof T!="boolean"&&!qf(T)){const b=Array.isArray(T)?T:[T];for(let D=0;D<b.length;D++){const j=Cy(i,b[D]);if(j){const{transitionEnd:K,transition:N,...F}=j;for(const $ in F){let q=F[$];if(Array.isArray(q)){const at=y?q.length-1:0;q=q[at]}q!==null&&(o[$]=q)}for(const $ in K)o[$]=K[$]}}}return o}const sx=i=>(t,e)=>{const r=rt.useContext(Kf),o=rt.useContext(Hf),u=()=>tP(i,t,r,o);return e?u():ly(u)},nP=sx({scrapeMotionValuesFromProps:ky,createRenderState:Ly}),iP=sx({scrapeMotionValuesFromProps:jw,createRenderState:ix}),sP=Symbol.for("motionComponentSymbol");function rP(i,t,e){const r=rt.useRef(e);rt.useInsertionEffect(()=>{r.current=e});const o=rt.useRef(null);return rt.useCallback(u=>{u&&i.onMount?.(u),t&&(u?t.mount(u):t.unmount());const c=r.current;if(typeof c=="function")if(u){const m=c(u);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const rx=rt.createContext({});function ou(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function aP(i,t,e,r,o,u){const{visualElement:c}=rt.useContext(Kf),m=rt.useContext(Zw),p=rt.useContext(Hf),g=rt.useContext(Py).reducedMotion,y=rt.useRef(null);r=r||m.renderer,!y.current&&r&&(y.current=r(i,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:u}));const T=y.current,b=rt.useContext(rx);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&oP(y.current,e,o,b);const D=rt.useRef(!1);rt.useInsertionEffect(()=>{T&&D.current&&T.update(e,p)});const j=e[fw],K=rt.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return D1(()=>{T&&(D.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),K.current&&T.animationState&&T.animationState.animateChanges())}),rt.useEffect(()=>{T&&(!K.current&&T.animationState&&T.animationState.animateChanges(),K.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),K.current=!1),T.enteringChildren=void 0)}),T}function oP(i,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:ax(i.parent)),i.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&ou(m),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:p,layoutRoot:g})}function ax(i){if(i)return i.options.allowProjection!==!1?i.projection:ax(i.parent)}function Tp(i,{forwardMotionProps:t=!1,type:e}={},r,o){r&&z3(r);const u=e?e==="svg":Uy(i),c=u?iP:nP;function m(g,y){let T;const b={...rt.useContext(Py),...g,layoutId:lP(g)},{isStatic:D}=b,j=Y3(g),K=c(g,D);if(!D&&R1){uP();const N=cP(b);T=N.MeasureLayout,j.visualElement=aP(i,K,b,o,N.ProjectionNode,u)}return x.jsxs(Kf.Provider,{value:j,children:[T&&j.visualElement?x.jsx(T,{visualElement:j.visualElement,...b}):null,Z3(i,g,rP(K,j.visualElement,y),K,D,t,u)]})}m.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const p=rt.forwardRef(m);return p[sP]=i,p}function lP({layoutId:i}){const t=rt.useContext(oy).id;return t&&i!==void 0?t+"-"+i:i}function uP(i,t){rt.useContext(Zw).strict}function cP(i){const t=tx(),{drag:e,layout:r}=t;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e?.isEnabled(i)||r?.isEnabled(i)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function hP(i,t){if(typeof Proxy>"u")return Tp;const e=new Map,r=(u,c)=>Tp(u,c,i,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,Tp(c,void 0,i,t)),e.get(c))})}const fP=(i,t)=>t.isSVG??Uy(i)?new Hk(t):new Lk(t,{allowProjection:i!==rt.Fragment});class dP extends Cr{constructor(t){super(t),t.animationState||(t.animationState=Qk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let mP=0;class pP extends Cr{constructor(){super(...arguments),this.id=mP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const gP={animation:{Feature:dP},exit:{Feature:pP}};function Qu(i){return{point:{x:i.pageX,y:i.pageY}}}const yP=i=>t=>Ny(t)&&i(t,Qu(t));function yu(i,t,e,r){return Vu(i,t,yP(e),r)}const ox=({current:i})=>i?i.ownerDocument.defaultView:null,Gb=(i,t)=>Math.abs(i-t);function vP(i,t){const e=Gb(i.x,t.x),r=Gb(i.y,t.y);return Math.sqrt(e**2+r**2)}const Kb=new Set(["auto","scroll"]);class lx{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=D=>{this.handleScroll(D.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=bp(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,K=vP(D.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!K)return;const{point:N}=D,{timestamp:F}=$e;this.history.push({...N,timestamp:F});const{onStart:$,onMove:q}=this.handlers;j||($&&$(this.lastMoveEvent,D),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,D)},this.handlePointerMove=(D,j)=>{this.lastMoveEvent=D,this.lastMoveEventInfo=Ep(j,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(D,j)=>{this.end();const{onEnd:K,onSessionEnd:N,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=bp(D.type==="pointercancel"?this.lastMoveEventInfo:Ep(j,this.transformPagePoint),this.history);this.startEvent&&K&&K(D,$),N&&N(D,$)},!Ny(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=Qu(t),g=Ep(p,this.transformPagePoint),{point:y}=g,{timestamp:T}=$e;this.history=[{...y,timestamp:T}];const{onSessionStart:b}=e;b&&b(t,bp(g,this.history)),this.removeListeners=Gu(yu(this.contextWindow,"pointermove",this.handlePointerMove),yu(this.contextWindow,"pointerup",this.handlePointerUp),yu(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let e=t.parentElement;for(;e;){const r=getComputedStyle(e);(Kb.has(r.overflowX)||Kb.has(r.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-e.x,y:o.y-e.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),ae.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Sr(this.updatePoint)}}function Ep(i,t){return t?{point:t(i.point)}:i}function Yb(i,t){return{x:i.x-t.x,y:i.y-t.y}}function bp({point:i},t){return{point:i,delta:Yb(i,ux(t)),offset:Yb(i,_P(t)),velocity:TP(t,.1)}}function _P(i){return i[0]}function ux(i){return i[i.length-1]}function TP(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,r=null;const o=ux(i);for(;e>=0&&(r=i[e],!(o.timestamp-r.timestamp>ms(t)));)e--;if(!r)return{x:0,y:0};const u=Qn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function EP(i,{min:t,max:e},r){return t!==void 0&&i<t?i=r?he(t,i,r.min):Math.max(i,t):e!==void 0&&i>e&&(i=r?he(e,i,r.max):Math.min(i,e)),i}function Qb(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function bP(i,{top:t,left:e,bottom:r,right:o}){return{x:Qb(i.x,e,o),y:Qb(i.y,t,r)}}function Xb(i,t){let e=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,r]=[r,e]),{min:e,max:r}}function SP(i,t){return{x:Xb(i.x,t.x),y:Xb(i.y,t.y)}}function AP(i,t){let e=.5;const r=hn(i),o=hn(t);return o>r?e=Ru(t.min,t.max-r,i.min):r>o&&(e=Ru(i.min,i.max-o,t.min)),Ki(0,1,e)}function wP(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const gg=.35;function xP(i=gg){return i===!1?i=0:i===!0&&(i=gg),{x:$b(i,"left","right"),y:$b(i,"top","bottom")}}function $b(i,t,e){return{min:Wb(i,t),max:Wb(i,e)}}function Wb(i,t){return typeof i=="number"?i:i[t]||0}const CP=new WeakMap;class RP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{e?(this.stopAnimation(),this.snapToCursor(Qu(T).point)):this.pauseAnimation()},c=(T,b)=>{this.stopAnimation();const{drag:D,dragPropagation:j,onDragStart:K}=this.getProps();if(D&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mk(D),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(F=>{let $=this.getAxisMotionValue(F).get()||0;if(Hi.test($)){const{projection:q}=this.visualElement;if(q&&q.layout){const at=q.layout.layoutBox[F];at&&($=hn(at)*(parseFloat($)/100))}}this.originPoint[F]=$}),K&&ae.postRender(()=>K(T,b)),ug(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},m=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b;const{dragPropagation:D,dragDirectionLock:j,onDirectionLock:K,onDrag:N}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:F}=b;if(j&&this.currentDirection===null){this.currentDirection=DP(F),this.currentDirection!==null&&K&&K(this.currentDirection);return}this.updateAxis("x",b.point,F),this.updateAxis("y",b.point,F),this.visualElement.render(),N&&N(T,b)},p=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b,this.stop(T,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Kn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new lx(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:ox(this.visualElement),element:this.visualElement.current})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ae.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Mh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=EP(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&ou(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=bP(r.layoutBox,t):this.constraints=!1,this.elastic=xP(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=wP(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!ou(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=Nk(r,o.root,this.visualElement.getTransformPagePoint());let c=SP(o.layout.layoutBox,u);if(e){const m=e(Rk(c));this.hasMutatedConstraints=!!m,m&&(c=Iw(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Kn(y=>{if(!Mh(y,e,this.currentDirection))return;let T=p&&p[y]||{};c&&(T={min:0,max:0});const b=o?200:1e6,D=o?40:1e7,j={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return ug(this.visualElement,t),r.start(xy(t,r,0,e,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(e=>{const{drag:r}=this.getProps();if(!Mh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e],p=u.get()||0;u.set(t[e]-he(c,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!ou(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Kn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=AP({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!Mh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(he(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;CP.set(this.visualElement,this);const t=this.visualElement.current,e=yu(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&!Aw(p.target)&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();ou(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const c=Vu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Kn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=p[y].translate,T.set(T.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=gg,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Mh(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function DP(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class IP extends Cr{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new RP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jb=i=>(t,e)=>{i&&ae.postRender(()=>i(t,e))};class NP extends Cr{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new lx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ox(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Jb(t),onStart:Jb(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ae.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=yu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Sp=!1;class VP extends rt.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),Sp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Sp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Iy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;Sp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function cx(i){const[t,e]=Jw(),r=rt.useContext(oy);return x.jsx(VP,{...i,layoutGroup:r,switchLayoutGroup:rt.useContext(rx),isPresent:t,safeToRemove:e})}const MP={pan:{Feature:NP},drag:{Feature:IP,ProjectionNode:Ww,MeasureLayout:cx}};function Zb(i,t,e){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&ae.postRender(()=>u(t,Qu(t)))}class OP extends Cr{mount(){const{current:t}=this.node;t&&(this.unmount=pk(t,(e,r)=>(Zb(this.node,r,"Start"),o=>Zb(this.node,o,"End"))))}unmount(){}}class kP extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(Vu(this.node.current,"focus",()=>this.onFocus()),Vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tS(i,t,e){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&ae.postRender(()=>u(t,Qu(t)))}class PP extends Cr{mount(){const{current:t}=this.node;t&&(this.unmount=vk(t,(e,r)=>(tS(this.node,r,"Start"),(o,{success:u})=>tS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yg=new WeakMap,Ap=new WeakMap,LP=i=>{const t=yg.get(i.target);t&&t(i)},UP=i=>{i.forEach(LP)};function jP({root:i,...t}){const e=i||document;Ap.has(e)||Ap.set(e,{});const r=Ap.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(UP,{root:i,...t})),r[o]}function FP(i,t,e){const r=jP(t);return yg.set(i,e),r.observe(i),()=>{yg.delete(i),r.unobserve(i)}}const BP={some:0,all:1};class zP extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:BP[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),b=g?y:T;b&&b(p)};return FP(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(HP(t,e))&&this.startObserver()}unmount(){}}function HP({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const qP={inView:{Feature:zP},tap:{Feature:PP},focus:{Feature:kP},hover:{Feature:OP}},GP={layout:{ProjectionNode:Ww,MeasureLayout:cx}},KP={...gP,...qP,...MP,...GP},vg=hP(KP,fP),YP=({restaurants:i,onFinish:t})=>{const[e,r]=rt.useState(0),[o,u]=rt.useState({like:[],pass:[]}),c=i[e],m=p=>{const g=i[e];u(y=>({...y,[p]:[...y[p],g.id]})),e<i.length-1?r(e+1):t({like:[...o.like,p==="like"?g.id:null].filter(Boolean)})};return c?x.jsxs("div",{className:"relative w-full max-w-sm mx-auto h-[500px] flex flex-col items-center justify-center",children:[x.jsxs("div",{className:"absolute top-[-40px] flex justify-between w-full px-4 text-xs font-black uppercase tracking-widest text-gray-400",children:[x.jsx("span",{className:"text-red-500",children:" Swipe Left to Pass"}),x.jsx("span",{className:"text-green-500",children:"Swipe Right to Like "})]}),x.jsx(F3,{mode:"wait",children:x.jsxs(vg.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(p,g)=>{g.offset.x>100?m("like"):g.offset.x<-100&&m("pass")},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{x:200,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"w-full h-full bg-white dark:bg-gray-800 rounded-3xl shadow-2xl relative overflow-hidden flex flex-col cursor-grab active:cursor-grabbing border border-gray-100 dark:border-gray-700",children:[x.jsxs("div",{className:"w-full h-2/3 bg-gray-200 dark:bg-gray-700 relative",children:[x.jsx("img",{src:c.photoUrl||`https://via.placeholder.com/400x600?text=${encodeURIComponent(c.name)}`,alt:c.name,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:x.jsxs("span",{className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full shadow-lg",children:[c.priceLevel||"$$","  ",c.rating," "]})})]}),x.jsxs("div",{className:"p-6 flex flex-col h-1/3 justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white truncate",children:c.name}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-1",children:c.address})]}),x.jsx("div",{className:"flex gap-4",children:x.jsxs("a",{href:c.mapsUrl||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${c.name}, ${c.address}`)}`,target:"_blank",rel:"noreferrer",className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 dark:text-gray-300 text-gray-700 text-center rounded-xl text-sm font-bold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",onClick:p=>p.stopPropagation(),children:[x.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"})}),"Google Maps"]})})]})]},c.id)}),x.jsxs("div",{className:"mt-12 flex gap-8",children:[x.jsx("button",{onClick:()=>m("pass"),className:"w-16 h-16 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg text-red-500 hover:scale-110 active:scale-95 transition-all border border-red-100 dark:border-red-900/30",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),x.jsx("button",{onClick:()=>m("like"),className:"w-16 h-16 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg text-green-500 hover:scale-110 active:scale-95 transition-all border border-green-100 dark:border-green-900/30",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),x.jsxs("p",{className:"mt-8 text-sm text-gray-500",children:[e+1," / ",i.length]})]}):x.jsx("div",{className:"text-center py-20 font-bold",children:"No restaurants to display"})},QP=({sessionId:i,restaurants:t,currentUser:e,sessionData:r,onFinish:o})=>{const[u,c]=rt.useState([]),[m,p]=rt.useState(null),[g,y]=rt.useState(!1),[T,b]=rt.useState([]),[D,j]=rt.useState(null),K=600,N=800,F=100,$=150,q=5,at=K/q,it=Array.from({length:q},(pt,vt)=>at*vt+at/2),ct=F+20,C=N-$-20,A=Array.from({length:q},(pt,vt)=>{const G=r.amidakuji?.results?.[vt];return G?t.find(et=>et.id===G)||{name:"???"}:t[vt%t.length]||{name:"???"}}),R=()=>{const pt=[],vt=12+Math.floor(Math.random()*8);for(let G=0;G<vt;G++){const et=Math.floor(Math.random()*(q-1)),ot=ct+Math.random()*(C-ct);pt.some(Mt=>Math.abs(Mt.y-ot)<15)||pt.push({lane:et,y:ot})}c(pt.sort((G,et)=>G.y-et.y))};rt.useEffect(()=>{R()},[]);const O=pt=>{if(g||D)return;const vt=pt.currentTarget,G=vt.createSVGPoint();G.x=pt.clientX,G.y=pt.clientY;const et=G.matrixTransform(vt.getScreenCTM().inverse());if(et.y<ct||et.y>C)return;const ot=Math.floor(et.x/at);if(ot>=0&&ot<q-1){const xt={lane:ot,y:et.y};c(Mt=>[...Mt,xt].sort((P,Z)=>P.y-Z.y))}},M=pt=>{const vt=[];let G=pt,et=F;vt.push({x:it[G],y:F});for(const ot of u)ot.y<et||(ot.lane===G?(vt.push({x:it[G],y:ot.y}),G=G+1,vt.push({x:it[G],y:ot.y}),et=ot.y):ot.lane===G-1&&(vt.push({x:it[G],y:ot.y}),G=G-1,vt.push({x:it[G],y:ot.y}),et=ot.y));return vt.push({x:it[G],y:N-$}),{points:vt,finalIndex:G}},L=()=>{if(m===null){alert("Please select a starting lane (tap a number at the top)!");return}const{points:pt,finalIndex:vt}=M(m);b(pt),y(!0),j(null);const G=pt.length*.3;setTimeout(()=>{y(!1);const et=A[vt];j(et),o(et)},G*1e3)},I=T.map(pt=>`${pt.x},${pt.y}`).join(" ");return x.jsxs("div",{className:"flex flex-col items-center w-full h-full max-w-4xl mx-auto",children:[x.jsxs("div",{className:"flex gap-4 mb-4 z-10",children:[x.jsx("button",{onClick:()=>{c([]),R(),b([]),j(null),p(null)},disabled:g,className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-bold rounded-xl shadow hover:bg-gray-300 transition-all",children:"Reset Board"}),x.jsx("button",{onClick:L,disabled:g||m===null,className:"px-8 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold rounded-xl shadow-lg hover:scale-105 disabled:opacity-50 disabled:scale-100 transition-all",children:"Start Game"})]}),x.jsx("div",{className:"relative w-full aspect-[3/4] bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden border-4 border-gray-100 dark:border-gray-700",children:x.jsxs("svg",{viewBox:`0 0 ${K} ${N}`,className:"w-full h-full cursor-pointer",onClick:O,preserveAspectRatio:"xMidYMid meet",children:[x.jsx("defs",{children:x.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[x.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),x.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),it.map((pt,vt)=>x.jsx("line",{x1:pt,y1:F,x2:pt,y2:N-$,stroke:"currentColor",strokeWidth:"4",className:"text-gray-300 dark:text-gray-600",strokeLinecap:"round"},`lane-${vt}`)),u.map((pt,vt)=>{const G=it[pt.lane],et=it[pt.lane+1];return x.jsx("line",{x1:G,y1:pt.y,x2:et,y2:pt.y,stroke:"#3B82F6",strokeWidth:"6",strokeLinecap:"round"},`rung-${vt}`)}),it.map((pt,vt)=>x.jsxs("g",{onClick:G=>{G.stopPropagation(),p(vt)},className:"cursor-pointer hover:opacity-80",children:[x.jsx("circle",{cx:pt,cy:F-40,r:"25",fill:m===vt?"#2563EB":"#E5E7EB",className:"transition-colors duration-200"}),x.jsx("text",{x:pt,y:F-32,textAnchor:"middle",fill:m===vt?"white":"#6B7280",fontSize:"20",fontWeight:"bold",pointerEvents:"none",children:vt+1})]},`btn-${vt}`)),A.map((pt,vt)=>x.jsxs("g",{children:[x.jsx("line",{x1:it[vt],y1:N-$,x2:it[vt],y2:N-$+20,stroke:"currentColor",strokeWidth:"2",className:"text-gray-300"}),x.jsx("foreignObject",{x:it[vt]-at/2+2,y:N-$+20,width:at-4,height:"120",children:x.jsxs("div",{className:"flex flex-col items-center justify-start h-full p-1 text-center",children:[x.jsx("div",{className:`w-12 h-12 rounded-xl mb-1 flex items-center justify-center overflow-hidden shadow-sm border-2 ${D?.id===pt.id?"border-yellow-500 ring-2 ring-yellow-300":"border-gray-200"}`,children:pt.photoUrl?x.jsx("img",{src:pt.photoUrl,alt:pt.name,className:"w-full h-full object-cover"}):x.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-xl",children:""})}),x.jsx("span",{className:`text-[10px] font-bold leading-tight line-clamp-2 ${D?.id===pt.id?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400"}`,children:pt.name})]})})]},`target-${vt}`)),g&&x.jsx(x.Fragment,{children:x.jsx(vg.polyline,{points:I,fill:"none",stroke:"#FBBF24",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:T.length*.3,ease:"linear"},filter:"url(#glow)"})})]})}),D&&x.jsxs(vg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-2xl border-4 border-yellow-400 text-center z-50 pointer-events-none",children:[x.jsx("p",{className:"text-gray-500 uppercase tracking-widest font-bold mb-2",children:"The Chosen One"}),x.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:D.name}),x.jsx("p",{className:"text-xl",children:""})]})]})},XP=i=>new Promise(t=>{setTimeout(()=>{const e=[{id:"1",name:"Tasty Taiwan",rating:4.5,priceLevel:200,address:"Xinyi District, Taipei",cuisine:"Taiwanese",location:"Taipei - Xinyi District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Tasty+Taiwan+Xinyi+Taipei",photoUrl:"https://via.placeholder.com/400x300/FF6B6B/FFFFFF?text=Tasty+Taiwan",images:["https://via.placeholder.com/400x300/FF6B6B/FFFFFF?text=Tasty+Taiwan","https://via.placeholder.com/400x300/FF8E8E/FFFFFF?text=Beef+Noodle","https://via.placeholder.com/400x300/FFB5B5/FFFFFF?text=Dumplings"]},{id:"3",name:"Gourmet House",rating:4.8,priceLevel:350,address:"Da-an District, Taipei",cuisine:"Western",location:"Taipei - Da-an District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Gourmet+House+Daan+Taipei",photoUrl:"https://via.placeholder.com/400x300/95E1D3/FFFFFF?text=Gourmet+House",images:["https://via.placeholder.com/400x300/95E1D3/FFFFFF?text=Gourmet+House","https://via.placeholder.com/400x300/B8F2E6/FFFFFF?text=Steak","https://via.placeholder.com/400x300/DBFFF8/FFFFFF?text=Pasta"]},{id:"5",name:"Zen Garden",rating:4.6,priceLevel:250,address:"Zhongshan District, Taipei",cuisine:"Japanese",location:"Taipei - Zhongshan District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Zen+Garden+Zhongshan+Taipei",photoUrl:"https://via.placeholder.com/400x300/AA96DA/FFFFFF?text=Zen+Garden",images:["https://via.placeholder.com/400x300/AA96DA/FFFFFF?text=Zen+Garden","https://via.placeholder.com/400x300/C5B3F0/FFFFFF?text=Sushi","https://via.placeholder.com/400x300/E0D0FF/FFFFFF?text=Sashimi"]},{id:"6",name:"Luxury Dine",rating:4.9,priceLevel:800,address:"Xinyi District, Taipei",cuisine:"Western",location:"Taipei - Xinyi District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Luxury+Dine+Xinyi+Taipei",photoUrl:"https://via.placeholder.com/400x300/FCBAD3/FFFFFF?text=Luxury+Dine",images:["https://via.placeholder.com/400x300/FCBAD3/FFFFFF?text=Luxury+Dine","https://via.placeholder.com/400x300/FFD2E5/FFFFFF?text=Lobster","https://via.placeholder.com/400x300/FFE9F4/FFFFFF?text=Wine"]},{id:"8",name:"Noodle Paradise",rating:4.7,priceLevel:160,address:"Songshan District, Taipei",cuisine:"Chinese",location:"Taipei - Songshan District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Noodle+Paradise+Songshan+Taipei",photoUrl:"https://via.placeholder.com/400x300/A8D8EA/FFFFFF?text=Noodle+Paradise",images:["https://via.placeholder.com/400x300/A8D8EA/FFFFFF?text=Noodle+Paradise","https://via.placeholder.com/400x300/CBF0FF/FFFFFF?text=Wonton","https://via.placeholder.com/400x300/E8F9FF/FFFFFF?text=Soup"]},{id:"9",name:"Sushi Master",rating:4.5,priceLevel:400,address:"Xinyi District, Taipei",cuisine:"Japanese",location:"Taipei - Xinyi District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Sushi+Master+Xinyi+Taipei",photoUrl:"https://via.placeholder.com/400x300/FFAAA5/FFFFFF?text=Sushi+Master",images:["https://via.placeholder.com/400x300/FFAAA5/FFFFFF?text=Sushi+Master","https://via.placeholder.com/400x300/FFC8C4/FFFFFF?text=Rolls","https://via.placeholder.com/400x300/FFE6E4/FFFFFF?text=Tempura"]},{id:"11",name:"Korean BBQ House",rating:4.6,priceLevel:300,address:"Da-an District, Taipei",cuisine:"Korean",location:"Taipei - Da-an District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Korean+BBQ+Daan+Taipei",photoUrl:"https://via.placeholder.com/400x300/C7CEEA/FFFFFF?text=Korean+BBQ",images:["https://via.placeholder.com/400x300/C7CEEA/FFFFFF?text=Korean+BBQ","https://via.placeholder.com/400x300/E2E7FF/FFFFFF?text=Beef","https://via.placeholder.com/400x300/F0F4FF/FFFFFF?text=Kimchi"]},{id:"12",name:"Italian Corner",rating:4.3,priceLevel:350,address:"Zhongshan District, Taipei",cuisine:"Italian",location:"Taipei - Zhongshan District ( - )",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Italian+Corner+Zhongshan+Taipei",photoUrl:"https://via.placeholder.com/400x300/B5EAD7/FFFFFF?text=Italian+Corner",images:["https://via.placeholder.com/400x300/B5EAD7/FFFFFF?text=Italian+Corner","https://via.placeholder.com/400x300/D6F5EB/FFFFFF?text=Pizza","https://via.placeholder.com/400x300/EAFFF9/FFFFFF?text=Pasta"]},{id:"20",name:"Banqiao Burgers",rating:4.2,priceLevel:250,address:"Banqiao District",cuisine:"Western",location:"New Taipei - Banqiao District ( - )",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=Banqiao",images:["https://via.placeholder.com/400x300/FF9AA2/FFFFFF?text=Burger","https://via.placeholder.com/400x300/FFB7B2/FFFFFF?text=Fries","https://via.placeholder.com/400x300/FFDAC1/FFFFFF?text=Coke"]},{id:"2",name:"Malay Feast",rating:4.2,priceLevel:150,address:"Bukit Bintang, KL",cuisine:"Malay",location:"Kuala Lumpur - Bukit Bintang",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Malay+Feast+Bukit+Bintang",photoUrl:"https://via.placeholder.com/400x300/4ECDC4/FFFFFF?text=Malay+Feast",images:["https://via.placeholder.com/400x300/4ECDC4/FFFFFF?text=Malay+Feast","https://via.placeholder.com/400x300/77DED8/FFFFFF?text=Nasi+Lemak","https://via.placeholder.com/400x300/A0EFEA/FFFFFF?text=Satay"]},{id:"10",name:"Thai Delight",rating:3.9,priceLevel:140,address:"Bukit Bintang, KL",cuisine:"Thai",location:"Kuala Lumpur - Bukit Bintang",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Thai+Delight+KL",photoUrl:"https://via.placeholder.com/400x300/FF8B94/FFFFFF?text=Thai+Delight",images:["https://via.placeholder.com/400x300/FF8B94/FFFFFF?text=Thai+Delight","https://via.placeholder.com/400x300/FFA5AC/FFFFFF?text=Tom+Yum","https://via.placeholder.com/400x300/FFC2C7/FFFFFF?text=Pad+Thai"]},{id:"13",name:"KLCC Sky Bar",rating:4.8,priceLevel:900,address:"KLCC, KL",cuisine:"Western",location:"Kuala Lumpur - KLCC",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=SkyBar",images:["https://via.placeholder.com/400x300/text=SkyBar","https://via.placeholder.com/400x300/text=Cocktail","https://via.placeholder.com/400x300/text=View"]},{id:"14",name:"Bangsar Brunch",rating:4.5,priceLevel:300,address:"Bangsar, KL",cuisine:"Western",location:"Kuala Lumpur - Bangsar",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=Bangsar",images:["https://via.placeholder.com/400x300/text=Bangsar","https://via.placeholder.com/400x300/text=Eggs","https://via.placeholder.com/400x300/text=Coffee"]},{id:"4",name:"Satay Garden",rating:4,priceLevel:120,address:"Subang Jaya, Selangor",cuisine:"Malay",location:"Selangor - Subang Jaya",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Satay+Garden+Subang+Jaya",photoUrl:"https://via.placeholder.com/400x300/F38181/FFFFFF?text=Satay+Garden",images:["https://via.placeholder.com/400x300/F38181/FFFFFF?text=Satay+Garden","https://via.placeholder.com/400x300/F5A2A2/FFFFFF?text=Chicken","https://via.placeholder.com/400x300/F7C3C3/FFFFFF?text=Beef"]},{id:"7",name:"Spice Route",rating:4.4,priceLevel:180,address:"Petaling Jaya, Selangor",cuisine:"Indian",location:"Selangor - Petaling Jaya",mapsUrl:"https://www.google.com/maps/search/?api=1&query=Spice+Route+Petaling+Jaya",photoUrl:"https://via.placeholder.com/400x300/FFFFD2/333333?text=Spice+Route",images:["https://via.placeholder.com/400x300/FFFFD2/333333?text=Spice+Route","https://via.placeholder.com/400x300/FFFFA0/333333?text=Curry","https://via.placeholder.com/400x300/FFFF70/333333?text=Naan"]},{id:"15",name:"Klang Bak Kut Teh",rating:4.7,priceLevel:150,address:"Klang, Selangor",cuisine:"Chinese",location:"Selangor - Klang",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/text=Klang",images:["https://via.placeholder.com/400x300/text=Klang","https://via.placeholder.com/400x300/text=Soup","https://via.placeholder.com/400x300/text=Herbal"]}];console.log("Filtering restaurants with:",JSON.stringify(i,null,2));const r=e.filter(o=>{if(o.rating<4)return!1;const u=i.minPrice||0,c=i.maxPrice||1e4;return!(o.priceLevel<u||o.priceLevel>c||i.locations&&i.locations.length>0&&!i.locations.some(p=>{const g=p.split(" - "),y=g[g.length-1];return y?o.location.toLowerCase().includes(y.toLowerCase()):!1})||i.cuisines&&i.cuisines.length>0&&!i.cuisines.some(p=>o.cuisine.toLowerCase()===p.toLowerCase()))});console.log(`Matched ${r.length} restaurants`),t(r)},800)});function $P(){const[i,t]=rt.useState(null),[e,r]=rt.useState(!1),[o,u]=rt.useState("home"),[c,m]=rt.useState(""),[p,g]=rt.useState(""),[y,T]=rt.useState([]);rt.useEffect(()=>{const F=new URLSearchParams(window.location.search).get("id");F&&(m(F),u("join"))},[]),rt.useEffect(()=>{let N=()=>{};const F=i?.id||(o==="waiting"||o==="swiping"?c:null);return F&&(N=s4(la(ua,"sessions",F),$=>{if($.exists()){const q=$.data();t({id:$.id,...q});const at=Nn.currentUser?.uid;q.participantPreferences?.[at]&&o!=="swiping"&&o!=="waiting_amidakuji"&&o!=="amidakuji"&&o!=="finished"&&(b({id:$.id,...q}),u("swiping")),q.status==="amidakuji"&&o!=="amidakuji"&&u("amidakuji"),q.status==="finished"&&o!=="finished"&&u("finished")}})),()=>N()},[i?.id,c,o]);const b=async N=>{r(!0);const F=Nn.currentUser.uid,$=N.participantPreferences?.[F];$||console.warn("No participant preferences found, using session defaults");const q={minPrice:Number(N.minPrice),maxPrice:Number(N.maxPrice),locations:$?.locations||[],cuisines:$?.cuisines||[]},at=await XP(q);T(at),r(!1)};rt.useEffect(()=>{if(!i?.waitDeadline)return;const N=setInterval(()=>{const q=(i.waitDeadline.toDate?i.waitDeadline.toDate():new Date(i.waitDeadline))-new Date;if(q<=0)g("00:00"),clearInterval(N),i.hostId===Nn.currentUser?.uid&&i.status!=="finished"&&D(i);else{const at=Math.floor(q/6e4),it=Math.floor(q%6e4/1e3);g(`${at}:${it<10?"0":""}${it}`)}},1e3);return()=>clearInterval(N)},[i?.waitDeadline,i?.status]);const D=async N=>{console.log("Calculating Final Result...");let F=null;const $={};Object.values(N.restaurantVotes||{}).forEach(A=>{A.forEach(R=>{$[R]=($[R]||0)+1})});const q=Object.keys($).sort((A,R)=>$[R]-$[A]).map(A=>({id:A,votes:$[A],name:y.find(R=>R.id===A)?.name})),at=N.amidakujiResults||{},it={};Object.keys(at).length>0?(Object.values(at).forEach(A=>{it[A]=(it[A]||0)+1}),F=Object.keys(it).sort((A,R)=>it[R]-it[A])[0]):q.length>0?F=q[0].id:y.length>0&&(F=y[0].id);const C=y.find(A=>A.id===F)||y[0];C&&await i4(la(ua,"sessions",N.id),{status:"finished",finalChoice:C,finalRanking:q})};rt.useEffect(()=>{i?.status==="finished"&&o!=="finished"&&u("finished")},[i?.status,o]);const j=async()=>{i?.id&&u("preferences")},K=async()=>{if(!(!i?.id||!i?.restaurantVotes)){r(!0);try{const N={};Object.values(i.restaurantVotes).forEach(C=>{C.forEach(A=>{N[A]=(N[A]||0)+1})});const q=[...Object.keys(N).sort((C,A)=>N[A]-N[C]).slice(0,5)];q.length<5&&y.forEach(C=>{q.length<5&&!q.includes(C.id)&&q.push(C.id)});const at=q.map(C=>{const A=y.find(R=>R.id===C);return{id:C,name:A?.name||"Unknown",votes:N[C]||0}}),it=la(ua,"sessions",i.id),ct={status:"amidakuji",amidakuji:{results:q,initialRungs:generateRandomRungs(),ranking:at}};await qh(it,ct,{merge:!0})}catch(N){console.error("Error starting amidakuji phase:",N),alert("Failed to start Amidakuji phase.")}finally{r(!1)}}};return x.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:[o==="home"&&x.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[x.jsx("h1",{className:"text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 mb-6 py-2",children:"GatheringFun"}),x.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-16",children:"Decide where and when to meet, the fun way!"}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all cursor-pointer border-2 border-transparent hover:border-blue-500",onClick:()=>u("create"),children:[x.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:x.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),x.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Create Gathering"}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Host a new meeting and invite friends."})]}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl border-2 border-transparent hover:border-purple-500",children:[x.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:x.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),x.jsx("h3",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Join Gathering"}),x.jsx("input",{type:"text",placeholder:"Enter Session ID",value:c,onChange:N=>m(N.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:bg-gray-700 dark:border-gray-600 mb-4 focus:ring-2 focus:ring-purple-500 outline-none dark:text-white"}),x.jsx("button",{onClick:()=>c&&u("join"),className:"w-full py-3 bg-purple-600 text-white font-bold rounded-xl shadow-lg hover:bg-purple-700 transition-all",children:"Join Now"})]})]})]}),o==="create"&&x.jsxs("div",{className:"text-center",children:[x.jsx("button",{onClick:()=>u("home"),className:"mb-8 text-gray-500 hover:text-blue-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),x.jsx(l4,{onSubmit:handleCreateSession,loading:e})]}),o==="join"&&x.jsxs("div",{className:"text-center",children:[x.jsx("button",{onClick:()=>u("home"),className:"mb-8 text-gray-500 hover:text-purple-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),x.jsx(u4,{sessionId:c,onJoined})]}),o==="preferences"&&i&&x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"mb-6 mx-auto w-fit px-4 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-full border border-blue-200 dark:border-blue-700 flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),x.jsx("span",{className:"font-mono font-bold text-blue-700 dark:text-blue-300",children:p})]}),x.jsx("button",{onClick:()=>{t(null),u("home")},className:"mb-4 text-gray-500 hover:text-blue-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),x.jsx(c4,{sessionData:i,onSubmit:handleSubmitPreferences,loading:e})]}),(o==="created"||o==="waiting")&&x.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white",children:[x.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full",children:x.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),x.jsx("h2",{className:"text-3xl font-bold mb-2",children:"You're in!"}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:o==="waiting"?"Preferences submitted. Waiting for Phase 2 to end...":`"${i?.name}" is LIVE!`}),x.jsxs("div",{className:"mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800",children:[x.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Time Remaining"}),x.jsx("p",{className:"text-4xl font-mono font-black text-blue-700 dark:text-blue-300",children:p||"--:--"})]}),(i||c)&&x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700 mb-8",children:[x.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Session ID"}),x.jsx("code",{className:"text-2xl font-mono font-bold text-blue-600 dark:text-blue-400 select-all",children:i?i.id:c})]}),x.jsx("button",{onClick:()=>{const N=i?i.id:c;navigator.clipboard.writeText(N),alert("ID copied!")},className:"w-full py-4 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all mb-4",children:"Copy ID"}),i?.hostId===Nn.currentUser?.uid&&i?.status==="recruiting"&&x.jsx("button",{onClick:j,disabled:e,className:"w-full py-4 bg-gradient-to-r from-orange-500 to-pink-500 text-white font-bold rounded-xl shadow-lg hover:scale-[1.02] transition-all mb-4",children:e?"Starting...":"Start Swiping Phase "}),x.jsx("button",{onClick:()=>{t(null),u("home")},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium",children:" Exit Session"}),i?.hostId===Nn.currentUser?.uid&&i?.status==="swiping"&&x.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-700",children:[x.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Once everyone has voted, start the game!"}),x.jsx("button",{onClick:K,disabled:e,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl shadow-lg hover:scale-[1.02] transition-all",children:e?"Initializing...":"Start Amidakuji Battle! "})]})]}),o==="swiping"&&x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"mb-6 mx-auto w-fit px-4 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-full border border-blue-200 dark:border-blue-700 flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),x.jsx("span",{className:"font-mono font-bold text-blue-700 dark:text-blue-300",children:p})]}),x.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-12",children:"Vote for Restaurants"}),e?x.jsxs("div",{className:"py-20 flex flex-col items-center justify-center",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-4"}),x.jsx("p",{className:"text-gray-500 font-bold animate-pulse",children:"Finding best spots for you..."})]}):x.jsx(YP,{restaurants:y,onFinish:async N=>{try{console.log("Swiping finished, saving votes:",N);const F=la(ua,"sessions",i.id);await qh(F,{restaurantVotes:{[Nn.currentUser.uid]:N.like}},{merge:!0}),console.log("Votes saved, transitioning to waiting_amidakuji"),u("waiting_amidakuji")}catch(F){console.error("Error saving votes:",F),alert("Error saving votes: "+F.message)}}})]}),o==="waiting_amidakuji"&&x.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white",children:[x.jsxs("div",{className:"mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800",children:[x.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Time Remaining"}),x.jsx("p",{className:"text-4xl font-mono font-black text-blue-700 dark:text-blue-300",children:p||"--:--"})]}),x.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full text-blue-600",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),x.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Votes Cast!"}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Waiting for everyone to finish swiping. Next: The Amidakuji Game!"}),x.jsxs("div",{className:"animate-pulse flex items-center justify-center gap-2 mb-8",children:[x.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full"}),x.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full",style:{animationDelay:"200ms"}}),x.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full",style:{animationDelay:"400ms"}})]}),i?.hostId===Nn.currentUser?.uid&&x.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-700",children:[x.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Once everyone has voted, start the game!"}),x.jsx("button",{onClick:K,disabled:e,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl shadow-lg hover:scale-[1.02] transition-all",children:e?"Initializing...":"Start Amidakuji Battle! "})]})]}),o==="amidakuji"&&x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"mb-6 mx-auto w-fit px-4 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-full border border-blue-200 dark:border-blue-700 flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),x.jsx("span",{className:"font-mono font-bold text-blue-700 dark:text-blue-300",children:p})]}),x.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-2 py-2",children:""}),x.jsx("p",{className:"text-gray-500 mb-12",children:"Add rungs to the ladder and select your starting lane!"}),x.jsx(QP,{sessionId:i.id,restaurants:y,currentUser:Nn.currentUser,sessionData:i,onFinish:async N=>{console.log("Amidakuji Finished locally. Result:",N);const F=la(ua,"sessions",i.id);await qh(F,{amidakujiResults:{[Nn.currentUser.uid]:N.id}},{merge:!0}),u("waiting_result")}})]}),o==="waiting_result"&&x.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white mt-12",children:[x.jsxs("div",{className:"mb-8 p-4 bg-red-50 dark:bg-red-900/20 rounded-2xl border border-red-100 dark:border-red-800",children:[x.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wider mb-1",children:"Final Countdown"}),x.jsx("p",{className:"text-5xl font-mono font-black text-red-600 dark:text-red-400 animate-pulse",children:p||"00:00"})]}),x.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-yellow-100 dark:bg-yellow-900/30 rounded-full text-yellow-600",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),x.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Fate Decided!"}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Waiting for the timer to end for the Grand Reveal..."})]}),o==="finished"&&i?.finalChoice&&x.jsxs("div",{className:"max-w-2xl mx-auto p-12 bg-white dark:bg-gray-800 rounded-[3rem] shadow-2xl text-center border-4 border-yellow-400",children:[x.jsx("div",{className:"mb-8",children:x.jsx("span",{className:"px-6 py-2 bg-yellow-400 text-yellow-900 text-sm font-black rounded-full uppercase tracking-tighter",children:"Winner Winner Dinner!"})}),x.jsx("h1",{className:"text-6xl font-black text-gray-900 dark:text-white mb-4",children:i.finalChoice.name}),x.jsx("p",{className:"text-xl text-gray-500 dark:text-gray-400 mb-8",children:i.finalChoice.address}),x.jsx("div",{className:"grid grid-cols-3 gap-2 mb-8",children:i.finalChoice.images&&i.finalChoice.images.length>0?i.finalChoice.images.slice(0,3).map((N,F)=>x.jsx("div",{className:"aspect-square rounded-xl overflow-hidden shadow-md",children:x.jsx("img",{src:N,alt:"Food",className:"w-full h-full object-cover hover:scale-110 transition-transform duration-500"})},F)):[1,2,3].map(N=>x.jsx("div",{className:"aspect-square rounded-xl bg-gray-200 dark:bg-gray-700 animate-pulse"},N))}),x.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-8 rounded-3xl mb-10 flex flex-col gap-3",children:x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Date"}),x.jsx("span",{className:"font-bold dark:text-gray-300",children:i.startDate})]})}),x.jsxs("div",{className:"mb-10 text-left",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Popularity Ranking (Phase 3 Votes)"}),x.jsx("div",{className:"space-y-2",children:i.finalRanking&&i.finalRanking.map((N,F)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:`w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold ${F===0?"bg-yellow-400 text-yellow-900":"bg-gray-200 text-gray-600"}`,children:F+1}),x.jsx("span",{className:"font-medium dark:text-white",children:N.name||"Unknown"})]}),x.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[N.votes," votes"]})]},N.id))})]}),x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsxs("button",{onClick:()=>{const F=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${i.finalChoice.name} ${i.finalChoice.address}`)}`;window.open(F,"_blank")},className:"w-full py-5 bg-gradient-to-r from-red-500 to-pink-500 text-white font-black rounded-2xl shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all flex items-center justify-center gap-3",children:[x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"})}),"View on Google Maps"]}),x.jsxs("button",{onClick:()=>{const N=encodeURIComponent(`Gathering: ${i.name}`),F=`${i.finalChoice.name} ${i.finalChoice.address}`,$=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(F)}`,q=encodeURIComponent(`Restaurant: ${i.finalChoice.name}
Address: ${i.finalChoice.address}
Map: ${$}`),at=i.startDate.replace(/-/g,""),it=new Date(i.startDate);it.setDate(it.getDate()+1);const ct=it.toISOString().split("T")[0].replace(/-/g,""),C=`https://www.google.com/calendar/render?action=TEMPLATE&text=${N}&details=${q}&location=${encodeURIComponent(i.finalChoice.address)}&dates=${at}/${ct}`;window.open(C,"_blank")},className:"w-full py-5 bg-blue-600 text-white font-black rounded-2xl shadow-xl hover:bg-blue-700 hover:scale-[1.02] transition-all flex items-center justify-center gap-3",children:[x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM7 11h5v5H7z"})}),"Add to Google Calendar"]}),x.jsx("button",{onClick:()=>u("home"),className:"py-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-sm font-medium",children:"Start New Gathering"})]})]})]})}$C.createRoot(document.getElementById("root")).render(x.jsx(rt.StrictMode,{children:x.jsx($P,{})}));
