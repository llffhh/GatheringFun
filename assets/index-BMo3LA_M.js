(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var Gm={exports:{}},Wl={};var sT;function HC(){if(sT)return Wl;sT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=t,Wl.jsx=e,Wl.jsxs=e,Wl}var rT;function qC(){return rT||(rT=1,Gm.exports=HC()),Gm.exports}var L=qC(),Km={exports:{}},At={};var aT;function GC(){if(aT)return At;aT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,z={};function Q(O,tt,at){this.props=O,this.context=tt,this.refs=z,this.updater=at||P}Q.prototype.isReactComponent={},Q.prototype.setState=function(O,tt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,tt,"setState")},Q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function J(){}J.prototype=Q.prototype;function Y(O,tt,at){this.props=O,this.context=tt,this.refs=z,this.updater=at||P}var lt=Y.prototype=new J;lt.constructor=Y,k(lt,Q.prototype),lt.isPureReactComponent=!0;var ot=Array.isArray;function mt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(O,tt,at){var ct=at.ref;return{$$typeof:i,type:O,key:tt,ref:ct!==void 0?ct:null,props:at}}function N(O,tt){return x(O.type,tt,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function j(O){var tt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(at){return tt[at]})}var I=/\/+/g;function te(O,tt){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):tt.toString(36)}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(mt,mt):(O.status="pending",O.then(function(tt){O.status==="pending"&&(O.status="fulfilled",O.value=tt)},function(tt){O.status==="pending"&&(O.status="rejected",O.reason=tt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function $(O,tt,at,ct,bt){var It=typeof O;(It==="undefined"||It==="boolean")&&(O=null);var zt=!1;if(O===null)zt=!0;else switch(It){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(O.$$typeof){case i:case t:zt=!0;break;case v:return zt=O._init,$(zt(O._payload),tt,at,ct,bt)}}if(zt)return bt=bt(O),zt=ct===""?"."+te(O,0):ct,ot(bt)?(at="",zt!=null&&(at=zt.replace(I,"$&/")+"/"),$(bt,tt,at,"",function(Ir){return Ir})):bt!=null&&(V(bt)&&(bt=N(bt,at+(bt.key==null||O&&O.key===bt.key?"":(""+bt.key).replace(I,"$&/")+"/")+zt)),tt.push(bt)),1;zt=0;var Oe=ct===""?".":ct+":";if(ot(O))for(var oe=0;oe<O.length;oe++)ct=O[oe],It=Oe+te(ct,oe),zt+=$(ct,tt,at,It,bt);else if(oe=R(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(ct=O.next()).done;)ct=ct.value,It=Oe+te(ct,oe++),zt+=$(ct,tt,at,It,bt);else if(It==="object"){if(typeof O.then=="function")return $(fe(O),tt,at,ct,bt);throw tt=String(O),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function it(O,tt,at){if(O==null)return O;var ct=[],bt=0;return $(O,ct,"","",function(It){return tt.call(at,It,bt++)}),ct}function ft(O){if(O._status===-1){var tt=O._result;tt=tt(),tt.then(function(at){(O._status===0||O._status===-1)&&(O._status=1,O._result=at)},function(at){(O._status===0||O._status===-1)&&(O._status=2,O._result=at)}),O._status===-1&&(O._status=0,O._result=tt)}if(O._status===1)return O._result.default;throw O._result}var xt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Nt={map:it,forEach:function(O,tt,at){it(O,function(){tt.apply(this,arguments)},at)},count:function(O){var tt=0;return it(O,function(){tt++}),tt},toArray:function(O){return it(O,function(tt){return tt})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=T,At.Children=Nt,At.Component=Q,At.Fragment=e,At.Profiler=o,At.PureComponent=Y,At.StrictMode=r,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,tt,at){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ct=k({},O.props),bt=O.key;if(tt!=null)for(It in tt.key!==void 0&&(bt=""+tt.key),tt)!w.call(tt,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&tt.ref===void 0||(ct[It]=tt[It]);var It=arguments.length-2;if(It===1)ct.children=at;else if(1<It){for(var zt=Array(It),Oe=0;Oe<It;Oe++)zt[Oe]=arguments[Oe+2];ct.children=zt}return x(O.type,bt,ct)},At.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},At.createElement=function(O,tt,at){var ct,bt={},It=null;if(tt!=null)for(ct in tt.key!==void 0&&(It=""+tt.key),tt)w.call(tt,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(bt[ct]=tt[ct]);var zt=arguments.length-2;if(zt===1)bt.children=at;else if(1<zt){for(var Oe=Array(zt),oe=0;oe<zt;oe++)Oe[oe]=arguments[oe+2];bt.children=Oe}if(O&&O.defaultProps)for(ct in zt=O.defaultProps,zt)bt[ct]===void 0&&(bt[ct]=zt[ct]);return x(O,It,bt)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:m,render:O}},At.isValidElement=V,At.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ft}},At.memo=function(O,tt){return{$$typeof:g,type:O,compare:tt===void 0?null:tt}},At.startTransition=function(O){var tt=C.T,at={};C.T=at;try{var ct=O(),bt=C.S;bt!==null&&bt(at,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(mt,xt)}catch(It){xt(It)}finally{tt!==null&&at.types!==null&&(tt.types=at.types),C.T=tt}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(O){return C.H.use(O)},At.useActionState=function(O,tt,at){return C.H.useActionState(O,tt,at)},At.useCallback=function(O,tt){return C.H.useCallback(O,tt)},At.useContext=function(O){return C.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,tt){return C.H.useDeferredValue(O,tt)},At.useEffect=function(O,tt){return C.H.useEffect(O,tt)},At.useEffectEvent=function(O){return C.H.useEffectEvent(O)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(O,tt,at){return C.H.useImperativeHandle(O,tt,at)},At.useInsertionEffect=function(O,tt){return C.H.useInsertionEffect(O,tt)},At.useLayoutEffect=function(O,tt){return C.H.useLayoutEffect(O,tt)},At.useMemo=function(O,tt){return C.H.useMemo(O,tt)},At.useOptimistic=function(O,tt){return C.H.useOptimistic(O,tt)},At.useReducer=function(O,tt,at){return C.H.useReducer(O,tt,at)},At.useRef=function(O){return C.H.useRef(O)},At.useState=function(O){return C.H.useState(O)},At.useSyncExternalStore=function(O,tt,at){return C.H.useSyncExternalStore(O,tt,at)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.0",At}var oT;function _g(){return oT||(oT=1,Km.exports=GC()),Km.exports}var st=_g(),Ym={exports:{}},Jl={},Qm={exports:{}},Xm={};var lT;function KC(){return lT||(lT=1,(function(i){function t($,it){var ft=$.length;$.push(it);t:for(;0<ft;){var xt=ft-1>>>1,Nt=$[xt];if(0<o(Nt,it))$[xt]=it,$[ft]=Nt,ft=xt;else break t}}function e($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var it=$[0],ft=$.pop();if(ft!==it){$[0]=ft;t:for(var xt=0,Nt=$.length,O=Nt>>>1;xt<O;){var tt=2*(xt+1)-1,at=$[tt],ct=tt+1,bt=$[ct];if(0>o(at,ft))ct<Nt&&0>o(bt,at)?($[xt]=bt,$[ct]=ft,xt=ct):($[xt]=at,$[tt]=ft,xt=tt);else if(ct<Nt&&0>o(bt,ft))$[xt]=bt,$[ct]=ft,xt=ct;else break t}}return it}function o($,it){var ft=$.sortIndex-it.sortIndex;return ft!==0?ft:$.id-it.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,T=null,b=3,R=!1,P=!1,k=!1,z=!1,Q=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function lt($){for(var it=e(g);it!==null;){if(it.callback===null)r(g);else if(it.startTime<=$)r(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=e(g)}}function ot($){if(k=!1,lt($),!P)if(e(p)!==null)P=!0,mt||(mt=!0,j());else{var it=e(g);it!==null&&fe(ot,it.startTime-$)}}var mt=!1,C=-1,w=5,x=-1;function N(){return z?!0:!(i.unstable_now()-x<w)}function V(){if(z=!1,mt){var $=i.unstable_now();x=$;var it=!0;try{t:{P=!1,k&&(k=!1,J(C),C=-1),R=!0;var ft=b;try{e:{for(lt($),T=e(p);T!==null&&!(T.expirationTime>$&&N());){var xt=T.callback;if(typeof xt=="function"){T.callback=null,b=T.priorityLevel;var Nt=xt(T.expirationTime<=$);if($=i.unstable_now(),typeof Nt=="function"){T.callback=Nt,lt($),it=!0;break e}T===e(p)&&r(p),lt($)}else r(p);T=e(p)}if(T!==null)it=!0;else{var O=e(g);O!==null&&fe(ot,O.startTime-$),it=!1}}break t}finally{T=null,b=ft,R=!1}it=void 0}}finally{it?j():mt=!1}}}var j;if(typeof Y=="function")j=function(){Y(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,te=I.port2;I.port1.onmessage=V,j=function(){te.postMessage(null)}}else j=function(){Q(V,0)};function fe($,it){C=Q(function(){$(i.unstable_now())},it)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function($){switch(b){case 1:case 2:case 3:var it=3;break;default:it=b}var ft=b;b=it;try{return $()}finally{b=ft}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function($,it){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ft=b;b=$;try{return it()}finally{b=ft}},i.unstable_scheduleCallback=function($,it,ft){var xt=i.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?xt+ft:xt):ft=xt,$){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ft+Nt,$={id:v++,callback:it,priorityLevel:$,startTime:ft,expirationTime:Nt,sortIndex:-1},ft>xt?($.sortIndex=ft,t(g,$),e(p)===null&&$===e(g)&&(k?(J(C),C=-1):k=!0,fe(ot,ft-xt))):($.sortIndex=Nt,t(p,$),P||R||(P=!0,mt||(mt=!0,j()))),$},i.unstable_shouldYield=N,i.unstable_wrapCallback=function($){var it=b;return function(){var ft=b;b=it;try{return $.apply(this,arguments)}finally{b=ft}}}})(Xm)),Xm}var uT;function YC(){return uT||(uT=1,Qm.exports=KC()),Qm.exports}var $m={exports:{}},tn={};var cT;function QC(){if(cT)return tn;cT=1;var i=_g();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:R}):v==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},tn.requestFormReset=function(p){r.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var hT;function XC(){if(hT)return $m.exports;hT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),$m.exports=QC(),$m.exports}var fT;function $C(){if(fT)return Jl;fT=1;var i=YC(),t=_g(),e=XC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function te(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case Q:return"Profiler";case z:return"StrictMode";case ot:return"Suspense";case mt:return"SuspenseList";case x:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case P:return"Portal";case Y:return n.displayName||"Context";case J:return(n._context.displayName||"Context")+".Consumer";case lt:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:te(n.type)||"Memo";case w:s=n._payload,n=n._init;try{return te(n(s))}catch{}}return null}var fe=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},xt=[],Nt=-1;function O(n){return{current:n}}function tt(n){0>Nt||(n.current=xt[Nt],xt[Nt]=null,Nt--)}function at(n,s){Nt++,xt[Nt]=n.current,n.current=s}var ct=O(null),bt=O(null),It=O(null),zt=O(null);function Oe(n,s){switch(at(It,s),at(bt,n),at(ct,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?C_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=C_(s),n=x_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}tt(ct),at(ct,n)}function oe(){tt(ct),tt(bt),tt(It)}function Ir(n){n.memoizedState!==null&&at(zt,n);var s=ct.current,a=x_(s,n.type);s!==a&&(at(bt,n),at(ct,a))}function Ta(n){bt.current===n&&(tt(ct),tt(bt)),zt.current===n&&(tt(zt),Yl._currentValue=ft)}var Ea,ba;function fi(n){if(Ea===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ea=s&&s[1]||"",ba=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+n+ba}var Yo=!1;function Dr(n,s){if(!n||Yo)return"";Yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var q=K}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(K){q=K}n.call(Z.prototype)}}else{try{throw Error()}catch(K){q=K}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),H=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===H.length)for(l=D.length-1,f=H.length-1;1<=l&&0<=f&&D[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==H[f]){var X=`
`+D[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{Yo=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?fi(a):""}function Qo(n,s){switch(n.tag){case 26:case 27:case 5:return fi(n.type);case 16:return fi("Lazy");case 13:return n.child!==s&&s!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Dr(n.type,!1);case 11:return Dr(n.type.render,!1);case 1:return Dr(n.type,!0);case 31:return fi("Activity");default:return""}}function Xo(n){try{var s="",a=null;do s+=Qo(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Pe=i.unstable_scheduleCallback,bs=i.unstable_cancelCallback,Yf=i.unstable_shouldYield,Xu=i.unstable_requestPaint,on=i.unstable_now,Vr=i.unstable_getCurrentPriorityLevel,$o=i.unstable_ImmediatePriority,Wo=i.unstable_UserBlockingPriority,Ss=i.unstable_NormalPriority,Qf=i.unstable_LowPriority,$u=i.unstable_IdlePriority,Wu=i.log,Ju=i.unstable_setDisableYieldValue,Xn=null,qe=null;function Mn(n){if(typeof Wu=="function"&&Ju(n),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Xn,n)}catch{}}var ge=Math.clz32?Math.clz32:tc,Zu=Math.log,Sa=Math.LN2;function tc(n){return n>>>=0,n===0?32:31-(Zu(n)/Sa|0)|0}var di=256,Mr=262144,be=4194304;function mi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function pi(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=mi(l):(_&=S,_!==0?f=mi(_):a||(a=S&~n,a!==0&&(f=mi(a))))):(S=l&~d,S!==0?f=mi(S):_!==0?f=mi(_):a||(a=l&~n,a!==0&&(f=mi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function $n(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Xf(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var n=be;return be<<=1,(be&62914560)===0&&(be=4194304),n}function gi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Nr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $f(n,s,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,H=n.hiddenUpdates;for(a=_&~a;0<a;){var X=31-ge(a),Z=1<<X;S[X]=0,D[X]=-1;var q=H[X];if(q!==null)for(H[X]=null,X=0;X<q.length;X++){var K=q[X];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&Or(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~s))}function Or(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-ge(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Jo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-ge(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Zo(n,s){var a=s&-s;return a=(a&42)!==0?1:Pr(a),(a&(n.suspendedLanes|s))!==0?0:a}function Pr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ki(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function nc(){var n=it.p;return n!==0?n:(n=window.event,n===void 0?32:W_(n.type))}function Wn(n,s){var a=it.p;try{return it.p=n,s()}finally{it.p=a}}var Jn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Jn,ze="__reactProps$"+Jn,yi="__reactContainer$"+Jn,Aa="__reactEvents$"+Jn,Wf="__reactListeners$"+Jn,ic="__reactHandles$"+Jn,sc="__reactResources$"+Jn,vi="__reactMarker$"+Jn;function wa(n){delete n[Se],delete n[ze],delete n[Aa],delete n[Wf],delete n[ic]}function _i(n){var s=n[Se];if(s)return s;for(var a=n.parentNode;a;){if(s=a[yi]||a[Se]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=P_(n);n!==null;){if(a=n[Se])return a;n=P_(n)}return s}n=a,a=n.parentNode}return null}function Nn(n){if(n=n[Se]||n[yi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function bn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ti(n){var s=n[sc];return s||(s=n[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ae(n){n[vi]=!0}var tl=new Set,el={};function Ei(n,s){bi(n,s),bi(n+"Capture",s)}function bi(n,s){for(el[n]=s,n=0;n<s.length;n++)tl.add(s[n])}var nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},sl={};function rc(n){return Ee.call(sl,n)?!0:Ee.call(il,n)?!1:nl.test(n)?sl[n]=!0:(il[n]=!0,!1)}function Ra(n,s,a){if(rc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Sn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function we(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function Be(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function As(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Yt(n){if(!n._valueTracker){var s=As(n)?"checked":"value";n._valueTracker=rl(n,s,""+n[s])}}function kr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=As(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Si(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Lr=/[\n"\\]/g;function dn(n){return n.replace(Lr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ca(n,s,a,l,f,d,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Be(s)):n.value!==""+Be(s)&&(n.value=""+Be(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?al(n,_,Be(s)):a!=null?al(n,_,Be(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Be(S):n.removeAttribute("name")}function ac(n,s,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Yt(n);return}a=a!=null?""+Be(a):"",s=s!=null?""+Be(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Yt(n)}function al(n,s,a){s==="number"&&Si(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ws(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Be(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function oc(n,s,a){if(s!=null&&(s=""+Be(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Be(a):""}function Rs(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Be(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Yt(n)}function mn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||lc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function ll(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ol(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&ol(n,d,s[d])}function xa(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(n){return Cs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Zn(){}var ul=null;function On(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xs=null,Ai=null;function Ur(n){var s=Nn(n);if(s&&(n=s.stateNode)){var a=n[ze]||null;t:switch(n=s.stateNode,s.type){case"input":if(Ca(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[ze]||null;if(!f)throw Error(r(90));Ca(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&kr(l)}break t;case"textarea":oc(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&ws(n,!!a.multiple,s,!1)}}}var Da=!1;function Is(n,s,a){if(Da)return n(s,a);Da=!0;try{var l=n(s);return l}finally{if(Da=!1,(xs!==null||Ai!==null)&&(nh(),xs&&(s=xs,n=Ai,Ai=xs=null,Ur(s),n)))for(s=0;s<n.length;s++)Ur(n[s])}}function ti(n,s){var a=n.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(Pn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){jr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{jr=!1}var wi=null,cl=null,zr=null;function hl(){if(zr)return zr;var n,s=cl,a=s.length,l,f="value"in wi?wi.value:wi.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return zr=f.slice(n,1<l?1-l:void 0)}function Br(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Yi(){return!0}function ei(){return!1}function Ge(n){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yi:ei,this.isPropagationStopped=ei,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),s}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ge(Qi),Ds=T({},Qi,{view:0,detail:0}),fl=Ge(Ds),Vs,Va,Ci,Ma=T({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ci&&(Ci&&n.type==="mousemove"?(Vs=n.screenX-Ci.screenX,Va=n.screenY-Ci.screenY):Va=Vs=0,Ci=n),Vs)},movementY:function(n){return"movementY"in n?n.movementY:Va}}),dl=Ge(Ma),Fr=T({},Ma,{dataTransfer:0}),cc=Ge(Fr),hc=T({},Ds,{relatedTarget:0}),Hr=Ge(hc),ml=T({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=Ge(ml),Na=T({},Qi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dc=Ge(Na),mc=T({},Qi,{data:0}),xi=Ge(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yc[n])?!!s[n]:!1}function Ms(){return vc}var ln=T({},Ds,{key:function(n){if(n.key){var s=pc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Br(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(n){return n.type==="keypress"?Br(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Br(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_c=Ge(ln),Tc=T({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Ge(Tc),h=T({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),y=Ge(h),E=T({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ge(E),B=T({},Ma,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ge(B),rt=T({},Qi,{newState:0,oldState:0}),Rt=Ge(rt),ye=[9,13,27,32],qt=Pn&&"CompositionEvent"in window,le=null;Pn&&"documentMode"in document&&(le=document.documentMode);var kn=Pn&&"TextEvent"in window&&!le,Ii=Pn&&(!qt||le&&8<le&&11>=le),ni=" ",ii=!1;function qr(n,s){switch(n){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pa=!1;function dR(n,s){switch(n){case"compositionend":return Oa(s);case"keypress":return s.which!==32?null:(ii=!0,ni);case"textInput":return n=s.data,n===ni&&ii?null:n;default:return null}}function mR(n,s){if(Pa)return n==="compositionend"||!qt&&qr(n,s)?(n=hl(),zr=cl=wi=null,Pa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ii&&s.locale!=="ko"?null:s.data;default:return null}}var pR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!pR[n.type]:s==="textarea"}function jy(n,s,a,l){xs?Ai?Ai.push(l):Ai=[l]:xs=l,s=uh(s,"onChange"),0<s.length&&(a=new Ri("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var pl=null,gl=null;function gR(n){E_(n,0)}function Ec(n){var s=bn(n);if(kr(s))return n}function zy(n,s){if(n==="change")return s}var By=!1;if(Pn){var Jf;if(Pn){var Zf="oninput"in document;if(!Zf){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),Zf=typeof Fy.oninput=="function"}Jf=Zf}else Jf=!1;By=Jf&&(!document.documentMode||9<document.documentMode)}function Hy(){pl&&(pl.detachEvent("onpropertychange",qy),gl=pl=null)}function qy(n){if(n.propertyName==="value"&&Ec(gl)){var s=[];jy(s,gl,n,On(n)),Is(gR,s)}}function yR(n,s,a){n==="focusin"?(Hy(),pl=s,gl=a,pl.attachEvent("onpropertychange",qy)):n==="focusout"&&Hy()}function vR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ec(gl)}function _R(n,s){if(n==="click")return Ec(s)}function TR(n,s){if(n==="input"||n==="change")return Ec(s)}function ER(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var An=typeof Object.is=="function"?Object.is:ER;function yl(n,s){if(An(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ee.call(s,f)||!An(n[f],s[f]))return!1}return!0}function Gy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ky(n,s){var a=Gy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gy(a)}}function Yy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Yy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Qy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Si(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Si(n.document)}return s}function td(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var bR=Pn&&"documentMode"in document&&11>=document.documentMode,ka=null,ed=null,vl=null,nd=!1;function Xy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nd||ka==null||ka!==Si(l)||(l=ka,"selectionStart"in l&&td(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&yl(vl,l)||(vl=l,l=uh(ed,"onSelect"),0<l.length&&(s=new Ri("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=ka)))}function Gr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var La={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},id={},$y={};Pn&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Kr(n){if(id[n])return id[n];if(!La[n])return n;var s=La[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in $y)return id[n]=s[a];return n}var Wy=Kr("animationend"),Jy=Kr("animationiteration"),Zy=Kr("animationstart"),SR=Kr("transitionrun"),AR=Kr("transitionstart"),wR=Kr("transitioncancel"),tv=Kr("transitionend"),ev=new Map,sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sd.push("scrollEnd");function si(n,s){ev.set(n,s),Ei(s,[n])}var bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ln=[],Ua=0,rd=0;function Sc(){for(var n=Ua,s=rd=Ua=0;s<n;){var a=Ln[s];Ln[s++]=null;var l=Ln[s];Ln[s++]=null;var f=Ln[s];Ln[s++]=null;var d=Ln[s];if(Ln[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&nv(a,f,d)}}function Ac(n,s,a,l){Ln[Ua++]=n,Ln[Ua++]=s,Ln[Ua++]=a,Ln[Ua++]=l,rd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ad(n,s,a,l){return Ac(n,s,a,l),wc(n)}function Yr(n,s){return Ac(n,null,null,s),wc(n)}function nv(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-ge(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function wc(n){if(50<zl)throw zl=0,pm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ja={};function RR(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,s,a,l){return new RR(n,s,a,l)}function od(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $i(n,s){var a=n.alternate;return a===null?(a=wn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function iv(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Rc(n,s,a,l,f,d){var _=0;if(l=n,typeof n=="function")od(n)&&(_=1);else if(typeof n=="string")_=VC(n,a,ct.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case x:return n=wn(31,a,s,f),n.elementType=x,n.lanes=d,n;case k:return Qr(a.children,f,d,s);case z:_=8,f|=24;break;case Q:return n=wn(12,a,s,f|2),n.elementType=Q,n.lanes=d,n;case ot:return n=wn(13,a,s,f),n.elementType=ot,n.lanes=d,n;case mt:return n=wn(19,a,s,f),n.elementType=mt,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:_=10;break t;case J:_=9;break t;case lt:_=11;break t;case C:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=wn(_,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function Qr(n,s,a,l){return n=wn(7,n,l,s),n.lanes=a,n}function ld(n,s,a){return n=wn(6,n,null,s),n.lanes=a,n}function sv(n){var s=wn(18,null,null,0);return s.stateNode=n,s}function ud(n,s,a){return s=wn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var rv=new WeakMap;function Un(n,s){if(typeof n=="object"&&n!==null){var a=rv.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Xo(s)},rv.set(n,s),s)}return{value:n,source:s,stack:Xo(s)}}var za=[],Ba=0,Cc=null,_l=0,jn=[],zn=0,Ns=null,Di=1,Vi="";function Wi(n,s){za[Ba++]=_l,za[Ba++]=Cc,Cc=n,_l=s}function av(n,s,a){jn[zn++]=Di,jn[zn++]=Vi,jn[zn++]=Ns,Ns=n;var l=Di;n=Vi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var d=32-ge(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Di=1<<32-ge(s)+f|a<<f|l,Vi=d+n}else Di=1<<d|a<<f|l,Vi=n}function cd(n){n.return!==null&&(Wi(n,1),av(n,1,0))}function hd(n){for(;n===Cc;)Cc=za[--Ba],za[Ba]=null,_l=za[--Ba],za[Ba]=null;for(;n===Ns;)Ns=jn[--zn],jn[zn]=null,Vi=jn[--zn],jn[zn]=null,Di=jn[--zn],jn[zn]=null}function ov(n,s){jn[zn++]=Di,jn[zn++]=Vi,jn[zn++]=Ns,Di=s.id,Vi=s.overflow,Ns=n}var Ke=null,ne=null,jt=!1,Os=null,Bn=!1,fd=Error(r(519));function Ps(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(Un(s,n)),fd}function lv(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Se]=n,s[ze]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Mt(Fl[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Rs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||w_(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=Zn),s=!0):s=!1,s||Ps(n,!0)}function uv(n){for(Ke=n.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ke=Ke.return}}function Fa(n){if(n!==Ke)return!1;if(!jt)return uv(n),jt=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Dm(n.type,n.memoizedProps)),a=!a),a&&ne&&Ps(n),uv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ne=O_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ne=O_(n)}else s===27?(s=ne,Xs(n.type)?(n=Pm,Pm=null,ne=n):ne=s):ne=Ke?Hn(n.stateNode.nextSibling):null;return!0}function Xr(){ne=Ke=null,jt=!1}function dd(){var n=Os;return n!==null&&(vn===null?vn=n:vn.push.apply(vn,n),Os=null),n}function Tl(n){Os===null?Os=[n]:Os.push(n)}var md=O(null),$r=null,Ji=null;function ks(n,s,a){at(md,s._currentValue),s._currentValue=a}function Zi(n){n._currentValue=md.current,tt(md)}function pd(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function gd(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var D=0;D<s.length;D++)if(S.context===s[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),pd(d.return,a,n),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),pd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ha(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;An(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===zt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Yl):n=[Yl])}f=f.return}n!==null&&gd(s,n,a,l),s.flags|=262144}function xc(n){for(n=n.firstContext;n!==null;){if(!An(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Wr(n){$r=n,Ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ye(n){return cv($r,n)}function Ic(n,s){return $r===null&&Wr(n),cv(n,s)}function cv(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ji===null){if(n===null)throw Error(r(308));Ji=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Ji=Ji.next=s;return a}var CR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},xR=i.unstable_scheduleCallback,IR=i.unstable_NormalPriority,Re={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yd(){return{controller:new CR,data:new Map,refCount:0}}function El(n){n.refCount--,n.refCount===0&&xR(IR,function(){n.controller.abort()})}var bl=null,vd=0,qa=0,Ga=null;function DR(n,s){if(bl===null){var a=bl=[];vd=0,qa=Em(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vd++,s.then(hv,hv),s}function hv(){if(--vd===0&&bl!==null){Ga!==null&&(Ga.status="fulfilled");var n=bl;bl=null,qa=0,Ga=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function VR(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var fv=$.S;$.S=function(n,s){X0=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&DR(n,s),fv!==null&&fv(n,s)};var Jr=O(null);function _d(){var n=Jr.current;return n!==null?n:ee.pooledCache}function Dc(n,s){s===null?at(Jr,Jr.current):at(Jr,s.pool)}function dv(){var n=_d();return n===null?null:{parent:Re._currentValue,pool:n}}var Ka=Error(r(460)),Td=Error(r(474)),Vc=Error(r(542)),Mc={then:function(){}};function mv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Zn,Zn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,yv(n),n;default:if(typeof s.status=="string")s.then(Zn,Zn);else{if(n=ee,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,yv(n),n}throw ta=s,Ka}}function Zr(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Ka):a}}var ta=null;function gv(){if(ta===null)throw Error(r(459));var n=ta;return ta=null,n}function yv(n){if(n===Ka||n===Vc)throw Error(r(483))}var Ya=null,Sl=0;function Nc(n){var s=Sl;return Sl+=1,Ya===null&&(Ya=[]),pv(Ya,n,s)}function Al(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Oc(n,s){throw s.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function vv(n){function s(U,M){if(n){var F=U.deletions;F===null?(U.deletions=[M],U.flags|=16):F.push(M)}}function a(U,M){if(!n)return null;for(;M!==null;)s(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=$i(U,M),U.index=0,U.sibling=null,U}function d(U,M,F){return U.index=F,n?(F=U.alternate,F!==null?(F=F.index,F<M?(U.flags|=67108866,M):F):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function S(U,M,F,W){return M===null||M.tag!==6?(M=ld(F,U.mode,W),M.return=U,M):(M=f(M,F),M.return=U,M)}function D(U,M,F,W){var yt=F.type;return yt===k?X(U,M,F.props.children,W,F.key):M!==null&&(M.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&Zr(yt)===M.type)?(M=f(M,F.props),Al(M,F),M.return=U,M):(M=Rc(F.type,F.key,F.props,null,U.mode,W),Al(M,F),M.return=U,M)}function H(U,M,F,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==F.containerInfo||M.stateNode.implementation!==F.implementation?(M=ud(F,U.mode,W),M.return=U,M):(M=f(M,F.children||[]),M.return=U,M)}function X(U,M,F,W,yt){return M===null||M.tag!==7?(M=Qr(F,U.mode,W,yt),M.return=U,M):(M=f(M,F),M.return=U,M)}function Z(U,M,F){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ld(""+M,U.mode,F),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return F=Rc(M.type,M.key,M.props,null,U.mode,F),Al(F,M),F.return=U,F;case P:return M=ud(M,U.mode,F),M.return=U,M;case w:return M=Zr(M),Z(U,M,F)}if(fe(M)||j(M))return M=Qr(M,U.mode,F,null),M.return=U,M;if(typeof M.then=="function")return Z(U,Nc(M),F);if(M.$$typeof===Y)return Z(U,Ic(U,M),F);Oc(U,M)}return null}function q(U,M,F,W){var yt=M!==null?M.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return yt!==null?null:S(U,M,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return F.key===yt?D(U,M,F,W):null;case P:return F.key===yt?H(U,M,F,W):null;case w:return F=Zr(F),q(U,M,F,W)}if(fe(F)||j(F))return yt!==null?null:X(U,M,F,W,null);if(typeof F.then=="function")return q(U,M,Nc(F),W);if(F.$$typeof===Y)return q(U,M,Ic(U,F),W);Oc(U,F)}return null}function K(U,M,F,W,yt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(F)||null,S(M,U,""+W,yt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return U=U.get(W.key===null?F:W.key)||null,D(M,U,W,yt);case P:return U=U.get(W.key===null?F:W.key)||null,H(M,U,W,yt);case w:return W=Zr(W),K(U,M,F,W,yt)}if(fe(W)||j(W))return U=U.get(F)||null,X(M,U,W,yt,null);if(typeof W.then=="function")return K(U,M,F,Nc(W),yt);if(W.$$typeof===Y)return K(U,M,F,Ic(M,W),yt);Oc(M,W)}return null}function dt(U,M,F,W){for(var yt=null,Ft=null,pt=M,Dt=M=0,Pt=null;pt!==null&&Dt<F.length;Dt++){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var Ht=q(U,pt,F[Dt],W);if(Ht===null){pt===null&&(pt=Pt);break}n&&pt&&Ht.alternate===null&&s(U,pt),M=d(Ht,M,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht,pt=Pt}if(Dt===F.length)return a(U,pt),jt&&Wi(U,Dt),yt;if(pt===null){for(;Dt<F.length;Dt++)pt=Z(U,F[Dt],W),pt!==null&&(M=d(pt,M,Dt),Ft===null?yt=pt:Ft.sibling=pt,Ft=pt);return jt&&Wi(U,Dt),yt}for(pt=l(pt);Dt<F.length;Dt++)Pt=K(pt,U,Dt,F[Dt],W),Pt!==null&&(n&&Pt.alternate!==null&&pt.delete(Pt.key===null?Dt:Pt.key),M=d(Pt,M,Dt),Ft===null?yt=Pt:Ft.sibling=Pt,Ft=Pt);return n&&pt.forEach(function(tr){return s(U,tr)}),jt&&Wi(U,Dt),yt}function _t(U,M,F,W){if(F==null)throw Error(r(151));for(var yt=null,Ft=null,pt=M,Dt=M=0,Pt=null,Ht=F.next();pt!==null&&!Ht.done;Dt++,Ht=F.next()){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var tr=q(U,pt,Ht.value,W);if(tr===null){pt===null&&(pt=Pt);break}n&&pt&&tr.alternate===null&&s(U,pt),M=d(tr,M,Dt),Ft===null?yt=tr:Ft.sibling=tr,Ft=tr,pt=Pt}if(Ht.done)return a(U,pt),jt&&Wi(U,Dt),yt;if(pt===null){for(;!Ht.done;Dt++,Ht=F.next())Ht=Z(U,Ht.value,W),Ht!==null&&(M=d(Ht,M,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return jt&&Wi(U,Dt),yt}for(pt=l(pt);!Ht.done;Dt++,Ht=F.next())Ht=K(pt,U,Dt,Ht.value,W),Ht!==null&&(n&&Ht.alternate!==null&&pt.delete(Ht.key===null?Dt:Ht.key),M=d(Ht,M,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return n&&pt.forEach(function(FC){return s(U,FC)}),jt&&Wi(U,Dt),yt}function Zt(U,M,F,W){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case R:t:{for(var yt=F.key;M!==null;){if(M.key===yt){if(yt=F.type,yt===k){if(M.tag===7){a(U,M.sibling),W=f(M,F.props.children),W.return=U,U=W;break t}}else if(M.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&Zr(yt)===M.type){a(U,M.sibling),W=f(M,F.props),Al(W,F),W.return=U,U=W;break t}a(U,M);break}else s(U,M);M=M.sibling}F.type===k?(W=Qr(F.props.children,U.mode,W,F.key),W.return=U,U=W):(W=Rc(F.type,F.key,F.props,null,U.mode,W),Al(W,F),W.return=U,U=W)}return _(U);case P:t:{for(yt=F.key;M!==null;){if(M.key===yt)if(M.tag===4&&M.stateNode.containerInfo===F.containerInfo&&M.stateNode.implementation===F.implementation){a(U,M.sibling),W=f(M,F.children||[]),W.return=U,U=W;break t}else{a(U,M);break}else s(U,M);M=M.sibling}W=ud(F,U.mode,W),W.return=U,U=W}return _(U);case w:return F=Zr(F),Zt(U,M,F,W)}if(fe(F))return dt(U,M,F,W);if(j(F)){if(yt=j(F),typeof yt!="function")throw Error(r(150));return F=yt.call(F),_t(U,M,F,W)}if(typeof F.then=="function")return Zt(U,M,Nc(F),W);if(F.$$typeof===Y)return Zt(U,M,Ic(U,F),W);Oc(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,M!==null&&M.tag===6?(a(U,M.sibling),W=f(M,F),W.return=U,U=W):(a(U,M),W=ld(F,U.mode,W),W.return=U,U=W),_(U)):a(U,M)}return function(U,M,F,W){try{Sl=0;var yt=Zt(U,M,F,W);return Ya=null,yt}catch(pt){if(pt===Ka||pt===Vc)throw pt;var Ft=wn(29,pt,null,U.mode);return Ft.lanes=W,Ft.return=U,Ft}finally{}}}var ea=vv(!0),_v=vv(!1),Ls=!1;function Ed(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Us(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function js(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=wc(n),nv(n,null,a),s}return Ac(n,l,s,a),wc(n)}function wl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Jo(n,a)}}function Sd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Ad=!1;function Rl(){if(Ad){var n=Ga;if(n!==null)throw n}}function Cl(n,s,a,l){Ad=!1;var f=n.updateQueue;Ls=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,H=D.next;D.next=null,_===null?d=H:_.next=H,_=D;var X=n.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=D))}if(d!==null){var Z=f.baseState;_=0,X=H=D=null,S=d;do{var q=S.lane&-536870913,K=q!==S.lane;if(K?(Ot&q)===q:(l&q)===q){q!==0&&q===qa&&(Ad=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=n,_t=S;q=s;var Zt=a;switch(_t.tag){case 1:if(dt=_t.payload,typeof dt=="function"){Z=dt.call(Zt,Z,q);break t}Z=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=_t.payload,q=typeof dt=="function"?dt.call(Zt,Z,q):dt,q==null)break t;Z=T({},Z,q);break t;case 2:Ls=!0}}q=S.callback,q!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[q]:K.push(q))}else K={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=K,D=Z):X=X.next=K,_|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);X===null&&(D=Z),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),qs|=_,n.lanes=_,n.memoizedState=Z}}function Tv(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Ev(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Tv(a[n],s)}var Qa=O(null),Pc=O(0);function bv(n,s){n=ls,at(Pc,n),at(Qa,s),ls=n|s.baseLanes}function wd(){at(Pc,ls),at(Qa,Qa.current)}function Rd(){ls=Pc.current,tt(Qa),tt(Pc)}var Rn=O(null),Fn=null;function zs(n){var s=n.alternate;at(ve,ve.current&1),at(Rn,n),Fn===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(Fn=n)}function Cd(n){at(ve,ve.current),at(Rn,n),Fn===null&&(Fn=n)}function Sv(n){n.tag===22?(at(ve,ve.current),at(Rn,n),Fn===null&&(Fn=n)):Bs()}function Bs(){at(ve,ve.current),at(Rn,Rn.current)}function Cn(n){tt(Rn),Fn===n&&(Fn=null),tt(ve)}var ve=O(0);function kc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nm(a)||Om(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ts=0,Ct=null,Wt=null,Ce=null,Lc=!1,Xa=!1,na=!1,Uc=0,xl=0,$a=null,MR=0;function de(){throw Error(r(321))}function xd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!An(n[a],s[a]))return!1;return!0}function Id(n,s,a,l,f,d){return ts=d,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=n===null||n.memoizedState===null?a0:qd,na=!1,d=a(l,f),na=!1,Xa&&(d=wv(s,a,l,f)),Av(n),d}function Av(n){$.H=Vl;var s=Wt!==null&&Wt.next!==null;if(ts=0,Ce=Wt=Ct=null,Lc=!1,xl=0,$a=null,s)throw Error(r(300));n===null||xe||(n=n.dependencies,n!==null&&xc(n)&&(xe=!0))}function wv(n,s,a,l){Ct=n;var f=0;do{if(Xa&&($a=null),xl=0,Xa=!1,25<=f)throw Error(r(301));if(f+=1,Ce=Wt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=o0,d=s(a,l)}while(Xa);return d}function NR(){var n=$.H,s=n.useState()[0];return s=typeof s.then=="function"?Il(s):s,n=n.useState()[0],(Wt!==null?Wt.memoizedState:null)!==n&&(Ct.flags|=1024),s}function Dd(){var n=Uc!==0;return Uc=0,n}function Vd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Md(n){if(Lc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lc=!1}ts=0,Ce=Wt=Ct=null,Xa=!1,xl=Uc=0,$a=null}function un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Ct.memoizedState=Ce=n:Ce=Ce.next=n,Ce}function _e(){if(Wt===null){var n=Ct.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var s=Ce===null?Ct.memoizedState:Ce.next;if(s!==null)Ce=s,Wt=n;else{if(n===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ce===null?Ct.memoizedState=Ce=n:Ce=Ce.next=n}return Ce}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(n){var s=xl;return xl+=1,$a===null&&($a=[]),n=pv($a,n,s),s=Ct,(Ce===null?s.memoizedState:Ce.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?a0:qd),n}function zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Il(n);if(n.$$typeof===Y)return Ye(n)}throw Error(r(438,String(n)))}function Nd(n){var s=null,a=Ct.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=jc(),Ct.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=N;return s.index++,a}function es(n,s){return typeof s=="function"?s(n):s}function Bc(n){var s=_e();return Od(s,Wt,n)}function Od(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var S=_=null,D=null,H=s,X=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(Ot&Z)===Z:(ts&Z)===Z){var q=H.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===qa&&(X=!0);else if((ts&q)===q){H=H.next,q===qa&&(X=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(S=D=Z,_=d):D=D.next=Z,Ct.lanes|=q,qs|=q;Z=H.action,na&&a(d,Z),d=H.hasEagerState?H.eagerState:a(d,Z)}else q={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(S=D=q,_=d):D=D.next=q,Ct.lanes|=Z,qs|=Z;H=H.next}while(H!==null&&H!==s);if(D===null?_=d:D.next=S,!An(d,n.memoizedState)&&(xe=!0,X&&(a=Ga,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Pd(n){var s=_e(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);An(d,s.memoizedState)||(xe=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Rv(n,s,a){var l=Ct,f=_e(),d=jt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!An((Wt||f).memoizedState,a);if(_&&(f.memoizedState=a,xe=!0),f=f.queue,Ud(Iv.bind(null,l,f,n),[n]),f.getSnapshot!==s||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},xv.bind(null,l,f,a,s),null),ee===null)throw Error(r(349));d||(ts&127)!==0||Cv(l,s,a)}return a}function Cv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ct.updateQueue,s===null?(s=jc(),Ct.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function xv(n,s,a,l){s.value=a,s.getSnapshot=l,Dv(s)&&Vv(n)}function Iv(n,s,a){return a(function(){Dv(s)&&Vv(n)})}function Dv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!An(n,a)}catch{return!0}}function Vv(n){var s=Yr(n,2);s!==null&&_n(s,n,2)}function kd(n){var s=un();if(typeof n=="function"){var a=n;if(n=a(),na){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:n},s}function Mv(n,s,a,l){return n.baseState=a,Od(n,Wt,typeof l=="function"?l:es)}function OR(n,s,a,l,f){if(qc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Nv(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Nv(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=$.T,_={};$.T=_;try{var S=a(f,l),D=$.S;D!==null&&D(_,S),Ov(n,s,S)}catch(H){Ld(n,s,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),Ov(n,s,d)}catch(H){Ld(n,s,H)}}function Ov(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pv(n,s,l)},function(l){return Ld(n,s,l)}):Pv(n,s,a)}function Pv(n,s,a){s.status="fulfilled",s.value=a,kv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Nv(n,a)))}function Ld(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,kv(s),s=s.next;while(s!==l)}n.action=null}function kv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Lv(n,s){return s}function Uv(n,s){if(jt){var a=ee.formState;if(a!==null){t:{var l=Ct;if(jt){if(ne){e:{for(var f=ne,d=Bn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Hn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ne=Hn(f.nextSibling),l=f.data==="F!";break t}}Ps(l)}l=!1}l&&(s=a[0])}}return a=un(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lv,lastRenderedState:s},a.queue=l,a=i0.bind(null,Ct,l),l.dispatch=a,l=kd(!1),d=Hd.bind(null,Ct,!1,l.queue),l=un(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=OR.bind(null,Ct,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function jv(n){var s=_e();return zv(s,Wt,n)}function zv(n,s,a){if(s=Od(n,s,Lv)[0],n=Bc(es)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Il(s)}catch(_){throw _===Ka?Vc:_}else l=s;s=_e();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Ct.flags|=2048,Wa(9,{destroy:void 0},PR.bind(null,f,a),null)),[l,d,n]}function PR(n,s){n.action=s}function Bv(n){var s=_e(),a=Wt;if(a!==null)return zv(s,a,n);_e(),s=s.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Wa(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=jc(),Ct.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Fv(){return _e().memoizedState}function Fc(n,s,a,l){var f=un();Ct.flags|=n,f.memoizedState=Wa(1|s,{destroy:void 0},a,l===void 0?null:l)}function Hc(n,s,a,l){var f=_e();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&xd(l,Wt.memoizedState.deps)?f.memoizedState=Wa(s,d,a,l):(Ct.flags|=n,f.memoizedState=Wa(1|s,d,a,l))}function Hv(n,s){Fc(8390656,8,n,s)}function Ud(n,s){Hc(2048,8,n,s)}function kR(n){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=jc(),Ct.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function qv(n){var s=_e().memoizedState;return kR({ref:s,nextImpl:n}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Gv(n,s){return Hc(4,2,n,s)}function Kv(n,s){return Hc(4,4,n,s)}function Yv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Qv(n,s,a){a=a!=null?a.concat([n]):null,Hc(4,4,Yv.bind(null,s,n),a)}function jd(){}function Xv(n,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&xd(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function $v(n,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&xd(s,l[1]))return l[0];if(l=n(),na){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,s],l}function zd(n,s,a){return a===void 0||(ts&1073741824)!==0&&(Ot&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=W0(),Ct.lanes|=n,qs|=n,a)}function Wv(n,s,a,l){return An(a,s)?a:Qa.current!==null?(n=zd(n,a,l),An(n,s)||(xe=!0),n):(ts&42)===0||(ts&1073741824)!==0&&(Ot&261930)===0?(xe=!0,n.memoizedState=a):(n=W0(),Ct.lanes|=n,qs|=n,s)}function Jv(n,s,a,l,f){var d=it.p;it.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,Hd(n,!1,s,a);try{var D=f(),H=$.S;if(H!==null&&H(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=VR(D,l);Dl(n,s,X,Dn(n))}else Dl(n,s,l,Dn(n))}catch(Z){Dl(n,s,{then:function(){},status:"rejected",reason:Z},Dn())}finally{it.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function LR(){}function Bd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=Zv(n).queue;Jv(n,f,s,ft,a===null?LR:function(){return t0(n),a(l)})}function Zv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function t0(n){var s=Zv(n);s.next===null&&(s=n.alternate.memoizedState),Dl(n,s.next.queue,{},Dn())}function Fd(){return Ye(Yl)}function e0(){return _e().memoizedState}function n0(){return _e().memoizedState}function UR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Dn();n=Us(a);var l=js(s,n,a);l!==null&&(_n(l,s,a),wl(l,s,a)),s={cache:yd()},n.payload=s;return}s=s.return}}function jR(n,s,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(n)?s0(s,a):(a=ad(n,s,a,l),a!==null&&(_n(a,n,l),r0(a,s,l)))}function i0(n,s,a){var l=Dn();Dl(n,s,a,l)}function Dl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(n))s0(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,An(S,_))return Ac(n,s,f,0),ee===null&&Sc(),!1}catch{}finally{}if(a=ad(n,s,f,l),a!==null)return _n(a,n,l),r0(a,s,l),!0}return!1}function Hd(n,s,a,l){if(l={lane:2,revertLane:Em(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(n)){if(s)throw Error(r(479))}else s=ad(n,a,l,2),s!==null&&_n(s,n,2)}function qc(n){var s=n.alternate;return n===Ct||s!==null&&s===Ct}function s0(n,s){Xa=Lc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function r0(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Jo(n,a)}}var Vl={readContext:Ye,use:zc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Vl.useEffectEvent=de;var a0={readContext:Ye,use:zc,useCallback:function(n,s){return un().memoizedState=[n,s===void 0?null:s],n},useContext:Ye,useEffect:Hv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Fc(4194308,4,Yv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Fc(4194308,4,n,s)},useInsertionEffect:function(n,s){Fc(4,2,n,s)},useMemo:function(n,s){var a=un();s=s===void 0?null:s;var l=n();if(na){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=un();if(a!==void 0){var f=a(s);if(na){Mn(!0);try{a(s)}finally{Mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=jR.bind(null,Ct,n),[l.memoizedState,n]},useRef:function(n){var s=un();return n={current:n},s.memoizedState=n},useState:function(n){n=kd(n);var s=n.queue,a=i0.bind(null,Ct,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:jd,useDeferredValue:function(n,s){var a=un();return zd(a,n,s)},useTransition:function(){var n=kd(!1);return n=Jv.bind(null,Ct,n.queue,!0,!1),un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ct,f=un();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ee===null)throw Error(r(349));(Ot&127)!==0||Cv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Hv(Iv.bind(null,l,d,n),[n]),l.flags|=2048,Wa(9,{destroy:void 0},xv.bind(null,l,d,a,s),null),a},useId:function(){var n=un(),s=ee.identifierPrefix;if(jt){var a=Vi,l=Di;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Uc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=MR++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Fd,useFormState:Uv,useActionState:Uv,useOptimistic:function(n){var s=un();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Hd.bind(null,Ct,!0,a),a.dispatch=s,[n,s]},useMemoCache:Nd,useCacheRefresh:function(){return un().memoizedState=UR.bind(null,Ct)},useEffectEvent:function(n){var s=un(),a={impl:n};return s.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qd={readContext:Ye,use:zc,useCallback:Xv,useContext:Ye,useEffect:Ud,useImperativeHandle:Qv,useInsertionEffect:Gv,useLayoutEffect:Kv,useMemo:$v,useReducer:Bc,useRef:Fv,useState:function(){return Bc(es)},useDebugValue:jd,useDeferredValue:function(n,s){var a=_e();return Wv(a,Wt.memoizedState,n,s)},useTransition:function(){var n=Bc(es)[0],s=_e().memoizedState;return[typeof n=="boolean"?n:Il(n),s]},useSyncExternalStore:Rv,useId:e0,useHostTransitionStatus:Fd,useFormState:jv,useActionState:jv,useOptimistic:function(n,s){var a=_e();return Mv(a,Wt,n,s)},useMemoCache:Nd,useCacheRefresh:n0};qd.useEffectEvent=qv;var o0={readContext:Ye,use:zc,useCallback:Xv,useContext:Ye,useEffect:Ud,useImperativeHandle:Qv,useInsertionEffect:Gv,useLayoutEffect:Kv,useMemo:$v,useReducer:Pd,useRef:Fv,useState:function(){return Pd(es)},useDebugValue:jd,useDeferredValue:function(n,s){var a=_e();return Wt===null?zd(a,n,s):Wv(a,Wt.memoizedState,n,s)},useTransition:function(){var n=Pd(es)[0],s=_e().memoizedState;return[typeof n=="boolean"?n:Il(n),s]},useSyncExternalStore:Rv,useId:e0,useHostTransitionStatus:Fd,useFormState:Bv,useActionState:Bv,useOptimistic:function(n,s){var a=_e();return Wt!==null?Mv(a,Wt,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:n0};o0.useEffectEvent=qv;function Gd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Kd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Us(l);f.payload=s,a!=null&&(f.callback=a),s=js(n,f,l),s!==null&&(_n(s,n,l),wl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Us(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=js(n,f,l),s!==null&&(_n(s,n,l),wl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Dn(),l=Us(a);l.tag=2,s!=null&&(l.callback=s),s=js(n,l,a),s!==null&&(_n(s,n,a),wl(s,n,a))}};function l0(n,s,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!yl(a,l)||!yl(f,d):!0}function u0(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Kd.enqueueReplaceState(s,s.state,null)}function ia(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function c0(n){bc(n)}function h0(n){console.error(n)}function f0(n){bc(n)}function Gc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function d0(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Yd(n,s,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(n,s)},a}function m0(n){return n=Us(n),n.tag=3,n}function p0(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){d0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){d0(s,a,l),typeof f!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function zR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ha(s,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?ih():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Mc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),vm(n,l,f)),!1;case 22:return a.flags|=65536,l===Mc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),vm(n,l,f)),!1}throw Error(r(435,a.tag))}return vm(n,l,f),ih(),!1}if(jt)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==fd&&(n=Error(r(422),{cause:l}),Tl(Un(n,a)))):(l!==fd&&(s=Error(r(423),{cause:l}),Tl(Un(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Un(l,a),f=Yd(n.stateNode,l,f),Sd(n,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,a),jl===null?jl=[d]:jl.push(d),me!==4&&(me=2),s===null)return!0;l=Un(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Yd(a.stateNode,l,n),Sd(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gs===null||!Gs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=m0(f),p0(f,n,a,l),Sd(a,f),!1}a=a.return}while(a!==null);return!1}var Qd=Error(r(461)),xe=!1;function Qe(n,s,a,l){s.child=n===null?_v(s,null,a,l):ea(s,n.child,a,l)}function g0(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Wr(s),l=Id(n,s,a,_,d,f),S=Dd(),n!==null&&!xe?(Vd(n,s,f),ns(n,s,f)):(jt&&S&&cd(s),s.flags|=1,Qe(n,s,l,f),s.child)}function y0(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!od(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,v0(n,s,d,l,f)):(n=Rc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!nm(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(_,l)&&n.ref===s.ref)return ns(n,s,f)}return s.flags|=1,n=$i(d,l),n.ref=s.ref,n.return=s,s.child=n}function v0(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(yl(d,l)&&n.ref===s.ref)if(xe=!1,s.pendingProps=l=d,nm(n,f))(n.flags&131072)!==0&&(xe=!0);else return s.lanes=n.lanes,ns(n,s,f)}return Xd(n,s,a,l,f)}function _0(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return T0(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Dc(s,d!==null?d.cachePool:null),d!==null?bv(s,d):wd(),Sv(s);else return l=s.lanes=536870912,T0(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Dc(s,d.cachePool),bv(s,d),Bs(),s.memoizedState=null):(n!==null&&Dc(s,null),wd(),Bs());return Qe(n,s,f,a),s.child}function Ml(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function T0(n,s,a,l,f){var d=_d();return d=d===null?null:{parent:Re._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Dc(s,null),wd(),Sv(s),n!==null&&Ha(n,s,l,!0),s.childLanes=f,null}function Kc(n,s){return s=Qc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function E0(n,s,a){return ea(s,n.child,null,a),n=Kc(s,s.pendingProps),n.flags|=2,Cn(s),s.memoizedState=null,n}function BR(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(jt){if(l.mode==="hidden")return n=Kc(s,l),s.lanes=536870912,Ml(null,n);if(Cd(s),(n=ne)?(n=N_(n,Bn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ns!==null?{id:Di,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=sv(n),a.return=s,s.child=a,Ke=s,ne=null)):n=null,n===null)throw Ps(s);return s.lanes=536870912,null}return Kc(s,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(Cd(s),f)if(s.flags&256)s.flags&=-257,s=E0(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(xe||Ha(n,s,a,!1),f=(a&n.childLanes)!==0,xe||f){if(l=ee,l!==null&&(_=Zo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Yr(n,_),_n(l,n,_),Qd;ih(),s=E0(n,s,a)}else n=d.treeContext,ne=Hn(_.nextSibling),Ke=s,jt=!0,Os=null,Bn=!1,n!==null&&ov(s,n),s=Kc(s,l),s.flags|=4096;return s}return n=$i(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Yc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Xd(n,s,a,l,f){return Wr(s),a=Id(n,s,a,l,void 0,f),l=Dd(),n!==null&&!xe?(Vd(n,s,f),ns(n,s,f)):(jt&&l&&cd(s),s.flags|=1,Qe(n,s,a,f),s.child)}function b0(n,s,a,l,f,d){return Wr(s),s.updateQueue=null,a=wv(s,l,a,f),Av(n),l=Dd(),n!==null&&!xe?(Vd(n,s,d),ns(n,s,d)):(jt&&l&&cd(s),s.flags|=1,Qe(n,s,a,d),s.child)}function S0(n,s,a,l,f){if(Wr(s),s.stateNode===null){var d=ja,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ye(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Ed(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ye(_):ja,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Gd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Kd.enqueueReplaceState(d,d.state,null),Cl(s,l,d,f),Rl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var S=s.memoizedProps,D=ia(a,S);d.props=D;var H=d.context,X=a.contextType;_=ja,typeof X=="object"&&X!==null&&(_=Ye(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&u0(s,d,l,_),Ls=!1;var q=s.memoizedState;d.state=q,Cl(s,l,d,f),Rl(),H=s.memoizedState,S||q!==H||Ls?(typeof Z=="function"&&(Gd(s,a,Z,l),H=s.memoizedState),(D=Ls||l0(s,a,D,l,q,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,bd(n,s),_=s.memoizedProps,X=ia(a,_),d.props=X,Z=s.pendingProps,q=d.context,H=a.contextType,D=ja,typeof H=="object"&&H!==null&&(D=Ye(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||q!==D)&&u0(s,d,l,D),Ls=!1,q=s.memoizedState,d.state=q,Cl(s,l,d,f),Rl();var K=s.memoizedState;_!==Z||q!==K||Ls||n!==null&&n.dependencies!==null&&xc(n.dependencies)?(typeof S=="function"&&(Gd(s,a,S,l),K=s.memoizedState),(X=Ls||l0(s,a,X,l,q,K,D)||n!==null&&n.dependencies!==null&&xc(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),d.props=l,d.state=K,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Yc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=ea(s,n.child,null,f),s.child=ea(s,null,a,f)):Qe(n,s,a,f),s.memoizedState=d.state,n=s.child):n=ns(n,s,f),n}function A0(n,s,a,l){return Xr(),s.flags|=256,Qe(n,s,a,l),s.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wd(n){return{baseLanes:n,cachePool:dv()}}function Jd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=In),n}function w0(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(jt){if(f?zs(s):Bs(),(n=ne)?(n=N_(n,Bn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ns!==null?{id:Di,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=sv(n),a.return=s,s.child=a,Ke=s,ne=null)):n=null,n===null)throw Ps(s);return Om(n)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Bs(),f=s.mode,S=Qc({mode:"hidden",children:S},f),l=Qr(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=Wd(a),l.childLanes=Jd(n,_,a),s.memoizedState=$d,Ml(null,l)):(zs(s),Zd(s,S))}var D=n.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)s.flags&256?(zs(s),s.flags&=-257,s=tm(n,s,a)):s.memoizedState!==null?(Bs(),s.child=n.child,s.flags|=128,s=null):(Bs(),S=l.fallback,f=s.mode,l=Qc({mode:"visible",children:l.children},f),S=Qr(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,ea(s,n.child,null,a),l=s.child,l.memoizedState=Wd(a),l.childLanes=Jd(n,_,a),s.memoizedState=$d,s=Ml(null,l));else if(zs(s),Om(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,Tl({value:l,source:null,stack:null}),s=tm(n,s,a)}else if(xe||Ha(n,s,a,!1),_=(a&n.childLanes)!==0,xe||_){if(_=ee,_!==null&&(l=Zo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Yr(n,l),_n(_,n,l),Qd;Nm(S)||ih(),s=tm(n,s,a)}else Nm(S)?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,ne=Hn(S.nextSibling),Ke=s,jt=!0,Os=null,Bn=!1,n!==null&&ov(s,n),s=Zd(s,l.children),s.flags|=4096);return s}return f?(Bs(),S=l.fallback,f=s.mode,D=n.child,H=D.sibling,l=$i(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?S=$i(H,S):(S=Qr(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,Ml(null,l),l=s.child,S=n.child.memoizedState,S===null?S=Wd(a):(f=S.cachePool,f!==null?(D=Re._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=dv(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Jd(n,_,a),s.memoizedState=$d,Ml(n.child,l)):(zs(s),a=n.child,n=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=a,s.memoizedState=null,a)}function Zd(n,s){return s=Qc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Qc(n,s){return n=wn(22,n,null,s),n.lanes=0,n}function tm(n,s,a){return ea(s,n.child,null,a),n=Zd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function R0(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),pd(n.return,s,a)}function em(n,s,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function C0(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ve.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,at(ve,_),Qe(n,s,l,a),l=jt?_l:0,!S&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&R0(n,a,s);else if(n.tag===19)R0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&kc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),em(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&kc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}em(s,!0,a,null,d,l);break;case"together":em(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ns(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),qs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ha(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=$i(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=$i(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function nm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&xc(n)))}function FR(n,s,a){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),ks(s,Re,n.memoizedState.cache),Xr();break;case 27:case 5:Ir(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:ks(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Cd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(zs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?w0(n,s,a):(zs(s),n=ns(n,s,a),n!==null?n.sibling:null);zs(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ha(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return C0(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(ve,ve.current),l)break;return null;case 22:return s.lanes=0,_0(n,s,a,s.pendingProps);case 24:ks(s,Re,n.memoizedState.cache)}return ns(n,s,a)}function x0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)xe=!0;else{if(!nm(n,a)&&(s.flags&128)===0)return xe=!1,FR(n,s,a);xe=(n.flags&131072)!==0}else xe=!1,jt&&(s.flags&1048576)!==0&&av(s,_l,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=Zr(s.elementType),s.type=n,typeof n=="function")od(n)?(l=ia(n,l),s.tag=1,s=S0(null,s,n,l,a)):(s.tag=0,s=Xd(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===lt){s.tag=11,s=g0(null,s,n,l,a);break t}else if(f===C){s.tag=14,s=y0(null,s,n,l,a);break t}}throw s=te(n)||n,Error(r(306,s,""))}}return s;case 0:return Xd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ia(l,s.pendingProps),S0(n,s,l,f,a);case 3:t:{if(Oe(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,bd(n,s),Cl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,ks(s,Re,l),l!==d.cache&&gd(s,[Re],a,!0),Rl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=A0(n,s,l,a);break t}else if(l!==f){f=Un(Error(r(424)),s),Tl(f),s=A0(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ne=Hn(n.firstChild),Ke=s,jt=!0,Os=null,Bn=!0,a=_v(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xr(),l===f){s=ns(n,s,a);break t}Qe(n,s,l,a)}s=s.child}return s;case 26:return Yc(n,s),n===null?(a=j_(s.type,null,s.pendingProps,null))?s.memoizedState=a:jt||(a=s.type,n=s.pendingProps,l=ch(It.current).createElement(a),l[Se]=s,l[ze]=n,Xe(l,a,n),Ae(l),s.stateNode=l):s.memoizedState=j_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ir(s),n===null&&jt&&(l=s.stateNode=k_(s.type,s.pendingProps,It.current),Ke=s,Bn=!0,f=ne,Xs(s.type)?(Pm=f,ne=Hn(l.firstChild)):ne=f),Qe(n,s,s.pendingProps.children,a),Yc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&jt&&((f=l=ne)&&(l=vC(l,s.type,s.pendingProps,Bn),l!==null?(s.stateNode=l,Ke=s,ne=Hn(l.firstChild),Bn=!1,f=!0):f=!1),f||Ps(s)),Ir(s),f=s.type,d=s.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,Dm(f,d)?l=null:_!==null&&Dm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Id(n,s,NR,null,null,a),Yl._currentValue=f),Yc(n,s),Qe(n,s,l,a),s.child;case 6:return n===null&&jt&&((n=a=ne)&&(a=_C(a,s.pendingProps,Bn),a!==null?(s.stateNode=a,Ke=s,ne=null,n=!0):n=!1),n||Ps(s)),null;case 13:return w0(n,s,a);case 4:return Oe(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=ea(s,null,l,a):Qe(n,s,l,a),s.child;case 11:return g0(n,s,s.type,s.pendingProps,a);case 7:return Qe(n,s,s.pendingProps,a),s.child;case 8:return Qe(n,s,s.pendingProps.children,a),s.child;case 12:return Qe(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ks(s,s.type,l.value),Qe(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Wr(s),f=Ye(f),l=l(f),s.flags|=1,Qe(n,s,l,a),s.child;case 14:return y0(n,s,s.type,s.pendingProps,a);case 15:return v0(n,s,s.type,s.pendingProps,a);case 19:return C0(n,s,a);case 31:return BR(n,s,a);case 22:return _0(n,s,a,s.pendingProps);case 24:return Wr(s),l=Ye(Re),n===null?(f=_d(),f===null&&(f=ee,d=yd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Ed(s),ks(s,Re,f)):((n.lanes&a)!==0&&(bd(n,s),Cl(s,null,null,a),Rl()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ks(s,Re,l)):(l=d.cache,ks(s,Re,l),l!==f.cache&&gd(s,[Re],a,!0))),Qe(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function is(n){n.flags|=4}function im(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(e_())n.flags|=8192;else throw ta=Mc,Td}else n.flags&=-16777217}function I0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!q_(s))if(e_())n.flags|=8192;else throw ta=Mc,Td}function Xc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ec():536870912,n.lanes|=s,eo|=s)}function Nl(n,s){if(!jt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ie(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function HR(n,s,a){var l=s.pendingProps;switch(hd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(s),null;case 1:return ie(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Zi(Re),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Fa(s)?is(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dd())),ie(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(is(s),d!==null?(ie(s),I0(s,d)):(ie(s),im(s,f,null,l,a))):d?d!==n.memoizedState?(is(s),ie(s),I0(s,d)):(ie(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&is(s),ie(s),im(s,f,n,l,a)),null;case 27:if(Ta(s),a=It.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ie(s),null}n=ct.current,Fa(s)?lv(s):(n=k_(f,l,a),s.stateNode=n,is(s))}return ie(s),null;case 5:if(Ta(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ie(s),null}if(d=ct.current,Fa(s))lv(s);else{var _=ch(It.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Se]=s,d[ze]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Xe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&is(s)}}return ie(s),im(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&is(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=It.current,Fa(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=Ke,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Se]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||w_(n.nodeValue,a)),n||Ps(s,!0)}else n=ch(n).createTextNode(l),n[Se]=s,s.stateNode=n}return ie(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Fa(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Se]=s}else Xr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ie(s),n=!1}else a=dd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Cn(s),s):(Cn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ie(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Fa(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Se]=s}else Xr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ie(s),f=!1}else f=dd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Cn(s),s):(Cn(s),null)}return Cn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Xc(s,s.updateQueue),ie(s),null);case 4:return oe(),n===null&&wm(s.stateNode.containerInfo),ie(s),null;case 10:return Zi(s.type),ie(s),null;case 19:if(tt(ve),l=s.memoizedState,l===null)return ie(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Nl(l,!1);else{if(me!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=kc(n),d!==null){for(s.flags|=128,Nl(l,!1),n=d.updateQueue,s.updateQueue=n,Xc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)iv(a,n),a=a.sibling;return at(ve,ve.current&1|2),jt&&Wi(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&on()>th&&(s.flags|=128,f=!0,Nl(l,!1),s.lanes=4194304)}else{if(!f)if(n=kc(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Xc(s,n),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!jt)return ie(s),null}else 2*on()-l.renderingStartTime>th&&a!==536870912&&(s.flags|=128,f=!0,Nl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=on(),n.sibling=null,a=ve.current,at(ve,f?a&1|2:a&1),jt&&Wi(s,l.treeForkCount),n):(ie(s),null);case 22:case 23:return Cn(s),Rd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ie(s),s.subtreeFlags&6&&(s.flags|=8192)):ie(s),a=s.updateQueue,a!==null&&Xc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&tt(Jr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Zi(Re),ie(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function qR(n,s){switch(hd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Zi(Re),oe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ta(s),null;case 31:if(s.memoizedState!==null){if(Cn(s),s.alternate===null)throw Error(r(340));Xr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Cn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return tt(ve),null;case 4:return oe(),null;case 10:return Zi(s.type),null;case 22:case 23:return Cn(s),Rd(),n!==null&&tt(Jr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Zi(Re),null;case 25:return null;default:return null}}function D0(n,s){switch(hd(s),s.tag){case 3:Zi(Re),oe();break;case 26:case 27:case 5:Ta(s);break;case 4:oe();break;case 31:s.memoizedState!==null&&Cn(s);break;case 13:Cn(s);break;case 19:tt(ve);break;case 10:Zi(s.type);break;case 22:case 23:Cn(s),Rd(),n!==null&&tt(Jr);break;case 24:Zi(Re)}}function Ol(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Xt(s,s.return,S)}}function Fs(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var D=a,H=S;try{H()}catch(X){Xt(f,D,X)}}}l=l.next}while(l!==d)}}catch(X){Xt(s,s.return,X)}}function V0(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Ev(s,a)}catch(l){Xt(n,n.return,l)}}}function M0(n,s,a){a.props=ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(n,s,l)}}function Pl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Xt(n,s,f)}}function Mi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(n,s,f)}else a.current=null}function N0(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xt(n,n.return,f)}}function sm(n,s,a){try{var l=n.stateNode;fC(l,n.type,a,s),l[ze]=s}catch(f){Xt(n,n.return,f)}}function O0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xs(n.type)||n.tag===4}function rm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||O0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xs(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function am(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Zn));else if(l!==4&&(l===27&&Xs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(am(n,s,a),n=n.sibling;n!==null;)am(n,s,a),n=n.sibling}function $c(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Xs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for($c(n,s,a),n=n.sibling;n!==null;)$c(n,s,a),n=n.sibling}function P0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xe(s,l,a),s[Se]=n,s[ze]=a}catch(d){Xt(n,n.return,d)}}var ss=!1,Ie=!1,om=!1,k0=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function GR(n,s){if(n=n.containerInfo,xm=yh,n=Qy(n),td(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,D=-1,H=0,X=0,Z=n,q=null;e:for(;;){for(var K;Z!==a||f!==0&&Z.nodeType!==3||(S=_+f),Z!==d||l!==0&&Z.nodeType!==3||(D=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(K=Z.firstChild)!==null;)q=Z,Z=K;for(;;){if(Z===n)break e;if(q===a&&++H===f&&(S=_),q===d&&++X===l&&(D=_),(K=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=K}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Im={focusedElem:n,selectionRange:a},yh=!1,Fe=s;Fe!==null;)if(s=Fe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Fe=n;else for(;Fe!==null;){switch(s=Fe,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=ia(a.type,f);n=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(_t){Xt(a,a.return,_t)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Mm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Mm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Fe=n;break}Fe=s.return}}function L0(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:as(n,a),l&4&&Ol(5,a);break;case 1:if(as(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(_){Xt(a,a.return,_)}else{var f=ia(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(a,a.return,_)}}l&64&&V0(a),l&512&&Pl(a,a.return);break;case 3:if(as(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Ev(n,s)}catch(_){Xt(a,a.return,_)}}break;case 27:s===null&&l&4&&P0(a);case 26:case 5:as(n,a),s===null&&l&4&&N0(a),l&512&&Pl(a,a.return);break;case 12:as(n,a);break;case 31:as(n,a),l&4&&z0(n,a);break;case 13:as(n,a),l&4&&B0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=tC.bind(null,a),TC(n,a))));break;case 22:if(l=a.memoizedState!==null||ss,!l){s=s!==null&&s.memoizedState!==null||Ie,f=ss;var d=Ie;ss=l,(Ie=s)&&!d?os(n,a,(a.subtreeFlags&8772)!==0):as(n,a),ss=f,Ie=d}break;case 30:break;default:as(n,a)}}function U0(n){var s=n.alternate;s!==null&&(n.alternate=null,U0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&wa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ue=null,pn=!1;function rs(n,s,a){for(a=a.child;a!==null;)j0(n,s,a),a=a.sibling}function j0(n,s,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Ie||Mi(a,s),rs(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Mi(a,s);var l=ue,f=pn;Xs(a.type)&&(ue=a.stateNode,pn=!1),rs(n,s,a),ql(a.stateNode),ue=l,pn=f;break;case 5:Ie||Mi(a,s);case 6:if(l=ue,f=pn,ue=null,rs(n,s,a),ue=l,pn=f,ue!==null)if(pn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){Xt(a,s,d)}else try{ue.removeChild(a.stateNode)}catch(d){Xt(a,s,d)}break;case 18:ue!==null&&(pn?(n=ue,V_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),uo(n)):V_(ue,a.stateNode));break;case 4:l=ue,f=pn,ue=a.stateNode.containerInfo,pn=!0,rs(n,s,a),ue=l,pn=f;break;case 0:case 11:case 14:case 15:Fs(2,a,s),Ie||Fs(4,a,s),rs(n,s,a);break;case 1:Ie||(Mi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&M0(a,s,l)),rs(n,s,a);break;case 21:rs(n,s,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,rs(n,s,a),Ie=l;break;default:rs(n,s,a)}}function z0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{uo(n)}catch(a){Xt(s,s.return,a)}}}function B0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{uo(n)}catch(a){Xt(s,s.return,a)}}function KR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new k0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new k0),s;default:throw Error(r(435,n.tag))}}function Wc(n,s){var a=KR(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=eC.bind(null,n,l);l.then(f,f)}})}function gn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=s,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Xs(S.type)){ue=S.stateNode,pn=!1;break t}break;case 5:ue=S.stateNode,pn=!1;break t;case 3:case 4:ue=S.stateNode.containerInfo,pn=!0;break t}S=S.return}if(ue===null)throw Error(r(160));j0(d,_,f),ue=null,pn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)F0(s,n),s=s.sibling}var ri=null;function F0(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gn(s,n),yn(n),l&4&&(Fs(3,n,n.return),Ol(3,n),Fs(5,n,n.return));break;case 1:gn(s,n),yn(n),l&512&&(Ie||a===null||Mi(a,a.return)),l&64&&ss&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ri;if(gn(s,n),yn(n),l&512&&(Ie||a===null||Mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[vi]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,a),d[Se]=n,Ae(d),l=d;break t;case"link":var _=F_("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;case"meta":if(_=F_("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Se]=n,Ae(d),l=d}n.stateNode=l}else H_(f,n.type,n.stateNode);else n.stateNode=B_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?H_(f,n.type,n.stateNode):B_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&sm(n,n.memoizedProps,a.memoizedProps)}break;case 27:gn(s,n),yn(n),l&512&&(Ie||a===null||Mi(a,a.return)),a!==null&&l&4&&sm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(gn(s,n),yn(n),l&512&&(Ie||a===null||Mi(a,a.return)),n.flags&32){f=n.stateNode;try{mn(f,"")}catch(dt){Xt(n,n.return,dt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,sm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(om=!0);break;case 6:if(gn(s,n),yn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(dt){Xt(n,n.return,dt)}}break;case 3:if(dh=null,f=ri,ri=hh(s.containerInfo),gn(s,n),ri=f,yn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(s.containerInfo)}catch(dt){Xt(n,n.return,dt)}om&&(om=!1,H0(n));break;case 4:l=ri,ri=hh(n.stateNode.containerInfo),gn(s,n),yn(n),ri=l;break;case 12:gn(s,n),yn(n);break;case 31:gn(s,n),yn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Wc(n,l)));break;case 13:gn(s,n),yn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=on()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Wc(n,l)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=ss,X=Ie;if(ss=H||f,Ie=X||D,gn(s,n),Ie=X,ss=H,yn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||ss||Ie||sa(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var Z=D.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(dt){Xt(D,D.return,dt)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(dt){Xt(D,D.return,dt)}}}else if(s.tag===18){if(a===null){D=s;try{var K=D.stateNode;f?M_(K,!0):M_(D.stateNode,!1)}catch(dt){Xt(D,D.return,dt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wc(n,a))));break;case 19:gn(s,n),yn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Wc(n,l)));break;case 30:break;case 21:break;default:gn(s,n),yn(n)}}function yn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(O0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=rm(n);$c(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(mn(_,""),a.flags&=-33);var S=rm(n);$c(n,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,H=rm(n);am(n,H,D);break;default:throw Error(r(161))}}catch(X){Xt(n,n.return,X)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function H0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;H0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function as(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)L0(n,s.alternate,s),s=s.sibling}function sa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Fs(4,s,s.return),sa(s);break;case 1:Mi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&M0(s,s.return,a),sa(s);break;case 27:ql(s.stateNode);case 26:case 5:Mi(s,s.return),sa(s);break;case 22:s.memoizedState===null&&sa(s);break;case 30:sa(s);break;default:sa(s)}n=n.sibling}}function os(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:os(f,d,a),Ol(4,d);break;case 1:if(os(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Xt(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Tv(D[f],S)}catch(H){Xt(l,l.return,H)}}a&&_&64&&V0(d),Pl(d,d.return);break;case 27:P0(d);case 26:case 5:os(f,d,a),a&&l===null&&_&4&&N0(d),Pl(d,d.return);break;case 12:os(f,d,a);break;case 31:os(f,d,a),a&&_&4&&z0(f,d);break;case 13:os(f,d,a),a&&_&4&&B0(f,d);break;case 22:d.memoizedState===null&&os(f,d,a),Pl(d,d.return);break;case 30:break;default:os(f,d,a)}s=s.sibling}}function lm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&El(a))}function um(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&El(n))}function ai(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)q0(n,s,a,l),s=s.sibling}function q0(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ai(n,s,a,l),f&2048&&Ol(9,s);break;case 1:ai(n,s,a,l);break;case 3:ai(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&El(n)));break;case 12:if(f&2048){ai(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Xt(s,s.return,D)}}else ai(n,s,a,l);break;case 31:ai(n,s,a,l);break;case 13:ai(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?ai(n,s,a,l):kl(n,s):d._visibility&2?ai(n,s,a,l):(d._visibility|=2,Ja(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&lm(_,s);break;case 24:ai(n,s,a,l),f&2048&&um(s.alternate,s);break;default:ai(n,s,a,l)}}function Ja(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,_=s,S=a,D=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ja(d,_,S,D,f),Ol(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ja(d,_,S,D,f):kl(d,_):(X._visibility|=2,Ja(d,_,S,D,f)),f&&H&2048&&lm(_.alternate,_);break;case 24:Ja(d,_,S,D,f),f&&H&2048&&um(_.alternate,_);break;default:Ja(d,_,S,D,f)}s=s.sibling}}function kl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:kl(a,l),f&2048&&lm(l.alternate,l);break;case 24:kl(a,l),f&2048&&um(l.alternate,l);break;default:kl(a,l)}s=s.sibling}}var Ll=8192;function Za(n,s,a){if(n.subtreeFlags&Ll)for(n=n.child;n!==null;)G0(n,s,a),n=n.sibling}function G0(n,s,a){switch(n.tag){case 26:Za(n,s,a),n.flags&Ll&&n.memoizedState!==null&&MC(a,ri,n.memoizedState,n.memoizedProps);break;case 5:Za(n,s,a);break;case 3:case 4:var l=ri;ri=hh(n.stateNode.containerInfo),Za(n,s,a),ri=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Ll,Ll=16777216,Za(n,s,a),Ll=l):Za(n,s,a));break;default:Za(n,s,a)}}function K0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ul(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Fe=l,Q0(l,n)}K0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Y0(n),n=n.sibling}function Y0(n){switch(n.tag){case 0:case 11:case 15:Ul(n),n.flags&2048&&Fs(9,n,n.return);break;case 3:Ul(n);break;case 12:Ul(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Jc(n)):Ul(n);break;default:Ul(n)}}function Jc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Fe=l,Q0(l,n)}K0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Fs(8,s,s.return),Jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(s));break;default:Jc(s)}n=n.sibling}}function Q0(n,s){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Fs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fe=l;else t:for(a=n;Fe!==null;){l=Fe;var f=l.sibling,d=l.return;if(U0(l),l===a){Fe=null;break t}if(f!==null){f.return=d,Fe=f;break t}Fe=d}}}var YR={getCacheForType:function(n){var s=Ye(Re),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Ye(Re).controller.signal}},QR=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Vt=null,Ot=0,Qt=0,xn=null,Hs=!1,to=!1,cm=!1,ls=0,me=0,qs=0,ra=0,hm=0,In=0,eo=0,jl=null,vn=null,fm=!1,Zc=0,X0=0,th=1/0,eh=null,Gs=null,ke=0,Ks=null,no=null,us=0,dm=0,mm=null,$0=null,zl=0,pm=null;function Dn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:$.T!==null?Em():nc()}function W0(){if(In===0)if((Ot&536870912)===0||jt){var n=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),In=n}else In=536870912;return n=Rn.current,n!==null&&(n.flags|=32),In}function _n(n,s,a){(n===ee&&(Qt===2||Qt===9)||n.cancelPendingCommit!==null)&&(io(n,0),Ys(n,Ot,In,!1)),Nr(n,a),((Gt&2)===0||n!==ee)&&(n===ee&&((Gt&2)===0&&(ra|=a),me===4&&Ys(n,Ot,In,!1)),Ni(n))}function J0(n,s,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||$n(n,s),f=l?WR(n,s):ym(n,s,!0),d=l;do{if(f===0){to&&!l&&Ys(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!XR(a)){f=ym(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var S=n;f=jl;var D=S.current.memoizedState.isDehydrated;if(D&&(io(S,_).flags|=256),_=ym(S,_,!1),_!==2){if(cm&&!D){S.errorRecoveryDisabledLanes|=d,ra|=d,f=4;break t}d=vn,vn=f,d!==null&&(vn===null?vn=d:vn.push.apply(vn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){io(n,0),Ys(n,s,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ys(l,s,In,!Hs);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Zc+300-on(),10<f)){if(Ys(l,s,In,!Hs),pi(l,0,!0)!==0)break t;us=s,l.timeoutHandle=I_(Z0.bind(null,l,a,vn,eh,fm,s,In,ra,eo,Hs,d,"Throttled",-0,0),f);break t}Z0(l,a,vn,eh,fm,s,In,ra,eo,Hs,d,null,-0,0)}}break}while(!0);Ni(n)}function Z0(n,s,a,l,f,d,_,S,D,H,X,Z,q,K){if(n.timeoutHandle=-1,Z=s.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},G0(s,d,Z);var dt=(d&62914560)===d?Zc-on():(d&4194048)===d?X0-on():0;if(dt=NC(Z,dt),dt!==null){us=d,n.cancelPendingCommit=dt(o_.bind(null,n,s,d,a,l,f,_,S,D,X,Z,null,q,K)),Ys(n,d,_,!H);return}}o_(n,s,d,a,l,f,_,S,D)}function XR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ys(n,s,a,l){s&=~hm,s&=~ra,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-ge(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Or(n,a,s)}function nh(){return(Gt&6)===0?(Bl(0),!1):!0}function gm(){if(Vt!==null){if(Qt===0)var n=Vt.return;else n=Vt,Ji=$r=null,Md(n),Ya=null,Sl=0,n=Vt;for(;n!==null;)D0(n.alternate,n),n=n.return;Vt=null}}function io(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,pC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),us=0,gm(),ee=n,Vt=a=$i(n.current,null),Ot=s,Qt=0,xn=null,Hs=!1,to=$n(n,s),cm=!1,eo=In=hm=ra=qs=me=0,vn=jl=null,fm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-ge(l),d=1<<f;s|=n[f],l&=~d}return ls=s,Sc(),a}function t_(n,s){Ct=null,$.H=Vl,s===Ka||s===Vc?(s=gv(),Qt=3):s===Td?(s=gv(),Qt=4):Qt=s===Qd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,Vt===null&&(me=1,Gc(n,Un(s,n.current)))}function e_(){var n=Rn.current;return n===null?!0:(Ot&4194048)===Ot?Fn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?n===Fn:!1}function n_(){var n=$.H;return $.H=Vl,n===null?Vl:n}function i_(){var n=$.A;return $.A=YR,n}function ih(){me=4,Hs||(Ot&4194048)!==Ot&&Rn.current!==null||(to=!0),(qs&134217727)===0&&(ra&134217727)===0||ee===null||Ys(ee,Ot,In,!1)}function ym(n,s,a){var l=Gt;Gt|=2;var f=n_(),d=i_();(ee!==n||Ot!==s)&&(eh=null,io(n,s)),s=!1;var _=me;t:do try{if(Qt!==0&&Vt!==null){var S=Vt,D=xn;switch(Qt){case 8:gm(),_=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var H=Qt;if(Qt=0,xn=null,so(n,S,D,H),a&&to){_=0;break t}break;default:H=Qt,Qt=0,xn=null,so(n,S,D,H)}}$R(),_=me;break}catch(X){t_(n,X)}while(!0);return s&&n.shellSuspendCounter++,Ji=$r=null,Gt=l,$.H=f,$.A=d,Vt===null&&(ee=null,Ot=0,Sc()),_}function $R(){for(;Vt!==null;)s_(Vt)}function WR(n,s){var a=Gt;Gt|=2;var l=n_(),f=i_();ee!==n||Ot!==s?(eh=null,th=on()+500,io(n,s)):to=$n(n,s);t:do try{if(Qt!==0&&Vt!==null){s=Vt;var d=xn;e:switch(Qt){case 1:Qt=0,xn=null,so(n,s,d,1);break;case 2:case 9:if(mv(d)){Qt=0,xn=null,r_(s);break}s=function(){Qt!==2&&Qt!==9||ee!==n||(Qt=7),Ni(n)},d.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:mv(d)?(Qt=0,xn=null,r_(s)):(Qt=0,xn=null,so(n,s,d,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var S=Vt;if(_?q_(_):S.stateNode.complete){Qt=0,xn=null;var D=S.sibling;if(D!==null)Vt=D;else{var H=S.return;H!==null?(Vt=H,sh(H)):Vt=null}break e}}Qt=0,xn=null,so(n,s,d,5);break;case 6:Qt=0,xn=null,so(n,s,d,6);break;case 8:gm(),me=6;break t;default:throw Error(r(462))}}JR();break}catch(X){t_(n,X)}while(!0);return Ji=$r=null,$.H=l,$.A=f,Gt=a,Vt!==null?0:(ee=null,Ot=0,Sc(),me)}function JR(){for(;Vt!==null&&!Yf();)s_(Vt)}function s_(n){var s=x0(n.alternate,n,ls);n.memoizedProps=n.pendingProps,s===null?sh(n):Vt=s}function r_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=b0(a,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=b0(a,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:Md(s);default:D0(a,s),s=Vt=iv(s,ls),s=x0(a,s,ls)}n.memoizedProps=n.pendingProps,s===null?sh(n):Vt=s}function so(n,s,a,l){Ji=$r=null,Md(s),Ya=null,Sl=0;var f=s.return;try{if(zR(n,f,s,a,Ot)){me=1,Gc(n,Un(a,n.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;me=1,Gc(n,Un(a,n.current)),Vt=null;return}s.flags&32768?(jt||l===1?n=!0:to||(Ot&536870912)!==0?n=!1:(Hs=n=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),a_(s,n)):sh(s)}function sh(n){var s=n;do{if((s.flags&32768)!==0){a_(s,Hs);return}n=s.return;var a=HR(s.alternate,s,ls);if(a!==null){Vt=a;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=n}while(s!==null);me===0&&(me=5)}function a_(n,s){do{var a=qR(n.alternate,n);if(a!==null){a.flags&=32767,Vt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Vt=n;return}Vt=n=a}while(n!==null);me=6,Vt=null}function o_(n,s,a,l,f,d,_,S,D){n.cancelPendingCommit=null;do rh();while(ke!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=rd,$f(n,a,d,_,S,D),n===ee&&(Vt=ee=null,Ot=0),no=s,Ks=n,us=a,dm=d,mm=f,$0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,nC(Ss,function(){return f_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=it.p,it.p=2,_=Gt,Gt|=4;try{GR(n,s,a)}finally{Gt=_,it.p=f,$.T=l}}ke=1,l_(),u_(),c_()}}function l_(){if(ke===1){ke=0;var n=Ks,s=no,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=it.p;it.p=2;var f=Gt;Gt|=4;try{F0(s,n);var d=Im,_=Qy(n.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Yy(S.ownerDocument.documentElement,S)){if(D!==null&&td(S)){var H=D.start,X=D.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var K=q.getSelection(),dt=S.textContent.length,_t=Math.min(D.start,dt),Zt=D.end===void 0?_t:Math.min(D.end,dt);!K.extend&&_t>Zt&&(_=Zt,Zt=_t,_t=_);var U=Ky(S,_t),M=Ky(S,Zt);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var F=Z.createRange();F.setStart(U.node,U.offset),K.removeAllRanges(),_t>Zt?(K.addRange(F),K.extend(M.node,M.offset)):(F.setEnd(M.node,M.offset),K.addRange(F))}}}}for(Z=[],K=S;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var W=Z[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}yh=!!xm,Im=xm=null}finally{Gt=f,it.p=l,$.T=a}}n.current=s,ke=2}}function u_(){if(ke===2){ke=0;var n=Ks,s=no,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=it.p;it.p=2;var f=Gt;Gt|=4;try{L0(n,s.alternate,s)}finally{Gt=f,it.p=l,$.T=a}}ke=3}}function c_(){if(ke===4||ke===3){ke=0,Xu();var n=Ks,s=no,a=us,l=$0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ke=5:(ke=0,no=Ks=null,h_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Gs=null),Ki(a),s=s.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Xn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=$.T,f=it.p,it.p=2,$.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=s,it.p=f}}(us&3)!==0&&rh(),Ni(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===pm?zl++:(zl=0,pm=n):zl=0,Bl(0)}}function h_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,El(s)))}function rh(){return l_(),u_(),c_(),f_()}function f_(){if(ke!==5)return!1;var n=Ks,s=dm;dm=0;var a=Ki(us),l=$.T,f=it.p;try{it.p=32>a?32:a,$.T=null,a=mm,mm=null;var d=Ks,_=us;if(ke=0,no=Ks=null,us=0,(Gt&6)!==0)throw Error(r(331));var S=Gt;if(Gt|=4,Y0(d.current),q0(d,d.current,_,a),Gt=S,Bl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{it.p=f,$.T=l,h_(n,s)}}function d_(n,s,a){s=Un(a,s),s=Yd(n.stateNode,s,2),n=js(n,s,2),n!==null&&(Nr(n,2),Ni(n))}function Xt(n,s,a){if(n.tag===3)d_(n,n,a);else for(;s!==null;){if(s.tag===3){d_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gs===null||!Gs.has(l))){n=Un(a,n),a=m0(2),l=js(s,a,2),l!==null&&(p0(a,l,s,n),Nr(l,2),Ni(l));break}}s=s.return}}function vm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new QR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(cm=!0,f.add(a),n=ZR.bind(null,n,s,a),s.then(n,n))}function ZR(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ee===n&&(Ot&a)===a&&(me===4||me===3&&(Ot&62914560)===Ot&&300>on()-Zc?(Gt&2)===0&&io(n,0):hm|=a,eo===Ot&&(eo=0)),Ni(n)}function m_(n,s){s===0&&(s=ec()),n=Yr(n,s),n!==null&&(Nr(n,s),Ni(n))}function tC(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),m_(n,a)}function eC(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),m_(n,a)}function nC(n,s){return Pe(n,s)}var ah=null,ro=null,_m=!1,oh=!1,Tm=!1,Qs=0;function Ni(n){n!==ro&&n.next===null&&(ro===null?ah=ro=n:ro=ro.next=n),oh=!0,_m||(_m=!0,sC())}function Bl(n,s){if(!Tm&&oh){Tm=!0;do for(var a=!1,l=ah;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ge(42|n)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,v_(l,d))}else d=Ot,d=pi(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(a=!0,v_(l,d));l=l.next}while(a);Tm=!1}}function iC(){p_()}function p_(){oh=_m=!1;var n=0;Qs!==0&&mC()&&(n=Qs);for(var s=on(),a=null,l=ah;l!==null;){var f=l.next,d=g_(l,s);d===0?(l.next=null,a===null?ah=f:a.next=f,f===null&&(ro=a)):(a=l,(n!==0||(d&3)!==0)&&(oh=!0)),l=f}ke!==0&&ke!==5||Bl(n),Qs!==0&&(Qs=0)}function g_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-ge(d),S=1<<_,D=f[_];D===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Xf(S,s)):D<=s&&(n.expiredLanes|=S),d&=~S}if(s=ee,a=Ot,a=pi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Qt===2||Qt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||$n(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&bs(l),Ki(a)){case 2:case 8:a=Wo;break;case 32:a=Ss;break;case 268435456:a=$u;break;default:a=Ss}return l=y_.bind(null,n),a=Pe(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&bs(l),n.callbackPriority=2,n.callbackNode=null,2}function y_(n,s){if(ke!==0&&ke!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(rh()&&n.callbackNode!==a)return null;var l=Ot;return l=pi(n,n===ee?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(J0(n,l,s),g_(n,on()),n.callbackNode!=null&&n.callbackNode===a?y_.bind(null,n):null)}function v_(n,s){if(rh())return null;J0(n,s,!0)}function sC(){gC(function(){(Gt&6)!==0?Pe($o,iC):p_()})}function Em(){if(Qs===0){var n=qa;n===0&&(n=di,di<<=1,(di&261888)===0&&(di=256)),Qs=n}return Qs}function __(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ia(""+n)}function T_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function rC(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=__((f[ze]||null).action),_=l.submitter;_&&(s=(s=_[ze]||null)?__(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var S=new Ri("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var D=_?T_(f,_):new FormData(f);Bd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?T_(f,_):new FormData(f),Bd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var bm=0;bm<sd.length;bm++){var Sm=sd[bm],aC=Sm.toLowerCase(),oC=Sm[0].toUpperCase()+Sm.slice(1);si(aC,"on"+oC)}si(Wy,"onAnimationEnd"),si(Jy,"onAnimationIteration"),si(Zy,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(SR,"onTransitionRun"),si(AR,"onTransitionStart"),si(wR,"onTransitionCancel"),si(tv,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function E_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,H=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=H;try{d(f)}catch(X){bc(X)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,H=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=H;try{d(f)}catch(X){bc(X)}f.currentTarget=null,d=D}}}}function Mt(n,s){var a=s[Aa];a===void 0&&(a=s[Aa]=new Set);var l=n+"__bubble";a.has(l)||(b_(s,n,2,!1),a.add(l))}function Am(n,s,a){var l=0;s&&(l|=4),b_(a,n,l,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function wm(n){if(!n[lh]){n[lh]=!0,tl.forEach(function(a){a!=="selectionchange"&&(lC.has(a)||Am(a,!1,n),Am(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[lh]||(s[lh]=!0,Am("selectionchange",!1,s))}}function b_(n,s,a,l){switch(W_(s)){case 2:var f=kC;break;case 8:f=LC;break;default:f=zm}a=f.bind(null,s,a,n),f=void 0,!jr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Rm(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=_i(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Is(function(){var H=d,X=On(a),Z=[];t:{var q=ev.get(n);if(q!==void 0){var K=Ri,dt=n;switch(n){case"keypress":if(Br(a)===0)break t;case"keydown":case"keyup":K=_c;break;case"focusin":dt="focus",K=Hr;break;case"focusout":dt="blur",K=Hr;break;case"beforeblur":case"afterblur":K=Hr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case Wy:case Jy:case Zy:K=fc;break;case tv:K=A;break;case"scroll":case"scrollend":K=fl;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Xi;break;case"toggle":case"beforetoggle":K=Rt}var _t=(s&4)!==0,Zt=!_t&&(n==="scroll"||n==="scrollend"),U=_t?q!==null?q+"Capture":null:q;_t=[];for(var M=H,F;M!==null;){var W=M;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||U===null||(W=ti(M,U),W!=null&&_t.push(Hl(M,W,F))),Zt)break;M=M.return}0<_t.length&&(q=new K(q,dt,null,a,X),Z.push({event:q,listeners:_t}))}}if((s&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",q&&a!==ul&&(dt=a.relatedTarget||a.fromElement)&&(_i(dt)||dt[yi]))break t;if((K||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,K?(dt=a.relatedTarget||a.toElement,K=H,dt=dt?_i(dt):null,dt!==null&&(Zt=u(dt),_t=dt.tag,dt!==Zt||_t!==5&&_t!==27&&_t!==6)&&(dt=null)):(K=null,dt=H),K!==dt)){if(_t=dl,W="onMouseLeave",U="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(_t=Xi,W="onPointerLeave",U="onPointerEnter",M="pointer"),Zt=K==null?q:bn(K),F=dt==null?q:bn(dt),q=new _t(W,M+"leave",K,a,X),q.target=Zt,q.relatedTarget=F,W=null,_i(X)===H&&(_t=new _t(U,M+"enter",dt,a,X),_t.target=F,_t.relatedTarget=Zt,W=_t),Zt=W,K&&dt)e:{for(_t=uC,U=K,M=dt,F=0,W=U;W;W=_t(W))F++;W=0;for(var yt=M;yt;yt=_t(yt))W++;for(;0<F-W;)U=_t(U),F--;for(;0<W-F;)M=_t(M),W--;for(;F--;){if(U===M||M!==null&&U===M.alternate){_t=U;break e}U=_t(U),M=_t(M)}_t=null}else _t=null;K!==null&&S_(Z,q,K,_t,!1),dt!==null&&Zt!==null&&S_(Z,Zt,dt,_t,!0)}}t:{if(q=H?bn(H):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var Ft=zy;else if(Uy(q))if(By)Ft=TR;else{Ft=vR;var pt=yR}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&xa(H.elementType)&&(Ft=zy):Ft=_R;if(Ft&&(Ft=Ft(n,H))){jy(Z,Ft,a,X);break t}pt&&pt(n,q,H),n==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&al(q,"number",q.value)}switch(pt=H?bn(H):window,n){case"focusin":(Uy(pt)||pt.contentEditable==="true")&&(ka=pt,ed=H,vl=null);break;case"focusout":vl=ed=ka=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,Xy(Z,a,X);break;case"selectionchange":if(bR)break;case"keydown":case"keyup":Xy(Z,a,X)}var Dt;if(qt)t:{switch(n){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Pa?qr(n,a)&&(Pt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Ii&&a.locale!=="ko"&&(Pa||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Pa&&(Dt=hl()):(wi=X,cl="value"in wi?wi.value:wi.textContent,Pa=!0)),pt=uh(H,Pt),0<pt.length&&(Pt=new xi(Pt,n,null,a,X),Z.push({event:Pt,listeners:pt}),Dt?Pt.data=Dt:(Dt=Oa(a),Dt!==null&&(Pt.data=Dt)))),(Dt=kn?dR(n,a):mR(n,a))&&(Pt=uh(H,"onBeforeInput"),0<Pt.length&&(pt=new xi("onBeforeInput","beforeinput",null,a,X),Z.push({event:pt,listeners:Pt}),pt.data=Dt)),rC(Z,n,H,a,X)}E_(Z,s)})}function Hl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function uh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ti(n,a),f!=null&&l.unshift(Hl(n,f,d)),f=ti(n,s),f!=null&&l.push(Hl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function uC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function S_(n,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,H=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||H===null||(D=H,f?(H=ti(a,d),H!=null&&_.unshift(Hl(a,H,D))):f||(H=ti(a,d),H!=null&&_.push(Hl(a,H,D)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var cC=/\r\n?/g,hC=/\u0000|\uFFFD/g;function A_(n){return(typeof n=="string"?n:""+n).replace(cC,`
`).replace(hC,"")}function w_(n,s){return s=A_(s),A_(n)===s}function Jt(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||mn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&mn(n,""+l);break;case"className":Sn(n,"class",l);break;case"tabIndex":Sn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(n,a,l);break;case"style":ll(n,l,d);break;case"data":if(s!=="object"){Sn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ia(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Jt(n,s,"name",f.name,f,null),Jt(n,s,"formEncType",f.formEncType,f,null),Jt(n,s,"formMethod",f.formMethod,f,null),Jt(n,s,"formTarget",f.formTarget,f,null)):(Jt(n,s,"encType",f.encType,f,null),Jt(n,s,"method",f.method,f,null),Jt(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ia(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Zn);break;case"onScroll":l!=null&&Mt("scroll",n);break;case"onScrollEnd":l!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ia(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),Ra(n,"popover",l);break;case"xlinkActuate":we(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Ra(n,a,l))}}function Cm(n,s,a,l,f,d){switch(a){case"style":ll(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?mn(n,l):(typeof l=="number"||typeof l=="bigint")&&mn(n,""+l);break;case"onScroll":l!=null&&Mt("scroll",n);break;case"onScrollEnd":l!=null&&Mt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[ze]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ra(n,a,l)}}}function Xe(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(n,s,d,_,a,null)}}f&&Jt(n,s,"srcSet",a.srcSet,a,null),l&&Jt(n,s,"src",a.src,a,null);return;case"input":Mt("invalid",n);var S=d=_=f=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:Jt(n,s,l,X,a,null)}}ac(n,d,S,D,H,_,f,!1);return;case"select":Mt("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Jt(n,s,f,S,a,null)}s=d,a=_,n.multiple=!!l,s!=null?ws(n,!!l,s,!1):a!=null&&ws(n,!!l,a,!0);return;case"textarea":Mt("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Jt(n,s,_,S,a,null)}Rs(n,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(n,s,D,l,a,null)}return;case"dialog":Mt("beforetoggle",n),Mt("toggle",n),Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Mt(Fl[l],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(n,s,H,l,a,null)}return;default:if(xa(s)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Cm(n,s,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Jt(n,s,S,l,a,null))}function fC(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,D=null,H=null,X=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(K)||Jt(n,s,K,null,l,Z)}}for(var q in l){var K=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(K!=null||Z!=null))switch(q){case"type":d=K;break;case"name":f=K;break;case"checked":H=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==Z&&Jt(n,s,q,K,l,Z)}}Ca(n,_,S,D,H,X,d,f);return;case"select":K=_=S=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||Jt(n,s,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&Jt(n,s,f,d,l,D)}s=S,a=_,l=K,q!=null?ws(n,!!a,q,!1):!!l!=!!a&&(s!=null?ws(n,!!a,s,!0):ws(n,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Jt(n,s,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Jt(n,s,_,f,l,d)}oc(n,q,K);return;case"option":for(var dt in a)if(q=a[dt],a.hasOwnProperty(dt)&&q!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":n.selected=!1;break;default:Jt(n,s,dt,null,l,q)}for(D in l)if(q=l[D],K=a[D],l.hasOwnProperty(D)&&q!==K&&(q!=null||K!=null))switch(D){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Jt(n,s,D,q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)q=a[_t],a.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t)&&Jt(n,s,_t,null,l,q);for(H in l)if(q=l[H],K=a[H],l.hasOwnProperty(H)&&q!==K&&(q!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:Jt(n,s,H,q,l,K)}return;default:if(xa(s)){for(var Zt in a)q=a[Zt],a.hasOwnProperty(Zt)&&q!==void 0&&!l.hasOwnProperty(Zt)&&Cm(n,s,Zt,void 0,l,q);for(X in l)q=l[X],K=a[X],!l.hasOwnProperty(X)||q===K||q===void 0&&K===void 0||Cm(n,s,X,q,l,K);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Jt(n,s,U,null,l,q);for(Z in l)q=l[Z],K=a[Z],!l.hasOwnProperty(Z)||q===K||q==null&&K==null||Jt(n,s,Z,q,l,K)}function R_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dC(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&R_(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],H=D.startTime;if(H>S)break;var X=D.transferSize,Z=D.initiatorType;X&&R_(Z)&&(D=D.responseEnd,_+=X*(D<S?1:(S-H)/(D-H)))}if(--l,s+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var xm=null,Im=null;function ch(n){return n.nodeType===9?n:n.ownerDocument}function C_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Dm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vm=null;function mC(){var n=window.event;return n&&n.type==="popstate"?n===Vm?!1:(Vm=n,!0):(Vm=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,pC=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,gC=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(n){return D_.resolve(null).then(n).catch(yC)}:I_;function yC(n){setTimeout(function(){throw n})}function Xs(n){return n==="head"}function V_(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),uo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ql(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,ql(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[vi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&ql(n.ownerDocument.body);a=f}while(a);uo(s)}function M_(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Mm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mm(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function vC(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[vi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Hn(n.nextSibling),n===null)break}return null}function _C(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Hn(n.nextSibling),n===null))return null;return n}function N_(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Hn(n.nextSibling),n===null))return null;return n}function Nm(n){return n.data==="$?"||n.data==="$~"}function Om(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function TC(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Hn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Pm=null;function O_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Hn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function P_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function k_(n,s,a){switch(s=ch(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ql(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);wa(n)}var qn=new Map,L_=new Set;function hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var cs=it.d;it.d={f:EC,r:bC,D:SC,C:AC,L:wC,m:RC,X:xC,S:CC,M:IC};function EC(){var n=cs.f(),s=nh();return n||s}function bC(n){var s=Nn(n);s!==null&&s.tag===5&&s.type==="form"?t0(s):cs.r(n)}var ao=typeof document>"u"?null:document;function U_(n,s,a){var l=ao;if(l&&typeof s=="string"&&s){var f=dn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),L_.has(f)||(L_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xe(s,"link",n),Ae(s),l.head.appendChild(s)))}}function SC(n){cs.D(n),U_("dns-prefetch",n,null)}function AC(n,s){cs.C(n,s),U_("preconnect",n,s)}function wC(n,s,a){cs.L(n,s,a);var l=ao;if(l&&n&&s){var f='link[rel="preload"][as="'+dn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dn(a.imageSizes)+'"]')):f+='[href="'+dn(n)+'"]';var d=f;switch(s){case"style":d=oo(n);break;case"script":d=lo(n)}qn.has(d)||(n=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),qn.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Gl(d))||s==="script"&&l.querySelector(Kl(d))||(s=l.createElement("link"),Xe(s,"link",n),Ae(s),l.head.appendChild(s)))}}function RC(n,s){cs.m(n,s);var a=ao;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(n)}if(!qn.has(d)&&(n=T({rel:"modulepreload",href:n},s),qn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(d)))return}l=a.createElement("link"),Xe(l,"link",n),Ae(l),a.head.appendChild(l)}}}function CC(n,s,a){cs.S(n,s,a);var l=ao;if(l&&n){var f=Ti(l).hoistableStyles,d=oo(n);s=s||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Gl(d)))S.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},a),(a=qn.get(d))&&km(n,a);var D=_=l.createElement("link");Ae(D),Xe(D,"link",n),D._p=new Promise(function(H,X){D.onload=H,D.onerror=X}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,fh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function xC(n,s){cs.X(n,s);var a=ao;if(a&&n){var l=Ti(a).hoistableScripts,f=lo(n),d=l.get(f);d||(d=a.querySelector(Kl(f)),d||(n=T({src:n,async:!0},s),(s=qn.get(f))&&Lm(n,s),d=a.createElement("script"),Ae(d),Xe(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function IC(n,s){cs.M(n,s);var a=ao;if(a&&n){var l=Ti(a).hoistableScripts,f=lo(n),d=l.get(f);d||(d=a.querySelector(Kl(f)),d||(n=T({src:n,async:!0,type:"module"},s),(s=qn.get(f))&&Lm(n,s),d=a.createElement("script"),Ae(d),Xe(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function j_(n,s,a,l){var f=(f=It.current)?hh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=oo(a.href),a=Ti(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=oo(a.href);var d=Ti(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(Gl(n)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(n,a),d||DC(f,n,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lo(a),a=Ti(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function oo(n){return'href="'+dn(n)+'"'}function Gl(n){return'link[rel="stylesheet"]['+n+"]"}function z_(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function DC(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xe(s,"link",a),Ae(s),n.head.appendChild(s))}function lo(n){return'[src="'+dn(n)+'"]'}function Kl(n){return"script[async]"+n}function B_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return s.instance=l,Ae(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ae(l),Xe(l,"style",f),fh(l,a.precedence,n),s.instance=l;case"stylesheet":f=oo(a.href);var d=n.querySelector(Gl(f));if(d)return s.state.loading|=4,s.instance=d,Ae(d),d;l=z_(a),(f=qn.get(f))&&km(l,f),d=(n.ownerDocument||n).createElement("link"),Ae(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Xe(d,"link",l),s.state.loading|=4,fh(d,a.precedence,n),s.instance=d;case"script":return d=lo(a.src),(f=n.querySelector(Kl(d)))?(s.instance=f,Ae(f),f):(l=a,(f=qn.get(d))&&(l=T({},a),Lm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ae(f),Xe(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,fh(l,a.precedence,n));return s.instance}function fh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function km(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Lm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var dh=null;function F_(n,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[vi]||d[Se]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=n+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function H_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function VC(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function q_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function MC(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=oo(l.href),d=s.querySelector(Gl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=mh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,Ae(d);return}d=s.ownerDocument||s,l=z_(l),(f=qn.get(f))&&km(l,f),d=d.createElement("link"),Ae(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Xe(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=mh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Um=0;function NC(n,s){return n.stylesheets&&n.count===0&&gh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Um===0&&(Um=62500*dC());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Um?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ph=null;function gh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ph=new Map,s.forEach(OC,n),ph=null,mh.call(n))}function OC(n,s){if(!(s.state.loading&4)){var a=ph.get(n);if(a)var l=a.get(null);else{a=new Map,ph.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Yl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function PC(n,s,a,l,f,d,_,S,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function G_(n,s,a,l,f,d,_,S,D,H,X,Z){return n=new PC(n,s,a,_,D,H,X,Z,S),s=1,d===!0&&(s|=24),d=wn(3,null,null,s),n.current=d,d.stateNode=n,s=yd(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Ed(d),n}function K_(n){return n?(n=ja,n):ja}function Y_(n,s,a,l,f,d){f=K_(f),l.context===null?l.context=f:l.pendingContext=f,l=Us(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=js(n,l,s),a!==null&&(_n(a,n,s),wl(a,n,s))}function Q_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function jm(n,s){Q_(n,s),(n=n.alternate)&&Q_(n,s)}function X_(n){if(n.tag===13||n.tag===31){var s=Yr(n,67108864);s!==null&&_n(s,n,67108864),jm(n,67108864)}}function $_(n){if(n.tag===13||n.tag===31){var s=Dn();s=Pr(s);var a=Yr(n,s);a!==null&&_n(a,n,s),jm(n,s)}}var yh=!0;function kC(n,s,a,l){var f=$.T;$.T=null;var d=it.p;try{it.p=2,zm(n,s,a,l)}finally{it.p=d,$.T=f}}function LC(n,s,a,l){var f=$.T;$.T=null;var d=it.p;try{it.p=8,zm(n,s,a,l)}finally{it.p=d,$.T=f}}function zm(n,s,a,l){if(yh){var f=Bm(l);if(f===null)Rm(n,s,l,vh,a),J_(n,l);else if(jC(f,n,s,a,l))l.stopPropagation();else if(J_(n,l),s&4&&-1<UC.indexOf(n)){for(;f!==null;){var d=Nn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-ge(_);S.entanglements[1]|=D,_&=~D}Ni(d),(Gt&6)===0&&(th=on()+500,Bl(0))}}break;case 31:case 13:S=Yr(d,2),S!==null&&_n(S,d,2),nh(),jm(d,2)}if(d=Bm(l),d===null&&Rm(n,s,l,vh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Rm(n,s,l,null,a)}}function Bm(n){return n=On(n),Fm(n)}var vh=null;function Fm(n){if(vh=null,n=_i(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return vh=n,null}function W_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case $o:return 2;case Wo:return 8;case Ss:case Qf:return 32;case $u:return 268435456;default:return 32}default:return 32}}var Hm=!1,$s=null,Ws=null,Js=null,Ql=new Map,Xl=new Map,Zs=[],UC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(n,s){switch(n){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(s.pointerId)}}function $l(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Nn(s),s!==null&&X_(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function jC(n,s,a,l,f){switch(s){case"focusin":return $s=$l($s,n,s,a,l,f),!0;case"dragenter":return Ws=$l(Ws,n,s,a,l,f),!0;case"mouseover":return Js=$l(Js,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ql.set(d,$l(Ql.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Xl.set(d,$l(Xl.get(d)||null,n,s,a,l,f)),!0}return!1}function Z_(n){var s=_i(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Wn(n.priority,function(){$_(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,Wn(n.priority,function(){$_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _h(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Bm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ul=l,a.target.dispatchEvent(l),ul=null}else return s=Nn(a),s!==null&&X_(s),n.blockedOn=a,!1;s.shift()}return!0}function tT(n,s,a){_h(n)&&a.delete(s)}function zC(){Hm=!1,$s!==null&&_h($s)&&($s=null),Ws!==null&&_h(Ws)&&(Ws=null),Js!==null&&_h(Js)&&(Js=null),Ql.forEach(tT),Xl.forEach(tT)}function Th(n,s){n.blockedOn===s&&(n.blockedOn=null,Hm||(Hm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zC)))}var Eh=null;function eT(n){Eh!==n&&(Eh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Eh===n&&(Eh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Fm(l||a)===null)continue;break}var d=Nn(a);d!==null&&(n.splice(s,3),s-=3,Bd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function uo(n){function s(D){return Th(D,n)}$s!==null&&Th($s,n),Ws!==null&&Th(Ws,n),Js!==null&&Th(Js,n),Ql.forEach(s),Xl.forEach(s);for(var a=0;a<Zs.length;a++){var l=Zs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)Z_(a),a.blockedOn===null&&Zs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[ze]||null;if(typeof d=="function")_||eT(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ze]||null)S=_.formAction;else if(Fm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),eT(a)}}}function nT(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function qm(n){this._internalRoot=n}bh.prototype.render=qm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Dn();Y_(a,l,n,s,null,null)},bh.prototype.unmount=qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Y_(n.current,2,null,n,null,null),nh(),s[yi]=null}};function bh(n){this._internalRoot=n}bh.prototype.unstable_scheduleHydration=function(n){if(n){var s=nc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Zs.length&&s!==0&&s<Zs[a].priority;a++);Zs.splice(a,0,n),a===0&&Z_(n)}};var iT=t.version;if(iT!=="19.2.0")throw Error(r(527,iT,"19.2.0"));it.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var BC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Xn=Sh.inject(BC),qe=Sh}catch{}}return Jl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=c0,d=h0,_=f0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=G_(n,1,!1,null,null,a,l,null,f,d,_,nT),n[yi]=s.current,wm(n),new qm(s)},Jl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=c0,_=h0,S=f0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=G_(n,1,!0,s,a??null,l,f,D,d,_,S,nT),s.context=K_(null),a=s.current,l=Dn(),l=Pr(l),f=Us(l),f.callback=null,js(a,f,l),a=l,s.current.lanes=a,Nr(s,a),Ni(s),n[yi]=s.current,wm(n),new bh(s)},Jl.version="19.2.0",Jl}var dT;function WC(){if(dT)return Ym.exports;dT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ym.exports=$C(),Ym.exports}var JC=WC();const ZC=()=>{};var mT={};const tS=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},tx=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],c=i[e++],m=i[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],c=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},eS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,R=g&63;p||(R=64,c||(b=64)),r.push(e[v],e[T],e[b],e[R])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(tS(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):tx(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const T=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new ex;const b=u<<2|m>>4;if(r.push(b),g!==64){const R=m<<4&240|g>>2;if(r.push(R),T!==64){const P=g<<6&192|T;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ex extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nx=function(i){const t=tS(i);return eS.encodeByteArray(t,!0)},Qh=function(i){return nx(i).replace(/\./g,"")},nS=function(i){try{return eS.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ix(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sx=()=>ix().__FIREBASE_DEFAULTS__,rx=()=>{if(typeof process>"u"||typeof mT>"u")return;const i=mT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ax=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&nS(i[1]);return t&&JSON.parse(t)},Ef=()=>{try{return ZC()||sx()||rx()||ax()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},iS=i=>Ef()?.emulatorHosts?.[i],ox=i=>{const t=iS(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},sS=()=>Ef()?.config,rS=i=>Ef()?.[`_${i}`];class lx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aS(i){return(await fetch(i,{credentials:"include"})).ok}function ux(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Qh(JSON.stringify(e)),Qh(JSON.stringify(c)),""].join(".")}const ou={};function cx(){const i={prod:[],emulator:[]};for(const t of Object.keys(ou))ou[t]?i.emulator.push(t):i.prod.push(t);return i}function hx(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let pT=!1;function oS(i,t){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||ou[i]===t||ou[i]||pT)return;ou[i]=t;function e(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=cx().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{pT=!0,c()},b}function v(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=hx(r),R=e("text"),P=document.getElementById(R)||document.createElement("span"),k=e("learnmore"),z=document.getElementById(k)||document.createElement("a"),Q=e("preprendIcon"),J=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Y=b.element;m(Y),v(z,k);const lt=g();p(J,Q),Y.append(J,P,z,lt),document.body.appendChild(Y)}u?(P.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function dx(){const i=Ef()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function px(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function gx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yx(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function vx(){return!dx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _x(){try{return typeof indexedDB=="object"}catch{return!1}}function Tx(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const Ex="FirebaseError";class Es extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=Ex,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?bx(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Es(o,m,r)}}function bx(i,t){return i.replace(Sx,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Sx=/\{\$([^}]+)}/g;function Ax(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function gr(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=i[o],c=t[o];if(gT(u)&&gT(c)){if(!gr(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function gT(i){return i!==null&&typeof i=="object"}function Ou(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function wx(i,t){const e=new Rx(i,t);return e.subscribe.bind(e)}class Rx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");Cx(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cx(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Wm(){}function fn(i){return i&&i._delegate?i._delegate:i}class ma{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const oa="[DEFAULT]";class xx{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new lx;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Dx(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ix(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ix(i){return i===oa?void 0:i}function Dx(i){return i.instantiationMode==="EAGER"}class Vx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new xx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var kt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(kt||(kt={}));const Mx={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Nx=kt.INFO,Ox={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Px=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=Ox[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tg{constructor(t){this.name=t,this._logLevel=Nx,this._logHandler=Px,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const kx=(i,t)=>t.some(e=>i instanceof e);let yT,vT;function Lx(){return yT||(yT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ux(){return vT||(vT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lS=new WeakMap,wp=new WeakMap,uS=new WeakMap,Jm=new WeakMap,Eg=new WeakMap;function jx(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{e(ur(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&lS.set(e,i)}).catch(()=>{}),Eg.set(t,i),t}function zx(i){if(wp.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});wp.set(i,t)}let Rp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return wp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||uS.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ur(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Bx(i){Rp=i(Rp)}function Fx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(Zm(this),t,...e);return uS.set(r,t.sort?t.sort():[t]),ur(r)}:Ux().includes(i)?function(...t){return i.apply(Zm(this),t),ur(lS.get(this))}:function(...t){return ur(i.apply(Zm(this),t))}}function Hx(i){return typeof i=="function"?Fx(i):(i instanceof IDBTransaction&&zx(i),kx(i,Lx())?new Proxy(i,Rp):i)}function ur(i){if(i instanceof IDBRequest)return jx(i);if(Jm.has(i))return Jm.get(i);const t=Hx(i);return t!==i&&(Jm.set(i,t),Eg.set(t,i)),t}const Zm=i=>Eg.get(i);function qx(i,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=ur(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ur(c.result),p.oldVersion,p.newVersion,ur(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Gx=["get","getKey","getAll","getAllKeys","count"],Kx=["put","add","delete","clear"],tp=new Map;function _T(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(tp.get(t))return tp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=Kx.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Gx.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return tp.set(t,u),u}Bx(i=>({...i,get:(t,e,r)=>_T(t,e)||i.get(t,e,r),has:(t,e)=>!!_T(t,e)||i.has(t,e)}));class Yx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Qx(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function Qx(i){return i.getComponent()?.type==="VERSION"}const Cp="@firebase/app",TT="0.14.7";const ps=new Tg("@firebase/app"),Xx="@firebase/app-compat",$x="@firebase/analytics-compat",Wx="@firebase/analytics",Jx="@firebase/app-check-compat",Zx="@firebase/app-check",t2="@firebase/auth",e2="@firebase/auth-compat",n2="@firebase/database",i2="@firebase/data-connect",s2="@firebase/database-compat",r2="@firebase/functions",a2="@firebase/functions-compat",o2="@firebase/installations",l2="@firebase/installations-compat",u2="@firebase/messaging",c2="@firebase/messaging-compat",h2="@firebase/performance",f2="@firebase/performance-compat",d2="@firebase/remote-config",m2="@firebase/remote-config-compat",p2="@firebase/storage",g2="@firebase/storage-compat",y2="@firebase/firestore",v2="@firebase/ai",_2="@firebase/firestore-compat",T2="firebase",E2="12.8.0";const xp="[DEFAULT]",b2={[Cp]:"fire-core",[Xx]:"fire-core-compat",[Wx]:"fire-analytics",[$x]:"fire-analytics-compat",[Zx]:"fire-app-check",[Jx]:"fire-app-check-compat",[t2]:"fire-auth",[e2]:"fire-auth-compat",[n2]:"fire-rtdb",[i2]:"fire-data-connect",[s2]:"fire-rtdb-compat",[r2]:"fire-fn",[a2]:"fire-fn-compat",[o2]:"fire-iid",[l2]:"fire-iid-compat",[u2]:"fire-fcm",[c2]:"fire-fcm-compat",[h2]:"fire-perf",[f2]:"fire-perf-compat",[d2]:"fire-rc",[m2]:"fire-rc-compat",[p2]:"fire-gcs",[g2]:"fire-gcs-compat",[y2]:"fire-fst",[_2]:"fire-fst-compat",[v2]:"fire-vertex","fire-js":"fire-js",[T2]:"fire-js-all"};const Xh=new Map,S2=new Map,Ip=new Map;function ET(i,t){try{i.container.addComponent(t)}catch(e){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Co(i){const t=i.name;if(Ip.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;Ip.set(t,i);for(const e of Xh.values())ET(e,i);for(const e of S2.values())ET(e,i);return!0}function bg(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function ui(i){return i==null?!1:i.settings!==void 0}const A2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Nu("app","Firebase",A2);class w2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Uo=E2;function cS(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:xp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(e||(e=sS()),!e)throw cr.create("no-options");const u=Xh.get(o);if(u){if(gr(e,u.options)&&gr(r,u.config))return u;throw cr.create("duplicate-app",{appName:o})}const c=new Vx(o);for(const p of Ip.values())c.addComponent(p);const m=new w2(e,r,c);return Xh.set(o,m),m}function hS(i=xp){const t=Xh.get(i);if(!t&&i===xp&&sS())return cS();if(!t)throw cr.create("no-app",{appName:i});return t}function hr(i,t,e){let r=b2[i]??i;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(c.join(" "));return}Co(new ma(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const R2="firebase-heartbeat-database",C2=1,vu="firebase-heartbeat-store";let ep=null;function fS(){return ep||(ep=qx(R2,C2,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(vu)}catch(e){console.warn(e)}}}}).catch(i=>{throw cr.create("idb-open",{originalErrorMessage:i.message})})),ep}async function x2(i){try{const e=(await fS()).transaction(vu),r=await e.objectStore(vu).get(dS(i));return await e.done,r}catch(t){if(t instanceof Es)ps.warn(t.message);else{const e=cr.create("idb-get",{originalErrorMessage:t?.message});ps.warn(e.message)}}}async function bT(i,t){try{const r=(await fS()).transaction(vu,"readwrite");await r.objectStore(vu).put(t,dS(i)),await r.done}catch(e){if(e instanceof Es)ps.warn(e.message);else{const r=cr.create("idb-set",{originalErrorMessage:e?.message});ps.warn(r.message)}}}function dS(i){return`${i.name}!${i.options.appId}`}const I2=1024,D2=30;class V2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new N2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ST();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>D2){const o=O2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ST(),{heartbeatsToSend:e,unsentEntries:r}=M2(this._heartbeatsCache.heartbeats),o=Qh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ps.warn(t),""}}}function ST(){return new Date().toISOString().substring(0,10)}function M2(i,t=I2){const e=[];let r=i.slice();for(const o of i){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),AT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),AT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class N2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _x()?Tx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await x2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function AT(i){return Qh(JSON.stringify({version:2,heartbeats:i})).length}function O2(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}function P2(i){Co(new ma("platform-logger",t=>new Yx(t),"PRIVATE")),Co(new ma("heartbeat",t=>new V2(t),"PRIVATE")),hr(Cp,TT,i),hr(Cp,TT,"esm2020"),hr("fire-js","")}P2("");var k2="firebase",L2="12.8.0";hr(k2,L2,"app");function mS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U2=mS,pS=new Nu("auth","Firebase",mS());const $h=new Tg("@firebase/auth");function j2(i,...t){$h.logLevel<=kt.WARN&&$h.warn(`Auth (${Uo}): ${i}`,...t)}function Oh(i,...t){$h.logLevel<=kt.ERROR&&$h.error(`Auth (${Uo}): ${i}`,...t)}function gs(i,...t){throw Sg(i,...t)}function ki(i,...t){return Sg(i,...t)}function gS(i,t,e){const r={...U2(),[t]:e};return new Nu("auth","Firebase",r).create(t,{appName:i.name})}function fr(i){return gS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sg(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return pS.create(i,...t)}function Et(i,t,...e){if(!i)throw Sg(t,...e)}function hs(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Oh(t),new Error(t)}function ys(i,t){i||hs(t)}function Dp(){return typeof self<"u"&&self.location?.href||""}function z2(){return wT()==="http:"||wT()==="https:"}function wT(){return typeof self<"u"&&self.location?.protocol||null}function B2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z2()||px()||"connection"in navigator)?navigator.onLine:!0}function F2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Pu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ys(e>t,"Short delay should be less than long delay!"),this.isMobile=fx()||gx()}get(){return B2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ag(i,t){ys(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class yS{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const H2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const q2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new Pu(3e4,6e4);function bf(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function jo(i,t,e,r,o={}){return vS(i,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Ou({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return mx()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(g.credentials="include"),yS.fetch()(await TS(i,i.config.apiHost,e,m),g)})}async function vS(i,t,e){i._canInitEmulator=!1;const r={...H2,...t};try{const o=new K2(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ah(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ah(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ah(i,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gS(i,v,g);gs(i,v)}}catch(o){if(o instanceof Es)throw o;gs(i,"network-request-failed",{message:String(o)})}}async function _S(i,t,e,r,o={}){const u=await jo(i,t,e,r,o);return"mfaPendingCredential"in u&&gs(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function TS(i,t,e,r){const o=`${t}${e}?${r}`,u=i,c=u.config.emulator?Ag(i.config,o):`${i.config.apiScheme}://${o}`;return q2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class K2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),G2.get())})}}function Ah(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=ki(i,t,r);return o.customData._tokenResponse=e,o}async function Y2(i,t){return jo(i,"POST","/v1/accounts:delete",t)}async function Wh(i,t){return jo(i,"POST","/v1/accounts:lookup",t)}function lu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Q2(i,t=!1){const e=fn(i),r=await e.getIdToken(t),o=wg(r);Et(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:lu(np(o.auth_time)),issuedAtTime:lu(np(o.iat)),expirationTime:lu(np(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function np(i){return Number(i)*1e3}function wg(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=nS(e);return o?JSON.parse(o):(Oh("Failed to decode base64 JWT payload"),null)}catch(o){return Oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function RT(i){const t=wg(i);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function _u(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Es&&X2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function X2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class $2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jh(i){const t=i.auth,e=await i.getIdToken(),r=await _u(i,Wh(t,{idToken:e}));Et(r?.users.length,t,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?ES(o.providerUserInfo):[],c=J2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function W2(i){const t=fn(i);await Jh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function J2(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function ES(i){return i.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function Z2(i,t){const e=await vS(i,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await TS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(p.credentials="include"),yS.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function tI(i,t){return jo(i,"POST","/v2/accounts:revokeToken",bf(i,t))}class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):RT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=RT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await Z2(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new To;return r&&(Et(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return hs("not implemented")}}function er(i,t){Et(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ci{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new $2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await _u(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Q2(this,t)}reload(){return W2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(fr(this.auth));const t=await this.getIdToken();return await _u(this,Y2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:R,providerData:P,stsTokenManager:k}=e;Et(T&&k,t,"internal-error");const z=To.fromJSON(this.name,k);Et(typeof T=="string",t,"internal-error"),er(r,t.name),er(o,t.name),Et(typeof b=="boolean",t,"internal-error"),Et(typeof R=="boolean",t,"internal-error"),er(u,t.name),er(c,t.name),er(m,t.name),er(p,t.name),er(g,t.name),er(v,t.name);const Q=new ci({uid:T,auth:t,email:o,emailVerified:b,displayName:r,isAnonymous:R,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:g,lastLoginAt:v});return P&&Array.isArray(P)&&(Q.providerData=P.map(J=>({...J}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(t,e,r=!1){const o=new To;o.updateFromServerResponse(e);const u=new ci({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Jh(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ES(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new To;m.updateFromIdToken(r);const p=new ci({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const CT=new Map;function fs(i){ys(i instanceof Function,"Expected a class definition");let t=CT.get(i);return t?(ys(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,CT.set(i,t),t)}class bS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}bS.type="NONE";const xT=bS;function Ph(i,t,e){return`firebase:${i}:${t}:${e}`}class Eo{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ph("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Wh(this.auth,{idToken:t}).catch(()=>{});return e?ci._fromGetAccountInfoResponse(this.auth,e,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Eo(fs(xT),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||fs(xT);const c=Ph(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const b=await Wh(t,{idToken:v}).catch(()=>{});if(!b)break;T=await ci._fromGetAccountInfoResponse(t,b,v)}else T=ci._fromJSON(t,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Eo(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Eo(u,t,r))}}function IT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(RS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xS(t))return"Blackberry";if(IS(t))return"Webos";if(AS(t))return"Safari";if((t.includes("chrome/")||wS(t))&&!t.includes("edge/"))return"Chrome";if(CS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if(r?.length===2)return r[1]}return"Other"}function SS(i=an()){return/firefox\//i.test(i)}function AS(i=an()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wS(i=an()){return/crios\//i.test(i)}function RS(i=an()){return/iemobile/i.test(i)}function CS(i=an()){return/android/i.test(i)}function xS(i=an()){return/blackberry/i.test(i)}function IS(i=an()){return/webos/i.test(i)}function Rg(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eI(i=an()){return Rg(i)&&!!window.navigator?.standalone}function nI(){return yx()&&document.documentMode===10}function DS(i=an()){return Rg(i)||CS(i)||IS(i)||xS(i)||/windows phone/i.test(i)||RS(i)}function VS(i,t=[]){let e;switch(i){case"Browser":e=IT(an());break;case"Worker":e=`${IT(an())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Uo}/${r}`}class iI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function sI(i,t={}){return jo(i,"GET","/v2/passwordPolicy",bf(i,t))}const rI=6;class aI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??rI,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class oI{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DT(this),this.idTokenSubscription=new DT(this),this.beforeStateQueue=new iI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=fs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Wh(this,{idToken:t}),r=await ci._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ui(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Jh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=F2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ui(this.app))return Promise.reject(fr(this));const e=t?fn(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ui(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sI(this),e=new aI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await tI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&fs(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[fs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&j2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Sf(i){return fn(i)}class DT{constructor(t){this.auth=t,this.observer=null,this.addObserver=wx(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lI(i){Cg=i}function uI(i){return Cg.loadJS(i)}function cI(){return Cg.gapiScript}function hI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function fI(i,t){const e=bg(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(gr(u,t??{}))return o;gs(o,"already-initialized")}return e.initialize({options:t})}function dI(i,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(fs);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t?.popupRedirectResolver)}function mI(i,t,e){const r=Sf(i);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=MS(t),{host:c,port:m}=pI(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(gr(g,r.config.emulator)&&gr(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Lo(c)?(aS(`${u}//${c}${p}`),oS("Auth",!0)):gI()}function MS(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function pI(i){const t=MS(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:VT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:VT(c)}}}function VT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function gI(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class NS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return hs("not implemented")}_getIdTokenResponse(t){return hs("not implemented")}_linkToIdToken(t,e){return hs("not implemented")}_getReauthenticationResolver(t){return hs("not implemented")}}async function bo(i,t){return _S(i,"POST","/v1/accounts:signInWithIdp",bf(i,t))}const yI="http://localhost";class pa extends NS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):gs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new pa(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return bo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,bo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,bo(t,e)}buildRequest(){const t={requestUri:yI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ou(e)}return t}}class OS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ku extends OS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ir extends ku{constructor(){super("facebook.com")}static credential(t){return pa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class sr extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return pa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return sr.credential(e,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class rr extends ku{constructor(){super("github.com")}static credential(t){return pa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends ku{constructor(){super("twitter.com")}static credential(t,e){return pa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return ar.credential(e,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function vI(i,t){return _S(i,"POST","/v1/accounts:signUp",bf(i,t))}class yr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await ci._fromIdTokenResponse(t,r,o),c=MT(r);return new yr({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=MT(r);return new yr({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function MT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function PS(i){if(ui(i.app))return Promise.reject(fr(i));const t=Sf(i);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new yr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await vI(t,{returnSecureToken:!0}),r=await yr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}class Zh extends Es{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new Zh(t,e,r,o)}}function kS(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(i,u,t,r):u})}async function _I(i,t,e=!1){const r=await _u(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return yr._forOperation(i,"link",r)}async function TI(i,t,e=!1){const{auth:r}=i;if(ui(r.app))return Promise.reject(fr(r));const o="reauthenticate";try{const u=await _u(i,kS(r,o,t,i),e);Et(u.idToken,r,"internal-error");const c=wg(u.idToken);Et(c,r,"internal-error");const{sub:m}=c;return Et(i.uid===m,r,"user-mismatch"),yr._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&gs(r,"user-mismatch"),u}}async function EI(i,t,e=!1){if(ui(i.app))return Promise.reject(fr(i));const r="signIn",o=await kS(i,r,t),u=await yr._fromIdTokenResponse(i,r,o);return e||await i._updateCurrentUser(u.user),u}function bI(i,t,e,r){return fn(i).onIdTokenChanged(t,e,r)}function SI(i,t,e){return fn(i).beforeAuthStateChanged(t,e)}const tf="__sak";class LS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const AI=1e3,wI=10;class US extends LS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);nI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,wI):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},AI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}US.type="LOCAL";const RI=US;class jS extends LS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}jS.type="SESSION";const zS=jS;function CI(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Af{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Af(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await CI(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];function xg(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}class xI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=xg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Li(){return window}function II(i){Li().location.href=i}function BS(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function DI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VI(){return navigator?.serviceWorker?.controller||null}function MI(){return BS()?self:null}const FS="firebaseLocalStorageDb",NI=1,ef="firebaseLocalStorage",HS="fbase_key";class Lu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function wf(i,t){return i.transaction([ef],t?"readwrite":"readonly").objectStore(ef)}function OI(){const i=indexedDB.deleteDatabase(FS);return new Lu(i).toPromise()}function Mp(){const i=indexedDB.open(FS,NI);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(ef,{keyPath:HS})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(ef)?t(r):(r.close(),await OI(),t(await Mp()))})})}async function NT(i,t,e){const r=wf(i,!0).put({[HS]:t,value:e});return new Lu(r).toPromise()}async function PI(i,t){const e=wf(i,!1).get(t),r=await new Lu(e).toPromise();return r===void 0?null:r.value}function OT(i,t){const e=wf(i,!0).delete(t);return new Lu(e).toPromise()}const kI=800,LI=3;class qS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>LI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(MI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DI(),!this.activeServiceWorker)return;this.sender=new xI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mp();return await NT(t,tf,"1"),await OT(t,tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>NT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>PI(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>OT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=wf(o,!1).getAll();return new Lu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qS.type="LOCAL";const UI=qS;new Pu(3e4,6e4);function jI(i,t){return t?fs(t):(Et(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Ig extends NS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return bo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return bo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function zI(i){return EI(i.auth,new Ig(i),i.bypassAuthState)}function BI(i){const{auth:t,user:e}=i;return Et(e,t,"internal-error"),TI(e,new Ig(i),i.bypassAuthState)}async function FI(i){const{auth:t,user:e}=i;return Et(e,t,"internal-error"),_I(e,new Ig(i),i.bypassAuthState)}class GS{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zI;case"linkViaPopup":case"linkViaRedirect":return FI;case"reauthViaPopup":case"reauthViaRedirect":return BI;default:gs(this.auth,"internal-error")}}resolve(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HI=new Pu(2e3,1e4);class po extends GS{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const t=xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,HI.get())};t()}}po.currentPopupAction=null;const qI="pendingRedirect",kh=new Map;class GI extends GS{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=kh.get(this.auth._key());if(!t){try{const r=await KI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}kh.set(this.auth._key(),t)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KI(i,t){const e=XI(t),r=QI(i);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function YI(i,t){kh.set(i._key(),t)}function QI(i){return fs(i._redirectPersistence)}function XI(i){return Ph(qI,i.config.apiKey,i.name)}async function $I(i,t,e=!1){if(ui(i.app))return Promise.reject(fr(i));const r=Sf(i),o=jI(r,t),c=await new GI(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const WI=600*1e3;class JI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!KS(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ki(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=WI&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(t))}saveEventToCache(t){this.cachedEventUids.add(PT(t)),this.lastProcessedEventTime=Date.now()}}function PT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function KS({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function ZI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KS(i);default:return!1}}async function tD(i,t={}){return jo(i,"GET","/v1/projects",t)}const eD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nD=/^https?/;async function iD(i){if(i.config.emulator)return;const{authorizedDomains:t}=await tD(i);for(const e of t)try{if(sD(e))return}catch{}gs(i,"unauthorized-domain")}function sD(i){const t=Dp(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!nD.test(e))return!1;if(eD.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const rD=new Pu(3e4,6e4);function kT(){const i=Li().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function aD(i){return new Promise((t,e)=>{function r(){kT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kT(),e(ki(i,"network-request-failed"))},timeout:rD.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)r();else{const o=hI("iframefcb");return Li()[o]=()=>{gapi.load?r():e(ki(i,"network-request-failed"))},uI(`${cI()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Lh=null,t})}let Lh=null;function oD(i){return Lh=Lh||aD(i),Lh}const lD=new Pu(5e3,15e3),uD="__/auth/iframe",cD="emulator/auth/iframe",hD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dD(i){const t=i.config;Et(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?Ag(t,cD):`https://${i.config.authDomain}/${uD}`,r={apiKey:t.apiKey,appName:i.name,v:Uo},o=fD.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${Ou(r).slice(1)}`}async function mD(i){const t=await oD(i),e=Li().gapi;return Et(e,i,"internal-error"),t.open({where:document.body,url:dD(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=ki(i,"network-request-failed"),m=Li().setTimeout(()=>{u(c)},lD.get());function p(){Li().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const pD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gD=500,yD=600,vD="_blank",_D="http://localhost";class LT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TD(i,t,e,r=gD,o=yD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...pD,width:r.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();e&&(m=wS(g)?vD:e),SS(g)&&(t=t||_D,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[R,P])=>`${b}${R}=${P},`,"");if(eI(g)&&m!=="_self")return ED(t||"",m),new LT(null);const T=window.open(t||"",m,v);Et(T,i,"popup-blocked");try{T.focus()}catch{}return new LT(T)}function ED(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const bD="__/auth/handler",SD="emulator/auth/handler",AD=encodeURIComponent("fac");async function UT(i,t,e,r,o,u){Et(i.config.authDomain,i,"auth-domain-config-required"),Et(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:Uo,eventId:o};if(t instanceof OS){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",Ax(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(t instanceof ku){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${AD}=${encodeURIComponent(p)}`:"";return`${wD(i)}?${Ou(m).slice(1)}${g}`}function wD({config:i}){return i.emulator?Ag(i,SD):`https://${i.authDomain}/${bD}`}const ip="webStorageSupport";class RD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zS,this._completeRedirectFn=$I,this._overrideRedirectResult=YI}async _openPopup(t,e,r,o){ys(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await UT(t,e,r,Dp(),o);return TD(t,u,xg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await UT(t,e,r,Dp(),o);return II(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(ys(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await mD(t),r=new JI(t);return e.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ip,{type:ip},o=>{const u=o?.[0]?.[ip];u!==void 0&&e(!!u),gs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=iD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return DS()||AS()||Rg()}}const CD=RD;var jT="@firebase/auth",zT="1.12.0";class xD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ID(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DD(i){Co(new ma("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(i)},g=new oI(r,o,u,p);return dI(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Co(new ma("auth-internal",t=>{const e=Sf(t.getProvider("auth").getImmediate());return(r=>new xD(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(jT,zT,ID(i)),hr(jT,zT,"esm2020")}const VD=300,MD=rS("authIdTokenMaxAge")||VD;let BT=null;const ND=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>MD)return;const o=e?.token;BT!==o&&(BT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function OD(i=hS()){const t=bg(i,"auth");if(t.isInitialized())return t.getImmediate();const e=fI(i,{popupRedirectResolver:CD,persistence:[UI,RI,zS]}),r=rS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=ND(u.toString());SI(e,c,()=>c(e.currentUser)),bI(e,m=>c(m))}}const o=iS("auth");return o&&mI(e,`http://${o}`),e}function PD(){return document.getElementsByTagName("head")?.[0]??document}lI({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const u=ki("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",PD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DD("Browser");var FT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,YS;(function(){var i;function t(C,w){function x(){}x.prototype=w.prototype,C.F=w.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(N,V,j){for(var I=Array(arguments.length-2),te=2;te<arguments.length;te++)I[te-2]=arguments[te];return w.prototype[V].apply(N,I)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,x){x||(x=0);const N=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)N[V]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(V=0;V<16;++V)N[V]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=C.g[0],x=C.g[1],V=C.g[2];let j=C.g[3],I;I=w+(j^x&(V^j))+N[0]+3614090360&4294967295,w=x+(I<<7&4294967295|I>>>25),I=j+(V^w&(x^V))+N[1]+3905402710&4294967295,j=w+(I<<12&4294967295|I>>>20),I=V+(x^j&(w^x))+N[2]+606105819&4294967295,V=j+(I<<17&4294967295|I>>>15),I=x+(w^V&(j^w))+N[3]+3250441966&4294967295,x=V+(I<<22&4294967295|I>>>10),I=w+(j^x&(V^j))+N[4]+4118548399&4294967295,w=x+(I<<7&4294967295|I>>>25),I=j+(V^w&(x^V))+N[5]+1200080426&4294967295,j=w+(I<<12&4294967295|I>>>20),I=V+(x^j&(w^x))+N[6]+2821735955&4294967295,V=j+(I<<17&4294967295|I>>>15),I=x+(w^V&(j^w))+N[7]+4249261313&4294967295,x=V+(I<<22&4294967295|I>>>10),I=w+(j^x&(V^j))+N[8]+1770035416&4294967295,w=x+(I<<7&4294967295|I>>>25),I=j+(V^w&(x^V))+N[9]+2336552879&4294967295,j=w+(I<<12&4294967295|I>>>20),I=V+(x^j&(w^x))+N[10]+4294925233&4294967295,V=j+(I<<17&4294967295|I>>>15),I=x+(w^V&(j^w))+N[11]+2304563134&4294967295,x=V+(I<<22&4294967295|I>>>10),I=w+(j^x&(V^j))+N[12]+1804603682&4294967295,w=x+(I<<7&4294967295|I>>>25),I=j+(V^w&(x^V))+N[13]+4254626195&4294967295,j=w+(I<<12&4294967295|I>>>20),I=V+(x^j&(w^x))+N[14]+2792965006&4294967295,V=j+(I<<17&4294967295|I>>>15),I=x+(w^V&(j^w))+N[15]+1236535329&4294967295,x=V+(I<<22&4294967295|I>>>10),I=w+(V^j&(x^V))+N[1]+4129170786&4294967295,w=x+(I<<5&4294967295|I>>>27),I=j+(x^V&(w^x))+N[6]+3225465664&4294967295,j=w+(I<<9&4294967295|I>>>23),I=V+(w^x&(j^w))+N[11]+643717713&4294967295,V=j+(I<<14&4294967295|I>>>18),I=x+(j^w&(V^j))+N[0]+3921069994&4294967295,x=V+(I<<20&4294967295|I>>>12),I=w+(V^j&(x^V))+N[5]+3593408605&4294967295,w=x+(I<<5&4294967295|I>>>27),I=j+(x^V&(w^x))+N[10]+38016083&4294967295,j=w+(I<<9&4294967295|I>>>23),I=V+(w^x&(j^w))+N[15]+3634488961&4294967295,V=j+(I<<14&4294967295|I>>>18),I=x+(j^w&(V^j))+N[4]+3889429448&4294967295,x=V+(I<<20&4294967295|I>>>12),I=w+(V^j&(x^V))+N[9]+568446438&4294967295,w=x+(I<<5&4294967295|I>>>27),I=j+(x^V&(w^x))+N[14]+3275163606&4294967295,j=w+(I<<9&4294967295|I>>>23),I=V+(w^x&(j^w))+N[3]+4107603335&4294967295,V=j+(I<<14&4294967295|I>>>18),I=x+(j^w&(V^j))+N[8]+1163531501&4294967295,x=V+(I<<20&4294967295|I>>>12),I=w+(V^j&(x^V))+N[13]+2850285829&4294967295,w=x+(I<<5&4294967295|I>>>27),I=j+(x^V&(w^x))+N[2]+4243563512&4294967295,j=w+(I<<9&4294967295|I>>>23),I=V+(w^x&(j^w))+N[7]+1735328473&4294967295,V=j+(I<<14&4294967295|I>>>18),I=x+(j^w&(V^j))+N[12]+2368359562&4294967295,x=V+(I<<20&4294967295|I>>>12),I=w+(x^V^j)+N[5]+4294588738&4294967295,w=x+(I<<4&4294967295|I>>>28),I=j+(w^x^V)+N[8]+2272392833&4294967295,j=w+(I<<11&4294967295|I>>>21),I=V+(j^w^x)+N[11]+1839030562&4294967295,V=j+(I<<16&4294967295|I>>>16),I=x+(V^j^w)+N[14]+4259657740&4294967295,x=V+(I<<23&4294967295|I>>>9),I=w+(x^V^j)+N[1]+2763975236&4294967295,w=x+(I<<4&4294967295|I>>>28),I=j+(w^x^V)+N[4]+1272893353&4294967295,j=w+(I<<11&4294967295|I>>>21),I=V+(j^w^x)+N[7]+4139469664&4294967295,V=j+(I<<16&4294967295|I>>>16),I=x+(V^j^w)+N[10]+3200236656&4294967295,x=V+(I<<23&4294967295|I>>>9),I=w+(x^V^j)+N[13]+681279174&4294967295,w=x+(I<<4&4294967295|I>>>28),I=j+(w^x^V)+N[0]+3936430074&4294967295,j=w+(I<<11&4294967295|I>>>21),I=V+(j^w^x)+N[3]+3572445317&4294967295,V=j+(I<<16&4294967295|I>>>16),I=x+(V^j^w)+N[6]+76029189&4294967295,x=V+(I<<23&4294967295|I>>>9),I=w+(x^V^j)+N[9]+3654602809&4294967295,w=x+(I<<4&4294967295|I>>>28),I=j+(w^x^V)+N[12]+3873151461&4294967295,j=w+(I<<11&4294967295|I>>>21),I=V+(j^w^x)+N[15]+530742520&4294967295,V=j+(I<<16&4294967295|I>>>16),I=x+(V^j^w)+N[2]+3299628645&4294967295,x=V+(I<<23&4294967295|I>>>9),I=w+(V^(x|~j))+N[0]+4096336452&4294967295,w=x+(I<<6&4294967295|I>>>26),I=j+(x^(w|~V))+N[7]+1126891415&4294967295,j=w+(I<<10&4294967295|I>>>22),I=V+(w^(j|~x))+N[14]+2878612391&4294967295,V=j+(I<<15&4294967295|I>>>17),I=x+(j^(V|~w))+N[5]+4237533241&4294967295,x=V+(I<<21&4294967295|I>>>11),I=w+(V^(x|~j))+N[12]+1700485571&4294967295,w=x+(I<<6&4294967295|I>>>26),I=j+(x^(w|~V))+N[3]+2399980690&4294967295,j=w+(I<<10&4294967295|I>>>22),I=V+(w^(j|~x))+N[10]+4293915773&4294967295,V=j+(I<<15&4294967295|I>>>17),I=x+(j^(V|~w))+N[1]+2240044497&4294967295,x=V+(I<<21&4294967295|I>>>11),I=w+(V^(x|~j))+N[8]+1873313359&4294967295,w=x+(I<<6&4294967295|I>>>26),I=j+(x^(w|~V))+N[15]+4264355552&4294967295,j=w+(I<<10&4294967295|I>>>22),I=V+(w^(j|~x))+N[6]+2734768916&4294967295,V=j+(I<<15&4294967295|I>>>17),I=x+(j^(V|~w))+N[13]+1309151649&4294967295,x=V+(I<<21&4294967295|I>>>11),I=w+(V^(x|~j))+N[4]+4149444226&4294967295,w=x+(I<<6&4294967295|I>>>26),I=j+(x^(w|~V))+N[11]+3174756917&4294967295,j=w+(I<<10&4294967295|I>>>22),I=V+(w^(j|~x))+N[2]+718787259&4294967295,V=j+(I<<15&4294967295|I>>>17),I=x+(j^(V|~w))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const x=w-this.blockSize,N=this.C;let V=this.h,j=0;for(;j<w;){if(V==0)for(;j<=x;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<w;)if(N[V++]=C.charCodeAt(j++),V==this.blockSize){o(this,N),V=0;break}}else for(;j<w;)if(N[V++]=C[j++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,x=0;x<4;++x)for(let N=0;N<32;N+=8)C[w++]=this.g[x]>>>N&255;return C};function u(C,w){var x=m;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=w(C)}function c(C,w){this.h=w;const x=[];let N=!0;for(let V=C.length-1;V>=0;V--){const j=C[V]|0;N&&j==w||(x[V]=j,N=!1)}this.g=x}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return z(g(-C));const w=[];let x=1;for(let N=0;C>=x;N++)w[N]=C/x|0,x*=4294967296;return new c(w,0)}function v(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return z(v(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(w,8));let N=T;for(let j=0;j<C.length;j+=8){var V=Math.min(8,C.length-j);const I=parseInt(C.substring(j,j+V),w);V<8?(V=g(Math.pow(w,V)),N=N.j(V).add(g(I))):(N=N.j(x),N=N.add(g(I)))}return N}var T=p(0),b=p(1),R=p(16777216);i=c.prototype,i.m=function(){if(k(this))return-z(this).m();let C=0,w=1;for(let x=0;x<this.g.length;x++){const N=this.i(x);C+=(N>=0?N:4294967296+N)*w,w*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(k(this))return"-"+z(this).toString(C);const w=g(Math.pow(C,6));var x=this;let N="";for(;;){const V=lt(x,w).g;x=Q(x,V.j(w));let j=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=V,P(x))return j+N;for(;j.length<6;)j="0"+j;N=j+N}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function k(C){return C.h==-1}i.l=function(C){return C=Q(this,C),k(C)?-1:P(C)?0:1};function z(C){const w=C.g.length,x=[];for(let N=0;N<w;N++)x[N]=~C.g[N];return new c(x,~C.h).add(b)}i.abs=function(){return k(this)?z(this):this},i.add=function(C){const w=Math.max(this.g.length,C.g.length),x=[];let N=0;for(let V=0;V<=w;V++){let j=N+(this.i(V)&65535)+(C.i(V)&65535),I=(j>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);N=I>>>16,j&=65535,I&=65535,x[V]=I<<16|j}return new c(x,x[x.length-1]&-2147483648?-1:0)};function Q(C,w){return C.add(z(w))}i.j=function(C){if(P(this)||P(C))return T;if(k(this))return k(C)?z(this).j(z(C)):z(z(this).j(C));if(k(C))return z(this.j(z(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,x=[];for(var N=0;N<2*w;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(let V=0;V<C.g.length;V++){const j=this.i(N)>>>16,I=this.i(N)&65535,te=C.i(V)>>>16,fe=C.i(V)&65535;x[2*N+2*V]+=I*fe,J(x,2*N+2*V),x[2*N+2*V+1]+=j*fe,J(x,2*N+2*V+1),x[2*N+2*V+1]+=I*te,J(x,2*N+2*V+1),x[2*N+2*V+2]+=j*te,J(x,2*N+2*V+2)}for(C=0;C<w;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=w;C<2*w;C++)x[C]=0;return new c(x,0)};function J(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Y(C,w){this.g=C,this.h=w}function lt(C,w){if(P(w))throw Error("division by zero");if(P(C))return new Y(T,T);if(k(C))return w=lt(z(C),w),new Y(z(w.g),z(w.h));if(k(w))return w=lt(C,z(w)),new Y(z(w.g),w.h);if(C.g.length>30){if(k(C)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var x=b,N=w;N.l(C)<=0;)x=ot(x),N=ot(N);var V=mt(x,1),j=mt(N,1);for(N=mt(N,2),x=mt(x,2);!P(N);){var I=j.add(N);I.l(C)<=0&&(V=V.add(x),j=I),N=mt(N,1),x=mt(x,1)}return w=Q(C,V.j(w)),new Y(V,w)}for(V=T;C.l(w)>=0;){for(x=Math.max(1,Math.floor(C.m()/w.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),j=g(x),I=j.j(w);k(I)||I.l(C)>0;)x-=N,j=g(x),I=j.j(w);P(j)&&(j=b),V=V.add(j),C=Q(C,I)}return new Y(V,C)}i.B=function(C){return lt(this,C).h},i.and=function(C){const w=Math.max(this.g.length,C.g.length),x=[];for(let N=0;N<w;N++)x[N]=this.i(N)&C.i(N);return new c(x,this.h&C.h)},i.or=function(C){const w=Math.max(this.g.length,C.g.length),x=[];for(let N=0;N<w;N++)x[N]=this.i(N)|C.i(N);return new c(x,this.h|C.h)},i.xor=function(C){const w=Math.max(this.g.length,C.g.length),x=[];for(let N=0;N<w;N++)x[N]=this.i(N)^C.i(N);return new c(x,this.h^C.h)};function ot(C){const w=C.g.length+1,x=[];for(let N=0;N<w;N++)x[N]=C.i(N)<<1|C.i(N-1)>>>31;return new c(x,C.h)}function mt(C,w){const x=w>>5;w%=32;const N=C.g.length-x,V=[];for(let j=0;j<N;j++)V[j]=w>0?C.i(j+x)>>>w|C.i(j+x+1)<<32-w:C.i(j+x);return new c(V,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,dr=c}).apply(typeof FT<"u"?FT:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QS,eu,XS,Uh,Np,$S,WS,JS;(function(){var i,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var E=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var B=h[A];if(!(B in E))break t;E=E[B]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,B,G){for(var rt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)rt[Rt-2]=arguments[Rt];return y.prototype[B].apply(A,rt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function P(h,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const G=B.length||0;h.length=E+G;for(let rt=0;rt<G;rt++)h[E+rt]=B[rt]}else h.push(B)}}class k{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(h){c.setTimeout(()=>{throw h},0)}function Q(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,E){const A=Y.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Y=new k(()=>new lt,h=>h.reset());class lt{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,mt=!1,C=new J,w=()=>{const h=Promise.resolve(void 0);ot=()=>{h.then(x)}};function x(){for(var h;h=Q();){try{h.h.call(h.g)}catch(E){z(E)}var y=Y;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}mt=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function te(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(te,V),te.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),$=0;function it(h,y,E,A,B){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=B,this.key=++$,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xt(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function Nt(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function O(h){const y={};for(const E in h)y[E]=h[E];return y}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(h,y){let E,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(E in A)h[E]=A[E];for(let G=0;G<tt.length;G++)E=tt[G],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function ct(h){this.src=h,this.g={},this.h=0}ct.prototype.add=function(h,y,E,A,B){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const rt=It(h,y,A,B);return rt>-1?(y=h[rt],E||(y.fa=!1)):(y=new it(y,this.src,G,!!A,B),y.fa=E,h.push(y)),y};function bt(h,y){const E=y.type;if(E in h.g){var A=h.g[E],B=Array.prototype.indexOf.call(A,y,void 0),G;(G=B>=0)&&Array.prototype.splice.call(A,B,1),G&&(ft(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function It(h,y,E,A){for(let B=0;B<h.length;++B){const G=h[B];if(!G.da&&G.listener==y&&G.capture==!!E&&G.ha==A)return B}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Oe={};function oe(h,y,E,A,B){if(Array.isArray(y)){for(let G=0;G<y.length;G++)oe(h,y[G],E,A,B);return null}return E=Xo(E),h&&h[fe]?h.J(y,E,m(A)?!!A.capture:!1,B):Ir(h,y,E,!1,A,B)}function Ir(h,y,E,A,B,G){if(!y)throw Error("Invalid event type");const rt=m(B)?!!B.capture:!!B;let Rt=Dr(h);if(Rt||(h[zt]=Rt=new ct(h)),E=Rt.add(y,E,A,rt,G),E.proxy)return E;if(A=Ta(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)j||(B=rt),B===void 0&&(B=!1),h.addEventListener(y.toString(),A,B);else if(h.attachEvent)h.attachEvent(fi(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ta(){function h(E){return y.call(h.src,h.listener,E)}const y=Yo;return h}function Ea(h,y,E,A,B){if(Array.isArray(y))for(var G=0;G<y.length;G++)Ea(h,y[G],E,A,B);else A=m(A)?!!A.capture:!!A,E=Xo(E),h&&h[fe]?(h=h.i,G=String(y).toString(),G in h.g&&(y=h.g[G],E=It(y,E,A,B),E>-1&&(ft(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[G],h.h--)))):h&&(h=Dr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=It(y,E,A,B)),(E=h>-1?y[h]:null)&&ba(E))}function ba(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[fe])bt(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(fi(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Dr(y))?(bt(E,h),E.h==0&&(E.src=null,y[zt]=null)):ft(h)}}}function fi(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function Yo(h,y){if(h.da)h=!0;else{y=new te(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&ba(h),h=E.call(A,y)}return h}function Dr(h){return h=h[zt],h instanceof ct?h:null}var Qo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xo(h){return typeof h=="function"?h:(h[Qo]||(h[Qo]=function(y){return h.handleEvent(y)}),h[Qo])}function Ee(){N.call(this),this.i=new ct(this),this.M=this,this.G=null}T(Ee,N),Ee.prototype[fe]=!0,Ee.prototype.removeEventListener=function(h,y,E,A){Ea(this,h,y,E,A)};function Pe(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var B=y;y=new V(A,h),at(y,B)}B=!0;let G,rt;if(E)for(rt=E.length-1;rt>=0;rt--)G=y.g=E[rt],B=bs(G,A,!0,y)&&B;if(G=y.g=h,B=bs(G,A,!0,y)&&B,B=bs(G,A,!1,y)&&B,E)for(rt=0;rt<E.length;rt++)G=y.g=E[rt],B=bs(G,A,!1,y)&&B}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)ft(E[A]);delete h.g[y],h.h--}}this.G=null},Ee.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},Ee.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function bs(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let G=0;G<y.length;++G){const rt=y[G];if(rt&&!rt.da&&rt.capture==E){const Rt=rt.listener,ye=rt.ha||rt.src;rt.fa&&bt(h.i,rt),B=Rt.call(ye,A)!==!1&&B}}return B&&!A.defaultPrevented}function Yf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Xu(h){h.g=Yf(()=>{h.g=null,h.i&&(h.i=!1,Xu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class on extends N{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(h){N.call(this),this.h=h,this.g={}}T(Vr,N);var $o=[];function Wo(h){xt(h.g,function(y,E){this.g.hasOwnProperty(E)&&ba(y)},h),h.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),Wo(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=c.JSON.stringify,Qf=c.JSON.parse,$u=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Wu(){}function Ju(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){V.call(this,"d")}T(qe,V);function Mn(){V.call(this,"c")}T(Mn,V);var ge={},Zu=null;function Sa(){return Zu=Zu||new Ee}ge.Ia="serverreachability";function tc(h){V.call(this,ge.Ia,h)}T(tc,V);function di(h){const y=Sa();Pe(y,new tc(y))}ge.STAT_EVENT="statevent";function Mr(h,y){V.call(this,ge.STAT_EVENT,h),this.stat=y}T(Mr,V);function be(h){const y=Sa();Pe(y,new Mr(y,h))}ge.Ja="timingevent";function mi(h,y){V.call(this,ge.Ja,h),this.size=y}T(mi,V);function pi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Xf(h,y,E,A,B,G){h.info(function(){if(h.g)if(G){var rt="",Rt=G.split("&");for(let qt=0;qt<Rt.length;qt++){var ye=Rt[qt].split("=");if(ye.length>1){const le=ye[0];ye=ye[1];const kn=le.split("_");rt=kn.length>=2&&kn[1]=="type"?rt+(le+"="+ye+"&"):rt+(le+"=redacted&")}}}else rt=null;else rt=G;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+E+`
`+rt})}function ec(h,y,E,A,B,G,rt){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+E+`
`+G+" "+rt})}function gi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+$f(h,E)+(A?" "+A:"")})}function Nr(h,y){h.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function $f(h,y){if(!h.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var E=G[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let rt=1;rt<A.length;rt++)A[rt]=""}}}}return Ss(G)}catch{return y}}var Or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zo;function Pr(){}T(Pr,Wu),Pr.prototype.g=function(){return new XMLHttpRequest},Zo=new Pr;function Ki(h){return encodeURIComponent(String(h))}function nc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Wn(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Se={},ze={};function yi(h,y,E){h.M=1,h.A=kr(we(y)),h.u=E,h.R=!0,Aa(h,null)}function Aa(h,y){h.F=Date.now(),vi(h),h.B=we(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),xa(E.i,"t",A),h.C=0,E=h.j.L,h.h=new Jn,h.g=yc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new on(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var B="readystatechange";Array.isArray(B)||(B&&($o[0]=B.toString()),B=$o);for(let G=0;G<B.length;G++){const rt=oe(E,B[G],A||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),di(),Xf(h.i,h.v,h.B,h.l,h.S,h.u)}Wn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ei(h)==3?y.j():this.Y(h)},Wn.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=ei(this.g),ye=this.g.ya(),qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Rt!=4||ye==7||(ye==8||qt<=0?di(3):di(2)),_i(this);var y=this.g.ca();this.X=y;var E=Wf(this);if(this.o=y==200,ec(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var G=A;break e}}G=null}if(h=G)gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,h);else{this.o=!1,this.m=3,be(12),bn(this),Nn(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<E.length;)if(le=sc(this,E),le==ze){Rt==4&&(this.m=4,be(14),h=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Se){this.m=4,be(15),gi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else gi(this.i,this.l,le,null),Ti(this,le);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,be(16),h=!1),this.o=this.o&&h,!h)gi(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Nn(this);else if(E.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ml(rt),rt.P=!0,be(11))}}else gi(this.i,this.l,E,null),Ti(this,E);Rt==4&&bn(this),this.o&&!this.K&&(Rt==4?dc(this.j,this):(this.o=!1,vi(this)))}else Qi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),bn(this),Nn(this)}}}catch{}finally{}};function Wf(h){if(!ic(h))return h.g.la();const y=Ge(h.g);if(y==="")return"";let E="";const A=y.length,B=ei(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Nn(h),"";h.h.i=new c.TextDecoder}for(let G=0;G<A;G++)h.h.h=!0,E+=h.h.i.decode(y[G],{stream:!(B&&G==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function ic(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function sc(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?ze:(E=Number(y.substring(E,A)),isNaN(E)?Se:(A+=1,A+E>y.length?ze:(y=y.slice(A,A+E),h.C=A+E,y)))}Wn.prototype.cancel=function(){this.K=!0,bn(this)};function vi(h){h.T=Date.now()+h.H,wa(h,h.H)}function wa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=pi(g(h.aa,h),y)}function _i(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Wn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(di(),be(17)),bn(this),this.m=2,Nn(this)):wa(this,this.T-h)};function Nn(h){h.j.I==0||h.K||dc(h.j,h)}function bn(h){_i(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Wo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ti(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||bi(E.h,h))){if(!h.L&&bi(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Na(E),Vs(E);else break t;Hr(E),be(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=pi(g(E.Va,E),6e3));Ei(E.h)<=1&&E.ta&&(E.ta=void 0)}else xi(E,11)}else if((h.L||E.g==h)&&Na(E),!I(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let qt=B[y];const le=qt[0];if(!(le<=E.K))if(E.K=le,qt=qt[1],E.I==2)if(qt[0]=="c"){E.M=qt[1],E.ba=qt[2];const kn=qt[3];kn!=null&&(E.ka=kn,E.j.info("VER="+E.ka));const Ii=qt[4];Ii!=null&&(E.za=Ii,E.j.info("SVER="+E.za));const ni=qt[5];ni!=null&&typeof ni=="number"&&ni>0&&(A=1.5*ni,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ii=h.g;if(ii){const qr=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var G=A.h;G.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(nl(G,G.h),G.h=null))}if(A.G){const Oa=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(A.wa=Oa,Yt(A.J,A.G,Oa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var rt=h;if(A.na=gc(A,A.L?A.ba:null,A.W),rt.L){il(A.h,rt);var Rt=rt,ye=A.O;ye&&(Rt.H=ye),Rt.D&&(_i(Rt),vi(Rt)),A.g=rt}else hc(A);E.i.length>0&&Ci(E)}else qt[0]!="stop"&&qt[0]!="close"||xi(E,7);else E.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?xi(E,7):fl(E):qt[0]!="noop"&&E.l&&E.l.qa(qt),E.A=0)}}di(4)}catch{}}var Ae=class{constructor(h,y){this.g=h,this.map=y}};function tl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ei(h){return h.h?1:h.g?h.g.size:0}function bi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function nl(h,y){h.g?h.g.add(y):h.h=y}function il(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}tl.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return R(h.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let B,G=null;A>=0?(B=h[E].substring(0,A),G=h[E].substring(A+1)):B=h[E],y(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Sn?(this.l=h.l,Be(this,h.j),this.o=h.o,this.g=h.g,As(this,h.u),this.h=h.h,rl(this,uc(h.i)),this.m=h.m):h&&(y=String(h).match(rc))?(this.l=!1,Be(this,y[1]||"",!0),this.o=Si(y[2]||""),this.g=Si(y[3]||"",!0),As(this,y[4]),this.h=Si(y[5]||"",!0),rl(this,y[6]||"",!0),this.m=Si(y[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Sn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Lr(y,Ca,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Lr(y,Ca,!0),"@"),h.push(Ki(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Lr(E,E.charAt(0)=="/"?al:ac,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Lr(E,oc)),h.join("")},Sn.prototype.resolve=function(h){const y=we(this);let E=!!h.j;E?Be(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)As(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let rt=0;rt<B.length;){const Rt=B[rt++];Rt=="."?A&&rt==B.length&&G.push(""):Rt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&rt==B.length&&G.push("")):(G.push(Rt),A=!0)}A=G.join("/")}else A=B}return E?y.h=A:E=h.i.toString()!=="",E?rl(y,uc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function we(h){return new Sn(h)}function Be(h,y,E){h.j=E?Si(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function As(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function rl(h,y,E){y instanceof Rs?(h.i=y,Ia(h.i,h.l)):(E||(y=Lr(y,ws)),h.i=new Rs(y,h.l))}function Yt(h,y,E){h.i.set(y,E)}function kr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Si(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Lr(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,dn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ca=/[#\/\?@]/g,ac=/[#\?:]/g,al=/[#\?]/g,ws=/[#\?@]/g,oc=/#/g;function Rs(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function mn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ra(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Rs.prototype,i.add=function(h,y){mn(this),this.i=null,h=Cs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function lc(h,y){mn(h),y=Cs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ol(h,y){return mn(h),y=Cs(h,y),h.g.has(y)}i.forEach=function(h,y){mn(this),this.g.forEach(function(E,A){E.forEach(function(B){h.call(y,B,A,this)},this)},this)};function ll(h,y){mn(h);let E=[];if(typeof y=="string")ol(h,y)&&(E=E.concat(h.g.get(Cs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return mn(this),this.i=null,h=Cs(this,h),ol(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=ll(this,h),h.length>0?String(h[0]):y):y};function xa(h,y,E){lc(h,y),E.length>0&&(h.i=null,h.g.set(Cs(h,y),R(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const B=Ki(E);E=ll(this,E);for(let G=0;G<E.length;G++){let rt=B;E[G]!==""&&(rt+="="+Ki(E[G])),h.push(rt)}}return this.i=h.join("&")};function uc(h){const y=new Rs;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Cs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ia(h,y){y&&!h.j&&(mn(h),h.i=null,h.g.forEach(function(E,A){const B=A.toLowerCase();A!=B&&(lc(this,A),xa(this,B,E))},h)),h.j=y}function Zn(h,y){const E=new $n;if(c.Image){const A=new Image;A.onload=v(On,E,"TestLoadImage: loaded",!0,y,A),A.onerror=v(On,E,"TestLoadImage: error",!1,y,A),A.onabort=v(On,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(On,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function ul(h,y){const E=new $n,A=new AbortController,B=setTimeout(()=>{A.abort(),On(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(G=>{clearTimeout(B),G.ok?On(E,"TestPingServer: ok",!0,y):On(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),On(E,"TestPingServer: error",!1,y)})}function On(h,y,E,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(E)}catch{}}function xs(){this.g=new $u}function Ai(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ai,Wu),Ai.prototype.g=function(){return new Ur(this.i,this.h)};function Ur(h,y){Ee.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ur,Ee),i=Ur.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ti(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Is(this):ti(this),this.readyState==3&&Da(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Is(this))},i.Na=function(h){this.g&&(this.response=h,Is(this))},i.ga=function(){this.g&&Is(this)};function Is(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ti(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let y="";return xt(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function jr(h,y,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=Pn(E),typeof h=="string"?E!=null&&Ki(E):Yt(h,y,E))}function $t(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($t,Ee);var wi=/^https?$/i,cl=["POST","PUT"];i=$t.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zo.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){zr(this,G);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)E.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())E.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(cl,y,void 0)>=0)||A||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,rt]of E)this.g.setRequestHeader(G,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){zr(this,G)}};function zr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,hl(h),Yi(h)}function hl(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),Yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),$t.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},i.Xa=function(){Br(this)};function Br(h){if(h.h&&typeof u<"u"){if(h.v&&ei(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),ei(h)==4){h.h=!1;try{const G=h.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var A;if(A=G===0){let rt=String(h.D).match(rc)[1]||null;!rt&&c.self&&c.self.location&&(rt=c.self.location.protocol.slice(0,-1)),A=!wi.test(rt?rt.toLowerCase():"")}E=A}if(E)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var B=ei(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",hl(h)}}finally{Yi(h)}}}}function Yi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Pe(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ei(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Qf(y)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(h){const y={};h=(h.g&&ei(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(I(h[A]))continue;var E=nc(h[A]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=y[B]||[];y[B]=G,G.push(E)}Nt(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Ds(h){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,h),this.Za=Ri("retryDelaySeedMs",1e4,h),this.Ta=Ri("forwardChannelMaxRetries",2,h),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(h&&h.concurrentRequestLimit),this.Ba=new xs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ds.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,A){be(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=gc(this,null,this.W),Ci(this)};function fl(h){if(Va(h),h.I==3){var y=h.V++,E=we(h.J);if(Yt(E,"SID",h.M),Yt(E,"RID",y),Yt(E,"TYPE","terminate"),Fr(h,E),y=new Wn(h,h.j,y),y.M=2,y.A=kr(we(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=yc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vi(y)}pc(h)}function Vs(h){h.g&&(ml(h),h.g.cancel(),h.g=null)}function Va(h){Vs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Na(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ci(h){if(!el(h.h)&&!h.m){h.m=!0;var y=h.Ea;ot||w(),mt||(ot(),mt=!0),C.add(y,h),h.D=0}}function Ma(h,y){return Ei(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=pi(g(h.Ea,h,y),mc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new Wn(this,this.j,h);let G=this.o;if(this.U&&(G?(G=O(G),at(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=cc(this,B,y),E=we(this.J),Yt(E,"RID",h),Yt(E,"CVER",22),this.G&&Yt(E,"X-HTTP-Session-Id",this.G),Fr(this,E),G&&(this.R?y="headers="+Ki(Pn(G))+"&"+y:this.u&&jr(E,this.u,G)),nl(this.h,B),this.Ra&&Yt(E,"TYPE","init"),this.S?(Yt(E,"$req",y),Yt(E,"SID","null"),B.U=!0,yi(B,E,null)):yi(B,E,y),this.I=2}}else this.I==3&&(h?dl(this,h):this.i.length==0||el(this.h)||dl(this))};function dl(h,y){var E;y?E=y.l:E=h.V++;const A=we(h.J);Yt(A,"SID",h.M),Yt(A,"RID",E),Yt(A,"AID",h.K),Fr(h,A),h.u&&h.o&&jr(A,h.u,h.o),E=new Wn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=cc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),nl(h.h,E),yi(E,A,y)}function Fr(h,y){h.H&&xt(h.H,function(E,A){Yt(y,A,E)}),h.l&&xt({},function(E,A){Yt(y,A,E)})}function cc(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;t:{var B=h.i;let Rt=-1;for(;;){const ye=["count="+E];Rt==-1?E>0?(Rt=B[0].g,ye.push("ofs="+Rt)):Rt=0:ye.push("ofs="+Rt);let qt=!0;for(let le=0;le<E;le++){var G=B[le].g;const kn=B[le].map;if(G-=Rt,G<0)Rt=Math.max(0,B[le].g-100),qt=!1;else try{G="req"+G+"_"||"";try{var rt=kn instanceof Map?kn:Object.entries(kn);for(const[Ii,ni]of rt){let ii=ni;m(ni)&&(ii=Ss(ni)),ye.push(G+Ii+"="+encodeURIComponent(ii))}}catch(Ii){throw ye.push(G+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(kn)}}if(qt){rt=ye.join("&");break t}}rt=void 0}return h=h.i.splice(0,E),y.G=h,rt}function hc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ot||w(),mt||(ot(),mt=!0),C.add(y,h),h.A=0}}function Hr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=pi(g(h.Da,h),mc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=pi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Vs(this),fc(this))};function ml(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function fc(h){h.g=new Wn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=we(h.na);Yt(y,"RID","rpc"),Yt(y,"SID",h.M),Yt(y,"AID",h.K),Yt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(y,"TO",h.ia),Yt(y,"TYPE","xmlhttp"),Fr(h,y),h.u&&h.o&&jr(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=kr(we(y)),E.u=null,E.R=!0,Aa(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Vs(this),Hr(this),be(19))};function Na(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dc(h,y){var E=null;if(h.g==y){Na(h),ml(h),h.g=null;var A=2}else if(bi(h.h,y))E=y.G,il(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=h.D;A=Sa(),Pe(A,new mi(A,E)),Ci(h)}else hc(h);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&Ma(h,y)||A==2&&Hr(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),B){case 1:xi(h,5);break;case 4:xi(h,10);break;case 3:xi(h,6);break;default:xi(h,2)}}}function mc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function xi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const B=!A;A=new Sn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Be(A,"https"),kr(A),B?Zn(A.toString(),E):ul(A.toString(),E)}else be(2);h.I=0,h.l&&h.l.pa(y),pc(h),Va(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const y=sl(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ja,y),P(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function gc(h,y,E){var A=E instanceof Sn?we(E):new Sn(E);if(A.g!="")y&&(A.g=y+"."+A.g),As(A,A.u);else{var B=c.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const G=new Sn(null);A&&Be(G,A),y&&(G.g=y),B&&As(G,B),E&&(G.h=E),A=G}return E=h.G,y=h.wa,E&&y&&Yt(A,E,y),Yt(A,"VER",h.ka),Fr(h,A),A}function yc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new $t(new Ai({ab:E})):new $t(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}i=vc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ms(){}Ms.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){Ee.call(this),this.g=new Ds(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Xi(this)}T(ln,Ee),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){fl(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ss(h),h=E);y.i.push(new Ae(y.Ya++,h)),y.I==3&&Ci(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,ln.Z.N.call(this)};function _c(h){qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(_c,qe);function Tc(){Mn.call(this),this.status=1}T(Tc,Mn);function Xi(h){this.g=h}T(Xi,vc),Xi.prototype.ra=function(){Pe(this.g,"a")},Xi.prototype.qa=function(h){Pe(this.g,new _c(h))},Xi.prototype.pa=function(h){Pe(this.g,new Tc)},Xi.prototype.oa=function(){Pe(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,JS=function(){return new Ms},WS=function(){return Sa()},$S=ge,Np={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,Uh=Or,Jo.COMPLETE="complete",XS=Jo,Ju.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,eu=Ju,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,QS=$t}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let zo="12.8.0";function kD(i){zo=i}const ga=new Tg("@firebase/firestore");function co(){return ga.logLevel}function ut(i,...t){if(ga.logLevel<=kt.DEBUG){const e=t.map(Dg);ga.debug(`Firestore (${zo}): ${i}`,...e)}}function vs(i,...t){if(ga.logLevel<=kt.ERROR){const e=t.map(Dg);ga.error(`Firestore (${zo}): ${i}`,...e)}}function xo(i,...t){if(ga.logLevel<=kt.WARN){const e=t.map(Dg);ga.warn(`Firestore (${zo}): ${i}`,...e)}}function Dg(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function Tt(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,ZS(i,r,e)}function ZS(i,t,e){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw vs(r),new Error(r)}function Kt(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||ZS(t,o,r)}function wt(i,t){return i}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Es{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class tA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(nn.UNAUTHENTICATED)))}shutdown(){}}class UD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class jD{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new tA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class zD{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class BD{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new zD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new HT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HD(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class Vg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=HD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Lt(i,t){return i<t?-1:i>t?1:0}function Op(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return sp(o)===sp(u)?Lt(o,u):sp(o)?1:-1}return Lt(i.length,t.length)}const qD=55296,GD=57343;function sp(i){const t=i.charCodeAt(0);return t>=qD&&t<=GD}function Io(i,t,e){return i.length===t.length&&i.every(((r,o)=>e(r,t[o])))}const qT="__name__";class Oi{constructor(t,e,r){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Tt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Oi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Oi?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Oi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Lt(t.length,e.length)}static compareSegments(t,e){const r=Oi.isNumericId(t),o=Oi.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Oi.extractNumericId(t).compare(Oi.extractNumericId(e)):Op(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return dr.fromString(t.substring(4,t.length-2))}}class se extends Oi{construct(t,e,r){return new se(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new se(e)}static emptyPath(){return new se([])}}const KD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Oi{construct(t,e,r){return new Je(t,e,r)}static isValidIdentifier(t){return KD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qT}static keyField(){return new Je([qT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new gt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new gt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new gt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(e)}static emptyPath(){return new Je([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(se.fromString(t))}static fromName(t){return new vt(se.fromString(t).popFirst(5))}static empty(){return new vt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return se.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new se(t.slice()))}}function eA(i,t,e){if(!e)throw new gt(nt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function YD(i,t,e,r){if(t===!0&&r===!0)throw new gt(nt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function GT(i){if(!vt.isDocumentKey(i))throw new gt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function KT(i){if(vt.isDocumentKey(i))throw new gt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Mg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Tt(12329,{type:typeof i})}function ds(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new gt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Mg(i);throw new gt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function Me(i,t){const e={typeString:i};return t&&(e.value=t),e}function Uu(i,t){if(!nA(i))throw new gt(nt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new gt(nt.INVALID_ARGUMENT,e);return!0}const YT=-62135596800,QT=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*QT);return new re(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<YT)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QT}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-YT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Me("string",re._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new re(0,0))}static max(){return new St(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function QD(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new re(e+1,0):new re(e,r));return new vr(o,vt.empty(),t)}function XD(i){return new vr(i.readTime,i.key,Tu)}class vr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new vr(St.min(),vt.empty(),Tu)}static max(){return new vr(St.max(),vt.empty(),Tu)}}function $D(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(i.documentKey,t.documentKey),e!==0?e:Lt(i.largestBatchId,t.largestBatchId))}const WD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Bo(i){if(i.code!==nt.FAILED_PRECONDITION||i.message!==WD)throw i;ut("LocalStore","Unexpectedly lost primary lease")}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):et.reject(e)}static resolve(t){return new et(((e,r)=>{e(t)}))}static reject(t){return new et(((e,r)=>{r(t)}))}static waitFor(t){return new et(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=et.resolve(!1);for(const r of t)e=e.next((o=>o?et.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new et(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new et(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function ZD(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Fo(i){return i.name==="IndexedDbTransactionError"}class Rf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rf.ce=-1;const Ng=-1;function Cf(i){return i==null}function nf(i){return i===0&&1/i==-1/0}function tV(i){return typeof i=="number"&&Number.isInteger(i)&&!nf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const iA="";function eV(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=XT(t)),t=nV(i.get(e),t);return XT(t)}function nV(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case iA:e+="";break;default:e+=u}}return e}function XT(i){return i+iA+""}function $T(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Rr(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function sA(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class he{constructor(t,e){this.comparator=t,this.root=e||We.EMPTY}insert(t,e){return new he(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rh(this.root,t,this.comparator,!0)}}class Rh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??We.RED,this.left=o??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new We(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new WT(this.data.getIterator())}getIteratorFrom(t){return new WT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new je(this.comparator);return e.data=t,e}}class WT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Vn([])}unionWith(t){let e=new je(Je.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Vn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Io(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class rA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rA("Invalid base64 string: "+u):u}})(t);return new Ze(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Ze(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const iV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(i){if(Kt(!!i,39018),typeof i=="string"){let t=0;const e=iV.exec(i);if(Kt(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(i.seconds),nanos:Te(i.nanos)}}function Te(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Tr(i){return typeof i=="string"?Ze.fromBase64String(i):Ze.fromUint8Array(i)}const aA="server_timestamp",oA="__type__",lA="__previous_value__",uA="__local_write_time__";function Og(i){return(i?.mapValue?.fields||{})[oA]?.stringValue===aA}function xf(i){const t=i.mapValue.fields[lA];return Og(t)?xf(t):t}function Eu(i){const t=_r(i.mapValue.fields[uA].timestampValue);return new re(t.seconds,t.nanos)}class sV{constructor(t,e,r,o,u,c,m,p,g,v,T){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=T}}const sf="(default)";class bu{constructor(t,e){this.projectId=t,this.database=e||sf}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===sf}isEqual(t){return t instanceof bu&&t.projectId===this.projectId&&t.database===this.database}}function rV(i,t){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new gt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(i.options.projectId,t)}const cA="__type__",aV="__max__",Ch={mapValue:{}},hA="__vector__",rf="value";function Er(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Og(i)?4:lV(i)?9007199254740991:oV(i)?10:11:Tt(28295,{value:i})}function Hi(i,t){if(i===t)return!0;const e=Er(i);if(e!==Er(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Eu(i).isEqual(Eu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=_r(o.timestampValue),m=_r(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Tr(o.bytesValue).isEqual(Tr(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Te(o.doubleValue),m=Te(u.doubleValue);return c===m?nf(c)===nf(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return Io(i.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if($T(c)!==$T(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Hi(c[p],m[p])))return!1;return!0})(i,t);default:return Tt(52216,{left:i})}}function Su(i,t){return(i.values||[]).find((e=>Hi(e,t)))!==void 0}function Do(i,t){if(i===t)return 0;const e=Er(i),r=Er(t);if(e!==r)return Lt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return JT(i.timestampValue,t.timestampValue);case 4:return JT(Eu(i),Eu(t));case 5:return Op(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=Tr(u),p=Tr(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Lt(m[g],p[g]);if(v!==0)return v}return Lt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Lt(Te(u.latitude),Te(c.latitude));return m!==0?m:Lt(Te(u.longitude),Te(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return ZT(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[rf]?.arrayValue,v=p[rf]?.arrayValue,T=Lt(g?.values?.length||0,v?.values?.length||0);return T!==0?T:ZT(g,v)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Ch.mapValue&&c===Ch.mapValue)return 0;if(u===Ch.mapValue)return 1;if(c===Ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const b=Op(p[T],v[T]);if(b!==0)return b;const R=Do(m[p[T]],g[v[T]]);if(R!==0)return R}return Lt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function JT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Lt(i,t);const e=_r(i),r=_r(t),o=Lt(e.seconds,r.seconds);return o!==0?o:Lt(e.nanos,r.nanos)}function ZT(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Do(e[o],r[o]);if(u)return u}return Lt(e.length,r.length)}function Vo(i){return Pp(i)}function Pp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=_r(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return Tr(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return vt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Pp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Pp(e.fields[c])}`;return o+"}"})(i.mapValue):Tt(61005,{value:i})}function jh(i){switch(Er(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xf(i);return t?16+jh(t):16;case 5:return 2*i.stringValue.length;case 6:return Tr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+jh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Rr(r.fields,((u,c)=>{o+=u.length+jh(c)})),o})(i.mapValue);default:throw Tt(13486,{value:i})}}function kp(i){return!!i&&"integerValue"in i}function Pg(i){return!!i&&"arrayValue"in i}function tE(i){return!!i&&"nullValue"in i}function eE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zh(i){return!!i&&"mapValue"in i}function oV(i){return(i?.mapValue?.fields||{})[cA]?.stringValue===hA}function uu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Rr(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=uu(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=uu(i.arrayValue.values[e]);return t}return{...i}}function lV(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===aV}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!zh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=uu(e)}setAll(t){let e=Je.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=uu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());zh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Rr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new En(uu(this.value))}}function fA(i){const t=[];return Rr(i.fields,((e,r)=>{const o=new Je([e]);if(zh(r)){const u=fA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Vn(t)}class sn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,St.min(),St.min(),St.min(),En.empty(),0)}static newFoundDocument(t,e,r,o){return new sn(t,1,e,St.min(),r,o,0)}static newNoDocument(t,e){return new sn(t,2,e,St.min(),St.min(),En.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,St.min(),St.min(),En.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class af{constructor(t,e){this.position=t,this.inclusive=e}}function nE(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?r=vt.comparator(vt.fromName(c.referenceValue),e.key):r=Do(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Hi(i.position[e],t.position[e]))return!1;return!0}class of{constructor(t,e="asc"){this.field=t,this.dir=e}}function uV(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class dA{}class Ue extends dA{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new hV(t,e,r):e==="array-contains"?new mV(t,r):e==="in"?new pV(t,r):e==="not-in"?new gV(t,r):e==="array-contains-any"?new yV(t,r):new Ue(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new fV(t,r):new dV(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Do(e,this.value)):e!==null&&Er(this.value)===Er(e)&&this.matchesComparison(Do(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends dA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new qi(t,e)}matches(t){return mA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mA(i){return i.op==="and"}function pA(i){return cV(i)&&mA(i)}function cV(i){for(const t of i.filters)if(t instanceof qi)return!1;return!0}function Lp(i){if(i instanceof Ue)return i.field.canonicalString()+i.op.toString()+Vo(i.value);if(pA(i))return i.filters.map((t=>Lp(t))).join(",");{const t=i.filters.map((e=>Lp(e))).join(",");return`${i.op}(${t})`}}function gA(i,t){return i instanceof Ue?(function(r,o){return o instanceof Ue&&r.op===o.op&&r.field.isEqual(o.field)&&Hi(r.value,o.value)})(i,t):i instanceof qi?(function(r,o){return o instanceof qi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&gA(c,o.filters[m])),!0):!1})(i,t):void Tt(19439)}function yA(i){return i instanceof Ue?(function(e){return`${e.field.canonicalString()} ${e.op} ${Vo(e.value)}`})(i):i instanceof qi?(function(e){return e.op.toString()+" {"+e.getFilters().map(yA).join(" ,")+"}"})(i):"Filter"}class hV extends Ue{constructor(t,e,r){super(t,e,r),this.key=vt.fromName(r.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class fV extends Ue{constructor(t,e){super(t,"in",e),this.keys=vA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class dV extends Ue{constructor(t,e){super(t,"not-in",e),this.keys=vA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function vA(i,t){return(t.arrayValue?.values||[]).map((e=>vt.fromName(e.referenceValue)))}class mV extends Ue{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Pg(e)&&Su(e.arrayValue,this.value)}}class pV extends Ue{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Su(this.value.arrayValue,e)}}class gV extends Ue{constructor(t,e){super(t,"not-in",e)}matches(t){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Su(this.value.arrayValue,e)}}class yV extends Ue{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Pg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Su(this.value.arrayValue,r)))}}class vV{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function sE(i,t=null,e=[],r=[],o=null,u=null,c=null){return new vV(i,t,e,r,o,u,c)}function kg(i){const t=wt(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Lp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Cf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Vo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Vo(r))).join(",")),t.Te=e}return t.Te}function Lg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!uV(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!gA(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!iE(i.startAt,t.startAt)&&iE(i.endAt,t.endAt)}function Up(i){return vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class If{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _V(i,t,e,r,o,u,c,m){return new If(i,t,e,r,o,u,c,m)}function Df(i){return new If(i)}function rE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function TV(i){return vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function EV(i){return i.collectionGroup!==null}function cu(i){const t=wt(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new je(Je.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new of(u,r))})),e.has(Je.keyField().canonicalString())||t.Ie.push(new of(Je.keyField(),r))}return t.Ie}function Ui(i){const t=wt(i);return t.Ee||(t.Ee=bV(t,cu(i))),t.Ee}function bV(i,t){if(i.limitType==="F")return sE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new of(o.field,u)}));const e=i.endAt?new af(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new af(i.startAt.position,i.startAt.inclusive):null;return sE(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function jp(i,t,e){return new If(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Vf(i,t){return Lg(Ui(i),Ui(t))&&i.limitType===t.limitType}function _A(i){return`${kg(Ui(i))}|lt:${i.limitType}`}function ho(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>yA(o))).join(", ")}]`),Cf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Vo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Vo(o))).join(",")),`Target(${r})`})(Ui(i))}; limitType=${i.limitType})`}function Mf(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of cu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=nE(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,cu(r),o)||r.endAt&&!(function(c,m,p){const g=nE(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,cu(r),o))})(i,t)}function SV(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function TA(i){return(t,e)=>{let r=!1;for(const o of cu(i)){const u=AV(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function AV(i,t,e){const r=i.field.isKeyField()?vt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Do(p,g):Tt(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:i.dir})}}class va{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Rr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return sA(this.inner)}size(){return this.innerSize}}const wV=new he(vt.comparator);function _s(){return wV}const EA=new he(vt.comparator);function nu(...i){let t=EA;for(const e of i)t=t.insert(e.key,e);return t}function bA(i){let t=EA;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function ua(){return hu()}function SA(){return hu()}function hu(){return new va((i=>i.toString()),((i,t)=>i.isEqual(t)))}const RV=new he(vt.comparator),CV=new je(vt.comparator);function Ut(...i){let t=CV;for(const e of i)t=t.add(e);return t}const xV=new je(Lt);function IV(){return xV}function Ug(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(t)?"-0":t}}function AA(i){return{integerValue:""+i}}function DV(i,t){return tV(t)?AA(t):Ug(i,t)}class Nf{constructor(){this._=void 0}}function VV(i,t,e){return i instanceof Au?(function(o,u){const c={fields:{[oA]:{stringValue:aA},[uA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Og(u)&&(u=xf(u)),u&&(c.fields[lA]=u),{mapValue:c}})(e,t):i instanceof Mo?RA(i,t):i instanceof wu?CA(i,t):(function(o,u){const c=wA(o,u),m=aE(c)+aE(o.Ae);return kp(c)&&kp(o.Ae)?AA(m):Ug(o.serializer,m)})(i,t)}function MV(i,t,e){return i instanceof Mo?RA(i,t):i instanceof wu?CA(i,t):e}function wA(i,t){return i instanceof lf?(function(r){return kp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Au extends Nf{}class Mo extends Nf{constructor(t){super(),this.elements=t}}function RA(i,t){const e=xA(t);for(const r of i.elements)e.some((o=>Hi(o,r)))||e.push(r);return{arrayValue:{values:e}}}class wu extends Nf{constructor(t){super(),this.elements=t}}function CA(i,t){let e=xA(t);for(const r of i.elements)e=e.filter((o=>!Hi(o,r)));return{arrayValue:{values:e}}}class lf extends Nf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function aE(i){return Te(i.integerValue||i.doubleValue)}function xA(i){return Pg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class IA{constructor(t,e){this.field=t,this.transform=e}}function NV(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof Mo&&o instanceof Mo||r instanceof wu&&o instanceof wu?Io(r.elements,o.elements,Hi):r instanceof lf&&o instanceof lf?Hi(r.Ae,o.Ae):r instanceof Au&&o instanceof Au})(i.transform,t.transform)}class OV{constructor(t,e){this.version=t,this.transformResults=e}}class ji{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ji}static exists(t){return new ji(void 0,t)}static updateTime(t){return new ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Of{}function DA(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new MA(i.key,ji.none()):new ju(i.key,i.data,ji.none());{const e=i.data,r=En.empty();let o=new je(Je.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Cr(i.key,r,new Vn(o.toArray()),ji.none())}}function PV(i,t,e){i instanceof ju?(function(o,u,c){const m=o.value.clone(),p=lE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,e):i instanceof Cr?(function(o,u,c){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=lE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(VA(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function fu(i,t,e,r){return i instanceof ju?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=u.value.clone(),v=uE(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,e,r):i instanceof Cr?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=uE(u.fieldTransforms,p,c),v=c.data;return v.setAll(VA(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,e,r):(function(u,c,m){return Bh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,e)}function kV(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=wA(r.transform,o||null);u!=null&&(e===null&&(e=En.empty()),e.set(r.field,u))}return e||null}function oE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Io(r,o,((u,c)=>NV(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class ju extends Of{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends Of{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function VA(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function lE(i,t,e){const r=new Map;Kt(i.length===e.length,32656,{Ve:e.length,de:i.length});for(let o=0;o<e.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,MV(c,m,e[o]))}return r}function uE(i,t,e){const r=new Map;for(const o of i){const u=o.transform,c=e.data.field(o.field);r.set(o.field,VV(u,c,t))}return r}class MA extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LV extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UV{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&PV(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=fu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=fu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=SA();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=DA(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Io(this.mutations,t.mutations,((e,r)=>oE(e,r)))&&Io(this.baseMutations,t.baseMutations,((e,r)=>oE(e,r)))}}class jg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return RV})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new jg(t,e,r,o)}}class jV{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zV{constructor(t,e){this.count=t,this.unchangedNames=e}}var De,Bt;function BV(i){switch(i){case nt.OK:return Tt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Tt(15467,{code:i})}}function NA(i){if(i===void 0)return vs("GRPC error has no .code"),nt.UNKNOWN;switch(i){case De.OK:return nt.OK;case De.CANCELLED:return nt.CANCELLED;case De.UNKNOWN:return nt.UNKNOWN;case De.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case De.INTERNAL:return nt.INTERNAL;case De.UNAVAILABLE:return nt.UNAVAILABLE;case De.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case De.NOT_FOUND:return nt.NOT_FOUND;case De.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case De.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case De.ABORTED:return nt.ABORTED;case De.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case De.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case De.DATA_LOSS:return nt.DATA_LOSS;default:return Tt(39323,{code:i})}}(Bt=De||(De={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function FV(){return new TextEncoder}const HV=new dr([4294967295,4294967295],0);function cE(i){const t=FV().encode(i),e=new YS;return e.update(t),new Uint8Array(e.digest())}function hE(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new dr([e,r],0),new dr([o,u],0)]}class zg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new iu(`Invalid padding: ${e}`);if(r<0)throw new iu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new iu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=dr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(dr.fromNumber(r)));return o.compare(HV)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=cE(t),[r,o]=hE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new zg(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=cE(t),[r,o]=hE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,zu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Pf(St.min(),o,new he(Lt),_s(),Ut())}}class zu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new zu(r,e,Ut(),Ut(),Ut())}}class Fh{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=o}}class OA{constructor(t,e){this.targetId=t,this.Ce=e}}class PA{constructor(t,e,r=Ze.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class fE{constructor(){this.ve=0,this.Fe=dE(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Tt(38017,{changeType:u})}})),new zu(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=dE()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class qV{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.He=xh(),this.Je=xh(),this.Ze=new he(Lt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Up(u))if(r===0){const c=new vt(u.path);this.et(e,c,sn.newNoDocument(c,St.min()))}else Kt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=Tr(r).toUint8Array()}catch(p){if(p instanceof rA)return xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zg(c,o,u)}catch(p){return xo(p instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Up(m.target)){const p=new vt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,sn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.Ke())}}));let r=Ut();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Pf(t,e,this.Ze,this.je,r);return this.je=_s(),this.He=xh(),this.Je=xh(),this.Ze=new he(Lt),o}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.qe(e,1):o.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new fE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new je(Lt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new je(Lt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ut("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function xh(){return new he(vt.comparator)}function dE(){return new he(vt.comparator)}const GV={asc:"ASCENDING",desc:"DESCENDING"},KV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YV={and:"AND",or:"OR"};class QV{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function zp(i,t){return i.useProto3Json||Cf(t)?t:{value:t}}function uf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kA(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function XV(i,t){return uf(i,t.toTimestamp())}function zi(i){return Kt(!!i,49232),St.fromTimestamp((function(e){const r=_r(e);return new re(r.seconds,r.nanos)})(i))}function Bg(i,t){return Bp(i,t).canonicalString()}function Bp(i,t){const e=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function LA(i){const t=se.fromString(i);return Kt(FA(t),10190,{key:t.toString()}),t}function Fp(i,t){return Bg(i.databaseId,t.path)}function rp(i,t){const e=LA(t);if(e.get(1)!==i.databaseId.projectId)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new vt(jA(e))}function UA(i,t){return Bg(i.databaseId,t)}function $V(i){const t=LA(i);return t.length===4?se.emptyPath():jA(t)}function Hp(i){return new se(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function jA(i){return Kt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mE(i,t,e){return{name:Fp(i,t),fields:e.value.mapValue.fields}}function WV(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),Ze.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ze.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?nt.UNKNOWN:NA(g.code);return new gt(v,g.message||"")})(c);e=new PA(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=rp(i,r.document.name),u=zi(r.document.updateTime),c=r.document.createTime?zi(r.document.createTime):St.min(),m=new En({mapValue:{fields:r.document.fields}}),p=sn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];e=new Fh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=rp(i,r.document),u=r.readTime?zi(r.readTime):St.min(),c=sn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Fh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=rp(i,r.document),u=r.removedTargetIds||[];e=new Fh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new zV(o,u),m=r.targetId;e=new OA(m,c)}}return e}function JV(i,t){let e;if(t instanceof ju)e={update:mE(i,t.key,t.value)};else if(t instanceof MA)e={delete:Fp(i,t.key)};else if(t instanceof Cr)e={update:mE(i,t.key,t.data),updateMask:oM(t.fieldMask)};else{if(!(t instanceof LV))return Tt(16599,{dt:t.type});e={verify:Fp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Au)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:XV(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(i,t.precondition)),e}function ZV(i,t){return i&&i.length>0?(Kt(t!==void 0,14353),i.map((e=>(function(o,u){let c=o.updateTime?zi(o.updateTime):zi(u);return c.isEqual(St.min())&&(c=zi(u)),new OV(c,o.transformResults||[])})(e,t)))):[]}function tM(i,t){return{documents:[UA(i,t.path)]}}function eM(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=UA(i,o);const u=(function(g){if(g.length!==0)return BA(qi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(b){return{field:fo(b.field),direction:sM(b.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=zp(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function nM(i){let t=$V(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(T){const b=zA(T);return b instanceof qi&&pA(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((b=>(function(P){return new of(mo(P.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(b)))})(e.orderBy));let m=null;e.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Cf(b)?null:b})(e.limit));let p=null;e.startAt&&(p=(function(T){const b=!!T.before,R=T.values||[];return new af(R,b)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const b=!T.before,R=T.values||[];return new af(R,b)})(e.endAt)),_V(t,o,c,u,m,"F",p,g)}function iM(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function zA(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=mo(e.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(e.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(e.unaryFilter.field);return Ue.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(e.unaryFilter.field);return Ue.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(i):i.fieldFilter!==void 0?(function(e){return Ue.create(mo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return qi.create(e.compositeFilter.filters.map((r=>zA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(i):Tt(30097,{filter:i})}function sM(i){return GV[i]}function rM(i){return KV[i]}function aM(i){return YV[i]}function fo(i){return{fieldPath:i.canonicalString()}}function mo(i){return Je.fromServerFormat(i.fieldPath)}function BA(i){return i instanceof Ue?(function(e){if(e.op==="=="){if(eE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NAN"}};if(tE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(eE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NAN"}};if(tE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(e.field),op:rM(e.op),value:e.value}}})(i):i instanceof qi?(function(e){const r=e.getFilters().map((o=>BA(o)));return r.length===1?r[0]:{compositeFilter:{op:aM(e.op),filters:r}}})(i):Tt(54877,{filter:i})}function oM(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function FA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function HA(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class or{constructor(t,e,r,o,u=St.min(),c=St.min(),m=Ze.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lM{constructor(t){this.yt=t}}function uM(i){const t=nM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?jp(t,t.limit,"L"):t}class cM{constructor(){this.Sn=new hM}addToCollectionParentIndex(t,e){return this.Sn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(vr.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(vr.min())}updateCollectionGroup(t,e,r){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class hM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new je(se.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new je(se.comparator)).toArray()}}const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qA=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(qA,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class No{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new No(0)}static ar(){return new No(-1)}}const gE="LruGarbageCollector",fM=1048576;function yE([i,t],[e,r]){const o=Lt(i,e);return o===0?Lt(t,r):o}class dM{constructor(t){this.Pr=t,this.buffer=new je(yE),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();yE(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class mM{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ut(gE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fo(e)?ut(gE,"Ignoring IndexedDB error during garbage collection: ",e):await Bo(e)}await this.Ar(3e5)}))}}class pM{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return et.resolve(Rf.ce);const r=new dM(e);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(pE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),co()<=kt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function gM(i,t){return new pM(i,t)}class yM{constructor(){this.changes=new va((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?et.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class vM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class _M{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&fu(r.mutation,o,Vn.empty(),re.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Ut()){const o=ua();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=nu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=ua();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Ut())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=_s();const c=hu(),m=(function(){return hu()})();return e.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Cr)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),fu(v.mutation,g,v.mutation.getFieldMask(),re.now())):c.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>m.set(g,new vM(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=hu();let o=new he(((c,m)=>c-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=r.get(p)||Vn.empty();v=m.applyToLocalView(g,v),r.set(p,v);const T=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=SA();v.forEach((b=>{if(!u.has(b)){const R=DA(e.get(b),r.get(b));R!==null&&T.set(b,R),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return et.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return TV(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):EV(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):et.resolve(ua());let m=Tu,p=u;return c.next((g=>et.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next((b=>{p=p.insert(v,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((v=>({batchId:m,changes:bA(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next((r=>{let o=nu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(p=>{const g=(function(T,b){return new If(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))}));let m=nu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&fu(v.mutation,g,Vn.empty(),re.now()),Mf(e,g)&&(m=m.insert(p,g))})),m}))}}class TM{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return et.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(o){return{name:o.name,query:uM(o.bundledQuery),readTime:zi(o.readTime)}})(e)),et.resolve()}}class EM{constructor(){this.overlays=new he(vt.comparator),this.Lr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ua();return et.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.bt(t,e,u)})),et.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),et.resolve()}getOverlaysForCollection(t,e,r){const o=ua(),u=e.length+1,c=new vt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new he(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=ua(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ua(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return et.resolve(m)}bt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new jV(e,r));let u=this.Lr.get(e);u===void 0&&(u=Ut(),this.Lr.set(e,u)),this.Lr.set(e,u.add(r.key))}}class bM{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}class Fg{constructor(){this.kr=new je(He.Kr),this.qr=new je(He.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new He(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new He(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new vt(new se([])),r=new He(e,t),o=new He(e,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new vt(new se([])),r=new He(e,t),o=new He(e,t+1);let u=Ut();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new He(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class He{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return vt.comparator(t.key,e.key)||Lt(t.Hr,e.Hr)}static Ur(t,e){return Lt(t.Hr,e.Hr)||vt.comparator(t.key,e.key)}}class SM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new je(He.Kr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UV(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new He(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Ng:this.Yn-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new He(e,0),o=new He(e,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new je(Lt);return e.forEach((o=>{const u=new He(o,0),c=new He(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),et.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const c=new He(new vt(u),0);let m=new je(Lt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),et.resolve(this.Yr(m))}Yr(t){const e=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Kt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return et.forEach(e.mutations,(o=>{const u=new He(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new He(e,0),o=this.Jr.firstAfterOrEqual(r);return et.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class AM{constructor(t){this.ti=t,this.docs=(function(){return new he(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return et.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let r=_s();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),et.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=_s();const c=e.path,m=new vt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||$D(XD(v),r)<=0||(o.has(v.key)||Mf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,e,r,o){Tt(9500)}ni(t,e){return et.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new wM(this)}getSize(t){return et.resolve(this.size)}}class wM extends yM{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),et.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class RM{constructor(t){this.persistence=t,this.ri=new va((e=>kg(e)),Lg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new Fg,this.targetCount=0,this.oi=No._r()}forEachTarget(t,e){return this.ri.forEach(((r,o)=>e(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),et.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new No(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.lr(e),et.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return et.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),et.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return et.resolve(r)}containsKey(t,e){return et.resolve(this.si.containsKey(e))}}class GA{constructor(t,e){this._i={},this.overlays={},this.ai=new Rf(0),this.ui=!1,this.ui=!0,this.ci=new bM,this.referenceDelegate=t(this),this.li=new RM(this),this.indexManager=new cM,this.remoteDocumentCache=(function(o){return new AM(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new lM(e),this.Pi=new TM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new EM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new SM(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){ut("MemoryPersistence","Starting transaction:",t);const o=new CM(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,e){return et.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class CM extends JD{constructor(t){super(),this.currentSequenceNumber=t}}class Hg{constructor(t){this.persistence=t,this.Ri=new Fg,this.Ai=null}static Vi(t){return new Hg(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),et.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),et.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.di,(r=>{const o=vt.fromPath(r);return this.mi(t,o).next((u=>{u||e.removeEntry(o,St.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return et.or([()=>et.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class cf{constructor(t,e){this.persistence=t,this.fi=new va((r=>eV(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=gM(this,e)}static Vi(t,e){return new cf(t,e)}Ti(){}Ii(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return et.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?et.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,e).next((m=>{m||(r++,u.removeEntry(c,St.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),et.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),et.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=jh(t.data.value)),e}wr(t,e,r){return et.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.fi.get(e);return et.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class qg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=o}static Es(t,e){let r=Ut(),o=Ut();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qg(t,e.fromCache,r,o)}}class xM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class IM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return vx()?8:ZD(an())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.gs(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new xM;return this.ys(t,e,c).next((m=>{if(u.result=m,this.As)return this.ws(t,e,c,m.size)}))})).next((()=>u.result))}ws(t,e,r,o){return r.documentReadCount<this.Vs?(co()<=kt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",ho(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(co()<=kt.DEBUG&&ut("QueryEngine","Query:",ho(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(co()<=kt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",ho(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(e))):et.resolve())}gs(t,e){if(rE(e))return et.resolve(null);let r=Ui(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=jp(e,null,"F"),r=Ui(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ut(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(e,m);return this.Ss(e,g,c,p.readTime)?this.gs(t,jp(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,r,o){return rE(e)||o.isEqual(St.min())?et.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(e,u);return this.Ss(e,c,r,o)?et.resolve(null):(co()<=kt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(e)),this.Ds(t,c,e,QD(o,Tu)).next((m=>m)))}))}bs(t,e){let r=new je(TA(t));return e.forEach(((o,u)=>{Mf(t,u)&&(r=r.add(u))})),r}Ss(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,e,r){return co()<=kt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ho(e)),this.fs.getDocumentsMatchingQuery(t,e,vr.min(),r)}Ds(t,e,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Gg="LocalStore",DM=3e8;class VM{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.vs=new he(Lt),this.Fs=new va((u=>kg(u)),Lg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _M(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function MM(i,t,e,r){return new VM(i,t,e,r)}async function KA(i,t){const e=wt(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function NM(i,t){const e=wt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,b=T.keys();let R=et.resolve();return b.forEach((P=>{R=R.next((()=>v.getEntry(p,P))).next((k=>{const z=g.docVersions.get(P);Kt(z!==null,48541),k.version.compareTo(z)<0&&(T.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),v.addEntry(k)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function YA(i){const t=wt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function OM(i,t){const e=wt(i),r=t.snapshotVersion;let o=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});o=e.vs;const m=[];t.targetChanges.forEach(((v,T)=>{const b=o.get(T);if(!b)return;m.push(e.li.removeMatchingKeys(u,v.removedDocuments,T).next((()=>e.li.addMatchingKeys(u,v.addedDocuments,T))));let R=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?R=R.withResumeToken(Ze.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,r)),o=o.insert(T,R),(function(k,z,Q){return k.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=DM?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(b,R,v)&&m.push(e.li.updateTargetData(u,R))}));let p=_s(),g=Ut();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(PM(u,c,t.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!r.isEqual(St.min())){const v=e.li.getLastRemoteSnapshotVersion(u).next((T=>e.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return et.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.vs=o,u)))}function PM(i,t,e){let r=Ut(),o=Ut();return e.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let c=_s();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ut(Gg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function kM(i,t){const e=wt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Ng),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function LM(i,t){const e=wt(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.li.getTargetData(r,t).next((u=>u?(o=u,et.resolve(o)):e.li.allocateTargetId(r).next((c=>(o=new or(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function qp(i,t,e){const r=wt(i),o=r.vs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Fo(c))throw c;ut(Gg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function vE(i,t,e){const r=wt(i);let o=St.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=wt(p),b=T.Fs.get(v);return b!==void 0?et.resolve(T.vs.get(b)):T.li.getTargetData(g,v)})(r,c,Ui(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?o:St.min(),e?u:Ut()))).next((m=>(UM(r,SV(t),m),{documents:m,ks:u})))))}function UM(i,t,e){let r=i.Ms.get(t)||St.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Ms.set(t,r)}class _E{constructor(){this.activeTargetIds=IV()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jM{constructor(){this.vo=new _E,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new _E,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class zM{Mo(t){}shutdown(){}}const TE="ConnectivityMonitor";class EE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ut(TE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ut(TE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function Gp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const ap="RestConnection",BM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class FM{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===sf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,u){const c=Gp(),m=this.Qo(t,e.toUriEncodedString());ut(ap,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),v=Lo(g);return this.zo(t,m,p,r,v).then((T=>(ut(ap,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw xo(ap,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(t,e,r,o,u,c){return this.Wo(t,e,r,o,u)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,e){const r=BM[t];let o=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class HM{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const en="WebChannelConnection",Zl=(i,t,e)=>{i.listen(t,(r=>{try{e(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class So extends FM{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!So.c_){const t=WS();Zl(t,$S.STAT_EVENT,(e=>{e.stat===Np.PROXY?ut(en,"STAT_EVENT: detected buffering proxy"):e.stat===Np.NOPROXY&&ut(en,"STAT_EVENT: detected no buffering proxy")})),So.c_=!0}}zo(t,e,r,o,u){const c=Gp();return new Promise(((m,p)=>{const g=new QS;g.setWithCredentials(!0),g.listenOnce(XS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const T=g.getResponseJson();ut(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case Uh.TIMEOUT:ut(en,`RPC '${t}' ${c} timed out`),p(new gt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const b=g.getStatus();if(ut(en,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R?.error;if(P&&P.status&&P.message){const k=(function(Q){const J=Q.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(J)>=0?J:nt.UNKNOWN})(P.status);p(new gt(k,P.message))}else p(new gt(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new gt(nt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ut(en,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ut(en,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,r,15)}))}T_(t,e,r){const o=Gp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const g=u.join("");ut(en,`Creating RPC '${t}' stream ${o}: ${g}`,m);const v=c.createWebChannel(g,m);this.I_(v);let T=!1,b=!1;const R=new HM({Ho:P=>{b?ut(en,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(T||(ut(en,`Opening RPC '${t}' stream ${o} transport.`),v.open(),T=!0),ut(en,`RPC '${t}' stream ${o} sending:`,P),v.send(P))},Jo:()=>v.close()});return Zl(v,eu.EventType.OPEN,(()=>{b||(ut(en,`RPC '${t}' stream ${o} transport opened.`),R.i_())})),Zl(v,eu.EventType.CLOSE,(()=>{b||(b=!0,ut(en,`RPC '${t}' stream ${o} transport closed`),R.o_(),this.E_(v))})),Zl(v,eu.EventType.ERROR,(P=>{b||(b=!0,xo(en,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),R.o_(new gt(nt.UNAVAILABLE,"The operation could not be completed")))})),Zl(v,eu.EventType.MESSAGE,(P=>{if(!b){const k=P.data[0];Kt(!!k,16349);const z=k,Q=z?.error||z[0]?.error;if(Q){ut(en,`RPC '${t}' stream ${o} received error:`,Q);const J=Q.status;let Y=(function(mt){const C=De[mt];if(C!==void 0)return NA(C)})(J),lt=Q.message;Y===void 0&&(Y=nt.INTERNAL,lt="Unknown error status: "+J+" with message "+Q.message),b=!0,R.o_(new gt(Y,lt)),v.close()}else ut(en,`RPC '${t}' stream ${o} received:`,k),R.__(k)}})),So.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JS()}}function qM(i){return new So(i)}function op(){return typeof document<"u"?document:null}function kf(i){return new QV(i,!0)}So.c_=!1;class QA{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const bE="PersistentStream";class XA{constructor(t,e,r,o,u,c,m,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===nt.RESOURCE_EXHAUSTED?(vs(e.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new gt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(bE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ut(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GM extends XA{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=WV(this.serializer,t),r=(function(u){if(!("targetChange"in u))return St.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?zi(c.readTime):St.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=Hp(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=Up(p)?{documents:tM(u,p)}:{query:eM(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=kA(u,c.resumeToken);const g=zp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(St.min())>0){m.readTime=uf(u,c.snapshotVersion.toTimestamp());const g=zp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=iM(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=Hp(this.serializer),e.removeTarget=t,this.K_(e)}}class KM extends XA{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=ZV(t.writeResults,t.commitTime),r=zi(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Hp(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>JV(this.serializer,r)))};this.K_(e)}}class YM{}class QM extends YM{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,Bp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(nt.UNKNOWN,u.toString())}))}jo(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,Bp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(nt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function XM(i,t,e,r){return new QM(i,t,e,r)}class $M{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(e),this.aa=!1):ut("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class WM{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{_a(this)&&(ut(ya,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await Bu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Lf(g)})(this))}))})),this.Va=new $M(r,o)}}async function Lf(i){if(_a(i))for(const t of i.Ra)await t(!0)}async function Bu(i){for(const t of i.Ra)await t(!1)}function $A(i,t){const e=wt(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Xg(e)?Qg(e):Ho(e).O_()&&Yg(e,t))}function Kg(i,t){const e=wt(i),r=Ho(e);e.Ia.delete(t),r.O_()&&WA(e,t),e.Ia.size===0&&(r.O_()?r.L_():_a(e)&&e.Va.set("Unknown"))}function Yg(i,t){if(i.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ho(i).Z_(t)}function WA(i,t){i.da.$e(t),Ho(i).X_(t)}function Qg(i){i.da=new qV({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.Va.ua()}function Xg(i){return _a(i)&&!Ho(i).x_()&&i.Ia.size>0}function _a(i){return wt(i).Ea.size===0}function JA(i){i.da=void 0}async function JM(i){i.Va.set("Online")}async function ZM(i){i.Ia.forEach(((t,e)=>{Yg(i,t)}))}async function tN(i,t){JA(i),Xg(i)?(i.Va.ha(t),Qg(i)):i.Va.set("Unknown")}async function eN(i,t,e){if(i.Va.set("Online"),t instanceof PA&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(i,t)}catch(r){ut(ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await hf(i,r)}else if(t instanceof Fh?i.da.Xe(t):t instanceof OA?i.da.st(t):i.da.tt(t),!e.isEqual(St.min()))try{const r=await YA(i.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Ze.EMPTY_BYTE_STRING,v.snapshotVersion)),WA(u,p);const T=new or(v.target,p,g,v.sequenceNumber);Yg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,e)}catch(r){ut(ya,"Failed to raise snapshot:",r),await hf(i,r)}}async function hf(i,t,e){if(!Fo(t))throw t;i.Ea.add(1),await Bu(i),i.Va.set("Offline"),e||(e=()=>YA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ut(ya,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await Lf(i)}))}function ZA(i,t){return t().catch((e=>hf(i,e,t)))}async function Uf(i){const t=wt(i),e=br(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ng;for(;nN(t);)try{const o=await kM(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,iN(t,o)}catch(o){await hf(t,o)}t1(t)&&e1(t)}function nN(i){return _a(i)&&i.Ta.length<10}function iN(i,t){i.Ta.push(t);const e=br(i);e.O_()&&e.Y_&&e.ea(t.mutations)}function t1(i){return _a(i)&&!br(i).x_()&&i.Ta.length>0}function e1(i){br(i).start()}async function sN(i){br(i).ra()}async function rN(i){const t=br(i);for(const e of i.Ta)t.ea(e.mutations)}async function aN(i,t,e){const r=i.Ta.shift(),o=jg.from(r,t,e);await ZA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Uf(i)}async function oN(i,t){t&&br(i).Y_&&await(async function(r,o){if((function(c){return BV(c)&&c!==nt.ABORTED})(o.code)){const u=r.Ta.shift();br(r).B_(),await ZA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Uf(r)}})(i,t),t1(i)&&e1(i)}async function SE(i,t){const e=wt(i);e.asyncQueue.verifyOperationInProgress(),ut(ya,"RemoteStore received new credentials");const r=_a(e);e.Ea.add(3),await Bu(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Lf(e)}async function lN(i,t){const e=wt(i);t?(e.Ea.delete(2),await Lf(e)):t||(e.Ea.add(2),await Bu(e),e.Va.set("Unknown"))}function Ho(i){return i.ma||(i.ma=(function(e,r,o){const u=wt(e);return u.sa(),new GM(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:JM.bind(null,i),Yo:ZM.bind(null,i),t_:tN.bind(null,i),J_:eN.bind(null,i)}),i.Ra.push((async t=>{t?(i.ma.B_(),Xg(i)?Qg(i):i.Va.set("Unknown")):(await i.ma.stop(),JA(i))}))),i.ma}function br(i){return i.fa||(i.fa=(function(e,r,o){const u=wt(e);return u.sa(),new KM(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:sN.bind(null,i),t_:oN.bind(null,i),ta:rN.bind(null,i),na:aN.bind(null,i)}),i.Ra.push((async t=>{t?(i.fa.B_(),await Uf(i)):(await i.fa.stop(),i.Ta.length>0&&(ut(ya,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class $g{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new $g(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(i,t){if(vs("AsyncQueue",`${t}: ${i}`),Fo(i))return new gt(nt.UNAVAILABLE,`${t}: ${i}`);throw i}class Ao{static emptySet(t){return new Ao(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||vt.comparator(e.key,r.key):(e,r)=>vt.comparator(e.key,r.key),this.keyedMap=nu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ao)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class AE{constructor(){this.ga=new he(vt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Oo{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new Oo(t,e,Ao.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class uN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class cN{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=wt(e),u=o.queries;o.queries=wE(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new gt(nt.ABORTED,"Firestore shutting down"))}}function wE(){return new va((i=>_A(i)),Vf)}async function n1(i,t){const e=wt(i);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new uN,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Wg(c,`Initialization of query '${ho(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.ba.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Jg(e)}async function i1(i,t){const e=wt(i),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function hN(i,t){const e=wt(i);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&Jg(e)}function fN(i,t,e){const r=wt(i),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(e);r.queries.delete(t)}function Jg(i){i.Ca.forEach((t=>{t.next()}))}var Kp,RE;(RE=Kp||(Kp={})).Ma="default",RE.Cache="cache";class s1{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Kp.Cache}}class r1{constructor(t){this.key=t}}class a1{constructor(t){this.key=t}}class dN{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=TA(t),this.tu=new Ao(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new AE,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const b=o.get(v),R=Mf(this.query,T)?T:null,P=!!b&&this.mutatedKeys.has(b.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let z=!1;b&&R?b.data.isEqual(R.data)?P!==k&&(r.track({type:3,doc:R}),z=!0):this.su(b,R)||(r.track({type:2,doc:R}),z=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(m=!0)):!b&&R?(r.track({type:0,doc:R}),z=!0):b&&!R&&(r.track({type:1,doc:b}),z=!0,(p||g)&&(m=!0)),z&&(R?(c=c.add(R),u=k?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,T)=>(function(R,P){const k=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:z})}};return k(R)-k(P)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Oo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new a1(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new r1(r))})),e}cu(t){this.Za=t.ks,this.Ya=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zg="SyncEngine";class mN{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class pN{constructor(t){this.key=t,this.hu=!1}}class gN{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new va((m=>_A(m)),Vf),this.Iu=new Map,this.Eu=new Set,this.Ru=new he(vt.comparator),this.Au=new Map,this.Vu=new Fg,this.du={},this.mu=new Map,this.fu=No.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yN(i,t,e=!0){const r=f1(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await o1(r,t,e,!0),o}async function vN(i,t){const e=f1(i);await o1(e,t,!0,!1)}async function o1(i,t,e,r){const o=await LM(i.localStore,Ui(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await _N(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&e&&$A(i.remoteStore,o),m}async function _N(i,t,e,r,o){i.pu=(T,b,R)=>(async function(k,z,Q,J){let Y=z.view.ru(Q);Y.Ss&&(Y=await vE(k.localStore,z.query,!1).then((({documents:C})=>z.view.ru(C,Y))));const lt=J&&J.targetChanges.get(z.targetId),ot=J&&J.targetMismatches.get(z.targetId)!=null,mt=z.view.applyChanges(Y,k.isPrimaryClient,lt,ot);return xE(k,z.targetId,mt.au),mt.snapshot})(i,T,b,R);const u=await vE(i.localStore,t,!0),c=new dN(t,u.ks),m=c.ru(u.documents),p=zu.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);xE(i,e,g.au);const v=new mN(t,e,c);return i.Tu.set(t,v),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),g.snapshot}async function TN(i,t,e){const r=wt(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Vf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await qp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Kg(r.remoteStore,o.targetId),Yp(r,o.targetId)})).catch(Bo)):(Yp(r,o.targetId),await qp(r.localStore,o.targetId,!0))}async function EN(i,t){const e=wt(i),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Kg(e.remoteStore,r.targetId))}async function bN(i,t,e){const r=IN(i);try{const o=await(function(c,m){const p=wt(c),g=re.now(),v=m.reduce(((R,P)=>R.add(P.key)),Ut());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let P=_s(),k=Ut();return p.xs.getEntries(R,v).next((z=>{P=z,P.forEach(((Q,J)=>{J.isValidDocument()||(k=k.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,P))).next((z=>{T=z;const Q=[];for(const J of m){const Y=kV(J,T.get(J.key).overlayedDocument);Y!=null&&Q.push(new Cr(J.key,Y,fA(Y.value.mapValue),ji.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,Q,m)})).next((z=>{b=z;const Q=z.applyToLocalDocumentSet(T,k);return p.documentOverlayCache.saveOverlays(R,z.batchId,Q)}))})).then((()=>({batchId:b.batchId,changes:bA(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new he(Lt)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,e),await Fu(r,o.changes),await Uf(r.remoteStore)}catch(o){const u=Wg(o,"Failed to persist write");e.reject(u)}}async function l1(i,t){const e=wt(i);try{const r=await OM(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Fu(e,r,t)}catch(r){await Bo(r)}}function CE(i,t,e){const r=wt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=wt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const b of T.ba)b.va(m)&&(g=!0)})),g&&Jg(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function SN(i,t,e){const r=wt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new he(vt.comparator);c=c.insert(u,sn.newNoDocument(u,St.min()));const m=Ut().add(u),p=new Pf(St.min(),new Map,new he(Lt),c,m);await l1(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(t),ty(r)}else await qp(r.localStore,t,!1).then((()=>Yp(r,t,e))).catch(Bo)}async function AN(i,t){const e=wt(i),r=t.batch.batchId;try{const o=await NM(e.localStore,t);c1(e,r,null),u1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(e,o)}catch(o){await Bo(o)}}async function wN(i,t,e){const r=wt(i);try{const o=await(function(c,m){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Kt(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);c1(r,t,e),u1(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Fu(r,o)}catch(o){await Bo(o)}}function u1(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function c1(i,t,e){const r=wt(i);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function Yp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Vu.Gr(t).forEach((r=>{i.Vu.containsKey(r)||h1(i,r)}))}function h1(i,t){i.Eu.delete(t.path.canonicalString());const e=i.Ru.get(t);e!==null&&(Kg(i.remoteStore,e),i.Ru=i.Ru.remove(t),i.Au.delete(e),ty(i))}function xE(i,t,e){for(const r of e)r instanceof r1?(i.Vu.addReference(r.key,t),RN(i,r)):r instanceof a1?(ut(Zg,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,t),i.Vu.containsKey(r.key)||h1(i,r.key)):Tt(19791,{wu:r})}function RN(i,t){const e=t.key,r=e.path.canonicalString();i.Ru.get(e)||i.Eu.has(r)||(ut(Zg,"New document in limbo: "+e),i.Eu.add(r),ty(i))}function ty(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new vt(se.fromString(t)),r=i.fu.next();i.Au.set(r,new pN(e)),i.Ru=i.Ru.insert(e,r),$A(i.remoteStore,new or(Ui(Df(e.path)),r,"TargetPurposeLimboResolution",Rf.ce))}}async function Fu(i,t,e){const r=wt(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=qg.Es(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>et.forEach(g,(b=>et.forEach(b.Ts,(R=>v.persistence.referenceDelegate.addReference(T,b.targetId,R))).next((()=>et.forEach(b.Is,(R=>v.persistence.referenceDelegate.removeReference(T,b.targetId,R)))))))))}catch(T){if(!Fo(T))throw T;ut(Gg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const R=v.vs.get(b),P=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(P);v.vs=v.vs.insert(b,k)}}})(r.localStore,u))}async function CN(i,t){const e=wt(i);if(!e.currentUser.isEqual(t)){ut(Zg,"User change. New user:",t.toKey());const r=await KA(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new gt(nt.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Fu(e,r.Ns)}}function xN(i,t){const e=wt(i),r=e.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function f1(i){const t=wt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=l1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SN.bind(null,t),t.Pu.J_=hN.bind(null,t.eventManager),t.Pu.yu=fN.bind(null,t.eventManager),t}function IN(i){const t=wt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wN.bind(null,t),t}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return MM(this.persistence,new IM,t.initialUser,this.serializer)}Cu(t){return new GA(Hg.Vi,this.serializer)}Du(t){return new jM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class DN extends ff{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Kt(this.persistence.referenceDelegate instanceof cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mM(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new GA((r=>cf.Vi(r,e)),this.serializer)}}class Qp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CN.bind(null,this.syncEngine),await lN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cN})()}createDatastore(t){const e=kf(t.databaseInfo.databaseId),r=qM(t.databaseInfo);return XM(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new WM(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>CE(this.syncEngine,e,0)),(function(){return EE.v()?new EE:new zM})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,v){const T=new gN(o,u,c,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=wt(e);ut(ya,"RemoteStore shutting down."),r.Ea.add(5),await Bu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qp.provider={build:()=>new Qp};class d1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Sr="FirestoreClient";class VN{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ut(Sr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ut(Sr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Wg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function lp(i,t){i.asyncQueue.verifyOperationInProgress(),ut(Sr,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await KA(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function IE(i,t){i.asyncQueue.verifyOperationInProgress();const e=await MN(i);ut(Sr,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>SE(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>SE(t.remoteStore,o))),i._onlineComponents=t}async function MN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ut(Sr,"Using user provided OfflineComponentProvider");try{await lp(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;xo("Error using user provided cache. Falling back to memory cache: "+e),await lp(i,new ff)}}else ut(Sr,"Using default OfflineComponentProvider"),await lp(i,new DN(void 0));return i._offlineComponents}async function m1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ut(Sr,"Using user provided OnlineComponentProvider"),await IE(i,i._uninitializedComponentsProvider._online)):(ut(Sr,"Using default OnlineComponentProvider"),await IE(i,new Qp))),i._onlineComponents}function NN(i){return m1(i).then((t=>t.syncEngine))}async function Xp(i){const t=await m1(i),e=t.eventManager;return e.onListen=yN.bind(null,t.syncEngine),e.onUnlisten=TN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=vN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=EN.bind(null,t.syncEngine),e}function ON(i,t,e,r){const o=new d1(r),u=new s1(t,o,e);return i.asyncQueue.enqueueAndForget((async()=>n1(await Xp(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>i1(await Xp(i),u)))}}function PN(i,t,e={}){const r=new mr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new d1({next:b=>{v.Nu(),c.enqueueAndForget((()=>i1(u,T)));const R=b.docs.has(m);!R&&b.fromCache?g.reject(new gt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&p&&p.source==="server"?g.reject(new gt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new s1(Df(m.path),v,{includeMetadataChanges:!0,Ka:!0});return n1(u,T)})(await Xp(i),i.asyncQueue,t,e,r))),r.promise}function kN(i,t){const e=new mr;return i.asyncQueue.enqueueAndForget((async()=>bN(await NN(i),t,e))),e.promise}function p1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const LN="ComponentProvider",DE=new Map;function UN(i,t,e,r,o){return new sV(i,t,e,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,p1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const g1="firestore.googleapis.com",VE=!0;class ME{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g1,this.ssl=VE}else this.host=t.host,this.ssl=t.ssl??VE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fM)throw new gt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jf{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new LD;switch(r.type){case"firstParty":return new BD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=DE.get(e);r&&(ut(LN,"Removing Datastore"),DE.delete(e),r.terminate())})(this),Promise.resolve()}}function jN(i,t,e,r={}){i=ds(i,jf);const o=Lo(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${e}`;o&&(aS(`https://${m}`),oS("Firestore",!0)),u.host!==g1&&u.host!==m&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!gr(p,c)&&(i._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=nn.MOCK_USER;else{g=ux(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new gt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(T)}i._authCredentials=new UD(new tA(g,v))}}class zf{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new zf(this.firestore,t,this._query)}}class Ne{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Uu(e,Ne._jsonSchema))return new Ne(t,r||null,new vt(se.fromString(e.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Me("string",Ne._jsonSchemaVersion),referencePath:Me("string")};class pr extends zf{constructor(t,e,r){super(t,e,Df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new vt(t))}withConverter(t){return new pr(this.firestore,t,this._path)}}function zN(i,t,...e){if(i=fn(i),eA("collection","path",t),i instanceof jf){const r=se.fromString(t,...e);return KT(r),new pr(i,null,r)}{if(!(i instanceof Ne||i instanceof pr))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(se.fromString(t,...e));return KT(r),new pr(i.firestore,null,r)}}function Ru(i,t,...e){if(i=fn(i),arguments.length===1&&(t=Vg.newId()),eA("doc","path",t),i instanceof jf){const r=se.fromString(t,...e);return GT(r),new Ne(i,null,new vt(r))}{if(!(i instanceof Ne||i instanceof pr))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(se.fromString(t,...e));return GT(r),new Ne(i.firestore,i instanceof pr?i.converter:null,new vt(r))}}const NE="AsyncQueue";class OE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QA(this,"async_queue_retry"),this._c=()=>{const r=op();r&&ut(NE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=op();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=op();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Fo(t))throw t;ut(NE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",PE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=$g.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:PE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function PE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Po extends jf{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new OE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OE(t),this._firestoreClient=void 0,await t}}}function BN(i,t){const e=typeof i=="object"?i:hS(),r=typeof i=="string"?i:sf,o=bg(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=ox("firestore");u&&jN(o,...u)}return o}function ey(i){if(i._terminated)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||FN(i),i._firestoreClient}function FN(i){const t=i._freezeSettings(),e=UN(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new VN(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(Ze.fromBase64String(t))}catch(e){throw new gt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uu(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Me("string",Kn._jsonSchemaVersion),bytes:Me("string")};class ny{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hu{constructor(t){this._methodName=t}}class Bi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(Uu(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Me("string",Bi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class hi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uu(t,hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new hi(t.vectorValues);throw new gt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Me("string",hi._jsonSchemaVersion),vectorValues:Me("object")};const HN=/^__.*__$/;class qN{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Cr(t,this.data,this.fieldMask,e,this.fieldTransforms):new ju(t,this.data,e,this.fieldTransforms)}}class y1{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Cr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function v1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:i})}}class Bf{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Bf({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return df(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(v1(this.dataSource)&&HN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class GN{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||kf(t)}createContext(t,e,r,o=!1){return new Bf({dataSource:t,methodName:e,targetDoc:r,path:Je.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _1(i){const t=i._freezeSettings(),e=kf(i._databaseId);return new GN(i._databaseId,!!t.ignoreUndefinedProperties,e)}function KN(i,t,e,r,o,u={}){const c=i.createContext(u.merge||u.mergeFields?2:0,t,e,o);ry("Data must be an object, but it was:",c,r);const m=T1(r,c);let p,g;if(u.merge)p=new Vn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const b=Cu(t,T,e);if(!c.contains(b))throw new gt(nt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);S1(v,b)||v.push(b)}p=new Vn(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new qN(new En(m),p,g)}class Ff extends Hu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ff}}function YN(i,t,e){return new Bf({dataSource:3,targetDoc:t.settings.targetDoc,methodName:i._methodName,arrayElement:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class iy extends Hu{_toFieldTransform(t){return new IA(t.path,new Au)}isEqual(t){return t instanceof iy}}class sy extends Hu{constructor(t,e){super(t),this.Ac=e}_toFieldTransform(t){const e=YN(this,t,!0),r=this.Ac.map((u=>qu(u,e))),o=new Mo(r);return new IA(t.path,o)}isEqual(t){return t instanceof sy&&gr(this.Ac,t.Ac)}}function QN(i,t,e,r){const o=i.createContext(1,t,e);ry("Data must be an object, but it was:",o,r);const u=[],c=En.empty();Rr(r,((p,g)=>{const v=b1(t,p,e);g=fn(g);const T=o.childContextForFieldPath(v);if(g instanceof Ff)u.push(v);else{const b=qu(g,T);b!=null&&(u.push(v),c.set(v,b))}}));const m=new Vn(u);return new y1(c,m,o.fieldTransforms)}function XN(i,t,e,r,o,u){const c=i.createContext(1,t,e),m=[Cu(t,r,e)],p=[o];if(u.length%2!=0)throw new gt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Cu(t,u[b])),p.push(u[b+1]);const g=[],v=En.empty();for(let b=m.length-1;b>=0;--b)if(!S1(g,m[b])){const R=m[b];let P=p[b];P=fn(P);const k=c.childContextForFieldPath(R);if(P instanceof Ff)g.push(R);else{const z=qu(P,k);z!=null&&(g.push(R),v.set(R,z))}}const T=new Vn(g);return new y1(v,T,c.fieldTransforms)}function qu(i,t){if(E1(i=fn(i)))return ry("Unsupported field value:",t,i),T1(i,t);if(i instanceof Hu)return(function(r,o){if(!v1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=qu(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(r,o){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DV(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=re.fromDate(r);return{timestampValue:uf(o.serializer,u)}}if(r instanceof re){const u=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(o.serializer,u)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:kA(o.serializer,r._byteString)};if(r instanceof Ne){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof hi)return(function(c,m){const p=c instanceof hi?c.toArray():c;return{mapValue:{fields:{[cA]:{stringValue:hA},[rf]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw m.createError("VectorValues must only contain numeric values.");return Ug(m.serializer,v)}))}}}}}})(r,o);if(HA(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Mg(r)}`)})(i,t)}function T1(i,t){const e={};return sA(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rr(i,((r,o)=>{const u=qu(o,t.childContextForField(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function E1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof re||i instanceof Bi||i instanceof Kn||i instanceof Ne||i instanceof Hu||i instanceof hi||HA(i))}function ry(i,t,e){if(!E1(e)||!nA(e)){const r=Mg(e);throw r==="an object"?t.createError(i+" a custom object"):t.createError(i+" "+r)}}function Cu(i,t,e){if((t=fn(t))instanceof ny)return t._internalPath;if(typeof t=="string")return b1(i,t);throw df("Field path arguments must be of type string or ",i,!1,void 0,e)}const $N=new RegExp("[~\\*/\\[\\]]");function b1(i,t,e){if(t.search($N)>=0)throw df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new ny(...t.split("."))._internalPath}catch{throw df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function df(i,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new gt(nt.INVALID_ARGUMENT,m+i+p)}function S1(i,t){return i.some((e=>e.isEqual(t)))}class WN{convertValue(t,e="none"){switch(Er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Rr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[rf].arrayValue?.values?.map((r=>Te(r.doubleValue)));return new hi(e)}convertGeoPoint(t){return new Bi(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=xf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Eu(t));default:return null}}convertTimestamp(t){const e=_r(t);return new re(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=se.fromString(t);Kt(FA(r),9688,{name:t});const o=new bu(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return o.isEqual(e)||vs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}class A1 extends WN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,e)}}function JN(){return new iy("serverTimestamp")}function ZN(...i){return new sy("arrayUnion",i)}const kE="@firebase/firestore",LE="4.10.0";function UE(i){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class w1{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Cu("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class tO extends w1{data(){return super.data()}}function eO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new gt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function nO(i,t,e){let r;return r=i?i.toFirestore(t):t,r}class su{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fa extends w1{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Cu("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=fa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:Me("string",fa._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Hh extends fa{data(t={}){return super.data(t)}}class wo{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new su(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Hh(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new su(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new su(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:iO(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function iO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:i})}}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Me("string",wo._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};function sO(i){i=ds(i,Ne);const t=ds(i.firestore,Po),e=ey(t);return PN(e,i._key).then((r=>x1(t,i,r)))}function R1(i,t,e,...r){i=ds(i,Ne);const o=ds(i.firestore,Po),u=_1(o);let c;return c=typeof(t=fn(t))=="string"||t instanceof ny?XN(u,"updateDoc",i._key,t,e,r):QN(u,"updateDoc",i._key,t),C1(o,[c.toMutation(i._key,ji.exists(!0))])}function rO(i,t){const e=ds(i.firestore,Po),r=Ru(i),o=nO(i.converter,t),u=_1(i.firestore);return C1(e,[KN(u,"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,ji.exists(!1))]).then((()=>r))}function aO(i,...t){i=fn(i);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||UE(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(UE(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,m;if(i instanceof Ne)c=ds(i.firestore,Po),m=Df(i._key.path),u={next:g=>{t[r]&&t[r](x1(c,i,g))},error:t[r+1],complete:t[r+2]};else{const g=ds(i,zf);c=ds(g.firestore,Po),m=g._query;const v=new A1(c);u={next:T=>{t[r]&&t[r](new wo(c,v,g,T))},error:t[r+1],complete:t[r+2]},eO(i._query)}const p=ey(c);return ON(p,m,o,u)}function C1(i,t){const e=ey(i);return kN(e,t)}function x1(i,t,e){const r=e.docs.get(t._key),o=new A1(i);return new fa(i,o,t._key,r,new su(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){kD(Uo),Co(new ma("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Po(new jD(r.getProvider("auth-internal")),new FD(c,r.getProvider("app-check-internal")),rV(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),hr(kE,LE,t),hr(kE,LE,"esm2020")})();const oO={apiKey:"AIzaSyAMYFQeR-nSXC5TrC1_EG8O1dvV72grdPk",authDomain:"gatheringfun-9f90b.firebaseapp.com",projectId:"gatheringfun-9f90b",storageBucket:"gatheringfun-9f90b.firebasestorage.app",messagingSenderId:"127856246038",appId:"1:127856246038:web:15ccb418ad1828eff2e437",measurementId:"G-3L2YMD21VG"},I1=cS(oO),Pi=OD(I1),du=BN(I1),lO={Taiwan:{" (Taipei)":["","","",""]," (New Taipei)":["","","",""]," (Taichung)":["","",""]," (Kaohsiung)":["","",""]},Malaysia:{"Kuala Lumpur":["Bukit Bintang","KLCC","Bangsar","Cheras"],Selangor:["Petaling Jaya","Subang Jaya","Shah Alam","Klang"],Penang:["George Town","Bayan Lepas","Butterworth"],Johor:["Johor Bahru","Skudai","Mount Austin"]}},uO=["Taiwanese","Chinese","Western","Japanese","Korean","Thai","Indian","Italian","Malay","Nyonya"],cO=({onSubmit:i,loading:t})=>{const[e,r]=st.useState({name:"",startDate:"",endDate:"",country:"Taiwan",locations:[],cuisines:[],minPrice:1,maxPrice:4,waitMinutes:10}),o=p=>{const{name:g,value:v}=p.target;r(g==="country"?T=>({...T,[g]:v,locations:[]}):T=>({...T,[g]:v}))},u=(p,g)=>{r(v=>{const T=v[p],b=T.includes(g)?T.filter(R=>R!==g):[...T,g];return{...v,[p]:b}})},c=p=>{if(p.preventDefault(),!e.name||!e.startDate||!e.endDate||e.locations.length===0){alert("Please fill in required fields, including at least one location");return}i(e)},m=lO[e.country];return L.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[L.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center",children:"Start a New Gathering"}),L.jsxs("form",{onSubmit:c,className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Gathering Name"}),L.jsx("input",{type:"text",name:"name",value:e.name,onChange:o,placeholder:"e.g., Friday Dinner Party",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),L.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),L.jsx("input",{type:"date",name:"startDate",value:e.startDate,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),L.jsx("input",{type:"date",name:"endDate",value:e.endDate,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),L.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),L.jsxs("select",{name:"country",value:e.country,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[L.jsx("option",{value:"Taiwan",children:"Taiwan"}),L.jsx("option",{value:"Malaysia",children:"Malaysia"})]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Price Range"}),L.jsx("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-700/50 p-1.5 rounded-xl border border-gray-200 dark:border-gray-600",children:[1,2,3,4].map(p=>{const g=p>=e.minPrice&&p<=e.maxPrice;return L.jsx("button",{type:"button",onClick:()=>{if(p<e.minPrice)r(v=>({...v,minPrice:p}));else if(p>e.maxPrice)r(v=>({...v,maxPrice:p}));else{const v=Math.abs(p-e.minPrice),T=Math.abs(p-e.maxPrice);v<T?r(b=>({...b,minPrice:p})):r(b=>({...b,maxPrice:p}))}},className:`flex-1 py-1.5 rounded-lg text-lg font-bold transition-all ${g?"bg-blue-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:"$".repeat(p)},p)})}),L.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 px-1",children:["Current: ","$".repeat(e.minPrice)," - ","$".repeat(e.maxPrice)]})]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Locations (Select multiple Districts/Areas)"}),L.jsx("div",{className:"max-h-60 overflow-y-auto space-y-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:Object.entries(m).map(([p,g])=>L.jsxs("div",{children:[L.jsx("h4",{className:"text-sm font-bold text-gray-500 mb-2",children:p}),L.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(v=>L.jsx("button",{type:"button",onClick:()=>u("locations",`${p} - ${v}`),className:`px-3 py-1 bg-white dark:bg-gray-700 rounded-md border transition-all text-xs font-medium ${e.locations.includes(`${p} - ${v}`)?"border-blue-500 ring-2 ring-blue-500/20 text-blue-600":"border-gray-200 dark:border-gray-600 text-gray-600"}`,children:v},v))})]},p))})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Preferred Cuisines"}),L.jsx("div",{className:"flex flex-wrap gap-2",children:uO.map(p=>L.jsx("button",{type:"button",onClick:()=>u("cuisines",p),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${e.cuisines.includes(p)?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300"}`,children:p},p))})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wait Duration (Minutes)"}),L.jsx("input",{type:"number",name:"waitMinutes",value:e.waitMinutes,onChange:o,min:"1",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Wait for participants to join before generating results."})]}),L.jsx("button",{type:"submit",disabled:t,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${t?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600"}`,children:t?"Creating...":"Create Gathering Link"})]})]})},hO=({sessionId:i,onJoined:t})=>{const[e,r]=st.useState(null),[o,u]=st.useState(!1),[c,m]=st.useState(null),[p,g]=st.useState({dates:[],locations:[],cuisines:[]});st.useEffect(()=>{i&&v()},[i]);const v=async()=>{u(!0);try{const R=Ru(du,"sessions",i),P=await sO(R);P.exists()?r({id:P.id,...P.data()}):m("Session not found")}catch{m("Error fetching session")}finally{u(!1)}},T=(R,P)=>{g(k=>{const z=k[R],Q=z.includes(P)?z.filter(J=>J!==P):[...z,P];return{...k,[R]:Q}})},b=async R=>{if(R.preventDefault(),p.dates.length===0||p.locations.length===0||p.cuisines.length===0){alert("Please select at least one option for each category");return}u(!0);try{Pi.currentUser||await PS(Pi);const P=Ru(du,"sessions",i);await R1(P,{participants:ZN(Pi.currentUser.uid),[`votes.${Pi.currentUser.uid}`]:p}),t(i)}catch{alert("Failed to join session")}finally{u(!1)}};return o&&!e?L.jsx("div",{className:"text-center py-20 text-blue-600 font-bold",children:"Loading Session..."}):c?L.jsx("div",{className:"text-center py-20 text-red-500 font-bold",children:c}):e?L.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[L.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:['Join "',e.name,'"']}),L.jsx("p",{className:"text-gray-500 text-center mb-8 italic",children:"Choose your preferences from the host's list"}),L.jsxs("form",{onSubmit:b,className:"space-y-8",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Which dates work for you?"}),L.jsx("div",{className:"flex flex-wrap gap-2",children:L.jsxs("button",{type:"button",onClick:()=>T("dates",`${e.startDate} to ${e.endDate}`),className:`px-4 py-2 rounded-lg border transition-all ${p.dates.includes(`${e.startDate} to ${e.endDate}`)?"bg-blue-500 text-white border-blue-500":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-600"}`,children:[e.startDate," ~ ",e.endDate]})})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Preferred Locations"}),L.jsx("div",{className:"flex flex-wrap gap-2",children:e.locations.map(R=>L.jsx("button",{type:"button",onClick:()=>T("locations",R),className:`px-3 py-1.5 rounded-lg border text-sm transition-all ${p.locations.includes(R)?"bg-indigo-500 text-white border-indigo-500":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-600"}`,children:R},R))})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Preferred Cuisines"}),L.jsx("div",{className:"flex flex-wrap gap-2",children:e.cuisines.map(R=>L.jsx("button",{type:"button",onClick:()=>T("cuisines",R),className:`px-3 py-1.5 rounded-full border text-sm transition-all ${p.cuisines.includes(R)?"bg-purple-500 text-white border-purple-500":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-600"}`,children:R},R))})]}),L.jsx("button",{type:"submit",disabled:o,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg transition-all ${o?"bg-gray-400":"bg-gradient-to-r from-blue-600 to-purple-600 hover:scale-[1.02]"}`,children:o?"Joining...":"Submit My Preferences"})]})]}):null},ay=st.createContext({});function oy(i){const t=st.useRef(null);return t.current===null&&(t.current=i()),t.current}const D1=typeof window<"u",V1=D1?st.useLayoutEffect:st.useEffect,Hf=st.createContext(null);function ly(i,t){i.indexOf(t)===-1&&i.push(t)}function uy(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Gi=(i,t,e)=>e>t?t:e<i?i:e;let cy=()=>{};const Ts={},M1=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function N1(i){return typeof i=="object"&&i!==null}const O1=i=>/^0[^.\s]+$/u.test(i);function hy(i){let t;return()=>(t===void 0&&(t=i()),t)}const Qn=i=>i,fO=(i,t)=>e=>t(i(e)),Gu=(...i)=>i.reduce(fO),xu=(i,t,e)=>{const r=t-i;return r===0?1:(e-i)/r};class fy{constructor(){this.subscriptions=[]}add(t){return ly(this.subscriptions,t),()=>uy(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ms=i=>i*1e3,Yn=i=>i/1e3;function P1(i,t){return t?i*(1e3/t):0}const k1=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,dO=1e-7,mO=12;function pO(i,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=k1(c,r,o)-i,u>0?e=c:t=c;while(Math.abs(u)>dO&&++m<mO);return c}function Ku(i,t,e,r){if(i===t&&e===r)return Qn;const o=u=>pO(u,0,1,i,e);return u=>u===0||u===1?u:k1(o(u),t,r)}const L1=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,U1=i=>t=>1-i(1-t),j1=Ku(.33,1.53,.69,.99),dy=U1(j1),z1=L1(dy),B1=i=>(i*=2)<1?.5*dy(i):.5*(2-Math.pow(2,-10*(i-1))),my=i=>1-Math.sin(Math.acos(i)),F1=U1(my),H1=L1(my),gO=Ku(.42,0,1,1),yO=Ku(0,0,.58,1),q1=Ku(.42,0,.58,1),vO=i=>Array.isArray(i)&&typeof i[0]!="number",G1=i=>Array.isArray(i)&&typeof i[0]=="number",_O={linear:Qn,easeIn:gO,easeInOut:q1,easeOut:yO,circIn:my,circInOut:H1,circOut:F1,backIn:dy,backInOut:z1,backOut:j1,anticipate:B1},TO=i=>typeof i=="string",jE=i=>{if(G1(i)){cy(i.length===4);const[t,e,r,o]=i;return Ku(t,e,r,o)}else if(TO(i))return _O[i];return i},Dh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function EO(i,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),i()),v(m)}const g={schedule:(v,T=!1,b=!1)=>{const P=b&&o?e:r;return T&&c.add(v),P.has(v)||P.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const bO=40;function K1(i,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Dh.reduce((Y,lt)=>(Y[lt]=EO(u),Y),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:T,preRender:b,render:R,postRender:P}=c,k=()=>{const Y=Ts.useManualTiming?o.timestamp:performance.now();e=!1,Ts.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Y-o.timestamp,bO),1)),o.timestamp=Y,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),T.process(o),b.process(o),R.process(o),P.process(o),o.isProcessing=!1,e&&t&&(r=!1,i(k))},z=()=>{e=!0,r=!0,o.isProcessing||i(k)};return{schedule:Dh.reduce((Y,lt)=>{const ot=c[lt];return Y[lt]=(mt,C=!1,w=!1)=>(e||z(),ot.schedule(mt,C,w)),Y},{}),cancel:Y=>{for(let lt=0;lt<Dh.length;lt++)c[Dh[lt]].cancel(Y)},state:o,steps:c}}const{schedule:ae,cancel:Ar,state:$e,steps:up}=K1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let qh;function SO(){qh=void 0}const cn={now:()=>(qh===void 0&&cn.set($e.isProcessing||Ts.useManualTiming?$e.timestamp:performance.now()),qh),set:i=>{qh=i,queueMicrotask(SO)}},Y1=i=>t=>typeof t=="string"&&t.startsWith(i),Q1=Y1("--"),AO=Y1("var(--"),py=i=>AO(i)?wO.test(i.split("/*")[0].trim()):!1,wO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function zE(i){return typeof i!="string"?!1:i.split("/*")[0].includes("var(--")}const qo={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Iu={...qo,transform:i=>Gi(0,1,i)},Vh={...qo,default:1},mu=i=>Math.round(i*1e5)/1e5,gy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RO(i){return i==null}const CO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yy=(i,t)=>e=>!!(typeof e=="string"&&CO.test(e)&&e.startsWith(i)||t&&!RO(e)&&Object.prototype.hasOwnProperty.call(e,t)),X1=(i,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(gy);return{[i]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},xO=i=>Gi(0,255,i),cp={...qo,transform:i=>Math.round(xO(i))},ca={test:yy("rgb","red"),parse:X1("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:r=1})=>"rgba("+cp.transform(i)+", "+cp.transform(t)+", "+cp.transform(e)+", "+mu(Iu.transform(r))+")"};function IO(i){let t="",e="",r="",o="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const $p={test:yy("#"),parse:IO,transform:ca.transform},Yu=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),nr=Yu("deg"),Fi=Yu("%"),ht=Yu("px"),DO=Yu("vh"),VO=Yu("vw"),BE={...Fi,parse:i=>Fi.parse(i)/100,transform:i=>Fi.transform(i*100)},go={test:yy("hsl","hue"),parse:X1("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(i)+", "+Fi.transform(mu(t))+", "+Fi.transform(mu(e))+", "+mu(Iu.transform(r))+")"},Ve={test:i=>ca.test(i)||$p.test(i)||go.test(i),parse:i=>ca.test(i)?ca.parse(i):go.test(i)?go.parse(i):$p.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?ca.transform(i):go.transform(i),getAnimatableNone:i=>{const t=Ve.parse(i);return t.alpha=0,Ve.transform(t)}},MO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NO(i){return isNaN(i)&&typeof i=="string"&&(i.match(gy)?.length||0)+(i.match(MO)?.length||0)>0}const $1="number",W1="color",OO="var",PO="var(",FE="${}",kO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Du(i){const t=i.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(kO,p=>(Ve.test(p)?(r.color.push(u),o.push(W1),e.push(Ve.parse(p))):p.startsWith(PO)?(r.var.push(u),o.push(OO),e.push(p)):(r.number.push(u),o.push($1),e.push(parseFloat(p))),++u,FE)).split(FE);return{values:e,split:m,indexes:r,types:o}}function J1(i){return Du(i).values}function Z1(i){const{split:t,types:e}=Du(i),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===$1?u+=mu(o[c]):m===W1?u+=Ve.transform(o[c]):u+=o[c]}return u}}const LO=i=>typeof i=="number"?0:Ve.test(i)?Ve.getAnimatableNone(i):i;function UO(i){const t=J1(i);return Z1(i)(t.map(LO))}const wr={test:NO,parse:J1,createTransformer:Z1,getAnimatableNone:UO};function hp(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function jO({hue:i,saturation:t,lightness:e,alpha:r}){i/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=hp(p,m,i+1/3),u=hp(p,m,i),c=hp(p,m,i-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function mf(i,t){return e=>e>0?t:i}const ce=(i,t,e)=>i+(t-i)*e,fp=(i,t,e)=>{const r=i*i,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},zO=[$p,ca,go],BO=i=>zO.find(t=>t.test(i));function HE(i){const t=BO(i);if(!t)return!1;let e=t.parse(i);return t===go&&(e=jO(e)),e}const qE=(i,t)=>{const e=HE(i),r=HE(t);if(!e||!r)return mf(i,t);const o={...e};return u=>(o.red=fp(e.red,r.red,u),o.green=fp(e.green,r.green,u),o.blue=fp(e.blue,r.blue,u),o.alpha=ce(e.alpha,r.alpha,u),ca.transform(o))},Wp=new Set(["none","hidden"]);function FO(i,t){return Wp.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function HO(i,t){return e=>ce(i,t,e)}function vy(i){return typeof i=="number"?HO:typeof i=="string"?py(i)?mf:Ve.test(i)?qE:KO:Array.isArray(i)?tw:typeof i=="object"?Ve.test(i)?qE:qO:mf}function tw(i,t){const e=[...i],r=e.length,o=i.map((u,c)=>vy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function qO(i,t){const e={...i,...t},r={};for(const o in e)i[o]!==void 0&&t[o]!==void 0&&(r[o]=vy(i[o])(i[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function GO(i,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=i.indexes[u][r[u]],m=i.values[c]??0;e[o]=m,r[u]++}return e}const KO=(i,t)=>{const e=wr.createTransformer(t),r=Du(i),o=Du(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Wp.has(i)&&!o.values.length||Wp.has(t)&&!r.values.length?FO(i,t):Gu(tw(GO(r,o),o.values),e):mf(i,t)};function ew(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?ce(i,t,e):vy(i)(i,t)}const YO=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>ae.update(t,e),stop:()=>Ar(t),now:()=>$e.isProcessing?$e.timestamp:cn.now()}},nw=(i,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(i(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},pf=2e4;function _y(i){let t=0;const e=50;let r=i.next(t);for(;!r.done&&t<pf;)t+=e,r=i.next(t);return t>=pf?1/0:t}function QO(i,t=100,e){const r=e({...i,keyframes:[0,t]}),o=Math.min(_y(r),pf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Yn(o)}}const XO=5;function iw(i,t,e){const r=Math.max(t-XO,0);return P1(e-i(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dp=.001;function $O({duration:i=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=Gi(pe.minDamping,pe.maxDamping,c),i=Gi(pe.minDuration,pe.maxDuration,Yn(i)),c<1?(o=g=>{const v=g*c,T=v*i,b=v-e,R=Jp(g,c),P=Math.exp(-T);return dp-b/R*P},u=g=>{const T=g*c*i,b=T*e+e,R=Math.pow(c,2)*Math.pow(g,2)*i,P=Math.exp(-T),k=Jp(Math.pow(g,2),c);return(-o(g)+dp>0?-1:1)*((b-R)*P)/k}):(o=g=>{const v=Math.exp(-g*i),T=(g-e)*i+1;return-dp+v*T},u=g=>{const v=Math.exp(-g*i),T=(e-g)*(i*i);return v*T});const m=5/i,p=JO(o,u,m);if(i=ms(i),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:i};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:i}}}const WO=12;function JO(i,t,e){let r=e;for(let o=1;o<WO;o++)r=r-i(r)/t(r);return r}function Jp(i,t){return i*Math.sqrt(1-t*t)}const ZO=["duration","bounce"],tP=["stiffness","damping","mass"];function GE(i,t){return t.some(e=>i[e]!==void 0)}function eP(i){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...i};if(!GE(i,tP)&&GE(i,ZO))if(i.visualDuration){const e=i.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Gi(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const e=$O(i);t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function gf(i=pe.visualDuration,t=pe.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:T,velocity:b,isResolvedFromDuration:R}=eP({...e,velocity:-Yn(e.velocity||0)}),P=b||0,k=g/(2*Math.sqrt(p*v)),z=c-u,Q=Yn(Math.sqrt(p/v)),J=Math.abs(z)<5;r||(r=J?pe.restSpeed.granular:pe.restSpeed.default),o||(o=J?pe.restDelta.granular:pe.restDelta.default);let Y;if(k<1){const ot=Jp(Q,k);Y=mt=>{const C=Math.exp(-k*Q*mt);return c-C*((P+k*Q*z)/ot*Math.sin(ot*mt)+z*Math.cos(ot*mt))}}else if(k===1)Y=ot=>c-Math.exp(-Q*ot)*(z+(P+Q*z)*ot);else{const ot=Q*Math.sqrt(k*k-1);Y=mt=>{const C=Math.exp(-k*Q*mt),w=Math.min(ot*mt,300);return c-C*((P+k*Q*z)*Math.sinh(w)+ot*z*Math.cosh(w))/ot}}const lt={calculatedDuration:R&&T||null,next:ot=>{const mt=Y(ot);if(R)m.done=ot>=T;else{let C=ot===0?P:0;k<1&&(C=ot===0?ms(P):iw(Y,ot,mt));const w=Math.abs(C)<=r,x=Math.abs(c-mt)<=o;m.done=w&&x}return m.value=m.done?c:mt,m},toString:()=>{const ot=Math.min(_y(lt),pf),mt=nw(C=>lt.next(ot*C).value,ot,30);return ot+"ms "+mt},toTransition:()=>{}};return lt}gf.applyToOptions=i=>{const t=QO(i,100,gf);return i.ease=t.ease,i.duration=ms(t.duration),i.type="keyframes",i};function Zp({keyframes:i,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const T=i[0],b={done:!1,value:T},R=w=>m!==void 0&&w<m||p!==void 0&&w>p,P=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let k=e*t;const z=T+k,Q=c===void 0?z:c(z);Q!==z&&(k=Q-T);const J=w=>-k*Math.exp(-w/r),Y=w=>Q+J(w),lt=w=>{const x=J(w),N=Y(w);b.done=Math.abs(x)<=g,b.value=b.done?Q:N};let ot,mt;const C=w=>{R(b.value)&&(ot=w,mt=gf({keyframes:[b.value,P(b.value)],velocity:iw(Y,w,b.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return C(0),{calculatedDuration:null,next:w=>{let x=!1;return!mt&&ot===void 0&&(x=!0,lt(w),C(w)),ot!==void 0&&w>=ot?mt.next(w-ot):(!x&&lt(w),b)}}}function nP(i,t,e){const r=[],o=e||Ts.mix||ew,u=i.length-1;for(let c=0;c<u;c++){let m=o(i[c],i[c+1]);if(t){const p=Array.isArray(t)?t[c]||Qn:t;m=Gu(p,m)}r.push(m)}return r}function iP(i,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=i.length;if(cy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const m=nP(t,r,o),p=m.length,g=v=>{if(c&&v<i[0])return t[0];let T=0;if(p>1)for(;T<i.length-2&&!(v<i[T+1]);T++);const b=xu(i[T],i[T+1],v);return m[T](b)};return e?v=>g(Gi(i[0],i[u-1],v)):g}function sP(i,t){const e=i[i.length-1];for(let r=1;r<=t;r++){const o=xu(0,t,r);i.push(ce(e,1,o))}}function rP(i){const t=[0];return sP(t,i.length-1),t}function aP(i,t){return i.map(e=>e*t)}function oP(i,t){return i.map(()=>t||q1).splice(0,i.length-1)}function pu({duration:i=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=vO(r)?r.map(jE):jE(r),u={done:!1,value:t[0]},c=aP(e&&e.length===t.length?e:rP(t),i),m=iP(c,t,{ease:Array.isArray(o)?o:oP(t,o)});return{calculatedDuration:i,next:p=>(u.value=m(p),u.done=p>=i,u)}}const lP=i=>i!==null;function Ty(i,{repeat:t,repeatType:e="loop"},r,o=1){const u=i.filter(lP),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const uP={decay:Zp,inertia:Zp,tween:pu,keyframes:pu,spring:gf};function sw(i){typeof i.type=="string"&&(i.type=uP[i.type])}class Ey{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const cP=i=>i/100;class by extends Ey{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==cn.now()&&this.tick(cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;sw(t);const{type:e=pu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||pu;p!==pu&&typeof m[0]!="number"&&(this.mixKeyframes=Gu(cP,ew(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=_y(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:T,repeatType:b,repeatDelay:R,type:P,onUpdate:k,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),J=this.playbackSpeed>=0?Q<0:Q>o;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Y=this.currentTime,lt=r;if(T){const w=Math.min(this.currentTime,o)/m;let x=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&x--,x=Math.min(x,T+1),!!(x%2)&&(b==="reverse"?(N=1-N,R&&(N-=R/m)):b==="mirror"&&(lt=c)),Y=Gi(0,1,N)*m}const ot=J?{done:!1,value:v[0]}:lt.next(Y);u&&(ot.value=u(ot.value));let{done:mt}=ot;!J&&p!==null&&(mt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&mt);return C&&P!==Zp&&(ot.value=Ty(v,this.options,z,this.speed)),k&&k(ot.value),C&&this.finish(),ot}then(t,e){return this.finished.then(t,e)}get duration(){return Yn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(this.currentTime)}set time(t){t=ms(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(cn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Yn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=YO,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function hP(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const ha=i=>i*180/Math.PI,tg=i=>{const t=ha(Math.atan2(i[1],i[0]));return eg(t)},fP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:tg,rotateZ:tg,skewX:i=>ha(Math.atan(i[1])),skewY:i=>ha(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},eg=i=>(i=i%360,i<0&&(i+=360),i),KE=tg,YE=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),QE=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),dP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:YE,scaleY:QE,scale:i=>(YE(i)+QE(i))/2,rotateX:i=>eg(ha(Math.atan2(i[6],i[5]))),rotateY:i=>eg(ha(Math.atan2(-i[2],i[0]))),rotateZ:KE,rotate:KE,skewX:i=>ha(Math.atan(i[4])),skewY:i=>ha(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function ng(i){return i.includes("scale")?1:0}function ig(i,t){if(!i||i==="none")return ng(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=dP,o=e;else{const m=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=fP,o=m}if(!o)return ng(t);const u=r[t],c=o[1].split(",").map(pP);return typeof u=="function"?u(c):c[u]}const mP=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return ig(e,t)};function pP(i){return parseFloat(i.trim())}const Go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(Go),XE=i=>i===qo||i===ht,gP=new Set(["x","y","z"]),yP=Go.filter(i=>!gP.has(i));function vP(i){const t=[];return yP.forEach(e=>{const r=i.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const lr={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>ig(t,"x"),y:(i,{transform:t})=>ig(t,"y")};lr.translateX=lr.x;lr.translateY=lr.y;const da=new Set;let sg=!1,rg=!1,ag=!1;function rw(){if(rg){const i=Array.from(da).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=vP(r);o.length&&(e.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rg=!1,sg=!1,da.forEach(i=>i.complete(ag)),da.clear()}function aw(){da.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(rg=!0)})}function _P(){ag=!0,aw(),rw(),ag=!1}class Sy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(da.add(this),sg||(sg=!0,ae.read(aw),ae.resolveKeyframes(rw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}hP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),da.delete(this)}cancel(){this.state==="scheduled"&&(da.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TP=i=>i.startsWith("--");function EP(i,t,e){TP(t)?i.style.setProperty(t,e):i.style[t]=e}const bP=hy(()=>window.ScrollTimeline!==void 0),SP={};function AP(i,t){const e=hy(i);return()=>SP[t]??e()}const ow=AP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ru=([i,t,e,r])=>`cubic-bezier(${i}, ${t}, ${e}, ${r})`,$E={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ru([0,.65,.55,1]),circOut:ru([.55,0,1,.45]),backIn:ru([.31,.01,.66,-.59]),backOut:ru([.33,1.53,.69,.99])};function lw(i,t){if(i)return typeof i=="function"?ow()?nw(i,t):"ease-out":G1(i)?ru(i):Array.isArray(i)?i.map(e=>lw(e,t)||$E.easeOut):$E[i]}function wP(i,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const T=lw(m,o);Array.isArray(T)&&(v.easing=T);const b={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),i.animate(v,b)}function uw(i){return typeof i=="function"&&"applyToOptions"in i}function RP({type:i,...t}){return uw(i)&&ow()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class CP extends Ey{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,cy(typeof t.type!="string");const g=RP(t);this.animation=wP(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Ty(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):EP(e,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Yn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ms(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&bP()?(this.animation.timeline=t,Qn):e(this)}}const cw={anticipate:B1,backInOut:z1,circInOut:H1};function xP(i){return i in cw}function IP(i){typeof i.ease=="string"&&xP(i.ease)&&(i.ease=cw[i.ease])}const mp=10;class DP extends CP{constructor(t){IP(t),sw(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new by({...c,autoplay:!1}),p=Math.max(mp,cn.now()-this.startTime),g=Gi(0,mp,p-mp);e.setWithVelocity(m.sample(Math.max(0,p-g)).value,m.sample(p).value,g),m.stop()}}const WE=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(wr.test(i)||i==="0")&&!i.startsWith("url("));function VP(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function MP(i,t,e,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],c=WE(o,t),m=WE(u,t);return!c||!m?!1:VP(i)||(e==="spring"||uw(e))&&r}function og(i){i.duration=0,i.type="keyframes"}const NP=new Set(["opacity","clipPath","filter","transform"]),OP=hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PP(i){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return OP()&&e&&NP.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const kP=40;class LP extends Ey{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=cn.now();const b={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...T},R=v?.KeyframeResolver||Sy;this.keyframeResolver=new R(m,(P,k,z)=>this.onKeyframesResolved(P,k,b,!z),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=cn.now(),MP(t,u,c,m)||((Ts.instantAnimations||!p)&&v?.(Ty(t,r,e)),t[0]=t[t.length-1],og(r),r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>kP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},R=!g&&PP(b),P=b.motionValue?.owner?.current,k=R?new DP({...b,element:P}):new by(b);k.finished.then(()=>{this.notifyFinished()}).catch(Qn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_P()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function hw(i,t,e,r=0,o=1){const u=Array.from(i).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=i.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}const UP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jP(i){const t=UP.exec(i);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function fw(i,t,e=1){const[r,o]=jP(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return M1(c)?parseFloat(c):c}return py(o)?fw(o,t,e+1):o}const zP={type:"spring",stiffness:500,damping:25,restSpeed:10},BP=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),FP={type:"keyframes",duration:.8},HP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qP=(i,{keyframes:t})=>t.length>2?FP:Ko.has(i)?i.startsWith("scale")?BP(t[1]):zP:HP,GP=i=>i!==null;function KP(i,{repeat:t,repeatType:e="loop"},r){const o=i.filter(GP),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}function Ay(i,t){return i?.[t]??i?.default??i}function YP({when:i,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const wy=(i,t,e,r={},o,u)=>c=>{const m=Ay(r,i)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ms(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:b=>{t.set(b),m.onUpdate&&m.onUpdate(b)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:i,motionValue:t,element:u?void 0:o};YP(m)||Object.assign(v,qP(i,v)),v.duration&&(v.duration=ms(v.duration)),v.repeatDelay&&(v.repeatDelay=ms(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(og(v),v.delay===0&&(T=!0)),(Ts.instantAnimations||Ts.skipAnimations)&&(T=!0,og(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,T&&!u&&t.get()!==void 0){const b=KP(v.keyframes,m);if(b!==void 0){ae.update(()=>{v.onUpdate(b),v.onComplete()});return}}return m.isSync?new by(v):new LP(v)};function JE(i){const t=[{},{}];return i?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Ry(i,t,e,r){if(typeof t=="function"){const[o,u]=JE(r);t=t(e!==void 0?e:i.custom,o,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,u]=JE(r);t=t(e!==void 0?e:i.custom,o,u)}return t}function Ro(i,t,e){const r=i.getProps();return Ry(r,t,e!==void 0?e:r.custom,i)}const dw=new Set(["width","height","top","left","right","bottom",...Go]),ZE=30,QP=i=>!isNaN(parseFloat(i));class XP{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=cn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=QP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new fy);const r=this.events[t].add(e);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ZE)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,ZE);return P1(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ko(i,t){return new XP(i,t)}const lg=i=>Array.isArray(i);function $P(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,ko(e))}function WP(i){return lg(i)?i[i.length-1]||0:i}function JP(i,t){const e=Ro(i,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=WP(u[c]);$P(i,c,m)}}const rn=i=>!!(i&&i.getVelocity);function ZP(i){return!!(rn(i)&&i.add)}function ug(i,t){const e=i.getValue("willChange");if(ZP(e))return e.add(t);if(!e&&Ts.WillChange){const r=new Ts.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function Cy(i){return i.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const t4="framerAppearId",mw="data-"+Cy(t4);function pw(i){return i.props[mw]}function e4({protectedKeys:i,needsAnimating:t},e){const r=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function gw(i,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&i.animationState&&i.animationState.getState()[o];for(const v in m){const T=i.getValue(v,i.latestValues[v]??null),b=m[v];if(b===void 0||g&&e4(g,v))continue;const R={delay:e,...Ay(u||{},v)},P=T.get();if(P!==void 0&&!T.isAnimating&&!Array.isArray(b)&&b===P&&!R.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const Q=pw(i);if(Q){const J=window.MotionHandoffAnimation(Q,v,ae);J!==null&&(R.startTime=J,k=!0)}}ug(i,v),T.start(wy(v,T,b,i.shouldReduceMotion&&dw.has(v)?{type:!1}:R,i,k));const z=T.animation;z&&p.push(z)}return c&&Promise.all(p).then(()=>{ae.update(()=>{c&&JP(i,c)})}),p}function cg(i,t,e={}){const r=Ro(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(gw(i,r,e)):()=>Promise.resolve(),c=i.variantChildren&&i.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:T}=o;return n4(i,t,p,g,v,T,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function n4(i,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of i.variantChildren)p.notify("AnimationStart",t),m.push(cg(p,t,{...c,delay:e+(typeof r=="function"?0:r)+hw(i.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function i4(i,t,e={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>cg(i,u,e));r=Promise.all(o)}else if(typeof t=="string")r=cg(i,t,e);else{const o=typeof t=="function"?Ro(i,t,e.custom):t;r=Promise.all(gw(i,o,e))}return r.then(()=>{i.notify("AnimationComplete",t)})}const s4={test:i=>i==="auto",parse:i=>i},yw=i=>t=>t.test(i),vw=[qo,ht,Fi,nr,VO,DO,s4],tb=i=>vw.find(yw(i));function r4(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||O1(i):!0}const a4=new Set(["brightness","contrast","saturate","opacity"]);function o4(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=e.match(gy)||[];if(!r)return i;const o=e.replace(r,"");let u=a4.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const l4=/\b([a-z-]*)\(.*?\)/gu,hg={...wr,getAnimatableNone:i=>{const t=i.match(l4);return t?t.map(o4).join(" "):i}},eb={...qo,transform:Math.round},u4={rotate:nr,rotateX:nr,rotateY:nr,rotateZ:nr,scale:Vh,scaleX:Vh,scaleY:Vh,scaleZ:Vh,skew:nr,skewX:nr,skewY:nr,distance:ht,translateX:ht,translateY:ht,translateZ:ht,x:ht,y:ht,z:ht,perspective:ht,transformPerspective:ht,opacity:Iu,originX:BE,originY:BE,originZ:ht},xy={borderWidth:ht,borderTopWidth:ht,borderRightWidth:ht,borderBottomWidth:ht,borderLeftWidth:ht,borderRadius:ht,radius:ht,borderTopLeftRadius:ht,borderTopRightRadius:ht,borderBottomRightRadius:ht,borderBottomLeftRadius:ht,width:ht,maxWidth:ht,height:ht,maxHeight:ht,top:ht,right:ht,bottom:ht,left:ht,inset:ht,insetBlock:ht,insetBlockStart:ht,insetBlockEnd:ht,insetInline:ht,insetInlineStart:ht,insetInlineEnd:ht,padding:ht,paddingTop:ht,paddingRight:ht,paddingBottom:ht,paddingLeft:ht,paddingBlock:ht,paddingBlockStart:ht,paddingBlockEnd:ht,paddingInline:ht,paddingInlineStart:ht,paddingInlineEnd:ht,margin:ht,marginTop:ht,marginRight:ht,marginBottom:ht,marginLeft:ht,marginBlock:ht,marginBlockStart:ht,marginBlockEnd:ht,marginInline:ht,marginInlineStart:ht,marginInlineEnd:ht,backgroundPositionX:ht,backgroundPositionY:ht,...u4,zIndex:eb,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:eb},c4={...xy,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:hg,WebkitFilter:hg},_w=i=>c4[i];function Tw(i,t){let e=_w(i);return e!==hg&&(e=wr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const h4=new Set(["auto","none","0"]);function f4(i,t,e){let r=0,o;for(;r<i.length&&!o;){const u=i[r];typeof u=="string"&&!h4.has(u)&&Du(u).values.length&&(o=i[r]),r++}if(o&&e)for(const u of t)i[u]=Tw(e,o)}class d4 extends Sy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let v=0;v<t.length;v++){let T=t[v];if(typeof T=="string"&&(T=T.trim(),py(T))){const b=fw(T,e.current);b!==void 0&&(t[v]=b),v===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!dw.has(r)||t.length!==2)return;const[o,u]=t,c=tb(o),m=tb(u),p=zE(o),g=zE(u);if(p!==g&&lr[r]){this.needsMeasurement=!0;return}if(c!==m)if(XE(c)&&XE(m))for(let v=0;v<t.length;v++){const T=t[v];typeof T=="string"&&(t[v]=parseFloat(T))}else lr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||r4(t[o]))&&r.push(o);r.length&&f4(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=lr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function m4(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const o=e?.[i]??r.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const Ew=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function bw(i){return N1(i)&&"offsetHeight"in i}const{schedule:Iy}=K1(queueMicrotask,!1),li={x:!1,y:!1};function Sw(){return li.x||li.y}function p4(i){return i==="x"||i==="y"?li[i]?null:(li[i]=!0,()=>{li[i]=!1}):li.x||li.y?null:(li.x=li.y=!0,()=>{li.x=li.y=!1})}function Aw(i,t){const e=m4(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function nb(i){return!(i.pointerType==="touch"||Sw())}function g4(i,t,e={}){const[r,o,u]=Aw(i,e),c=m=>{if(!nb(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=T=>{nb(T)&&(g(T),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const ww=(i,t)=>t?i===t?!0:ww(i,t.parentElement):!1,Dy=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,y4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rw(i){return y4.has(i.tagName)||i.isContentEditable===!0}const Gh=new WeakSet;function ib(i){return t=>{t.key==="Enter"&&i(t)}}function pp(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const v4=(i,t)=>{const e=i.currentTarget;if(!e)return;const r=ib(()=>{if(Gh.has(e))return;pp(e,"down");const o=ib(()=>{pp(e,"up")}),u=()=>pp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function sb(i){return Dy(i)&&!Sw()}function _4(i,t,e={}){const[r,o,u]=Aw(i,e),c=m=>{const p=m.currentTarget;if(!sb(m))return;Gh.add(p);const g=t(p,m),v=(R,P)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",b),Gh.has(p)&&Gh.delete(p),sb(R)&&typeof g=="function"&&g(R,{success:P})},T=R=>{v(R,p===window||p===document||e.useGlobalTarget||ww(p,R.target))},b=R=>{v(R,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",b,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),bw(m)&&(m.addEventListener("focus",g=>v4(g,o)),!Rw(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Cw(i){return N1(i)&&"ownerSVGElement"in i}function T4(i){return Cw(i)&&i.tagName==="svg"}const E4=[...vw,Ve,wr],b4=i=>E4.find(yw(i)),rb=()=>({translate:0,scale:1,origin:0,originPoint:0}),yo=()=>({x:rb(),y:rb()}),ab=()=>({min:0,max:0}),Le=()=>({x:ab(),y:ab()}),fg={current:null},xw={current:!1},S4=typeof window<"u";function A4(){if(xw.current=!0,!!S4)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>fg.current=i.matches;i.addEventListener("change",t),t()}else fg.current=!1}const w4=new WeakMap;function qf(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Vu(i){return typeof i=="string"||Array.isArray(i)}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],My=["initial",...Vy];function Gf(i){return qf(i.animate)||My.some(t=>Vu(i[t]))}function Iw(i){return!!(Gf(i)||i.variants)}function R4(i,t,e){for(const r in t){const o=t[r],u=e[r];if(rn(o))i.addValue(r,o);else if(rn(u))i.addValue(r,ko(o,{owner:i}));else if(u!==o)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=i.getStaticValue(r);i.addValue(r,ko(c!==void 0?c:o,{owner:i}))}}for(const r in e)t[r]===void 0&&i.removeValue(r);return t}const ob=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yf={};function Dw(i){yf=i}function C4(){return yf}class x4{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=cn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Gf(e),this.isVariantNode=Iw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in T){const R=T[b];p[b]!==void 0&&rn(R)&&R.set(p[b])}}mount(t){this.current=t,w4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(xw.current||A4(),this.shouldReduceMotion=fg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ar(this.notifyUpdate),Ar(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ko.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yf){const e=yf[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<ob.length;r++){const o=ob[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=R4(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=ko(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(M1(r)||O1(r))?r=parseFloat(r):!b4(r)&&wr.test(e)&&(r=Tw(t,e)),this.setBaseTarget(t,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Ry(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new fy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Iy.render(this.render)}}class Vw extends x4{constructor(){super(...arguments),this.KeyframeResolver=d4}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const r=t.style;return r?r[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class xr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Mw({top:i,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:i,max:r}}}function I4({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function D4(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function gp(i){return i===void 0||i===1}function dg({scale:i,scaleX:t,scaleY:e}){return!gp(i)||!gp(t)||!gp(e)}function la(i){return dg(i)||Nw(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function Nw(i){return lb(i.x)||lb(i.y)}function lb(i){return i&&i!=="0%"}function vf(i,t,e){const r=i-e,o=t*r;return e+o}function ub(i,t,e,r,o){return o!==void 0&&(i=vf(i,o,r)),vf(i,e,r)+t}function mg(i,t=0,e=1,r,o){i.min=ub(i.min,t,e,r,o),i.max=ub(i.max,t,e,r,o)}function Ow(i,{x:t,y:e}){mg(i.x,t.translate,t.scale,t.originPoint),mg(i.y,e.translate,e.scale,e.originPoint)}const cb=.999999999999,hb=1.0000000000001;function V4(i,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_o(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Ow(i,c)),r&&la(u.latestValues)&&_o(i,u.latestValues))}t.x<hb&&t.x>cb&&(t.x=1),t.y<hb&&t.y>cb&&(t.y=1)}function vo(i,t){i.min=i.min+t,i.max=i.max+t}function fb(i,t,e,r,o=.5){const u=ce(i.min,i.max,o);mg(i,t,e,u,r)}function _o(i,t){fb(i.x,t.x,t.scaleX,t.scale,t.originX),fb(i.y,t.y,t.scaleY,t.scale,t.originY)}function Pw(i,t){return Mw(D4(i.getBoundingClientRect(),t))}function M4(i,t,e){const r=Pw(i,e),{scroll:o}=t;return o&&(vo(r.x,o.offset.x),vo(r.y,o.offset.y)),r}const N4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O4=Go.length;function P4(i,t,e){let r="",o=!0;for(let u=0;u<O4;u++){const c=Go[u],m=i[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=Ew(m,xy[c]);if(!p){o=!1;const v=N4[c]||c;r+=`${v}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Ny(i,t,e){const{style:r,vars:o,transformOrigin:u}=i;let c=!1,m=!1;for(const p in t){const g=t[p];if(Ko.has(p)){c=!0;continue}else if(Q1(p)){o[p]=g;continue}else{const v=Ew(g,xy[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||e?r.transform=P4(t,i.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}function kw(i,{style:t,vars:e},r,o){const u=i.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function db(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const tu={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(ht.test(i))i=parseFloat(i);else return i;const e=db(i,t.target.x),r=db(i,t.target.y);return`${e}% ${r}%`}},k4={correct:(i,{treeScale:t,projectionDelta:e})=>{const r=i,o=wr.parse(i);if(o.length>5)return r;const u=wr.createTransformer(i),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ce(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},pg={borderRadius:{...tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tu,borderTopRightRadius:tu,borderBottomLeftRadius:tu,borderBottomRightRadius:tu,boxShadow:k4};function Lw(i,{layout:t,layoutId:e}){return Ko.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!pg[i]||i==="opacity")}function Oy(i,t,e){const r=i.style,o=t?.style,u={};if(!r)return u;for(const c in r)(rn(r[c])||o&&rn(o[c])||Lw(c,i)||e?.getValue(c)?.liveStyle!==void 0)&&(u[c]=r[c]);return u}function L4(i){return window.getComputedStyle(i)}class U4 extends Vw{constructor(){super(...arguments),this.type="html",this.renderInstance=kw}readValueFromInstance(t,e){if(Ko.has(e))return this.projection?.isProjecting?ng(e):mP(t,e);{const r=L4(t),o=(Q1(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Pw(t,e)}build(t,e,r){Ny(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Oy(t,e,r)}}const j4={offset:"stroke-dashoffset",array:"stroke-dasharray"},z4={offset:"strokeDashoffset",array:"strokeDasharray"};function B4(i,t,e=1,r=0,o=!0){i.pathLength=1;const u=o?j4:z4;i[u.offset]=ht.transform(-r);const c=ht.transform(t),m=ht.transform(e);i[u.array]=`${c} ${m}`}const F4=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Uw(i,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(Ny(i,m,g),p){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:T,style:b}=i;T.transform&&(b.transform=T.transform,delete T.transform),(b.transform||T.transformOrigin)&&(b.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete T.transformBox);for(const R of F4)T[R]!==void 0&&(b[R]=T[R],delete T[R]);t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),r!==void 0&&(T.scale=r),o!==void 0&&B4(T,o,u,c,!1)}const jw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),zw=i=>typeof i=="string"&&i.toLowerCase()==="svg";function H4(i,t,e,r){kw(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(jw.has(o)?o:Cy(o),t.attrs[o])}function Bw(i,t,e){const r=Oy(i,t,e);for(const o in i)if(rn(i[o])||rn(t[o])){const u=Go.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=i[o]}return r}class q4 extends Vw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Ko.has(e)){const r=_w(e);return r&&r.default||0}return e=jw.has(e)?e:Cy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return Bw(t,e,r)}build(t,e,r){Uw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){H4(t,e,r,o)}mount(t){this.isSVGTag=zw(t.tagName),super.mount(t)}}const G4=My.length;function Fw(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?Fw(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<G4;e++){const r=My[e],o=i.props[r];(Vu(o)||o===!1)&&(t[r]=o)}return t}function Hw(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let r=0;r<e;r++)if(t[r]!==i[r])return!1;return!0}const K4=[...Vy].reverse(),Y4=Vy.length;function Q4(i){return t=>Promise.all(t.map(({animation:e,options:r})=>i4(i,e,r)))}function X4(i){let t=Q4(i),e=mb(),r=!0;const o=p=>(g,v)=>{const T=Ro(i,v,p==="exit"?i.presenceContext?.custom:void 0);if(T){const{transition:b,transitionEnd:R,...P}=T;g={...g,...P,...R}}return g};function u(p){t=p(i)}function c(p){const{props:g}=i,v=Fw(i.parent)||{},T=[],b=new Set;let R={},P=1/0;for(let z=0;z<Y4;z++){const Q=K4[z],J=e[Q],Y=g[Q]!==void 0?g[Q]:v[Q],lt=Vu(Y),ot=Q===p?J.isActive:null;ot===!1&&(P=z);let mt=Y===v[Q]&&Y!==g[Q]&&lt;if(mt&&r&&i.manuallyAnimateOnMount&&(mt=!1),J.protectedKeys={...R},!J.isActive&&ot===null||!Y&&!J.prevProp||qf(Y)||typeof Y=="boolean")continue;const C=$4(J.prevProp,Y);let w=C||Q===p&&J.isActive&&!mt&&lt||z>P&&lt,x=!1;const N=Array.isArray(Y)?Y:[Y];let V=N.reduce(o(Q),{});ot===!1&&(V={});const{prevResolvedValues:j={}}=J,I={...j,...V},te=it=>{w=!0,b.has(it)&&(x=!0,b.delete(it)),J.needsAnimating[it]=!0;const ft=i.getValue(it);ft&&(ft.liveStyle=!1)};for(const it in I){const ft=V[it],xt=j[it];if(R.hasOwnProperty(it))continue;let Nt=!1;lg(ft)&&lg(xt)?Nt=!Hw(ft,xt):Nt=ft!==xt,Nt?ft!=null?te(it):b.add(it):ft!==void 0&&b.has(it)?te(it):J.protectedKeys[it]=!0}J.prevProp=Y,J.prevResolvedValues=V,J.isActive&&(R={...R,...V}),r&&i.blockInitialAnimation&&(w=!1);const fe=mt&&C;w&&(!fe||x)&&T.push(...N.map(it=>{const ft={type:Q};if(typeof it=="string"&&r&&!fe&&i.manuallyAnimateOnMount&&i.parent){const{parent:xt}=i,Nt=Ro(xt,it);if(xt.enteringChildren&&Nt){const{delayChildren:O}=Nt.transition||{};ft.delay=hw(xt.enteringChildren,i,O)}}return{animation:it,options:ft}}))}if(b.size){const z={};if(typeof g.initial!="boolean"){const Q=Ro(i,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(z.transition=Q.transition)}b.forEach(Q=>{const J=i.getBaseTarget(Q),Y=i.getValue(Q);Y&&(Y.liveStyle=!0),z[Q]=J??null}),T.push({animation:z})}let k=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(k=!1),r=!1,k?t(T):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();i.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const v=c(p);for(const T in e)e[T].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=mb()}}}function $4(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!Hw(t,i):!1}function aa(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mb(){return{animate:aa(!0),whileInView:aa(),whileHover:aa(),whileTap:aa(),whileDrag:aa(),whileFocus:aa(),exit:aa()}}function pb(i,t){i.min=t.min,i.max=t.max}function oi(i,t){pb(i.x,t.x),pb(i.y,t.y)}function gb(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}const qw=1e-4,W4=1-qw,J4=1+qw,Gw=.01,Z4=0-Gw,tk=0+Gw;function hn(i){return i.max-i.min}function ek(i,t,e){return Math.abs(i-t)<=e}function yb(i,t,e,r=.5){i.origin=r,i.originPoint=ce(t.min,t.max,i.origin),i.scale=hn(e)/hn(t),i.translate=ce(e.min,e.max,i.origin)-i.originPoint,(i.scale>=W4&&i.scale<=J4||isNaN(i.scale))&&(i.scale=1),(i.translate>=Z4&&i.translate<=tk||isNaN(i.translate))&&(i.translate=0)}function gu(i,t,e,r){yb(i.x,t.x,e.x,r?r.originX:void 0),yb(i.y,t.y,e.y,r?r.originY:void 0)}function vb(i,t,e){i.min=e.min+t.min,i.max=i.min+hn(t)}function nk(i,t,e){vb(i.x,t.x,e.x),vb(i.y,t.y,e.y)}function _b(i,t,e){i.min=t.min-e.min,i.max=i.min+hn(t)}function _f(i,t,e){_b(i.x,t.x,e.x),_b(i.y,t.y,e.y)}function Tb(i,t,e,r,o){return i-=t,i=vf(i,1/e,r),o!==void 0&&(i=vf(i,1/o,r)),i}function ik(i,t=0,e=1,r=.5,o,u=i,c=i){if(Fi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ce(u.min,u.max,r);i===u&&(m-=t),i.min=Tb(i.min,t,e,m,o),i.max=Tb(i.max,t,e,m,o)}function Eb(i,t,[e,r,o],u,c){ik(i,t[e],t[r],t[o],t.scale,u,c)}const sk=["x","scaleX","originX"],rk=["y","scaleY","originY"];function bb(i,t,e,r){Eb(i.x,t,sk,e?e.x:void 0,r?r.x:void 0),Eb(i.y,t,rk,e?e.y:void 0,r?r.y:void 0)}function Sb(i){return i.translate===0&&i.scale===1}function Kw(i){return Sb(i.x)&&Sb(i.y)}function Ab(i,t){return i.min===t.min&&i.max===t.max}function ak(i,t){return Ab(i.x,t.x)&&Ab(i.y,t.y)}function wb(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function Yw(i,t){return wb(i.x,t.x)&&wb(i.y,t.y)}function Rb(i){return hn(i.x)/hn(i.y)}function Cb(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}function Gn(i){return[i("x"),i("y")]}function ok(i,t,e){let r="";const o=i.x.translate/t.x,u=i.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:T,rotateY:b,skewX:R,skewY:P}=e;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),T&&(r+=`rotateX(${T}deg) `),b&&(r+=`rotateY(${b}deg) `),R&&(r+=`skewX(${R}deg) `),P&&(r+=`skewY(${P}deg) `)}const m=i.x.scale*t.x,p=i.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const Qw=["TopLeft","TopRight","BottomLeft","BottomRight"],lk=Qw.length,xb=i=>typeof i=="string"?parseFloat(i):i,Ib=i=>typeof i=="number"||ht.test(i);function uk(i,t,e,r,o,u){o?(i.opacity=ce(0,e.opacity??1,ck(r)),i.opacityExit=ce(t.opacity??1,0,hk(r))):u&&(i.opacity=ce(t.opacity??1,e.opacity??1,r));for(let c=0;c<lk;c++){const m=`border${Qw[c]}Radius`;let p=Db(t,m),g=Db(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Ib(p)===Ib(g)?(i[m]=Math.max(ce(xb(p),xb(g),r),0),(Fi.test(g)||Fi.test(p))&&(i[m]+="%")):i[m]=g}(t.rotate||e.rotate)&&(i.rotate=ce(t.rotate||0,e.rotate||0,r))}function Db(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const ck=Xw(0,.5,F1),hk=Xw(.5,.95,Qn);function Xw(i,t,e){return r=>r<i?0:r>t?1:e(xu(i,t,r))}function fk(i,t,e){const r=rn(i)?i:ko(i);return r.start(wy("",r,t,e)),r.animation}function Mu(i,t,e,r={passive:!0}){return i.addEventListener(t,e,r),()=>i.removeEventListener(t,e)}const dk=(i,t)=>i.depth-t.depth;class mk{constructor(){this.children=[],this.isDirty=!1}add(t){ly(this.children,t),this.isDirty=!0}remove(t){uy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dk),this.isDirty=!1,this.children.forEach(t)}}function pk(i,t){const e=cn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(Ar(r),i(u-t))};return ae.setup(r,!0),()=>Ar(r)}function Kh(i){return rn(i)?i.get():i}class gk{constructor(){this.members=[]}add(t){ly(this.members,t),t.scheduleRender()}remove(t){if(uy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Yh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},yp=["","X","Y","Z"],yk=1e3;let vk=0;function vp(i,t,e,r){const{latestValues:o}=t;o[i]&&(e[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function $w(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=pw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",ae,!(o||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&$w(r)}function Ww({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=vk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ek),this.nodes.forEach(wk),this.nodes.forEach(Rk),this.nodes.forEach(bk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new mk)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new fy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Cw(c)&&!T4(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),i){let v,T=0;const b=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{T=window.innerWidth}),i(c,()=>{const R=window.innerWidth;R!==T&&(T=R,this.root.updateBlockedByResize=!0,v&&v(),v=pk(b,250),Yh.hasAnimatedSinceResize&&(Yh.hasAnimatedSinceResize=!1,this.nodes.forEach(Nb)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:b,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||Vk,{onLayoutAnimationStart:k,onLayoutAnimationComplete:z}=g.getProps(),Q=!this.targetLayout||!Yw(this.targetLayout,R),J=!T&&b;if(this.options.layoutRoot||this.resumeFrom||J||T&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...Ay(P,"layout"),onPlay:k,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(v,J)}else T||Nb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ck),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$w(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Mb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ak),this.nodes.forEach(_k),this.nodes.forEach(Tk)):this.nodes.forEach(Mb),this.clearAllSnapshots();const m=cn.now();$e.delta=Gi(0,1e3/60,m-$e.timestamp),$e.timestamp=m,$e.isProcessing=!0,up.update.process($e),up.preRender.process($e),up.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sk),this.sharedNodes.forEach(xk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Kw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||la(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),Mk(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Le();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Nk))){const{scroll:g}=this.root;g&&(vo(m.x,g.offset.x),vo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Le();if(oi(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:T}=g;g!==this.root&&v&&T.layoutScroll&&(v.wasRoot&&oi(m,c),vo(m.x,v.offset.x),vo(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const p=Le();oi(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&_o(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),la(v.latestValues)&&_o(p,v.latestValues)}return la(this.latestValues)&&_o(p,this.latestValues),p}removeTransform(c){const m=Le();oi(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!la(g.latestValues))continue;dg(g.latestValues)&&g.updateSnapshot();const v=Le(),T=g.measurePageBox();oi(v,T),bb(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return la(this.latestValues)&&bb(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!this.layout||!(v||T))return;this.resolvedRelativeTargetAt=$e.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),Ow(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||dg(this.parent.latestValues)||Nw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),_f(this.relativeTargetOrigin,m,p),oi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;oi(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,b=this.treeScale.y;V4(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Le());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gb(this.prevProjectionDelta.x,this.projectionDelta.x),gb(this.prevProjectionDelta.y,this.projectionDelta.y)),gu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==b||!Cb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yo(),this.projectionDelta=yo(),this.projectionDeltaWithTransform=yo()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},T=yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=Le(),R=p?p.source:void 0,P=this.layout?this.layout.source:void 0,k=R!==P,z=this.getStack(),Q=!z||z.members.length<=1,J=!!(k&&!Q&&this.options.crossfade===!0&&!this.path.some(Dk));this.animationProgress=0;let Y;this.mixTargetDelta=lt=>{const ot=lt/1e3;Ob(T.x,c.x,ot),Ob(T.y,c.y,ot),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_f(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ik(this.relativeTarget,this.relativeTargetOrigin,b,ot),Y&&ak(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=Le()),oi(Y,this.relativeTarget)),k&&(this.animationValues=v,uk(v,g,this.latestValues,ot,J,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ot},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Yh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ko(0)),this.currentAnimation=fk(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&Jw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Le();const T=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const b=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+b}oi(m,p),_o(m,v),gu(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new gk),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&vp("z",c,g,this.animationValues);for(let v=0;v<yp.length;v++)vp(`rotate${yp[v]}`,c,g,this.animationValues),vp(`skew${yp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Kh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Kh(m?.pointerEvents)||""),this.hasProjected&&!la(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=ok(this.projectionDeltaWithTransform,this.treeScale,v);p&&(T=p(v,T)),c.transform=T;const{x:b,y:R}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const P in pg){if(v[P]===void 0)continue;const{correct:k,applyTo:z,isCSSVariable:Q}=pg[P],J=T==="none"?v[P]:k(v[P],g);if(z){const Y=z.length;for(let lt=0;lt<Y;lt++)c[z[lt]]=J}else Q?this.options.visualElement.renderState.vars[P]=J:c[P]=J}this.options.layoutId&&(c.pointerEvents=g===this?Kh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Vb),this.root.sharedNodes.clear()}}}function _k(i){i.updateLayout()}function Tk(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=i.layout,{animationType:o}=i.options,u=t.source!==i.layout.source;o==="size"?Gn(v=>{const T=u?t.measuredBox[v]:t.layoutBox[v],b=hn(T);T.min=e[v].min,T.max=T.min+b}):Jw(o,t.layoutBox,e)&&Gn(v=>{const T=u?t.measuredBox[v]:t.layoutBox[v],b=hn(e[v]);T.max=T.min+b,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[v].max=i.relativeTarget[v].min+b)});const c=yo();gu(c,e,t.layoutBox);const m=yo();u?gu(m,i.applyTransform(r,!0),t.measuredBox):gu(m,e,t.layoutBox);const p=!Kw(c);let g=!1;if(!i.resumeFrom){const v=i.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:T,layout:b}=v;if(T&&b){const R=Le();_f(R,t.layoutBox,T.layoutBox);const P=Le();_f(P,e,b.layoutBox),Yw(R,P)||(g=!0),v.options.layoutRoot&&(i.relativeTarget=P,i.relativeTargetOrigin=R,i.relativeParent=v)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function Ek(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function bk(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function Sk(i){i.clearSnapshot()}function Vb(i){i.clearMeasurements()}function Mb(i){i.isLayoutDirty=!1}function Ak(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function Nb(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function wk(i){i.resolveTargetDelta()}function Rk(i){i.calcProjection()}function Ck(i){i.resetSkewAndRotation()}function xk(i){i.removeLeadSnapshot()}function Ob(i,t,e){i.translate=ce(t.translate,0,e),i.scale=ce(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function Pb(i,t,e,r){i.min=ce(t.min,e.min,r),i.max=ce(t.max,e.max,r)}function Ik(i,t,e,r){Pb(i.x,t.x,e.x,r),Pb(i.y,t.y,e.y,r)}function Dk(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const Vk={duration:.45,ease:[.4,0,.1,1]},kb=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),Lb=kb("applewebkit/")&&!kb("chrome/")?Math.round:Qn;function Ub(i){i.min=Lb(i.min),i.max=Lb(i.max)}function Mk(i){Ub(i.x),Ub(i.y)}function Jw(i,t,e){return i==="position"||i==="preserve-aspect"&&!ek(Rb(t),Rb(e),.2)}function Nk(i){return i!==i.root&&i.scroll?.wasRoot}const Ok=Ww({attachResizeListener:(i,t)=>Mu(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_p={current:void 0},Zw=Ww({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!_p.current){const i=new Ok({});i.mount(window),i.setOptions({layoutScroll:!0}),_p.current=i}return _p.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),Py=st.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function jb(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function Pk(...i){return t=>{let e=!1;const r=i.map(o=>{const u=jb(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():jb(i[o],null)}}}}function kk(...i){return st.useCallback(Pk(...i),i)}class Lk extends st.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=bw(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Uk({children:i,isPresent:t,anchorX:e,root:r}){const o=st.useId(),u=st.useRef(null),c=st.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=st.useContext(Py),p=i.props?.ref??i?.ref,g=kk(u,p);return st.useInsertionEffect(()=>{const{width:v,height:T,top:b,left:R,right:P}=c.current;if(t||!u.current||!v||!T)return;const k=e==="left"?`left: ${R}`:`right: ${P}`;u.current.dataset.motionPopId=o;const z=document.createElement("style");m&&(z.nonce=m);const Q=r??document.head;return Q.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${T}px !important;
            ${k}px !important;
            top: ${b}px !important;
          }
        `),()=>{Q.contains(z)&&Q.removeChild(z)}},[t]),L.jsx(Lk,{isPresent:t,childRef:u,sizeRef:c,children:st.cloneElement(i,{ref:g})})}const jk=({children:i,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=oy(zk),v=st.useId();let T=!0,b=st.useMemo(()=>(T=!1,{id:v,initial:t,isPresent:e,custom:o,onExitComplete:R=>{g.set(R,!0);for(const P of g.values())if(!P)return;r&&r()},register:R=>(g.set(R,!1),()=>g.delete(R))}),[e,g,r]);return u&&T&&(b={...b}),st.useMemo(()=>{g.forEach((R,P)=>g.set(P,!1))},[e]),st.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(i=L.jsx(Uk,{isPresent:e,anchorX:m,root:p,children:i})),L.jsx(Hf.Provider,{value:b,children:i})};function zk(){return new Map}function tR(i=!0){const t=st.useContext(Hf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=st.useId();st.useEffect(()=>{if(i)return o(u)},[i]);const c=st.useCallback(()=>i&&r&&r(u),[u,r,i]);return!e&&r?[!1,c]:[!0]}const Mh=i=>i.key||"";function zb(i){const t=[];return st.Children.forEach(i,e=>{st.isValidElement(e)&&t.push(e)}),t}const Bk=({children:i,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,v]=tR(c),T=st.useMemo(()=>zb(i),[i]),b=c&&!g?[]:T.map(Mh),R=st.useRef(!0),P=st.useRef(T),k=oy(()=>new Map),z=st.useRef(new Set),[Q,J]=st.useState(T),[Y,lt]=st.useState(T);V1(()=>{R.current=!1,P.current=T;for(let C=0;C<Y.length;C++){const w=Mh(Y[C]);b.includes(w)?(k.delete(w),z.current.delete(w)):k.get(w)!==!0&&k.set(w,!1)}},[Y,b.length,b.join("-")]);const ot=[];if(T!==Q){let C=[...T];for(let w=0;w<Y.length;w++){const x=Y[w],N=Mh(x);b.includes(N)||(C.splice(w,0,x),ot.push(x))}return u==="wait"&&ot.length&&(C=ot),lt(zb(C)),J(T),null}const{forceRender:mt}=st.useContext(ay);return L.jsx(L.Fragment,{children:Y.map(C=>{const w=Mh(C),x=c&&!g?!1:T===Y||b.includes(w),N=()=>{if(z.current.has(w))return;if(z.current.add(w),k.has(w))k.set(w,!0);else return;let V=!0;k.forEach(j=>{j||(V=!1)}),V&&(mt?.(),lt(P.current),c&&v?.(),r&&r())};return L.jsx(jk,{isPresent:x,initial:!R.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:x?void 0:N,anchorX:m,children:C},w)})})},eR=st.createContext({strict:!1}),Bb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Fb=!1;function Fk(){if(Fb)return;const i={};for(const t in Bb)i[t]={isEnabled:e=>Bb[t].some(r=>!!e[r])};Dw(i),Fb=!0}function nR(){return Fk(),C4()}function Hk(i){const t=nR();for(const e in i)t[e]={...t[e],...i[e]};Dw(t)}const qk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tf(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||qk.has(i)}let iR=i=>!Tf(i);function Gk(i){typeof i=="function"&&(iR=t=>t.startsWith("on")?!Tf(t):i(t))}try{Gk(require("@emotion/is-prop-valid").default)}catch{}function Kk(i,t,e){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(iR(o)||e===!0&&Tf(o)||!t&&!Tf(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}const Kf=st.createContext({});function Yk(i,t){if(Gf(i)){const{initial:e,animate:r}=i;return{initial:e===!1||Vu(e)?e:void 0,animate:Vu(r)?r:void 0}}return i.inherit!==!1?t:{}}function Qk(i){const{initial:t,animate:e}=Yk(i,st.useContext(Kf));return st.useMemo(()=>({initial:t,animate:e}),[Hb(t),Hb(e)])}function Hb(i){return Array.isArray(i)?i.join(" "):i}const ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sR(i,t,e){for(const r in t)!rn(t[r])&&!Lw(r,e)&&(i[r]=t[r])}function Xk({transformTemplate:i},t){return st.useMemo(()=>{const e=ky();return Ny(e,t,i),Object.assign({},e.vars,e.style)},[t])}function $k(i,t){const e=i.style||{},r={};return sR(r,e,i),Object.assign(r,Xk(i,t)),r}function Wk(i,t){const e={},r=$k(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=r,e}const rR=()=>({...ky(),attrs:{}});function Jk(i,t,e,r){const o=st.useMemo(()=>{const u=rR();return Uw(u,t,zw(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};sR(u,i.style,i),o.style={...u,...o.style}}return o}const Zk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ly(i){return typeof i!="string"||i.includes("-")?!1:!!(Zk.indexOf(i)>-1||/[A-Z]/u.test(i))}function t3(i,t,e,{latestValues:r},o,u=!1,c){const p=(c??Ly(i)?Jk:Wk)(t,r,o,i),g=Kk(t,typeof i=="string",u),v=i!==st.Fragment?{...g,...p,ref:e}:{},{children:T}=t,b=st.useMemo(()=>rn(T)?T.get():T,[T]);return st.createElement(i,{...v,children:b})}function e3({scrapeMotionValuesFromProps:i,createRenderState:t},e,r,o){return{latestValues:n3(e,r,o,i),renderState:t()}}function n3(i,t,e,r){const o={},u=r(i,{});for(const b in u)o[b]=Kh(u[b]);let{initial:c,animate:m}=i;const p=Gf(i),g=Iw(i);t&&g&&!p&&i.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const T=v?m:c;if(T&&typeof T!="boolean"&&!qf(T)){const b=Array.isArray(T)?T:[T];for(let R=0;R<b.length;R++){const P=Ry(i,b[R]);if(P){const{transitionEnd:k,transition:z,...Q}=P;for(const J in Q){let Y=Q[J];if(Array.isArray(Y)){const lt=v?Y.length-1:0;Y=Y[lt]}Y!==null&&(o[J]=Y)}for(const J in k)o[J]=k[J]}}}return o}const aR=i=>(t,e)=>{const r=st.useContext(Kf),o=st.useContext(Hf),u=()=>e3(i,t,r,o);return e?u():oy(u)},i3=aR({scrapeMotionValuesFromProps:Oy,createRenderState:ky}),s3=aR({scrapeMotionValuesFromProps:Bw,createRenderState:rR}),r3=Symbol.for("motionComponentSymbol");function a3(i,t,e){const r=st.useRef(e);st.useInsertionEffect(()=>{r.current=e});const o=st.useRef(null);return st.useCallback(u=>{u&&i.onMount?.(u),t&&(u?t.mount(u):t.unmount());const c=r.current;if(typeof c=="function")if(u){const m=c(u);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const oR=st.createContext({});function au(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function o3(i,t,e,r,o,u){const{visualElement:c}=st.useContext(Kf),m=st.useContext(eR),p=st.useContext(Hf),g=st.useContext(Py).reducedMotion,v=st.useRef(null);r=r||m.renderer,!v.current&&r&&(v.current=r(i,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:u}));const T=v.current,b=st.useContext(oR);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&l3(v.current,e,o,b);const R=st.useRef(!1);st.useInsertionEffect(()=>{T&&R.current&&T.update(e,p)});const P=e[mw],k=st.useRef(!!P&&!window.MotionHandoffIsComplete?.(P)&&window.MotionHasOptimisedAnimation?.(P));return V1(()=>{T&&(R.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),k.current&&T.animationState&&T.animationState.animateChanges())}),st.useEffect(()=>{T&&(!k.current&&T.animationState&&T.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(P)}),k.current=!1),T.enteringChildren=void 0)}),T}function l3(i,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:lR(i.parent)),i.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&au(m),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function lR(i){if(i)return i.options.allowProjection!==!1?i.projection:lR(i.parent)}function Tp(i,{forwardMotionProps:t=!1,type:e}={},r,o){r&&Hk(r);const u=e?e==="svg":Ly(i),c=u?s3:i3;function m(g,v){let T;const b={...st.useContext(Py),...g,layoutId:u3(g)},{isStatic:R}=b,P=Qk(g),k=c(g,R);if(!R&&D1){c3();const z=h3(b);T=z.MeasureLayout,P.visualElement=o3(i,k,b,o,z.ProjectionNode,u)}return L.jsxs(Kf.Provider,{value:P,children:[T&&P.visualElement?L.jsx(T,{visualElement:P.visualElement,...b}):null,t3(i,g,a3(k,P.visualElement,v),k,R,t,u)]})}m.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const p=st.forwardRef(m);return p[r3]=i,p}function u3({layoutId:i}){const t=st.useContext(ay).id;return t&&i!==void 0?t+"-"+i:i}function c3(i,t){st.useContext(eR).strict}function h3(i){const t=nR(),{drag:e,layout:r}=t;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e?.isEnabled(i)||r?.isEnabled(i)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function f3(i,t){if(typeof Proxy>"u")return Tp;const e=new Map,r=(u,c)=>Tp(u,c,i,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,Tp(c,void 0,i,t)),e.get(c))})}const d3=(i,t)=>t.isSVG??Ly(i)?new q4(t):new U4(t,{allowProjection:i!==st.Fragment});class m3 extends xr{constructor(t){super(t),t.animationState||(t.animationState=X4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let p3=0;class g3 extends xr{constructor(){super(...arguments),this.id=p3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const y3={animation:{Feature:m3},exit:{Feature:g3}};function Qu(i){return{point:{x:i.pageX,y:i.pageY}}}const v3=i=>t=>Dy(t)&&i(t,Qu(t));function yu(i,t,e,r){return Mu(i,t,v3(e),r)}const uR=({current:i})=>i?i.ownerDocument.defaultView:null,qb=(i,t)=>Math.abs(i-t);function _3(i,t){const e=qb(i.x,t.x),r=qb(i.y,t.y);return Math.sqrt(e**2+r**2)}const Gb=new Set(["auto","scroll"]);class cR{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=bp(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,k=_3(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!k)return;const{point:z}=R,{timestamp:Q}=$e;this.history.push({...z,timestamp:Q});const{onStart:J,onMove:Y}=this.handlers;P||(J&&J(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,R)},this.handlePointerMove=(R,P)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=Ep(P,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(R,P)=>{this.end();const{onEnd:k,onSessionEnd:z,resumeAnimation:Q}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&Q&&Q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const J=bp(R.type==="pointercancel"?this.lastMoveEventInfo:Ep(P,this.transformPagePoint),this.history);this.startEvent&&k&&k(R,J),z&&z(R,J)},!Dy(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=Qu(t),g=Ep(p,this.transformPagePoint),{point:v}=g,{timestamp:T}=$e;this.history=[{...v,timestamp:T}];const{onSessionStart:b}=e;b&&b(t,bp(g,this.history)),this.removeListeners=Gu(yu(this.contextWindow,"pointermove",this.handlePointerMove),yu(this.contextWindow,"pointerup",this.handlePointerUp),yu(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let e=t.parentElement;for(;e;){const r=getComputedStyle(e);(Gb.has(r.overflowX)||Gb.has(r.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-e.x,y:o.y-e.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),ae.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ar(this.updatePoint)}}function Ep(i,t){return t?{point:t(i.point)}:i}function Kb(i,t){return{x:i.x-t.x,y:i.y-t.y}}function bp({point:i},t){return{point:i,delta:Kb(i,hR(t)),offset:Kb(i,T3(t)),velocity:E3(t,.1)}}function T3(i){return i[0]}function hR(i){return i[i.length-1]}function E3(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,r=null;const o=hR(i);for(;e>=0&&(r=i[e],!(o.timestamp-r.timestamp>ms(t)));)e--;if(!r)return{x:0,y:0};const u=Yn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function b3(i,{min:t,max:e},r){return t!==void 0&&i<t?i=r?ce(t,i,r.min):Math.max(i,t):e!==void 0&&i>e&&(i=r?ce(e,i,r.max):Math.min(i,e)),i}function Yb(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function S3(i,{top:t,left:e,bottom:r,right:o}){return{x:Yb(i.x,e,o),y:Yb(i.y,t,r)}}function Qb(i,t){let e=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,r]=[r,e]),{min:e,max:r}}function A3(i,t){return{x:Qb(i.x,t.x),y:Qb(i.y,t.y)}}function w3(i,t){let e=.5;const r=hn(i),o=hn(t);return o>r?e=xu(t.min,t.max-r,i.min):r>o&&(e=xu(i.min,i.max-o,t.min)),Gi(0,1,e)}function R3(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const gg=.35;function C3(i=gg){return i===!1?i=0:i===!0&&(i=gg),{x:Xb(i,"left","right"),y:Xb(i,"top","bottom")}}function Xb(i,t,e){return{min:$b(i,t),max:$b(i,e)}}function $b(i,t){return typeof i=="number"?i:i[t]||0}const x3=new WeakMap;class I3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{e?(this.stopAnimation(),this.snapToCursor(Qu(T).point)):this.pauseAnimation()},c=(T,b)=>{this.stopAnimation();const{drag:R,dragPropagation:P,onDragStart:k}=this.getProps();if(R&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p4(R),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(Q=>{let J=this.getAxisMotionValue(Q).get()||0;if(Fi.test(J)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const lt=Y.layout.layoutBox[Q];lt&&(J=hn(lt)*(parseFloat(J)/100))}}this.originPoint[Q]=J}),k&&ae.postRender(()=>k(T,b)),ug(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},m=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b;const{dragPropagation:R,dragDirectionLock:P,onDirectionLock:k,onDrag:z}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:Q}=b;if(P&&this.currentDirection===null){this.currentDirection=D3(Q),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",b.point,Q),this.updateAxis("y",b.point,Q),this.visualElement.render(),z&&z(T,b)},p=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b,this.stop(T,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Gn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new cR(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:uR(this.visualElement),element:this.visualElement.current})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ae.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Nh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=b3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&au(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=S3(r.layoutBox,t):this.constraints=!1,this.elastic=C3(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=R3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!au(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=M4(r,o.root,this.visualElement.getTransformPagePoint());let c=A3(o.layout.layoutBox,u);if(e){const m=e(I4(c));this.hasMutatedConstraints=!!m,m&&(c=Mw(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Gn(v=>{if(!Nh(v,e,this.currentDirection))return;let T=p&&p[v]||{};c&&(T={min:0,max:0});const b=o?200:1e6,R=o?40:1e7,P={type:"inertia",velocity:r?t[v]:0,bounceStiffness:b,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(v,P)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return ug(this.visualElement,t),r.start(wy(t,r,0,e,this.visualElement,!1))}stopAnimation(){Gn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Gn(e=>{const{drag:r}=this.getProps();if(!Nh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e],p=u.get()||0;u.set(t[e]-ce(c,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!au(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Gn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=w3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(c=>{if(!Nh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;x3.set(this.visualElement,this);const t=this.visualElement.current,e=yu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&!Rw(p.target)&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();au(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const c=Mu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Gn(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=p[v].translate,T.set(T.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=gg,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Nh(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function D3(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class V3 extends xr{constructor(t){super(t),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new I3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wb=i=>(t,e)=>{i&&ae.postRender(()=>i(t,e))};class M3 extends xr{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(t){this.session=new cR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Wb(t),onStart:Wb(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ae.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=yu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Sp=!1;class N3 extends st.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),Sp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Yh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Sp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Iy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;Sp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fR(i){const[t,e]=tR(),r=st.useContext(ay);return L.jsx(N3,{...i,layoutGroup:r,switchLayoutGroup:st.useContext(oR),isPresent:t,safeToRemove:e})}const O3={pan:{Feature:M3},drag:{Feature:V3,ProjectionNode:Zw,MeasureLayout:fR}};function Jb(i,t,e){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&ae.postRender(()=>u(t,Qu(t)))}class P3 extends xr{mount(){const{current:t}=this.node;t&&(this.unmount=g4(t,(e,r)=>(Jb(this.node,r,"Start"),o=>Jb(this.node,o,"End"))))}unmount(){}}class k3 extends xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(Mu(this.node.current,"focus",()=>this.onFocus()),Mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zb(i,t,e){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&ae.postRender(()=>u(t,Qu(t)))}class L3 extends xr{mount(){const{current:t}=this.node;t&&(this.unmount=_4(t,(e,r)=>(Zb(this.node,r,"Start"),(o,{success:u})=>Zb(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yg=new WeakMap,Ap=new WeakMap,U3=i=>{const t=yg.get(i.target);t&&t(i)},j3=i=>{i.forEach(U3)};function z3({root:i,...t}){const e=i||document;Ap.has(e)||Ap.set(e,{});const r=Ap.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(j3,{root:i,...t})),r[o]}function B3(i,t,e){const r=z3(t);return yg.set(i,e),r.observe(i),()=>{yg.delete(i),r.unobserve(i)}}const F3={some:0,all:1};class H3 extends xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:F3[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),b=g?v:T;b&&b(p)};return B3(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(q3(t,e))&&this.startObserver()}unmount(){}}function q3({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const G3={inView:{Feature:H3},tap:{Feature:L3},focus:{Feature:k3},hover:{Feature:P3}},K3={layout:{ProjectionNode:Zw,MeasureLayout:fR}},Y3={...y3,...G3,...O3,...K3},vg=f3(Y3,d3),Q3=({restaurants:i,onFinish:t})=>{const[e,r]=st.useState(0),[o,u]=st.useState({like:[],pass:[]}),c=i[e],m=p=>{const g=i[e];u(v=>({...v,[p]:[...v[p],g.id]})),e<i.length-1?r(e+1):t({like:[...o.like,p==="like"?g.id:null].filter(Boolean)})};return c?L.jsxs("div",{className:"relative w-full max-w-sm mx-auto h-[500px] flex flex-col items-center justify-center",children:[L.jsxs("div",{className:"absolute top-[-40px] flex justify-between w-full px-4 text-xs font-black uppercase tracking-widest text-gray-400",children:[L.jsx("span",{className:"text-red-500",children:" Swipe Left to Pass"}),L.jsx("span",{className:"text-green-500",children:"Swipe Right to Like "})]}),L.jsx(Bk,{mode:"wait",children:L.jsxs(vg.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(p,g)=>{g.offset.x>100?m("like"):g.offset.x<-100&&m("pass")},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{x:200,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"w-full h-full bg-white dark:bg-gray-800 rounded-3xl shadow-2xl relative overflow-hidden flex flex-col cursor-grab active:cursor-grabbing border border-gray-100 dark:border-gray-700",children:[L.jsxs("div",{className:"w-full h-2/3 bg-gray-200 dark:bg-gray-700 relative",children:[L.jsx("img",{src:c.photoUrl||`https://via.placeholder.com/400x600?text=${encodeURIComponent(c.name)}`,alt:c.name,className:"w-full h-full object-cover"}),L.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:L.jsxs("span",{className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full shadow-lg",children:[c.priceLevel||"$$","  ",c.rating," "]})})]}),L.jsxs("div",{className:"p-6 flex flex-col h-1/3 justify-between",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white truncate",children:c.name}),L.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-1",children:c.address})]}),L.jsx("div",{className:"flex gap-4",children:L.jsxs("a",{href:c.mapsUrl||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(c.name)}`,target:"_blank",rel:"noreferrer",className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 dark:text-gray-300 text-gray-700 text-center rounded-xl text-sm font-bold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",onClick:p=>p.stopPropagation(),children:[L.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"})}),"Google Maps"]})})]})]},c.id)}),L.jsxs("div",{className:"mt-12 flex gap-8",children:[L.jsx("button",{onClick:()=>m("pass"),className:"w-16 h-16 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg text-red-500 hover:scale-110 active:scale-95 transition-all border border-red-100 dark:border-red-900/30",children:L.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),L.jsx("button",{onClick:()=>m("like"),className:"w-16 h-16 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg text-green-500 hover:scale-110 active:scale-95 transition-all border border-green-100 dark:border-green-900/30",children:L.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),L.jsxs("p",{className:"mt-8 text-sm text-gray-500",children:[e+1," / ",i.length]})]}):L.jsx("div",{className:"text-center py-20 font-bold",children:"No restaurants to display"})},X3=({sessionId:i,restaurants:t,currentUser:e,sessionData:r,onFinish:o})=>{const[u,c]=st.useState(r.amidakuji?.rungs||[]),[m,p]=st.useState(r.amidakuji?.userStartLanes?.[e.uid]||0),[g,v]=st.useState(!1),[T,b]=st.useState(null),R=st.useRef(null),P=5,k=60;st.useEffect(()=>{r.amidakuji?.rungs&&c(r.amidakuji.rungs)},[r.amidakuji?.rungs]);const z=(J,Y)=>{if(g)return;const lt={x:J,y:Math.round(Y/20)*20};c([...u,lt])},Q=()=>{v(!0),setTimeout(()=>{v(!1),o(t[2])},3e3)};return L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsxs("div",{className:"mb-8 flex gap-4",children:[L.jsx("p",{className:"text-sm font-bold text-gray-500",children:"Pick Your Lane:"}),[...Array(P)].map((J,Y)=>L.jsx("button",{onClick:()=>p(Y),className:`w-8 h-8 rounded-full border-2 font-bold transition-all ${m===Y?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-400"}`,children:Y+1},Y))]}),L.jsxs("div",{ref:R,className:"relative bg-white dark:bg-gray-800 p-10 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 h-[400px]",style:{width:(P-1)*k+80},onClick:J=>{const Y=R.current.getBoundingClientRect(),lt=J.clientX-Y.left-40,ot=J.clientY-Y.top-40;if(lt>0&&lt<(P-1)*k){const mt=Math.floor((lt+k/2)/k);z(mt*k,ot)}},children:[[...Array(P)].map((J,Y)=>L.jsx("div",{className:"absolute bg-gray-300 dark:bg-gray-600 w-1 rounded-full top-10 bottom-10",style:{left:Y*k+40}},Y)),u.map((J,Y)=>L.jsx(vg.div,{initial:{scaleX:0},animate:{scaleX:1},className:"absolute h-1 bg-blue-500 rounded-full origin-left",style:{left:J.x+40,top:J.y+40,width:k}},Y)),L.jsx("div",{className:"absolute bottom-[-10px] w-full left-0 flex justify-between px-4",children:t.slice(0,5).map((J,Y)=>L.jsx("span",{className:"text-[8px] font-bold text-gray-400 truncate max-w-[50px]",children:J.name},Y))}),g&&L.jsx(vg.div,{className:"absolute w-4 h-4 bg-yellow-400 rounded-full shadow-[0_0_15px_rgba(250,204,21,0.8)] z-10",animate:{y:[0,100,100,200,200,300],x:[m*k+40,m*k+40,(m+1)*k+40,(m+1)*k+40,m*k+40,m*k+40]},transition:{duration:3,ease:"linear"},style:{top:40}})]}),L.jsxs("div",{className:"mt-12 flex gap-4",children:[r.hostId===e.uid&&L.jsx("button",{onClick:()=>c([]),className:"px-6 py-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 font-bold rounded-xl border border-gray-200 dark:border-gray-600 hover:bg-gray-200 transition-all text-sm",children:"Reset Ladder"}),L.jsx("button",{disabled:g,onClick:Q,className:"px-8 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-black rounded-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all uppercase tracking-widest",children:g?"Tracing Path...":"Start Battle!"})]})]})},$3=i=>new Promise(t=>{setTimeout(()=>{const r=[{id:"1",name:"Tasty Taiwan",rating:4.5,priceLevel:2,address:"Xinyi District, Taipei",mapsUrl:"#"},{id:"2",name:"Malay Feast",rating:4.2,priceLevel:1,address:"Bukit Bintang, KL",mapsUrl:"#"},{id:"3",name:"Gourmet House",rating:4.8,priceLevel:3,address:"Da-an District, Taipei",mapsUrl:"#"},{id:"4",name:"Satay Garden",rating:4,priceLevel:1,address:"Subang Jaya, Selangor",mapsUrl:"#"},{id:"5",name:"Zen Garden",rating:4.6,priceLevel:2,address:", ",mapsUrl:"#"},{id:"6",name:"Luxury Dine",rating:4.9,priceLevel:4,address:"101 Tower, Taipei",mapsUrl:"#"}].filter(o=>o.priceLevel>=(i.minPrice||1)&&o.priceLevel<=(i.maxPrice||4));t(r)},1e3)});function W3(){const[i,t]=st.useState(null),[e,r]=st.useState(!1),[o,u]=st.useState("home"),[c,m]=st.useState(""),[p,g]=st.useState(""),[v,T]=st.useState([]);st.useEffect(()=>{const z=new URLSearchParams(window.location.search).get("id");z&&(m(z),u("join"))},[]),st.useEffect(()=>{let k=()=>{};const z=i?.id||(o==="waiting"||o==="swiping"?c:null);return z&&(k=aO(Ru(du,"sessions",z),Q=>{if(Q.exists()){const J=Q.data();t({id:Q.id,...J}),J.status==="swiping"&&o!=="swiping"&&(b(J),u("swiping"))}})),()=>k()},[i?.id,c,o]);const b=async k=>{const z=await $3(k);T(z)};st.useEffect(()=>{if(!i?.waitDeadline)return;const k=setInterval(()=>{const J=(i.waitDeadline.toDate?i.waitDeadline.toDate():new Date(i.waitDeadline))-new Date;if(J<=0)g("Time is up! Transitioning..."),clearInterval(k);else{const Y=Math.floor(J/6e4),lt=Math.floor(J%6e4/1e3);g(`${Y}:${lt<10?"0":""}${lt}`)}},1e3);return()=>clearInterval(k)},[i?.waitDeadline]);const R=async k=>{r(!0);try{Pi.currentUser||await PS(Pi);const z={...k,hostId:Pi.currentUser.uid,status:"recruiting",createdAt:JN(),participants:[Pi.currentUser.uid],waitDeadline:new Date(Date.now()+k.waitMinutes*6e4)},Q=await rO(zN(du,"sessions"),z);t({id:Q.id,...z}),u("created")}catch(z){console.error("Error creating session:",z),alert("Failed to create session. Check your Firebase config.")}finally{r(!1)}},P=k=>{u("waiting")};return L.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:[o==="home"&&L.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[L.jsx("h1",{className:"text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 mb-6 py-2",children:"GatheringFun"}),L.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-16",children:"Decide where and when to meet, the fun way!"}),L.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[L.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all cursor-pointer border-2 border-transparent hover:border-blue-500",onClick:()=>u("create"),children:[L.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:L.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),L.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Create Gathering"}),L.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Host a new meeting and invite friends."})]}),L.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl border-2 border-transparent hover:border-purple-500",children:[L.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:L.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),L.jsx("h3",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Join Gathering"}),L.jsx("input",{type:"text",placeholder:"Enter Session ID",value:c,onChange:k=>m(k.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:bg-gray-700 dark:border-gray-600 mb-4 focus:ring-2 focus:ring-purple-500 outline-none dark:text-white"}),L.jsx("button",{onClick:()=>c&&u("join"),className:"w-full py-3 bg-purple-600 text-white font-bold rounded-xl shadow-lg hover:bg-purple-700 transition-all",children:"Join Now"})]})]})]}),o==="create"&&L.jsxs("div",{className:"text-center",children:[L.jsx("button",{onClick:()=>u("home"),className:"mb-8 text-gray-500 hover:text-blue-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),L.jsx(cO,{onSubmit:R,loading:e})]}),o==="join"&&L.jsxs("div",{className:"text-center",children:[L.jsx("button",{onClick:()=>u("home"),className:"mb-8 text-gray-500 hover:text-purple-500 flex items-center mx-auto text-sm",children:" Cancel and Go Back"}),L.jsx(hO,{sessionId:c,onJoined:P})]}),(o==="created"||o==="waiting")&&L.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white",children:[L.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full",children:L.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),L.jsx("h2",{className:"text-3xl font-bold mb-2",children:"You're in!"}),L.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:o==="waiting"?"Preferences submitted. Waiting for Phase 2 to end...":`"${i?.name}" is LIVE!`}),L.jsxs("div",{className:"mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800",children:[L.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Time Remaining"}),L.jsx("p",{className:"text-4xl font-mono font-black text-blue-700 dark:text-blue-300",children:p||"--:--"})]}),(i||c)&&L.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700 mb-8",children:[L.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Session ID"}),L.jsx("code",{className:"text-2xl font-mono font-bold text-blue-600 dark:text-blue-400 select-all",children:i?i.id:c})]}),L.jsx("button",{onClick:()=>{const k=i?i.id:c;navigator.clipboard.writeText(k),alert("ID copied!")},className:"w-full py-4 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all mb-4",children:"Copy ID"}),L.jsx("button",{onClick:()=>{t(null),u("home")},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium",children:" Exit Session"})]}),o==="swiping"&&L.jsxs("div",{className:"text-center",children:[L.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-12",children:"Vote for Restaurants"}),L.jsx(Q3,{restaurants:v,onFinish:async k=>{const z=Ru(du,"sessions",i.id);await R1(z,{[`restaurantVotes.${Pi.currentUser.uid}`]:k.like}),u("waiting_amidakuji")}})]}),o==="waiting_amidakuji"&&L.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white",children:[L.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full text-blue-600",children:L.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),L.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Votes Cast!"}),L.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Waiting for everyone to finish swiping. Next: The Amidakuji Game!"}),L.jsxs("div",{className:"animate-pulse flex items-center justify-center gap-2",children:[L.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full"}),L.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full",style:{animationDelay:"200ms"}}),L.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full",style:{animationDelay:"400ms"}})]})]}),o==="amidakuji"&&L.jsxs("div",{className:"text-center",children:[L.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-2 py-2",children:""}),L.jsx("p",{className:"text-gray-500 mb-12",children:"Add rungs to the ladder and select your starting lane!"}),L.jsx(X3,{sessionId:i.id,restaurants:v,currentUser:Pi.currentUser,sessionData:i,onFinish:k=>{t(z=>({...z,finalChoice:k,status:"finished"})),u("finished")}})]}),o==="finished"&&i?.finalChoice&&L.jsxs("div",{className:"max-w-2xl mx-auto p-12 bg-white dark:bg-gray-800 rounded-[3rem] shadow-2xl text-center border-4 border-yellow-400",children:[L.jsx("div",{className:"mb-8",children:L.jsx("span",{className:"px-6 py-2 bg-yellow-400 text-yellow-900 text-sm font-black rounded-full uppercase tracking-tighter",children:"Winner Winner Dinner!"})}),L.jsx("h1",{className:"text-6xl font-black text-gray-900 dark:text-white mb-4",children:i.finalChoice.name}),L.jsx("p",{className:"text-xl text-gray-500 dark:text-gray-400 mb-8",children:i.finalChoice.address}),L.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-8 rounded-3xl mb-10 flex flex-col gap-3",children:[L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-500",children:"Date"}),L.jsx("span",{className:"font-bold dark:text-gray-300",children:i.startDate})]}),L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-500",children:"Price Range"}),L.jsxs("span",{className:"font-bold text-green-600",children:["$".repeat(i.minPrice)," - ","$".repeat(i.maxPrice)]})]})]}),L.jsxs("div",{className:"flex flex-col gap-4",children:[L.jsxs("button",{onClick:()=>{const k=encodeURIComponent(`Gathering: ${i.name}`),z=encodeURIComponent(`Restaurant: ${i.finalChoice.name}
Address: ${i.finalChoice.address}`),Q=`https://www.google.com/calendar/render?action=TEMPLATE&text=${k}&details=${z}&location=${encodeURIComponent(i.finalChoice.address)}`;window.open(Q,"_blank")},className:"w-full py-5 bg-blue-600 text-white font-black rounded-2xl shadow-xl hover:bg-blue-700 hover:scale-[1.02] transition-all flex items-center justify-center gap-3",children:[L.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM7 11h5v5H7z"})}),"Add to Google Calendar"]}),L.jsx("button",{onClick:()=>u("home"),className:"py-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-sm font-medium",children:"Start New Gathering"})]})]})]})}JC.createRoot(document.getElementById("root")).render(L.jsx(st.StrictMode,{children:L.jsx(W3,{})}));
