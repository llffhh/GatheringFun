(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var Ym={exports:{}},tu={};var cT;function XR(){if(cT)return tu;cT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return tu.Fragment=t,tu.jsx=e,tu.jsxs=e,tu}var hT;function $R(){return hT||(hT=1,Ym.exports=XR()),Ym.exports}var A=$R(),Qm={exports:{}},Rt={};var fT;function WR(){if(fT)return Rt;fT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function R(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,O={};function j(k,nt,ht){this.props=k,this.context=nt,this.refs=O,this.updater=ht||L}j.prototype.isReactComponent={},j.prototype.setState=function(k,nt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,nt,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function W(){}W.prototype=j.prototype;function z(k,nt,ht){this.props=k,this.context=nt,this.refs=O,this.updater=ht||L}var $=z.prototype=new W;$.constructor=z,H($,j.prototype),$.isPureReactComponent=!0;var J=Array.isArray;function at(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(k,nt,ht){var dt=ht.ref;return{$$typeof:n,type:k,key:nt,ref:dt!==void 0?dt:null,props:ht}}function M(k,nt){return I(k.type,nt,k.props)}function V(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function U(k){var nt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ht){return nt[ht]})}var D=/\/+/g;function ct(k,nt){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):nt.toString(36)}function vt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(at,at):(k.status="pending",k.then(function(nt){k.status==="pending"&&(k.status="fulfilled",k.value=nt)},function(nt){k.status==="pending"&&(k.status="rejected",k.reason=nt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function K(k,nt,ht,dt,wt){var Nt=typeof k;(Nt==="undefined"||Nt==="boolean")&&(k=null);var Ft=!1;if(k===null)Ft=!0;else switch(Nt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(k.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=k._init,K(Ft(k._payload),nt,ht,dt,wt)}}if(Ft)return wt=wt(k),Ft=dt===""?"."+ct(k,0):dt,J(wt)?(ht="",Ft!=null&&(ht=Ft.replace(D,"$&/")+"/"),K(wt,nt,ht,"",function(Nr){return Nr})):wt!=null&&(V(wt)&&(wt=M(wt,ht+(wt.key==null||k&&k.key===wt.key?"":(""+wt.key).replace(D,"$&/")+"/")+Ft)),nt.push(wt)),1;Ft=0;var ke=dt===""?".":dt+":";if(J(k))for(var le=0;le<k.length;le++)dt=k[le],Nt=ke+ct(dt,le),Ft+=K(dt,nt,ht,Nt,wt);else if(le=R(k),typeof le=="function")for(k=le.call(k),le=0;!(dt=k.next()).done;)dt=dt.value,Nt=ke+ct(dt,le++),Ft+=K(dt,nt,ht,Nt,wt);else if(Nt==="object"){if(typeof k.then=="function")return K(vt(k),nt,ht,dt,wt);throw nt=String(k),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function et(k,nt,ht){if(k==null)return k;var dt=[],wt=0;return K(k,dt,"","",function(Nt){return nt.call(ht,Nt,wt++)}),dt}function lt(k){if(k._status===-1){var nt=k._result;nt=nt(),nt.then(function(ht){(k._status===0||k._status===-1)&&(k._status=1,k._result=ht)},function(ht){(k._status===0||k._status===-1)&&(k._status=2,k._result=ht)}),k._status===-1&&(k._status=0,k._result=nt)}if(k._status===1)return k._result.default;throw k._result}var At=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Mt={map:et,forEach:function(k,nt,ht){et(k,function(){nt.apply(this,arguments)},ht)},count:function(k){var nt=0;return et(k,function(){nt++}),nt},toArray:function(k){return et(k,function(nt){return nt})||[]},only:function(k){if(!V(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Rt.Activity=T,Rt.Children=Mt,Rt.Component=j,Rt.Fragment=e,Rt.Profiler=o,Rt.PureComponent=z,Rt.StrictMode=r,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Rt.cache=function(k){return function(){return k.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(k,nt,ht){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var dt=H({},k.props),wt=k.key;if(nt!=null)for(Nt in nt.key!==void 0&&(wt=""+nt.key),nt)!x.call(nt,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&nt.ref===void 0||(dt[Nt]=nt[Nt]);var Nt=arguments.length-2;if(Nt===1)dt.children=ht;else if(1<Nt){for(var Ft=Array(Nt),ke=0;ke<Nt;ke++)Ft[ke]=arguments[ke+2];dt.children=Ft}return I(k.type,wt,dt)},Rt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Rt.createElement=function(k,nt,ht){var dt,wt={},Nt=null;if(nt!=null)for(dt in nt.key!==void 0&&(Nt=""+nt.key),nt)x.call(nt,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(wt[dt]=nt[dt]);var Ft=arguments.length-2;if(Ft===1)wt.children=ht;else if(1<Ft){for(var ke=Array(Ft),le=0;le<Ft;le++)ke[le]=arguments[le+2];wt.children=ke}if(k&&k.defaultProps)for(dt in Ft=k.defaultProps,Ft)wt[dt]===void 0&&(wt[dt]=Ft[dt]);return I(k,Nt,wt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(k){return{$$typeof:m,render:k}},Rt.isValidElement=V,Rt.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:lt}},Rt.memo=function(k,nt){return{$$typeof:g,type:k,compare:nt===void 0?null:nt}},Rt.startTransition=function(k){var nt=C.T,ht={};C.T=ht;try{var dt=k(),wt=C.S;wt!==null&&wt(ht,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(at,At)}catch(Nt){At(Nt)}finally{nt!==null&&ht.types!==null&&(nt.types=ht.types),C.T=nt}},Rt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Rt.use=function(k){return C.H.use(k)},Rt.useActionState=function(k,nt,ht){return C.H.useActionState(k,nt,ht)},Rt.useCallback=function(k,nt){return C.H.useCallback(k,nt)},Rt.useContext=function(k){return C.H.useContext(k)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(k,nt){return C.H.useDeferredValue(k,nt)},Rt.useEffect=function(k,nt){return C.H.useEffect(k,nt)},Rt.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Rt.useId=function(){return C.H.useId()},Rt.useImperativeHandle=function(k,nt,ht){return C.H.useImperativeHandle(k,nt,ht)},Rt.useInsertionEffect=function(k,nt){return C.H.useInsertionEffect(k,nt)},Rt.useLayoutEffect=function(k,nt){return C.H.useLayoutEffect(k,nt)},Rt.useMemo=function(k,nt){return C.H.useMemo(k,nt)},Rt.useOptimistic=function(k,nt){return C.H.useOptimistic(k,nt)},Rt.useReducer=function(k,nt,ht){return C.H.useReducer(k,nt,ht)},Rt.useRef=function(k){return C.H.useRef(k)},Rt.useState=function(k){return C.H.useState(k)},Rt.useSyncExternalStore=function(k,nt,ht){return C.H.useSyncExternalStore(k,nt,ht)},Rt.useTransition=function(){return C.H.useTransition()},Rt.version="19.2.0",Rt}var dT;function Sg(){return dT||(dT=1,Qm.exports=WR()),Qm.exports}var ot=Sg(),Xm={exports:{}},eu={},$m={exports:{}},Wm={};var mT;function JR(){return mT||(mT=1,(function(n){function t(K,et){var lt=K.length;K.push(et);t:for(;0<lt;){var At=lt-1>>>1,Mt=K[At];if(0<o(Mt,et))K[At]=et,K[lt]=Mt,lt=At;else break t}}function e(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var et=K[0],lt=K.pop();if(lt!==et){K[0]=lt;t:for(var At=0,Mt=K.length,k=Mt>>>1;At<k;){var nt=2*(At+1)-1,ht=K[nt],dt=nt+1,wt=K[dt];if(0>o(ht,lt))dt<Mt&&0>o(wt,ht)?(K[At]=wt,K[dt]=lt,At=dt):(K[At]=ht,K[nt]=lt,At=nt);else if(dt<Mt&&0>o(wt,lt))K[At]=wt,K[dt]=lt,At=dt;else break t}}return et}function o(K,et){var lt=K.sortIndex-et.sortIndex;return lt!==0?lt:K.id-et.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],y=1,T=null,E=3,R=!1,L=!1,H=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function $(K){for(var et=e(g);et!==null;){if(et.callback===null)r(g);else if(et.startTime<=K)r(g),et.sortIndex=et.expirationTime,t(p,et);else break;et=e(g)}}function J(K){if(H=!1,$(K),!L)if(e(p)!==null)L=!0,at||(at=!0,U());else{var et=e(g);et!==null&&vt(J,et.startTime-K)}}var at=!1,C=-1,x=5,I=-1;function M(){return O?!0:!(n.unstable_now()-I<x)}function V(){if(O=!1,at){var K=n.unstable_now();I=K;var et=!0;try{t:{L=!1,H&&(H=!1,W(C),C=-1),R=!0;var lt=E;try{e:{for($(K),T=e(p);T!==null&&!(T.expirationTime>K&&M());){var At=T.callback;if(typeof At=="function"){T.callback=null,E=T.priorityLevel;var Mt=At(T.expirationTime<=K);if(K=n.unstable_now(),typeof Mt=="function"){T.callback=Mt,$(K),et=!0;break e}T===e(p)&&r(p),$(K)}else r(p);T=e(p)}if(T!==null)et=!0;else{var k=e(g);k!==null&&vt(J,k.startTime-K),et=!1}}break t}finally{T=null,E=lt,R=!1}et=void 0}}finally{et?U():at=!1}}}var U;if(typeof z=="function")U=function(){z(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ct=D.port2;D.port1.onmessage=V,U=function(){ct.postMessage(null)}}else U=function(){j(V,0)};function vt(K,et){C=j(function(){K(n.unstable_now())},et)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(K){switch(E){case 1:case 2:case 3:var et=3;break;default:et=E}var lt=E;E=et;try{return K()}finally{E=lt}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(K,et){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var lt=E;E=K;try{return et()}finally{E=lt}},n.unstable_scheduleCallback=function(K,et,lt){var At=n.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?At+lt:At):lt=At,K){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=lt+Mt,K={id:y++,callback:et,priorityLevel:K,startTime:lt,expirationTime:Mt,sortIndex:-1},lt>At?(K.sortIndex=lt,t(g,K),e(p)===null&&K===e(g)&&(H?(W(C),C=-1):H=!0,vt(J,lt-At))):(K.sortIndex=Mt,t(p,K),L||R||(L=!0,at||(at=!0,U()))),K},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(K){var et=E;return function(){var lt=E;E=et;try{return K.apply(this,arguments)}finally{E=lt}}}})(Wm)),Wm}var pT;function ZR(){return pT||(pT=1,$m.exports=JR()),$m.exports}var Jm={exports:{}},en={};var gT;function tC(){if(gT)return en;gT=1;var n=Sg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,y)},en.flushSync=function(p){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=y,r.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,T=m(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:R}):y==="script"&&r.d.X(p,{crossOrigin:T,integrity:E,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=m(y,g.crossOrigin);r.d.L(p,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},en.requestFormReset=function(p){r.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.0",en}var yT;function eC(){if(yT)return Jm.exports;yT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Jm.exports=tC(),Jm.exports}var vT;function nC(){if(vT)return eu;vT=1;var n=ZR(),t=Sg(),e=eC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),i;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),z=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ct(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case H:return"Fragment";case j:return"Profiler";case O:return"StrictMode";case J:return"Suspense";case at:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case L:return"Portal";case z:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case $:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:ct(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return ct(i(s))}catch{}}return null}var vt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},At=[],Mt=-1;function k(i){return{current:i}}function nt(i){0>Mt||(i.current=At[Mt],At[Mt]=null,Mt--)}function ht(i,s){Mt++,At[Mt]=i.current,i.current=s}var dt=k(null),wt=k(null),Nt=k(null),Ft=k(null);function ke(i,s){switch(ht(Nt,s),ht(wt,i),ht(dt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?M_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=M_(s),i=k_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(dt),ht(dt,i)}function le(){nt(dt),nt(wt),nt(Nt)}function Nr(i){i.memoizedState!==null&&ht(Ft,i);var s=dt.current,a=k_(s,i.type);s!==a&&(ht(wt,i),ht(dt,a))}function Aa(i){wt.current===i&&(nt(dt),nt(wt)),Ft.current===i&&(nt(Ft),$l._currentValue=lt)}var wa,xa;function yi(i){if(wa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);wa=s&&s[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+i+xa}var $o=!1;function Vr(i,s){if(!i||$o)return"";$o=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var Y=X}Reflect.construct(i,[],it)}else{try{it.call()}catch(X){Y=X}i.call(it.prototype)}}else{try{throw Error()}catch(X){Y=X}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),G=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===G.length)for(l=N.length-1,f=G.length-1;1<=l&&0<=f&&N[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==G[f]){var Z=`
`+N[l].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=l&&0<=f);break}}}finally{$o=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?yi(a):""}function Wo(i,s){switch(i.tag){case 26:case 27:case 5:return yi(i.type);case 16:return yi("Lazy");case 13:return i.child!==s&&s!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Vr(i.type,!1);case 11:return Vr(i.type.render,!1);case 1:return Vr(i.type,!0);case 31:return yi("Activity");default:return""}}function Jo(i){try{var s="",a=null;do s+=Wo(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Pe=n.unstable_scheduleCallback,As=n.unstable_cancelCallback,Xf=n.unstable_shouldYield,$u=n.unstable_requestPaint,ln=n.unstable_now,Mr=n.unstable_getCurrentPriorityLevel,Zo=n.unstable_ImmediatePriority,tl=n.unstable_UserBlockingPriority,ws=n.unstable_NormalPriority,$f=n.unstable_LowPriority,Wu=n.unstable_IdlePriority,Ju=n.log,Zu=n.unstable_setDisableYieldValue,$n=null,Ge=null;function Mn(i){if(typeof Ju=="function"&&Zu(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode($n,i)}catch{}}var ge=Math.clz32?Math.clz32:ec,tc=Math.log,Ra=Math.LN2;function ec(i){return i>>>=0,i===0?32:31-(tc(i)/Ra|0)|0}var vi=256,kr=262144,Se=4194304;function _i(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ti(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,d=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=_i(l):(_&=S,_!==0?f=_i(_):a||(a=S&~i,a!==0&&(f=_i(a))))):(S=l&~d,S!==0?f=_i(S):_!==0?f=_i(_):a||(a=l&~i,a!==0&&(f=_i(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Wn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Wf(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var i=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),i}function bi(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Pr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Jf(i,s,a,l,f,d){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,N=i.expirationTimes,G=i.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-ge(a),it=1<<Z;S[Z]=0,N[Z]=-1;var Y=G[Z];if(Y!==null)for(G[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}a&=~it}l!==0&&Or(i,l,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(_&~s))}function Or(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-ge(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function el(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-ge(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function nl(i,s){var a=s&-s;return a=(a&42)!==0?1:Lr(a),(a&(i.suspendedLanes|s))!==0?0:a}function Lr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ic(){var i=et.p;return i!==0?i:(i=window.event,i===void 0?32:iT(i.type))}function Jn(i,s){var a=et.p;try{return et.p=i,s()}finally{et.p=a}}var Zn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Zn,Be="__reactProps$"+Zn,Ei="__reactContainer$"+Zn,Ca="__reactEvents$"+Zn,Zf="__reactListeners$"+Zn,sc="__reactHandles$"+Zn,rc="__reactResources$"+Zn,Si="__reactMarker$"+Zn;function Ia(i){delete i[Ae],delete i[Be],delete i[Ca],delete i[Zf],delete i[sc]}function Ai(i){var s=i[Ae];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Ei]||a[Ae]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=z_(i);i!==null;){if(a=i[Ae])return a;i=z_(i)}return s}i=a,a=i.parentNode}return null}function kn(i){if(i=i[Ae]||i[Ei]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Sn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function wi(i){var s=i[rc];return s||(s=i[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function we(i){i[Si]=!0}var il=new Set,sl={};function xi(i,s){Ri(i,s),Ri(i+"Capture",s)}function Ri(i,s){for(sl[i]=s,i=0;i<s.length;i++)il.add(s[i])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},ol={};function ac(i){return Ee.call(ol,i)?!0:Ee.call(al,i)?!1:rl.test(i)?ol[i]=!0:(al[i]=!0,!1)}function Da(i,s,a){if(ac(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function An(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function xe(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function ze(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xs(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ll(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xt(i){if(!i._valueTracker){var s=xs(i)?"checked":"value";i._valueTracker=ll(i,s,""+i[s])}}function jr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=xs(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ur=/[\n"\\]/g;function mn(i){return i.replace(Ur,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Na(i,s,a,l,f,d,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ze(s)):i.value!==""+ze(s)&&(i.value=""+ze(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?ul(i,_,ze(s)):a!=null?ul(i,_,ze(a)):l!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+ze(S):i.removeAttribute("name")}function oc(i,s,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Xt(i);return}a=a!=null?""+ze(a):"",s=s!=null?""+ze(s):a,S||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Xt(i)}function ul(i,s,a){s==="number"&&Ci(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Rs(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function lc(i,s,a){if(s!=null&&(s=""+ze(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+ze(a):""}function Cs(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(vt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ze(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Xt(i)}function pn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||uc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function hl(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&cl(i,f,l)}else for(var d in s)s.hasOwnProperty(d)&&cl(i,d,s[d])}function Va(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(i){return Is.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ti(){}var fl=null;function Pn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ds=null,Ii=null;function Br(i){var s=kn(i);if(s&&(i=s.stateNode)){var a=i[Be]||null;t:switch(i=s.stateNode,s.type){case"input":if(Na(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[Be]||null;if(!f)throw Error(r(90));Na(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&jr(l)}break t;case"textarea":lc(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Rs(i,!!a.multiple,s,!1)}}}var ka=!1;function Ns(i,s,a){if(ka)return i(s,a);ka=!0;try{var l=i(s);return l}finally{if(ka=!1,(Ds!==null||Ii!==null)&&(ih(),Ds&&(s=Ds,i=Ii,Ii=Ds=null,Br(s),i)))for(s=0;s<i.length;s++)Br(i[s])}}function ei(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Be]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(On)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){zr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{zr=!1}var Di=null,dl=null,Fr=null;function ml(){if(Fr)return Fr;var i,s=dl,a=s.length,l,f="value"in Di?Di.value:Di.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var _=a-i;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Fr=f.slice(i,1<l?1-l:void 0)}function Hr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function $i(){return!0}function ni(){return!1}function Ke(i){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$i:ni,this.isPropagationStopped=ni,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Ke(Wi),Vs=T({},Wi,{view:0,detail:0}),pl=Ke(Vs),Ms,Pa,Vi,Oa=T({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vi&&(Vi&&i.type==="mousemove"?(Ms=i.screenX-Vi.screenX,Pa=i.screenY-Vi.screenY):Pa=Ms=0,Vi=i),Ms)},movementY:function(i){return"movementY"in i?i.movementY:Pa}}),gl=Ke(Oa),qr=T({},Oa,{dataTransfer:0}),hc=Ke(qr),fc=T({},Vs,{relatedTarget:0}),Gr=Ke(fc),yl=T({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),dc=Ke(yl),La=T({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),mc=Ke(La),pc=T({},Wi,{data:0}),Mi=Ke(pc),gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=vc[i])?!!s[i]:!1}function ks(){return _c}var un=T({},Vs,{key:function(i){if(i.key){var s=gc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Hr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(i){return i.type==="keypress"?Hr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Tc=Ke(un),bc=T({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Ke(bc),h=T({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),v=Ke(h),b=T({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ke(b),F=T({},Oa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ke(F),ut=T({},Wi,{newState:0,oldState:0}),It=Ke(ut),ye=[9,13,27,32],Kt=On&&"CompositionEvent"in window,ue=null;On&&"documentMode"in document&&(ue=document.documentMode);var Ln=On&&"TextEvent"in window&&!ue,ki=On&&(!Kt||ue&&8<ue&&11>=ue),ii=" ",si=!1;function Kr(i,s){switch(i){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ua=!1;function _x(i,s){switch(i){case"compositionend":return ja(s);case"keypress":return s.which!==32?null:(si=!0,ii);case"textInput":return i=s.data,i===ii&&si?null:i;default:return null}}function Tx(i,s){if(Ua)return i==="compositionend"||!Kt&&Kr(i,s)?(i=ml(),Fr=dl=Di=null,Ua=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ki&&s.locale!=="ko"?null:s.data;default:return null}}var bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!bx[i.type]:s==="textarea"}function Gy(i,s,a,l){Ds?Ii?Ii.push(l):Ii=[l]:Ds=l,s=ch(s,"onChange"),0<s.length&&(a=new Ni("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var vl=null,_l=null;function Ex(i){R_(i,0)}function Ec(i){var s=Sn(i);if(jr(s))return i}function Ky(i,s){if(i==="change")return s}var Yy=!1;if(On){var td;if(On){var ed="oninput"in document;if(!ed){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),ed=typeof Qy.oninput=="function"}td=ed}else td=!1;Yy=td&&(!document.documentMode||9<document.documentMode)}function Xy(){vl&&(vl.detachEvent("onpropertychange",$y),_l=vl=null)}function $y(i){if(i.propertyName==="value"&&Ec(_l)){var s=[];Gy(s,_l,i,Pn(i)),Ns(Ex,s)}}function Sx(i,s,a){i==="focusin"?(Xy(),vl=s,_l=a,vl.attachEvent("onpropertychange",$y)):i==="focusout"&&Xy()}function Ax(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ec(_l)}function wx(i,s){if(i==="click")return Ec(s)}function xx(i,s){if(i==="input"||i==="change")return Ec(s)}function Rx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var wn=typeof Object.is=="function"?Object.is:Rx;function Tl(i,s){if(wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ee.call(s,f)||!wn(i[f],s[f]))return!1}return!0}function Wy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jy(i,s){var a=Wy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Wy(a)}}function Zy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Zy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function t0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ci(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Ci(i.document)}return s}function nd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Cx=On&&"documentMode"in document&&11>=document.documentMode,Ba=null,id=null,bl=null,sd=!1;function e0(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sd||Ba==null||Ba!==Ci(l)||(l=Ba,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&Tl(bl,l)||(bl=l,l=ch(id,"onSelect"),0<l.length&&(s=new Ni("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=Ba)))}function Yr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var za={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},rd={},n0={};On&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Qr(i){if(rd[i])return rd[i];if(!za[i])return i;var s=za[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in n0)return rd[i]=s[a];return i}var i0=Qr("animationend"),s0=Qr("animationiteration"),r0=Qr("animationstart"),Ix=Qr("transitionrun"),Dx=Qr("transitionstart"),Nx=Qr("transitioncancel"),a0=Qr("transitionend"),o0=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function ri(i,s){o0.set(i,s),xi(s,[i])}var Sc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},jn=[],Fa=0,od=0;function Ac(){for(var i=Fa,s=od=Fa=0;s<i;){var a=jn[s];jn[s++]=null;var l=jn[s];jn[s++]=null;var f=jn[s];jn[s++]=null;var d=jn[s];if(jn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&l0(a,f,d)}}function wc(i,s,a,l){jn[Fa++]=i,jn[Fa++]=s,jn[Fa++]=a,jn[Fa++]=l,od|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function ld(i,s,a,l){return wc(i,s,a,l),xc(i)}function Xr(i,s){return wc(i,null,null,s),xc(i)}function l0(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-ge(a),i=d.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function xc(i){if(50<Hl)throw Hl=0,ym=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ha={};function Vx(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(i,s,a,l){return new Vx(i,s,a,l)}function ud(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zi(i,s){var a=i.alternate;return a===null?(a=xn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function u0(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Rc(i,s,a,l,f,d){var _=0;if(l=i,typeof i=="function")ud(i)&&(_=1);else if(typeof i=="string")_=LR(i,a,dt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=xn(31,a,s,f),i.elementType=I,i.lanes=d,i;case H:return $r(a.children,f,d,s);case O:_=8,f|=24;break;case j:return i=xn(12,a,s,f|2),i.elementType=j,i.lanes=d,i;case J:return i=xn(13,a,s,f),i.elementType=J,i.lanes=d,i;case at:return i=xn(19,a,s,f),i.elementType=at,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:_=10;break t;case W:_=9;break t;case $:_=11;break t;case C:_=14;break t;case x:_=16,l=null;break t}_=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=xn(_,a,s,f),s.elementType=i,s.type=l,s.lanes=d,s}function $r(i,s,a,l){return i=xn(7,i,l,s),i.lanes=a,i}function cd(i,s,a){return i=xn(6,i,null,s),i.lanes=a,i}function c0(i){var s=xn(18,null,null,0);return s.stateNode=i,s}function hd(i,s,a){return s=xn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var h0=new WeakMap;function Un(i,s){if(typeof i=="object"&&i!==null){var a=h0.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Jo(s)},h0.set(i,s),s)}return{value:i,source:s,stack:Jo(s)}}var qa=[],Ga=0,Cc=null,El=0,Bn=[],zn=0,Ps=null,Pi=1,Oi="";function ts(i,s){qa[Ga++]=El,qa[Ga++]=Cc,Cc=i,El=s}function f0(i,s,a){Bn[zn++]=Pi,Bn[zn++]=Oi,Bn[zn++]=Ps,Ps=i;var l=Pi;i=Oi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var d=32-ge(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Pi=1<<32-ge(s)+f|a<<f|l,Oi=d+i}else Pi=1<<d|a<<f|l,Oi=i}function fd(i){i.return!==null&&(ts(i,1),f0(i,1,0))}function dd(i){for(;i===Cc;)Cc=qa[--Ga],qa[Ga]=null,El=qa[--Ga],qa[Ga]=null;for(;i===Ps;)Ps=Bn[--zn],Bn[zn]=null,Oi=Bn[--zn],Bn[zn]=null,Pi=Bn[--zn],Bn[zn]=null}function d0(i,s){Bn[zn++]=Pi,Bn[zn++]=Oi,Bn[zn++]=Ps,Pi=s.id,Oi=s.overflow,Ps=i}var Ye=null,ie=null,zt=!1,Os=null,Fn=!1,md=Error(r(519));function Ls(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(Un(s,i)),md}function m0(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Ae]=i,s[Be]=l,a){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Pt(Gl[a],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":Pt("invalid",s),oc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pt("invalid",s);break;case"textarea":Pt("invalid",s),Cs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||N_(s.textContent,a)?(l.popover!=null&&(Pt("beforetoggle",s),Pt("toggle",s)),l.onScroll!=null&&Pt("scroll",s),l.onScrollEnd!=null&&Pt("scrollend",s),l.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||Ls(i,!0)}function p0(i){for(Ye=i.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ye=Ye.return}}function Ka(i){if(i!==Ye)return!1;if(!zt)return p0(i),zt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Vm(i.type,i.memoizedProps)),a=!a),a&&ie&&Ls(i),p0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=B_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=B_(i)}else s===27?(s=ie,Ws(i.type)?(i=Lm,Lm=null,ie=i):ie=s):ie=Ye?qn(i.stateNode.nextSibling):null;return!0}function Wr(){ie=Ye=null,zt=!1}function pd(){var i=Os;return i!==null&&(_n===null?_n=i:_n.push.apply(_n,i),Os=null),i}function Sl(i){Os===null?Os=[i]:Os.push(i)}var gd=k(null),Jr=null,es=null;function js(i,s,a){ht(gd,s._currentValue),s._currentValue=a}function ns(i){i._currentValue=gd.current,nt(gd)}function yd(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function vd(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var N=0;N<s.length;N++)if(S.context===s[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),yd(d.return,a,i),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),yd(_,a,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ya(i,s,a,l){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;wn(f.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(f===Ft.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push($l):i=[$l])}f=f.return}i!==null&&vd(s,i,a,l),s.flags|=262144}function Ic(i){for(i=i.firstContext;i!==null;){if(!wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Zr(i){Jr=i,es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qe(i){return g0(Jr,i)}function Dc(i,s){return Jr===null&&Zr(i),g0(i,s)}function g0(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},es===null){if(i===null)throw Error(r(308));es=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else es=es.next=s;return a}var Mx=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},kx=n.unstable_scheduleCallback,Px=n.unstable_NormalPriority,Re={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new Mx,data:new Map,refCount:0}}function Al(i){i.refCount--,i.refCount===0&&kx(Px,function(){i.controller.abort()})}var wl=null,Td=0,Qa=0,Xa=null;function Ox(i,s){if(wl===null){var a=wl=[];Td=0,Qa=Sm(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Td++,s.then(y0,y0),s}function y0(){if(--Td===0&&wl!==null){Xa!==null&&(Xa.status="fulfilled");var i=wl;wl=null,Qa=0,Xa=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Lx(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var v0=K.S;K.S=function(i,s){e_=ln(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ox(i,s),v0!==null&&v0(i,s)};var ta=k(null);function bd(){var i=ta.current;return i!==null?i:ne.pooledCache}function Nc(i,s){s===null?ht(ta,ta.current):ht(ta,s.pool)}function _0(){var i=bd();return i===null?null:{parent:Re._currentValue,pool:i}}var $a=Error(r(460)),Ed=Error(r(474)),Vc=Error(r(542)),Mc={then:function(){}};function T0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function b0(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(ti,ti),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,S0(i),i;default:if(typeof s.status=="string")s.then(ti,ti);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,S0(i),i}throw na=s,$a}}function ea(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,$a):a}}var na=null;function E0(){if(na===null)throw Error(r(459));var i=na;return na=null,i}function S0(i){if(i===$a||i===Vc)throw Error(r(483))}var Wa=null,xl=0;function kc(i){var s=xl;return xl+=1,Wa===null&&(Wa=[]),b0(Wa,i,s)}function Rl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Pc(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function A0(i){function s(B,P){if(i){var q=B.deletions;q===null?(B.deletions=[P],B.flags|=16):q.push(P)}}function a(B,P){if(!i)return null;for(;P!==null;)s(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function f(B,P){return B=Zi(B,P),B.index=0,B.sibling=null,B}function d(B,P,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<P?(B.flags|=67108866,P):q):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function _(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function S(B,P,q,tt){return P===null||P.tag!==6?(P=cd(q,B.mode,tt),P.return=B,P):(P=f(P,q),P.return=B,P)}function N(B,P,q,tt){var _t=q.type;return _t===H?Z(B,P,q.props.children,tt,q.key):P!==null&&(P.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===x&&ea(_t)===P.type)?(P=f(P,q.props),Rl(P,q),P.return=B,P):(P=Rc(q.type,q.key,q.props,null,B.mode,tt),Rl(P,q),P.return=B,P)}function G(B,P,q,tt){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=hd(q,B.mode,tt),P.return=B,P):(P=f(P,q.children||[]),P.return=B,P)}function Z(B,P,q,tt,_t){return P===null||P.tag!==7?(P=$r(q,B.mode,tt,_t),P.return=B,P):(P=f(P,q),P.return=B,P)}function it(B,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=cd(""+P,B.mode,q),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return q=Rc(P.type,P.key,P.props,null,B.mode,q),Rl(q,P),q.return=B,q;case L:return P=hd(P,B.mode,q),P.return=B,P;case x:return P=ea(P),it(B,P,q)}if(vt(P)||U(P))return P=$r(P,B.mode,q,null),P.return=B,P;if(typeof P.then=="function")return it(B,kc(P),q);if(P.$$typeof===z)return it(B,Dc(B,P),q);Pc(B,P)}return null}function Y(B,P,q,tt){var _t=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _t!==null?null:S(B,P,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===_t?N(B,P,q,tt):null;case L:return q.key===_t?G(B,P,q,tt):null;case x:return q=ea(q),Y(B,P,q,tt)}if(vt(q)||U(q))return _t!==null?null:Z(B,P,q,tt,null);if(typeof q.then=="function")return Y(B,P,kc(q),tt);if(q.$$typeof===z)return Y(B,P,Dc(B,q),tt);Pc(B,q)}return null}function X(B,P,q,tt,_t){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(q)||null,S(P,B,""+tt,_t);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case R:return B=B.get(tt.key===null?q:tt.key)||null,N(P,B,tt,_t);case L:return B=B.get(tt.key===null?q:tt.key)||null,G(P,B,tt,_t);case x:return tt=ea(tt),X(B,P,q,tt,_t)}if(vt(tt)||U(tt))return B=B.get(q)||null,Z(P,B,tt,_t,null);if(typeof tt.then=="function")return X(B,P,q,kc(tt),_t);if(tt.$$typeof===z)return X(B,P,q,Dc(P,tt),_t);Pc(P,tt)}return null}function pt(B,P,q,tt){for(var _t=null,qt=null,gt=P,Vt=P=0,Lt=null;gt!==null&&Vt<q.length;Vt++){gt.index>Vt?(Lt=gt,gt=null):Lt=gt.sibling;var Gt=Y(B,gt,q[Vt],tt);if(Gt===null){gt===null&&(gt=Lt);break}i&&gt&&Gt.alternate===null&&s(B,gt),P=d(Gt,P,Vt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt,gt=Lt}if(Vt===q.length)return a(B,gt),zt&&ts(B,Vt),_t;if(gt===null){for(;Vt<q.length;Vt++)gt=it(B,q[Vt],tt),gt!==null&&(P=d(gt,P,Vt),qt===null?_t=gt:qt.sibling=gt,qt=gt);return zt&&ts(B,Vt),_t}for(gt=l(gt);Vt<q.length;Vt++)Lt=X(gt,B,Vt,q[Vt],tt),Lt!==null&&(i&&Lt.alternate!==null&&gt.delete(Lt.key===null?Vt:Lt.key),P=d(Lt,P,Vt),qt===null?_t=Lt:qt.sibling=Lt,qt=Lt);return i&&gt.forEach(function(nr){return s(B,nr)}),zt&&ts(B,Vt),_t}function bt(B,P,q,tt){if(q==null)throw Error(r(151));for(var _t=null,qt=null,gt=P,Vt=P=0,Lt=null,Gt=q.next();gt!==null&&!Gt.done;Vt++,Gt=q.next()){gt.index>Vt?(Lt=gt,gt=null):Lt=gt.sibling;var nr=Y(B,gt,Gt.value,tt);if(nr===null){gt===null&&(gt=Lt);break}i&&gt&&nr.alternate===null&&s(B,gt),P=d(nr,P,Vt),qt===null?_t=nr:qt.sibling=nr,qt=nr,gt=Lt}if(Gt.done)return a(B,gt),zt&&ts(B,Vt),_t;if(gt===null){for(;!Gt.done;Vt++,Gt=q.next())Gt=it(B,Gt.value,tt),Gt!==null&&(P=d(Gt,P,Vt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return zt&&ts(B,Vt),_t}for(gt=l(gt);!Gt.done;Vt++,Gt=q.next())Gt=X(gt,B,Vt,Gt.value,tt),Gt!==null&&(i&&Gt.alternate!==null&&gt.delete(Gt.key===null?Vt:Gt.key),P=d(Gt,P,Vt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return i&&gt.forEach(function(QR){return s(B,QR)}),zt&&ts(B,Vt),_t}function ee(B,P,q,tt){if(typeof q=="object"&&q!==null&&q.type===H&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:t:{for(var _t=q.key;P!==null;){if(P.key===_t){if(_t=q.type,_t===H){if(P.tag===7){a(B,P.sibling),tt=f(P,q.props.children),tt.return=B,B=tt;break t}}else if(P.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===x&&ea(_t)===P.type){a(B,P.sibling),tt=f(P,q.props),Rl(tt,q),tt.return=B,B=tt;break t}a(B,P);break}else s(B,P);P=P.sibling}q.type===H?(tt=$r(q.props.children,B.mode,tt,q.key),tt.return=B,B=tt):(tt=Rc(q.type,q.key,q.props,null,B.mode,tt),Rl(tt,q),tt.return=B,B=tt)}return _(B);case L:t:{for(_t=q.key;P!==null;){if(P.key===_t)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(B,P.sibling),tt=f(P,q.children||[]),tt.return=B,B=tt;break t}else{a(B,P);break}else s(B,P);P=P.sibling}tt=hd(q,B.mode,tt),tt.return=B,B=tt}return _(B);case x:return q=ea(q),ee(B,P,q,tt)}if(vt(q))return pt(B,P,q,tt);if(U(q)){if(_t=U(q),typeof _t!="function")throw Error(r(150));return q=_t.call(q),bt(B,P,q,tt)}if(typeof q.then=="function")return ee(B,P,kc(q),tt);if(q.$$typeof===z)return ee(B,P,Dc(B,q),tt);Pc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(B,P.sibling),tt=f(P,q),tt.return=B,B=tt):(a(B,P),tt=cd(q,B.mode,tt),tt.return=B,B=tt),_(B)):a(B,P)}return function(B,P,q,tt){try{xl=0;var _t=ee(B,P,q,tt);return Wa=null,_t}catch(gt){if(gt===$a||gt===Vc)throw gt;var qt=xn(29,gt,null,B.mode);return qt.lanes=tt,qt.return=B,qt}finally{}}}var ia=A0(!0),w0=A0(!1),Us=!1;function Sd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Bs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zs(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=xc(i),l0(i,null,a),s}return wc(i,l,s,a),xc(i)}function Cl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,el(i,a)}}function wd(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var xd=!1;function Il(){if(xd){var i=Xa;if(i!==null)throw i}}function Dl(i,s,a,l){xd=!1;var f=i.updateQueue;Us=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,G=N.next;N.next=null,_===null?d=G:_.next=G,_=N;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=G:S.next=G,Z.lastBaseUpdate=N))}if(d!==null){var it=f.baseState;_=0,Z=G=N=null,S=d;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(Ot&Y)===Y:(l&Y)===Y){Y!==0&&Y===Qa&&(xd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var pt=i,bt=S;Y=s;var ee=a;switch(bt.tag){case 1:if(pt=bt.payload,typeof pt=="function"){it=pt.call(ee,it,Y);break t}it=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=bt.payload,Y=typeof pt=="function"?pt.call(ee,it,Y):pt,Y==null)break t;it=T({},it,Y);break t;case 2:Us=!0}}Y=S.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(G=Z=X,N=it):Z=Z.next=X,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(N=it),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Ks|=_,i.lanes=_,i.memoizedState=it}}function x0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function R0(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)x0(a[i],s)}var Ja=k(null),Oc=k(0);function C0(i,s){i=hs,ht(Oc,i),ht(Ja,s),hs=i|s.baseLanes}function Rd(){ht(Oc,hs),ht(Ja,Ja.current)}function Cd(){hs=Oc.current,nt(Ja),nt(Oc)}var Rn=k(null),Hn=null;function Fs(i){var s=i.alternate;ht(ve,ve.current&1),ht(Rn,i),Hn===null&&(s===null||Ja.current!==null||s.memoizedState!==null)&&(Hn=i)}function Id(i){ht(ve,ve.current),ht(Rn,i),Hn===null&&(Hn=i)}function I0(i){i.tag===22?(ht(ve,ve.current),ht(Rn,i),Hn===null&&(Hn=i)):Hs()}function Hs(){ht(ve,ve.current),ht(Rn,Rn.current)}function Cn(i){nt(Rn),Hn===i&&(Hn=null),nt(ve)}var ve=k(0);function Lc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pm(a)||Om(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var is=0,Dt=null,Zt=null,Ce=null,jc=!1,Za=!1,sa=!1,Uc=0,Nl=0,to=null,jx=0;function de(){throw Error(r(321))}function Dd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!wn(i[a],s[a]))return!1;return!0}function Nd(i,s,a,l,f,d){return is=d,Dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?fv:Kd,sa=!1,d=a(l,f),sa=!1,Za&&(d=N0(s,a,l,f)),D0(i),d}function D0(i){K.H=kl;var s=Zt!==null&&Zt.next!==null;if(is=0,Ce=Zt=Dt=null,jc=!1,Nl=0,to=null,s)throw Error(r(300));i===null||Ie||(i=i.dependencies,i!==null&&Ic(i)&&(Ie=!0))}function N0(i,s,a,l){Dt=i;var f=0;do{if(Za&&(to=null),Nl=0,Za=!1,25<=f)throw Error(r(301));if(f+=1,Ce=Zt=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=dv,d=s(a,l)}while(Za);return d}function Ux(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?Vl(s):s,i=i.useState()[0],(Zt!==null?Zt.memoizedState:null)!==i&&(Dt.flags|=1024),s}function Vd(){var i=Uc!==0;return Uc=0,i}function Md(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function kd(i){if(jc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}jc=!1}is=0,Ce=Zt=Dt=null,Za=!1,Nl=Uc=0,to=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Dt.memoizedState=Ce=i:Ce=Ce.next=i,Ce}function _e(){if(Zt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var s=Ce===null?Dt.memoizedState:Ce.next;if(s!==null)Ce=s,Zt=i;else{if(i===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ce===null?Dt.memoizedState=Ce=i:Ce=Ce.next=i}return Ce}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(i){var s=Nl;return Nl+=1,to===null&&(to=[]),i=b0(to,i,s),s=Dt,(Ce===null?s.memoizedState:Ce.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?fv:Kd),i}function zc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vl(i);if(i.$$typeof===z)return Qe(i)}throw Error(r(438,String(i)))}function Pd(i){var s=null,a=Dt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Bc(),Dt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=M;return s.index++,a}function ss(i,s){return typeof s=="function"?s(i):s}function Fc(i){var s=_e();return Od(s,Zt,i)}function Od(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var S=_=null,N=null,G=s,Z=!1;do{var it=G.lane&-536870913;if(it!==G.lane?(Ot&it)===it:(is&it)===it){var Y=G.revertLane;if(Y===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),it===Qa&&(Z=!0);else if((is&Y)===Y){G=G.next,Y===Qa&&(Z=!0);continue}else it={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(S=N=it,_=d):N=N.next=it,Dt.lanes|=Y,Ks|=Y;it=G.action,sa&&a(d,it),d=G.hasEagerState?G.eagerState:a(d,it)}else Y={lane:it,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(S=N=Y,_=d):N=N.next=Y,Dt.lanes|=it,Ks|=it;G=G.next}while(G!==null&&G!==s);if(N===null?_=d:N.next=S,!wn(d,i.memoizedState)&&(Ie=!0,Z&&(a=Xa,a!==null)))throw a;i.memoizedState=d,i.baseState=_,i.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Ld(i){var s=_e(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=i(d,_.action),_=_.next;while(_!==f);wn(d,s.memoizedState)||(Ie=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function V0(i,s,a){var l=Dt,f=_e(),d=zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!wn((Zt||f).memoizedState,a);if(_&&(f.memoizedState=a,Ie=!0),f=f.queue,Bd(P0.bind(null,l,f,i),[i]),f.getSnapshot!==s||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},k0.bind(null,l,f,a,s),null),ne===null)throw Error(r(349));d||(is&127)!==0||M0(l,s,a)}return a}function M0(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Dt.updateQueue,s===null?(s=Bc(),Dt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function k0(i,s,a,l){s.value=a,s.getSnapshot=l,O0(s)&&L0(i)}function P0(i,s,a){return a(function(){O0(s)&&L0(i)})}function O0(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!wn(i,a)}catch{return!0}}function L0(i){var s=Xr(i,2);s!==null&&Tn(s,i,2)}function jd(i){var s=cn();if(typeof i=="function"){var a=i;if(i=a(),sa){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:i},s}function j0(i,s,a,l){return i.baseState=a,Od(i,Zt,typeof l=="function"?l:ss)}function Bx(i,s,a,l,f){if(Gc(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,U0(s,d)):(d.next=a.next,s.pending=a.next=d)}}function U0(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var d=K.T,_={};K.T=_;try{var S=a(f,l),N=K.S;N!==null&&N(_,S),B0(i,s,S)}catch(G){Ud(i,s,G)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(f,l),B0(i,s,d)}catch(G){Ud(i,s,G)}}function B0(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){z0(i,s,l)},function(l){return Ud(i,s,l)}):z0(i,s,a)}function z0(i,s,a){s.status="fulfilled",s.value=a,F0(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,U0(i,a)))}function Ud(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,F0(s),s=s.next;while(s!==l)}i.action=null}function F0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function H0(i,s){return s}function q0(i,s){if(zt){var a=ne.formState;if(a!==null){t:{var l=Dt;if(zt){if(ie){e:{for(var f=ie,d=Fn;f.nodeType!==8;){if(!d){f=null;break e}if(f=qn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ie=qn(f.nextSibling),l=f.data==="F!";break t}}Ls(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H0,lastRenderedState:s},a.queue=l,a=uv.bind(null,Dt,l),l.dispatch=a,l=jd(!1),d=Gd.bind(null,Dt,!1,l.queue),l=cn(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=Bx.bind(null,Dt,f,d,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function G0(i){var s=_e();return K0(s,Zt,i)}function K0(i,s,a){if(s=Od(i,s,H0)[0],i=Fc(ss)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Vl(s)}catch(_){throw _===$a?Vc:_}else l=s;s=_e();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Dt.flags|=2048,eo(9,{destroy:void 0},zx.bind(null,f,a),null)),[l,d,i]}function zx(i,s){i.action=s}function Y0(i){var s=_e(),a=Zt;if(a!==null)return K0(s,a,i);_e(),s=s.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function eo(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Dt.updateQueue,s===null&&(s=Bc(),Dt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function Q0(){return _e().memoizedState}function Hc(i,s,a,l){var f=cn();Dt.flags|=i,f.memoizedState=eo(1|s,{destroy:void 0},a,l===void 0?null:l)}function qc(i,s,a,l){var f=_e();l=l===void 0?null:l;var d=f.memoizedState.inst;Zt!==null&&l!==null&&Dd(l,Zt.memoizedState.deps)?f.memoizedState=eo(s,d,a,l):(Dt.flags|=i,f.memoizedState=eo(1|s,d,a,l))}function X0(i,s){Hc(8390656,8,i,s)}function Bd(i,s){qc(2048,8,i,s)}function Fx(i){Dt.flags|=4;var s=Dt.updateQueue;if(s===null)s=Bc(),Dt.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function $0(i){var s=_e().memoizedState;return Fx({ref:s,nextImpl:i}),function(){if((Yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function W0(i,s){return qc(4,2,i,s)}function J0(i,s){return qc(4,4,i,s)}function Z0(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function tv(i,s,a){a=a!=null?a.concat([i]):null,qc(4,4,Z0.bind(null,s,i),a)}function zd(){}function ev(i,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Dd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function nv(i,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Dd(s,l[1]))return l[0];if(l=i(),sa){Mn(!0);try{i()}finally{Mn(!1)}}return a.memoizedState=[l,s],l}function Fd(i,s,a){return a===void 0||(is&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=i_(),Dt.lanes|=i,Ks|=i,a)}function iv(i,s,a,l){return wn(a,s)?a:Ja.current!==null?(i=Fd(i,a,l),wn(i,s)||(Ie=!0),i):(is&42)===0||(is&1073741824)!==0&&(Ot&261930)===0?(Ie=!0,i.memoizedState=a):(i=i_(),Dt.lanes|=i,Ks|=i,s)}function sv(i,s,a,l,f){var d=et.p;et.p=d!==0&&8>d?d:8;var _=K.T,S={};K.T=S,Gd(i,!1,s,a);try{var N=f(),G=K.S;if(G!==null&&G(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=Lx(N,l);Ml(i,s,Z,Nn(i))}else Ml(i,s,l,Nn(i))}catch(it){Ml(i,s,{then:function(){},status:"rejected",reason:it},Nn())}finally{et.p=d,_!==null&&S.types!==null&&(_.types=S.types),K.T=_}}function Hx(){}function Hd(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=rv(i).queue;sv(i,f,s,lt,a===null?Hx:function(){return av(i),a(l)})}function rv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:lt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function av(i){var s=rv(i);s.next===null&&(s=i.alternate.memoizedState),Ml(i,s.next.queue,{},Nn())}function qd(){return Qe($l)}function ov(){return _e().memoizedState}function lv(){return _e().memoizedState}function qx(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Nn();i=Bs(a);var l=zs(s,i,a);l!==null&&(Tn(l,s,a),Cl(l,s,a)),s={cache:_d()},i.payload=s;return}s=s.return}}function Gx(i,s,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gc(i)?cv(s,a):(a=ld(i,s,a,l),a!==null&&(Tn(a,i,l),hv(a,s,l)))}function uv(i,s,a){var l=Nn();Ml(i,s,a,l)}function Ml(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gc(i))cv(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,wn(S,_))return wc(i,s,f,0),ne===null&&Ac(),!1}catch{}finally{}if(a=ld(i,s,f,l),a!==null)return Tn(a,i,l),hv(a,s,l),!0}return!1}function Gd(i,s,a,l){if(l={lane:2,revertLane:Sm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gc(i)){if(s)throw Error(r(479))}else s=ld(i,a,l,2),s!==null&&Tn(s,i,2)}function Gc(i){var s=i.alternate;return i===Dt||s!==null&&s===Dt}function cv(i,s){Za=jc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function hv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,el(i,a)}}var kl={readContext:Qe,use:zc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};kl.useEffectEvent=de;var fv={readContext:Qe,use:zc,useCallback:function(i,s){return cn().memoizedState=[i,s===void 0?null:s],i},useContext:Qe,useEffect:X0,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Hc(4194308,4,Z0.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Hc(4194308,4,i,s)},useInsertionEffect:function(i,s){Hc(4,2,i,s)},useMemo:function(i,s){var a=cn();s=s===void 0?null:s;var l=i();if(sa){Mn(!0);try{i()}finally{Mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=cn();if(a!==void 0){var f=a(s);if(sa){Mn(!0);try{a(s)}finally{Mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=Gx.bind(null,Dt,i),[l.memoizedState,i]},useRef:function(i){var s=cn();return i={current:i},s.memoizedState=i},useState:function(i){i=jd(i);var s=i.queue,a=uv.bind(null,Dt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:zd,useDeferredValue:function(i,s){var a=cn();return Fd(a,i,s)},useTransition:function(){var i=jd(!1);return i=sv.bind(null,Dt,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Dt,f=cn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ne===null)throw Error(r(349));(Ot&127)!==0||M0(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,X0(P0.bind(null,l,d,i),[i]),l.flags|=2048,eo(9,{destroy:void 0},k0.bind(null,l,d,a,s),null),a},useId:function(){var i=cn(),s=ne.identifierPrefix;if(zt){var a=Oi,l=Pi;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Uc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=jx++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:qd,useFormState:q0,useActionState:q0,useOptimistic:function(i){var s=cn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Gd.bind(null,Dt,!0,a),a.dispatch=s,[i,s]},useMemoCache:Pd,useCacheRefresh:function(){return cn().memoizedState=qx.bind(null,Dt)},useEffectEvent:function(i){var s=cn(),a={impl:i};return s.memoizedState=a,function(){if((Yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kd={readContext:Qe,use:zc,useCallback:ev,useContext:Qe,useEffect:Bd,useImperativeHandle:tv,useInsertionEffect:W0,useLayoutEffect:J0,useMemo:nv,useReducer:Fc,useRef:Q0,useState:function(){return Fc(ss)},useDebugValue:zd,useDeferredValue:function(i,s){var a=_e();return iv(a,Zt.memoizedState,i,s)},useTransition:function(){var i=Fc(ss)[0],s=_e().memoizedState;return[typeof i=="boolean"?i:Vl(i),s]},useSyncExternalStore:V0,useId:ov,useHostTransitionStatus:qd,useFormState:G0,useActionState:G0,useOptimistic:function(i,s){var a=_e();return j0(a,Zt,i,s)},useMemoCache:Pd,useCacheRefresh:lv};Kd.useEffectEvent=$0;var dv={readContext:Qe,use:zc,useCallback:ev,useContext:Qe,useEffect:Bd,useImperativeHandle:tv,useInsertionEffect:W0,useLayoutEffect:J0,useMemo:nv,useReducer:Ld,useRef:Q0,useState:function(){return Ld(ss)},useDebugValue:zd,useDeferredValue:function(i,s){var a=_e();return Zt===null?Fd(a,i,s):iv(a,Zt.memoizedState,i,s)},useTransition:function(){var i=Ld(ss)[0],s=_e().memoizedState;return[typeof i=="boolean"?i:Vl(i),s]},useSyncExternalStore:V0,useId:ov,useHostTransitionStatus:qd,useFormState:Y0,useActionState:Y0,useOptimistic:function(i,s){var a=_e();return Zt!==null?j0(a,Zt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Pd,useCacheRefresh:lv};dv.useEffectEvent=$0;function Yd(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Qd={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Nn(),f=Bs(l);f.payload=s,a!=null&&(f.callback=a),s=zs(i,f,l),s!==null&&(Tn(s,i,l),Cl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Nn(),f=Bs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=zs(i,f,l),s!==null&&(Tn(s,i,l),Cl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Nn(),l=Bs(a);l.tag=2,s!=null&&(l.callback=s),s=zs(i,l,a),s!==null&&(Tn(s,i,a),Cl(s,i,a))}};function mv(i,s,a,l,f,d,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Tl(a,l)||!Tl(f,d):!0}function pv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Qd.enqueueReplaceState(s,s.state,null)}function ra(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=T({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function gv(i){Sc(i)}function yv(i){console.error(i)}function vv(i){Sc(i)}function Kc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function _v(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Xd(i,s,a){return a=Bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Kc(i,s)},a}function Tv(i){return i=Bs(i),i.tag=3,i}function bv(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;i.payload=function(){return f(d)},i.callback=function(){_v(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){_v(s,a,l),typeof f!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Kx(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ya(s,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?sh():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Mc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Tm(i,l,f)),!1;case 22:return a.flags|=65536,l===Mc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Tm(i,l,f)),!1}throw Error(r(435,a.tag))}return Tm(i,l,f),sh(),!1}if(zt)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==md&&(i=Error(r(422),{cause:l}),Sl(Un(i,a)))):(l!==md&&(s=Error(r(423),{cause:l}),Sl(Un(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Un(l,a),f=Xd(i.stateNode,l,f),wd(i,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,a),Fl===null?Fl=[d]:Fl.push(d),me!==4&&(me=2),s===null)return!0;l=Un(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Xd(a.stateNode,l,i),wd(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ys===null||!Ys.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Tv(f),bv(f,i,a,l),wd(a,f),!1}a=a.return}while(a!==null);return!1}var $d=Error(r(461)),Ie=!1;function Xe(i,s,a,l){s.child=i===null?w0(s,null,a,l):ia(s,i.child,a,l)}function Ev(i,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Zr(s),l=Nd(i,s,a,_,d,f),S=Vd(),i!==null&&!Ie?(Md(i,s,f),rs(i,s,f)):(zt&&S&&fd(s),s.flags|=1,Xe(i,s,l,f),s.child)}function Sv(i,s,a,l,f){if(i===null){var d=a.type;return typeof d=="function"&&!ud(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,Av(i,s,d,l,f)):(i=Rc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!sm(i,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Tl,a(_,l)&&i.ref===s.ref)return rs(i,s,f)}return s.flags|=1,i=Zi(d,l),i.ref=s.ref,i.return=s,s.child=i}function Av(i,s,a,l,f){if(i!==null){var d=i.memoizedProps;if(Tl(d,l)&&i.ref===s.ref)if(Ie=!1,s.pendingProps=l=d,sm(i,f))(i.flags&131072)!==0&&(Ie=!0);else return s.lanes=i.lanes,rs(i,s,f)}return Wd(i,s,a,l,f)}function wv(i,s,a,l){var f=l.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return xv(i,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nc(s,d!==null?d.cachePool:null),d!==null?C0(s,d):Rd(),I0(s);else return l=s.lanes=536870912,xv(i,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Nc(s,d.cachePool),C0(s,d),Hs(),s.memoizedState=null):(i!==null&&Nc(s,null),Rd(),Hs());return Xe(i,s,f,a),s.child}function Pl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function xv(i,s,a,l,f){var d=bd();return d=d===null?null:{parent:Re._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&Nc(s,null),Rd(),I0(s),i!==null&&Ya(i,s,l,!0),s.childLanes=f,null}function Yc(i,s){return s=Xc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Rv(i,s,a){return ia(s,i.child,null,a),i=Yc(s,s.pendingProps),i.flags|=2,Cn(s),s.memoizedState=null,i}function Yx(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(zt){if(l.mode==="hidden")return i=Yc(s,l),s.lanes=536870912,Pl(null,i);if(Id(s),(i=ie)?(i=U_(i,Fn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ps!==null?{id:Pi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=c0(i),a.return=s,s.child=a,Ye=s,ie=null)):i=null,i===null)throw Ls(s);return s.lanes=536870912,null}return Yc(s,l)}var d=i.memoizedState;if(d!==null){var _=d.dehydrated;if(Id(s),f)if(s.flags&256)s.flags&=-257,s=Rv(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ie||Ya(i,s,a,!1),f=(a&i.childLanes)!==0,Ie||f){if(l=ne,l!==null&&(_=nl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Xr(i,_),Tn(l,i,_),$d;sh(),s=Rv(i,s,a)}else i=d.treeContext,ie=qn(_.nextSibling),Ye=s,zt=!0,Os=null,Fn=!1,i!==null&&d0(s,i),s=Yc(s,l),s.flags|=4096;return s}return i=Zi(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Qc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Wd(i,s,a,l,f){return Zr(s),a=Nd(i,s,a,l,void 0,f),l=Vd(),i!==null&&!Ie?(Md(i,s,f),rs(i,s,f)):(zt&&l&&fd(s),s.flags|=1,Xe(i,s,a,f),s.child)}function Cv(i,s,a,l,f,d){return Zr(s),s.updateQueue=null,a=N0(s,l,a,f),D0(i),l=Vd(),i!==null&&!Ie?(Md(i,s,d),rs(i,s,d)):(zt&&l&&fd(s),s.flags|=1,Xe(i,s,a,d),s.child)}function Iv(i,s,a,l,f){if(Zr(s),s.stateNode===null){var d=Ha,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qe(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Sd(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qe(_):Ha,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Yd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qd.enqueueReplaceState(d,d.state,null),Dl(s,l,d,f),Il(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){d=s.stateNode;var S=s.memoizedProps,N=ra(a,S);d.props=N;var G=d.context,Z=a.contextType;_=Ha,typeof Z=="object"&&Z!==null&&(_=Qe(Z));var it=a.getDerivedStateFromProps;Z=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==_)&&pv(s,d,l,_),Us=!1;var Y=s.memoizedState;d.state=Y,Dl(s,l,d,f),Il(),G=s.memoizedState,S||Y!==G||Us?(typeof it=="function"&&(Yd(s,a,it,l),G=s.memoizedState),(N=Us||mv(s,a,N,l,Y,G,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=G),d.props=l,d.state=G,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Ad(i,s),_=s.memoizedProps,Z=ra(a,_),d.props=Z,it=s.pendingProps,Y=d.context,G=a.contextType,N=Ha,typeof G=="object"&&G!==null&&(N=Qe(G)),S=a.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==it||Y!==N)&&pv(s,d,l,N),Us=!1,Y=s.memoizedState,d.state=Y,Dl(s,l,d,f),Il();var X=s.memoizedState;_!==it||Y!==X||Us||i!==null&&i.dependencies!==null&&Ic(i.dependencies)?(typeof S=="function"&&(Yd(s,a,S,l),X=s.memoizedState),(Z=Us||mv(s,a,Z,l,Y,X,N)||i!==null&&i.dependencies!==null&&Ic(i.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,N)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=X),d.props=l,d.state=X,d.context=N,l=Z):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),l=!1)}return d=l,Qc(i,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&l?(s.child=ia(s,i.child,null,f),s.child=ia(s,null,a,f)):Xe(i,s,a,f),s.memoizedState=d.state,i=s.child):i=rs(i,s,f),i}function Dv(i,s,a,l){return Wr(),s.flags|=256,Xe(i,s,a,l),s.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(i){return{baseLanes:i,cachePool:_0()}}function tm(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=Dn),i}function Nv(i,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=i!==null&&i.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(zt){if(f?Fs(s):Hs(),(i=ie)?(i=U_(i,Fn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ps!==null?{id:Pi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=c0(i),a.return=s,s.child=a,Ye=s,ie=null)):i=null,i===null)throw Ls(s);return Om(i)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Hs(),f=s.mode,S=Xc({mode:"hidden",children:S},f),l=$r(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=Zd(a),l.childLanes=tm(i,_,a),s.memoizedState=Jd,Pl(null,l)):(Fs(s),em(s,S))}var N=i.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)s.flags&256?(Fs(s),s.flags&=-257,s=nm(i,s,a)):s.memoizedState!==null?(Hs(),s.child=i.child,s.flags|=128,s=null):(Hs(),S=l.fallback,f=s.mode,l=Xc({mode:"visible",children:l.children},f),S=$r(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,ia(s,i.child,null,a),l=s.child,l.memoizedState=Zd(a),l.childLanes=tm(i,_,a),s.memoizedState=Jd,s=Pl(null,l));else if(Fs(s),Om(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(r(419)),l.stack="",l.digest=_,Sl({value:l,source:null,stack:null}),s=nm(i,s,a)}else if(Ie||Ya(i,s,a,!1),_=(a&i.childLanes)!==0,Ie||_){if(_=ne,_!==null&&(l=nl(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Xr(i,l),Tn(_,i,l),$d;Pm(S)||sh(),s=nm(i,s,a)}else Pm(S)?(s.flags|=192,s.child=i.child,s=null):(i=N.treeContext,ie=qn(S.nextSibling),Ye=s,zt=!0,Os=null,Fn=!1,i!==null&&d0(s,i),s=em(s,l.children),s.flags|=4096);return s}return f?(Hs(),S=l.fallback,f=s.mode,N=i.child,G=N.sibling,l=Zi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?S=Zi(G,S):(S=$r(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,Pl(null,l),l=s.child,S=i.child.memoizedState,S===null?S=Zd(a):(f=S.cachePool,f!==null?(N=Re._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=_0(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=tm(i,_,a),s.memoizedState=Jd,Pl(i.child,l)):(Fs(s),a=i.child,i=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=a,s.memoizedState=null,a)}function em(i,s){return s=Xc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Xc(i,s){return i=xn(22,i,null,s),i.lanes=0,i}function nm(i,s,a){return ia(s,i.child,null,a),i=em(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Vv(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),yd(i.return,s,a)}function im(i,s,a,l,f,d){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Mv(i,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ve.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,ht(ve,_),Xe(i,s,l,a),l=zt?El:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vv(i,a,s);else if(i.tag===19)Vv(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&Lc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),im(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Lc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}im(s,!0,a,null,d,l);break;case"together":im(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function rs(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Ks|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ya(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Zi(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Zi(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function sm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ic(i)))}function Qx(i,s,a){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),js(s,Re,i.memoizedState.cache),Wr();break;case 27:case 5:Nr(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:js(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Id(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Fs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Nv(i,s,a):(Fs(s),i=rs(i,s,a),i!==null?i.sibling:null);Fs(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ya(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Mv(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ht(ve,ve.current),l)break;return null;case 22:return s.lanes=0,wv(i,s,a,s.pendingProps);case 24:js(s,Re,i.memoizedState.cache)}return rs(i,s,a)}function kv(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ie=!0;else{if(!sm(i,a)&&(s.flags&128)===0)return Ie=!1,Qx(i,s,a);Ie=(i.flags&131072)!==0}else Ie=!1,zt&&(s.flags&1048576)!==0&&f0(s,El,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=ea(s.elementType),s.type=i,typeof i=="function")ud(i)?(l=ra(i,l),s.tag=1,s=Iv(null,s,i,l,a)):(s.tag=0,s=Wd(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===$){s.tag=11,s=Ev(null,s,i,l,a);break t}else if(f===C){s.tag=14,s=Sv(null,s,i,l,a);break t}}throw s=ct(i)||i,Error(r(306,s,""))}}return s;case 0:return Wd(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ra(l,s.pendingProps),Iv(i,s,l,f,a);case 3:t:{if(ke(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Ad(i,s),Dl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,js(s,Re,l),l!==d.cache&&vd(s,[Re],a,!0),Il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Dv(i,s,l,a);break t}else if(l!==f){f=Un(Error(r(424)),s),Sl(f),s=Dv(i,s,l,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ie=qn(i.firstChild),Ye=s,zt=!0,Os=null,Fn=!0,a=w0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wr(),l===f){s=rs(i,s,a);break t}Xe(i,s,l,a)}s=s.child}return s;case 26:return Qc(i,s),i===null?(a=G_(s.type,null,s.pendingProps,null))?s.memoizedState=a:zt||(a=s.type,i=s.pendingProps,l=hh(Nt.current).createElement(a),l[Ae]=s,l[Be]=i,$e(l,a,i),we(l),s.stateNode=l):s.memoizedState=G_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Nr(s),i===null&&zt&&(l=s.stateNode=F_(s.type,s.pendingProps,Nt.current),Ye=s,Fn=!0,f=ie,Ws(s.type)?(Lm=f,ie=qn(l.firstChild)):ie=f),Xe(i,s,s.pendingProps.children,a),Qc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&zt&&((f=l=ie)&&(l=AR(l,s.type,s.pendingProps,Fn),l!==null?(s.stateNode=l,Ye=s,ie=qn(l.firstChild),Fn=!1,f=!0):f=!1),f||Ls(s)),Nr(s),f=s.type,d=s.pendingProps,_=i!==null?i.memoizedProps:null,l=d.children,Vm(f,d)?l=null:_!==null&&Vm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Nd(i,s,Ux,null,null,a),$l._currentValue=f),Qc(i,s),Xe(i,s,l,a),s.child;case 6:return i===null&&zt&&((i=a=ie)&&(a=wR(a,s.pendingProps,Fn),a!==null?(s.stateNode=a,Ye=s,ie=null,i=!0):i=!1),i||Ls(s)),null;case 13:return Nv(i,s,a);case 4:return ke(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=ia(s,null,l,a):Xe(i,s,l,a),s.child;case 11:return Ev(i,s,s.type,s.pendingProps,a);case 7:return Xe(i,s,s.pendingProps,a),s.child;case 8:return Xe(i,s,s.pendingProps.children,a),s.child;case 12:return Xe(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,js(s,s.type,l.value),Xe(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Zr(s),f=Qe(f),l=l(f),s.flags|=1,Xe(i,s,l,a),s.child;case 14:return Sv(i,s,s.type,s.pendingProps,a);case 15:return Av(i,s,s.type,s.pendingProps,a);case 19:return Mv(i,s,a);case 31:return Yx(i,s,a);case 22:return wv(i,s,a,s.pendingProps);case 24:return Zr(s),l=Qe(Re),i===null?(f=bd(),f===null&&(f=ne,d=_d(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Sd(s),js(s,Re,f)):((i.lanes&a)!==0&&(Ad(i,s),Dl(s,null,null,a),Il()),f=i.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),js(s,Re,l)):(l=d.cache,js(s,Re,l),l!==f.cache&&vd(s,[Re],a,!0))),Xe(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function as(i){i.flags|=4}function rm(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(o_())i.flags|=8192;else throw na=Mc,Ed}else i.flags&=-16777217}function Pv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!$_(s))if(o_())i.flags|=8192;else throw na=Mc,Ed}function $c(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?nc():536870912,i.lanes|=s,ro|=s)}function Ol(i,s){if(!zt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function se(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function Xx(i,s,a){var l=s.pendingProps;switch(dd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(s),null;case 1:return se(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ns(Re),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ka(s)?as(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,pd())),se(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(as(s),d!==null?(se(s),Pv(s,d)):(se(s),rm(s,f,null,l,a))):d?d!==i.memoizedState?(as(s),se(s),Pv(s,d)):(se(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&as(s),se(s),rm(s,f,i,l,a)),null;case 27:if(Aa(s),a=Nt.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}i=dt.current,Ka(s)?m0(s):(i=F_(f,l,a),s.stateNode=i,as(s))}return se(s),null;case 5:if(Aa(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}if(d=dt.current,Ka(s))m0(s);else{var _=hh(Nt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ae]=s,d[Be]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch($e(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&as(s)}}return se(s),rm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&as(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=Nt.current,Ka(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Ye,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Ae]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N_(i.nodeValue,a)),i||Ls(s,!0)}else i=hh(i).createTextNode(l),i[Ae]=s,s.stateNode=i}return se(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=Ka(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ae]=s}else Wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),i=!1}else a=pd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Cn(s),s):(Cn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return se(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ka(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ae]=s}else Wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),f=!1}else f=pd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Cn(s),s):(Cn(s),null)}return Cn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),$c(s,s.updateQueue),se(s),null);case 4:return le(),i===null&&Rm(s.stateNode.containerInfo),se(s),null;case 10:return ns(s.type),se(s),null;case 19:if(nt(ve),l=s.memoizedState,l===null)return se(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Ol(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=Lc(i),d!==null){for(s.flags|=128,Ol(l,!1),i=d.updateQueue,s.updateQueue=i,$c(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)u0(a,i),a=a.sibling;return ht(ve,ve.current&1|2),zt&&ts(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&ln()>eh&&(s.flags|=128,f=!0,Ol(l,!1),s.lanes=4194304)}else{if(!f)if(i=Lc(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,$c(s,i),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return se(s),null}else 2*ln()-l.renderingStartTime>eh&&a!==536870912&&(s.flags|=128,f=!0,Ol(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(i=l.last,i!==null?i.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=ln(),i.sibling=null,a=ve.current,ht(ve,f?a&1|2:a&1),zt&&ts(s,l.treeForkCount),i):(se(s),null);case 22:case 23:return Cn(s),Cd(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(se(s),s.subtreeFlags&6&&(s.flags|=8192)):se(s),a=s.updateQueue,a!==null&&$c(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&nt(ta),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ns(Re),se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function $x(i,s){switch(dd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ns(Re),le(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Aa(s),null;case 31:if(s.memoizedState!==null){if(Cn(s),s.alternate===null)throw Error(r(340));Wr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Cn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Wr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return nt(ve),null;case 4:return le(),null;case 10:return ns(s.type),null;case 22:case 23:return Cn(s),Cd(),i!==null&&nt(ta),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ns(Re),null;case 25:return null;default:return null}}function Ov(i,s){switch(dd(s),s.tag){case 3:ns(Re),le();break;case 26:case 27:case 5:Aa(s);break;case 4:le();break;case 31:s.memoizedState!==null&&Cn(s);break;case 13:Cn(s);break;case 19:nt(ve);break;case 10:ns(s.type);break;case 22:case 23:Cn(s),Cd(),i!==null&&nt(ta);break;case 24:ns(Re)}}function Ll(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Wt(s,s.return,S)}}function qs(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&i)===i){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var N=a,G=S;try{G()}catch(Z){Wt(f,N,Z)}}}l=l.next}while(l!==d)}}catch(Z){Wt(s,s.return,Z)}}function Lv(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{R0(s,a)}catch(l){Wt(i,i.return,l)}}}function jv(i,s,a){a.props=ra(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(i,s,l)}}function jl(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Wt(i,s,f)}}function Li(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Wt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Wt(i,s,f)}else a.current=null}function Uv(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Wt(i,i.return,f)}}function am(i,s,a){try{var l=i.stateNode;vR(l,i.type,a,s),l[Be]=s}catch(f){Wt(i,i.return,f)}}function Bv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ws(i.type)||i.tag===4}function om(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Bv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ws(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lm(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ti));else if(l!==4&&(l===27&&Ws(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(lm(i,s,a),i=i.sibling;i!==null;)lm(i,s,a),i=i.sibling}function Wc(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Ws(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Wc(i,s,a),i=i.sibling;i!==null;)Wc(i,s,a),i=i.sibling}function zv(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);$e(s,l,a),s[Ae]=i,s[Be]=a}catch(d){Wt(i,i.return,d)}}var os=!1,De=!1,um=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Wx(i,s){if(i=i.containerInfo,Dm=vh,i=t0(i),nd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,N=-1,G=0,Z=0,it=i,Y=null;e:for(;;){for(var X;it!==a||f!==0&&it.nodeType!==3||(S=_+f),it!==d||l!==0&&it.nodeType!==3||(N=_+l),it.nodeType===3&&(_+=it.nodeValue.length),(X=it.firstChild)!==null;)Y=it,it=X;for(;;){if(it===i)break e;if(Y===a&&++G===f&&(S=_),Y===d&&++Z===l&&(N=_),(X=it.nextSibling)!==null)break;it=Y,Y=it.parentNode}it=X}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nm={focusedElem:i,selectionRange:a},vh=!1,Fe=s;Fe!==null;)if(s=Fe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Fe=i;else for(;Fe!==null;){switch(s=Fe,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=ra(a.type,f);i=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(bt){Wt(a,a.return,bt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)km(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":km(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Fe=i;break}Fe=s.return}}function Hv(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:us(i,a),l&4&&Ll(5,a);break;case 1:if(us(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(_){Wt(a,a.return,_)}else{var f=ra(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(a,a.return,_)}}l&64&&Lv(a),l&512&&jl(a,a.return);break;case 3:if(us(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{R0(i,s)}catch(_){Wt(a,a.return,_)}}break;case 27:s===null&&l&4&&zv(a);case 26:case 5:us(i,a),s===null&&l&4&&Uv(a),l&512&&jl(a,a.return);break;case 12:us(i,a);break;case 31:us(i,a),l&4&&Kv(i,a);break;case 13:us(i,a),l&4&&Yv(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=aR.bind(null,a),xR(i,a))));break;case 22:if(l=a.memoizedState!==null||os,!l){s=s!==null&&s.memoizedState!==null||De,f=os;var d=De;os=l,(De=s)&&!d?cs(i,a,(a.subtreeFlags&8772)!==0):us(i,a),os=f,De=d}break;case 30:break;default:us(i,a)}}function qv(i){var s=i.alternate;s!==null&&(i.alternate=null,qv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ia(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ce=null,gn=!1;function ls(i,s,a){for(a=a.child;a!==null;)Gv(i,s,a),a=a.sibling}function Gv(i,s,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:De||Li(a,s),ls(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Li(a,s);var l=ce,f=gn;Ws(a.type)&&(ce=a.stateNode,gn=!1),ls(i,s,a),Yl(a.stateNode),ce=l,gn=f;break;case 5:De||Li(a,s);case 6:if(l=ce,f=gn,ce=null,ls(i,s,a),ce=l,gn=f,ce!==null)if(gn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){Wt(a,s,d)}else try{ce.removeChild(a.stateNode)}catch(d){Wt(a,s,d)}break;case 18:ce!==null&&(gn?(i=ce,L_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),mo(i)):L_(ce,a.stateNode));break;case 4:l=ce,f=gn,ce=a.stateNode.containerInfo,gn=!0,ls(i,s,a),ce=l,gn=f;break;case 0:case 11:case 14:case 15:qs(2,a,s),De||qs(4,a,s),ls(i,s,a);break;case 1:De||(Li(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jv(a,s,l)),ls(i,s,a);break;case 21:ls(i,s,a);break;case 22:De=(l=De)||a.memoizedState!==null,ls(i,s,a),De=l;break;default:ls(i,s,a)}}function Kv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{mo(i)}catch(a){Wt(s,s.return,a)}}}function Yv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mo(i)}catch(a){Wt(s,s.return,a)}}function Jx(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Fv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Fv),s;default:throw Error(r(435,i.tag))}}function Jc(i,s){var a=Jx(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=oR.bind(null,i,l);l.then(f,f)}})}function yn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=i,_=s,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Ws(S.type)){ce=S.stateNode,gn=!1;break t}break;case 5:ce=S.stateNode,gn=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,gn=!0;break t}S=S.return}if(ce===null)throw Error(r(160));Gv(d,_,f),ce=null,gn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Qv(s,i),s=s.sibling}var ai=null;function Qv(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:yn(s,i),vn(i),l&4&&(qs(3,i,i.return),Ll(3,i),qs(5,i,i.return));break;case 1:yn(s,i),vn(i),l&512&&(De||a===null||Li(a,a.return)),l&64&&os&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(yn(s,i),vn(i),l&512&&(De||a===null||Li(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Si]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$e(d,l,a),d[Ae]=i,we(d),l=d;break t;case"link":var _=Q_("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),$e(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Q_("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),$e(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ae]=i,we(d),l=d}i.stateNode=l}else X_(f,i.type,i.stateNode);else i.stateNode=Y_(f,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?X_(f,i.type,i.stateNode):Y_(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&am(i,i.memoizedProps,a.memoizedProps)}break;case 27:yn(s,i),vn(i),l&512&&(De||a===null||Li(a,a.return)),a!==null&&l&4&&am(i,i.memoizedProps,a.memoizedProps);break;case 5:if(yn(s,i),vn(i),l&512&&(De||a===null||Li(a,a.return)),i.flags&32){f=i.stateNode;try{pn(f,"")}catch(pt){Wt(i,i.return,pt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,am(i,f,a!==null?a.memoizedProps:f)),l&1024&&(um=!0);break;case 6:if(yn(s,i),vn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(pt){Wt(i,i.return,pt)}}break;case 3:if(mh=null,f=ai,ai=fh(s.containerInfo),yn(s,i),ai=f,vn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mo(s.containerInfo)}catch(pt){Wt(i,i.return,pt)}um&&(um=!1,Xv(i));break;case 4:l=ai,ai=fh(i.stateNode.containerInfo),yn(s,i),vn(i),ai=l;break;case 12:yn(s,i),vn(i);break;case 31:yn(s,i),vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Jc(i,l)));break;case 13:yn(s,i),vn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(th=ln()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Jc(i,l)));break;case 22:f=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=os,Z=De;if(os=G||f,De=Z||N,yn(s,i),De=Z,os=G,vn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||N||os||De||aa(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){N=a=s;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var it=N.memoizedProps.style,Y=it!=null&&it.hasOwnProperty("display")?it.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pt){Wt(N,N.return,pt)}}}else if(s.tag===6){if(a===null){N=s;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(pt){Wt(N,N.return,pt)}}}else if(s.tag===18){if(a===null){N=s;try{var X=N.stateNode;f?j_(X,!0):j_(N.stateNode,!1)}catch(pt){Wt(N,N.return,pt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jc(i,a))));break;case 19:yn(s,i),vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Jc(i,l)));break;case 30:break;case 21:break;default:yn(s,i),vn(i)}}function vn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(Bv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=om(i);Wc(i,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(pn(_,""),a.flags&=-33);var S=om(i);Wc(i,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,G=om(i);lm(i,G,N);break;default:throw Error(r(161))}}catch(Z){Wt(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Xv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Xv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function us(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Hv(i,s.alternate,s),s=s.sibling}function aa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:qs(4,s,s.return),aa(s);break;case 1:Li(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&jv(s,s.return,a),aa(s);break;case 27:Yl(s.stateNode);case 26:case 5:Li(s,s.return),aa(s);break;case 22:s.memoizedState===null&&aa(s);break;case 30:aa(s);break;default:aa(s)}i=i.sibling}}function cs(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:cs(f,d,a),Ll(4,d);break;case 1:if(cs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Wt(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)x0(N[f],S)}catch(G){Wt(l,l.return,G)}}a&&_&64&&Lv(d),jl(d,d.return);break;case 27:zv(d);case 26:case 5:cs(f,d,a),a&&l===null&&_&4&&Uv(d),jl(d,d.return);break;case 12:cs(f,d,a);break;case 31:cs(f,d,a),a&&_&4&&Kv(f,d);break;case 13:cs(f,d,a),a&&_&4&&Yv(f,d);break;case 22:d.memoizedState===null&&cs(f,d,a),jl(d,d.return);break;case 30:break;default:cs(f,d,a)}s=s.sibling}}function cm(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Al(a))}function hm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Al(i))}function oi(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$v(i,s,a,l),s=s.sibling}function $v(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:oi(i,s,a,l),f&2048&&Ll(9,s);break;case 1:oi(i,s,a,l);break;case 3:oi(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Al(i)));break;case 12:if(f&2048){oi(i,s,a,l),i=s.stateNode;try{var d=s.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Wt(s,s.return,N)}}else oi(i,s,a,l);break;case 31:oi(i,s,a,l);break;case 13:oi(i,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?oi(i,s,a,l):Ul(i,s):d._visibility&2?oi(i,s,a,l):(d._visibility|=2,no(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&cm(_,s);break;case 24:oi(i,s,a,l),f&2048&&hm(s.alternate,s);break;default:oi(i,s,a,l)}}function no(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,_=s,S=a,N=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:no(d,_,S,N,f),Ll(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?no(d,_,S,N,f):Ul(d,_):(Z._visibility|=2,no(d,_,S,N,f)),f&&G&2048&&cm(_.alternate,_);break;case 24:no(d,_,S,N,f),f&&G&2048&&hm(_.alternate,_);break;default:no(d,_,S,N,f)}s=s.sibling}}function Ul(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:Ul(a,l),f&2048&&cm(l.alternate,l);break;case 24:Ul(a,l),f&2048&&hm(l.alternate,l);break;default:Ul(a,l)}s=s.sibling}}var Bl=8192;function io(i,s,a){if(i.subtreeFlags&Bl)for(i=i.child;i!==null;)Wv(i,s,a),i=i.sibling}function Wv(i,s,a){switch(i.tag){case 26:io(i,s,a),i.flags&Bl&&i.memoizedState!==null&&jR(a,ai,i.memoizedState,i.memoizedProps);break;case 5:io(i,s,a);break;case 3:case 4:var l=ai;ai=fh(i.stateNode.containerInfo),io(i,s,a),ai=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Bl,Bl=16777216,io(i,s,a),Bl=l):io(i,s,a));break;default:io(i,s,a)}}function Jv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Fe=l,t_(l,i)}Jv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zv(i),i=i.sibling}function Zv(i){switch(i.tag){case 0:case 11:case 15:zl(i),i.flags&2048&&qs(9,i,i.return);break;case 3:zl(i);break;case 12:zl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Zc(i)):zl(i);break;default:zl(i)}}function Zc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Fe=l,t_(l,i)}Jv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:qs(8,s,s.return),Zc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(s));break;default:Zc(s)}i=i.sibling}}function t_(i,s){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:qs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fe=l;else t:for(a=i;Fe!==null;){l=Fe;var f=l.sibling,d=l.return;if(qv(l),l===a){Fe=null;break t}if(f!==null){f.return=d,Fe=f;break t}Fe=d}}}var Zx={getCacheForType:function(i){var s=Qe(Re),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Qe(Re).controller.signal}},tR=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,kt=null,Ot=0,$t=0,In=null,Gs=!1,so=!1,fm=!1,hs=0,me=0,Ks=0,oa=0,dm=0,Dn=0,ro=0,Fl=null,_n=null,mm=!1,th=0,e_=0,eh=1/0,nh=null,Ys=null,Oe=0,Qs=null,ao=null,fs=0,pm=0,gm=null,n_=null,Hl=0,ym=null;function Nn(){return(Yt&2)!==0&&Ot!==0?Ot&-Ot:K.T!==null?Sm():ic()}function i_(){if(Dn===0)if((Ot&536870912)===0||zt){var i=kr;kr<<=1,(kr&3932160)===0&&(kr=262144),Dn=i}else Dn=536870912;return i=Rn.current,i!==null&&(i.flags|=32),Dn}function Tn(i,s,a){(i===ne&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(oo(i,0),Xs(i,Ot,Dn,!1)),Pr(i,a),((Yt&2)===0||i!==ne)&&(i===ne&&((Yt&2)===0&&(oa|=a),me===4&&Xs(i,Ot,Dn,!1)),ji(i))}function s_(i,s,a){if((Yt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Wn(i,s),f=l?iR(i,s):_m(i,s,!0),d=l;do{if(f===0){so&&!l&&Xs(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!eR(a)){f=_m(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var S=i;f=Fl;var N=S.current.memoizedState.isDehydrated;if(N&&(oo(S,_).flags|=256),_=_m(S,_,!1),_!==2){if(fm&&!N){S.errorRecoveryDisabledLanes|=d,oa|=d,f=4;break t}d=_n,_n=f,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){oo(i,0),Xs(i,s,0,!0);break}t:{switch(l=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Xs(l,s,Dn,!Gs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=th+300-ln(),10<f)){if(Xs(l,s,Dn,!Gs),Ti(l,0,!0)!==0)break t;fs=s,l.timeoutHandle=P_(r_.bind(null,l,a,_n,nh,mm,s,Dn,oa,ro,Gs,d,"Throttled",-0,0),f);break t}r_(l,a,_n,nh,mm,s,Dn,oa,ro,Gs,d,null,-0,0)}}break}while(!0);ji(i)}function r_(i,s,a,l,f,d,_,S,N,G,Z,it,Y,X){if(i.timeoutHandle=-1,it=s.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Wv(s,d,it);var pt=(d&62914560)===d?th-ln():(d&4194048)===d?e_-ln():0;if(pt=UR(it,pt),pt!==null){fs=d,i.cancelPendingCommit=pt(d_.bind(null,i,s,d,a,l,f,_,S,N,Z,it,null,Y,X)),Xs(i,d,_,!G);return}}d_(i,s,d,a,l,f,_,S,N)}function eR(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xs(i,s,a,l){s&=~dm,s&=~oa,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var d=31-ge(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Or(i,a,s)}function ih(){return(Yt&6)===0?(ql(0),!1):!0}function vm(){if(kt!==null){if($t===0)var i=kt.return;else i=kt,es=Jr=null,kd(i),Wa=null,xl=0,i=kt;for(;i!==null;)Ov(i.alternate,i),i=i.return;kt=null}}function oo(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,bR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),fs=0,vm(),ne=i,kt=a=Zi(i.current,null),Ot=s,$t=0,In=null,Gs=!1,so=Wn(i,s),fm=!1,ro=Dn=dm=oa=Ks=me=0,_n=Fl=null,mm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-ge(l),d=1<<f;s|=i[f],l&=~d}return hs=s,Ac(),a}function a_(i,s){Dt=null,K.H=kl,s===$a||s===Vc?(s=E0(),$t=3):s===Ed?(s=E0(),$t=4):$t=s===$d?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,kt===null&&(me=1,Kc(i,Un(s,i.current)))}function o_(){var i=Rn.current;return i===null?!0:(Ot&4194048)===Ot?Hn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Hn:!1}function l_(){var i=K.H;return K.H=kl,i===null?kl:i}function u_(){var i=K.A;return K.A=Zx,i}function sh(){me=4,Gs||(Ot&4194048)!==Ot&&Rn.current!==null||(so=!0),(Ks&134217727)===0&&(oa&134217727)===0||ne===null||Xs(ne,Ot,Dn,!1)}function _m(i,s,a){var l=Yt;Yt|=2;var f=l_(),d=u_();(ne!==i||Ot!==s)&&(nh=null,oo(i,s)),s=!1;var _=me;t:do try{if($t!==0&&kt!==null){var S=kt,N=In;switch($t){case 8:vm(),_=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var G=$t;if($t=0,In=null,lo(i,S,N,G),a&&so){_=0;break t}break;default:G=$t,$t=0,In=null,lo(i,S,N,G)}}nR(),_=me;break}catch(Z){a_(i,Z)}while(!0);return s&&i.shellSuspendCounter++,es=Jr=null,Yt=l,K.H=f,K.A=d,kt===null&&(ne=null,Ot=0,Ac()),_}function nR(){for(;kt!==null;)c_(kt)}function iR(i,s){var a=Yt;Yt|=2;var l=l_(),f=u_();ne!==i||Ot!==s?(nh=null,eh=ln()+500,oo(i,s)):so=Wn(i,s);t:do try{if($t!==0&&kt!==null){s=kt;var d=In;e:switch($t){case 1:$t=0,In=null,lo(i,s,d,1);break;case 2:case 9:if(T0(d)){$t=0,In=null,h_(s);break}s=function(){$t!==2&&$t!==9||ne!==i||($t=7),ji(i)},d.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:T0(d)?($t=0,In=null,h_(s)):($t=0,In=null,lo(i,s,d,7));break;case 5:var _=null;switch(kt.tag){case 26:_=kt.memoizedState;case 5:case 27:var S=kt;if(_?$_(_):S.stateNode.complete){$t=0,In=null;var N=S.sibling;if(N!==null)kt=N;else{var G=S.return;G!==null?(kt=G,rh(G)):kt=null}break e}}$t=0,In=null,lo(i,s,d,5);break;case 6:$t=0,In=null,lo(i,s,d,6);break;case 8:vm(),me=6;break t;default:throw Error(r(462))}}sR();break}catch(Z){a_(i,Z)}while(!0);return es=Jr=null,K.H=l,K.A=f,Yt=a,kt!==null?0:(ne=null,Ot=0,Ac(),me)}function sR(){for(;kt!==null&&!Xf();)c_(kt)}function c_(i){var s=kv(i.alternate,i,hs);i.memoizedProps=i.pendingProps,s===null?rh(i):kt=s}function h_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Cv(a,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=Cv(a,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:kd(s);default:Ov(a,s),s=kt=u0(s,hs),s=kv(a,s,hs)}i.memoizedProps=i.pendingProps,s===null?rh(i):kt=s}function lo(i,s,a,l){es=Jr=null,kd(s),Wa=null,xl=0;var f=s.return;try{if(Kx(i,f,s,a,Ot)){me=1,Kc(i,Un(a,i.current)),kt=null;return}}catch(d){if(f!==null)throw kt=f,d;me=1,Kc(i,Un(a,i.current)),kt=null;return}s.flags&32768?(zt||l===1?i=!0:so||(Ot&536870912)!==0?i=!1:(Gs=i=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),f_(s,i)):rh(s)}function rh(i){var s=i;do{if((s.flags&32768)!==0){f_(s,Gs);return}i=s.return;var a=Xx(s.alternate,s,hs);if(a!==null){kt=a;return}if(s=s.sibling,s!==null){kt=s;return}kt=s=i}while(s!==null);me===0&&(me=5)}function f_(i,s){do{var a=$x(i.alternate,i);if(a!==null){a.flags&=32767,kt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){kt=i;return}kt=i=a}while(i!==null);me=6,kt=null}function d_(i,s,a,l,f,d,_,S,N){i.cancelPendingCommit=null;do ah();while(Oe!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=od,Jf(i,a,d,_,S,N),i===ne&&(kt=ne=null,Ot=0),ao=s,Qs=i,fs=a,pm=d,gm=f,n_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,lR(ws,function(){return v_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=et.p,et.p=2,_=Yt,Yt|=4;try{Wx(i,s,a)}finally{Yt=_,et.p=f,K.T=l}}Oe=1,m_(),p_(),g_()}}function m_(){if(Oe===1){Oe=0;var i=Qs,s=ao,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=et.p;et.p=2;var f=Yt;Yt|=4;try{Qv(s,i);var d=Nm,_=t0(i.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Zy(S.ownerDocument.documentElement,S)){if(N!==null&&nd(S)){var G=N.start,Z=N.end;if(Z===void 0&&(Z=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(Z,S.value.length);else{var it=S.ownerDocument||document,Y=it&&it.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),pt=S.textContent.length,bt=Math.min(N.start,pt),ee=N.end===void 0?bt:Math.min(N.end,pt);!X.extend&&bt>ee&&(_=ee,ee=bt,bt=_);var B=Jy(S,bt),P=Jy(S,ee);if(B&&P&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var q=it.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),bt>ee?(X.addRange(q),X.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),X.addRange(q))}}}}for(it=[],X=S;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<it.length;S++){var tt=it[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}vh=!!Dm,Nm=Dm=null}finally{Yt=f,et.p=l,K.T=a}}i.current=s,Oe=2}}function p_(){if(Oe===2){Oe=0;var i=Qs,s=ao,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=et.p;et.p=2;var f=Yt;Yt|=4;try{Hv(i,s.alternate,s)}finally{Yt=f,et.p=l,K.T=a}}Oe=3}}function g_(){if(Oe===4||Oe===3){Oe=0,$u();var i=Qs,s=ao,a=fs,l=n_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Oe=5:(Oe=0,ao=Qs=null,y_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ys=null),Xi(a),s=s.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot($n,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=K.T,f=et.p,et.p=2,K.T=null;try{for(var d=i.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{K.T=s,et.p=f}}(fs&3)!==0&&ah(),ji(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===ym?Hl++:(Hl=0,ym=i):Hl=0,ql(0)}}function y_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Al(s)))}function ah(){return m_(),p_(),g_(),v_()}function v_(){if(Oe!==5)return!1;var i=Qs,s=pm;pm=0;var a=Xi(fs),l=K.T,f=et.p;try{et.p=32>a?32:a,K.T=null,a=gm,gm=null;var d=Qs,_=fs;if(Oe=0,ao=Qs=null,fs=0,(Yt&6)!==0)throw Error(r(331));var S=Yt;if(Yt|=4,Zv(d.current),$v(d,d.current,_,a),Yt=S,ql(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{et.p=f,K.T=l,y_(i,s)}}function __(i,s,a){s=Un(a,s),s=Xd(i.stateNode,s,2),i=zs(i,s,2),i!==null&&(Pr(i,2),ji(i))}function Wt(i,s,a){if(i.tag===3)__(i,i,a);else for(;s!==null;){if(s.tag===3){__(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ys===null||!Ys.has(l))){i=Un(a,i),a=Tv(2),l=zs(s,a,2),l!==null&&(bv(a,l,s,i),Pr(l,2),ji(l));break}}s=s.return}}function Tm(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new tR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(fm=!0,f.add(a),i=rR.bind(null,i,s,a),s.then(i,i))}function rR(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ne===i&&(Ot&a)===a&&(me===4||me===3&&(Ot&62914560)===Ot&&300>ln()-th?(Yt&2)===0&&oo(i,0):dm|=a,ro===Ot&&(ro=0)),ji(i)}function T_(i,s){s===0&&(s=nc()),i=Xr(i,s),i!==null&&(Pr(i,s),ji(i))}function aR(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),T_(i,a)}function oR(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),T_(i,a)}function lR(i,s){return Pe(i,s)}var oh=null,uo=null,bm=!1,lh=!1,Em=!1,$s=0;function ji(i){i!==uo&&i.next===null&&(uo===null?oh=uo=i:uo=uo.next=i),lh=!0,bm||(bm=!0,cR())}function ql(i,s){if(!Em&&lh){Em=!0;do for(var a=!1,l=oh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ge(42|i)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,A_(l,d))}else d=Ot,d=Ti(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,A_(l,d));l=l.next}while(a);Em=!1}}function uR(){b_()}function b_(){lh=bm=!1;var i=0;$s!==0&&TR()&&(i=$s);for(var s=ln(),a=null,l=oh;l!==null;){var f=l.next,d=E_(l,s);d===0?(l.next=null,a===null?oh=f:a.next=f,f===null&&(uo=a)):(a=l,(i!==0||(d&3)!==0)&&(lh=!0)),l=f}Oe!==0&&Oe!==5||ql(i),$s!==0&&($s=0)}function E_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var _=31-ge(d),S=1<<_,N=f[_];N===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Wf(S,s)):N<=s&&(i.expiredLanes|=S),d&=~S}if(s=ne,a=Ot,a=Ti(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&($t===2||$t===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&As(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Wn(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&As(l),Xi(a)){case 2:case 8:a=tl;break;case 32:a=ws;break;case 268435456:a=Wu;break;default:a=ws}return l=S_.bind(null,i),a=Pe(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&As(l),i.callbackPriority=2,i.callbackNode=null,2}function S_(i,s){if(Oe!==0&&Oe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(ah()&&i.callbackNode!==a)return null;var l=Ot;return l=Ti(i,i===ne?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(s_(i,l,s),E_(i,ln()),i.callbackNode!=null&&i.callbackNode===a?S_.bind(null,i):null)}function A_(i,s){if(ah())return null;s_(i,s,!0)}function cR(){ER(function(){(Yt&6)!==0?Pe(Zo,uR):b_()})}function Sm(){if($s===0){var i=Qa;i===0&&(i=vi,vi<<=1,(vi&261888)===0&&(vi=256)),$s=i}return $s}function w_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ma(""+i)}function x_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function hR(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=w_((f[Be]||null).action),_=l.submitter;_&&(s=(s=_[Be]||null)?w_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var S=new Ni("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var N=_?x_(f,_):new FormData(f);Hd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?x_(f,_):new FormData(f),Hd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Am=0;Am<ad.length;Am++){var wm=ad[Am],fR=wm.toLowerCase(),dR=wm[0].toUpperCase()+wm.slice(1);ri(fR,"on"+dR)}ri(i0,"onAnimationEnd"),ri(s0,"onAnimationIteration"),ri(r0,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Ix,"onTransitionRun"),ri(Dx,"onTransitionStart"),ri(Nx,"onTransitionCancel"),ri(a0,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function R_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,G=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=G;try{d(f)}catch(Z){Sc(Z)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,G=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=G;try{d(f)}catch(Z){Sc(Z)}f.currentTarget=null,d=N}}}}function Pt(i,s){var a=s[Ca];a===void 0&&(a=s[Ca]=new Set);var l=i+"__bubble";a.has(l)||(C_(s,i,2,!1),a.add(l))}function xm(i,s,a){var l=0;s&&(l|=4),C_(a,i,l,s)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Rm(i){if(!i[uh]){i[uh]=!0,il.forEach(function(a){a!=="selectionchange"&&(mR.has(a)||xm(a,!1,i),xm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[uh]||(s[uh]=!0,xm("selectionchange",!1,s))}}function C_(i,s,a,l){switch(iT(s)){case 2:var f=FR;break;case 8:f=HR;break;default:f=Fm}a=f.bind(null,s,a,i),f=void 0,!zr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Cm(i,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Ai(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Ns(function(){var G=d,Z=Pn(a),it=[];t:{var Y=o0.get(i);if(Y!==void 0){var X=Ni,pt=i;switch(i){case"keypress":if(Hr(a)===0)break t;case"keydown":case"keyup":X=Tc;break;case"focusin":pt="focus",X=Gr;break;case"focusout":pt="blur",X=Gr;break;case"beforeblur":case"afterblur":X=Gr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case i0:case s0:case r0:X=dc;break;case a0:X=w;break;case"scroll":case"scrollend":X=pl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=mc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ji;break;case"toggle":case"beforetoggle":X=It}var bt=(s&4)!==0,ee=!bt&&(i==="scroll"||i==="scrollend"),B=bt?Y!==null?Y+"Capture":null:Y;bt=[];for(var P=G,q;P!==null;){var tt=P;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||B===null||(tt=ei(P,B),tt!=null&&bt.push(Kl(P,tt,q))),ee)break;P=P.return}0<bt.length&&(Y=new X(Y,pt,null,a,Z),it.push({event:Y,listeners:bt}))}}if((s&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&a!==fl&&(pt=a.relatedTarget||a.fromElement)&&(Ai(pt)||pt[Ei]))break t;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(pt=a.relatedTarget||a.toElement,X=G,pt=pt?Ai(pt):null,pt!==null&&(ee=u(pt),bt=pt.tag,pt!==ee||bt!==5&&bt!==27&&bt!==6)&&(pt=null)):(X=null,pt=G),X!==pt)){if(bt=gl,tt="onMouseLeave",B="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(bt=Ji,tt="onPointerLeave",B="onPointerEnter",P="pointer"),ee=X==null?Y:Sn(X),q=pt==null?Y:Sn(pt),Y=new bt(tt,P+"leave",X,a,Z),Y.target=ee,Y.relatedTarget=q,tt=null,Ai(Z)===G&&(bt=new bt(B,P+"enter",pt,a,Z),bt.target=q,bt.relatedTarget=ee,tt=bt),ee=tt,X&&pt)e:{for(bt=pR,B=X,P=pt,q=0,tt=B;tt;tt=bt(tt))q++;tt=0;for(var _t=P;_t;_t=bt(_t))tt++;for(;0<q-tt;)B=bt(B),q--;for(;0<tt-q;)P=bt(P),tt--;for(;q--;){if(B===P||P!==null&&B===P.alternate){bt=B;break e}B=bt(B),P=bt(P)}bt=null}else bt=null;X!==null&&I_(it,Y,X,bt,!1),pt!==null&&ee!==null&&I_(it,ee,pt,bt,!0)}}t:{if(Y=G?Sn(G):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var qt=Ky;else if(qy(Y))if(Yy)qt=xx;else{qt=Ax;var gt=Sx}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Va(G.elementType)&&(qt=Ky):qt=wx;if(qt&&(qt=qt(i,G))){Gy(it,qt,a,Z);break t}gt&&gt(i,Y,G),i==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&ul(Y,"number",Y.value)}switch(gt=G?Sn(G):window,i){case"focusin":(qy(gt)||gt.contentEditable==="true")&&(Ba=gt,id=G,bl=null);break;case"focusout":bl=id=Ba=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,e0(it,a,Z);break;case"selectionchange":if(Cx)break;case"keydown":case"keyup":e0(it,a,Z)}var Vt;if(Kt)t:{switch(i){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ua?Kr(i,a)&&(Lt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(ki&&a.locale!=="ko"&&(Ua||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ua&&(Vt=ml()):(Di=Z,dl="value"in Di?Di.value:Di.textContent,Ua=!0)),gt=ch(G,Lt),0<gt.length&&(Lt=new Mi(Lt,i,null,a,Z),it.push({event:Lt,listeners:gt}),Vt?Lt.data=Vt:(Vt=ja(a),Vt!==null&&(Lt.data=Vt)))),(Vt=Ln?_x(i,a):Tx(i,a))&&(Lt=ch(G,"onBeforeInput"),0<Lt.length&&(gt=new Mi("onBeforeInput","beforeinput",null,a,Z),it.push({event:gt,listeners:Lt}),gt.data=Vt)),hR(it,i,G,a,Z)}R_(it,s)})}function Kl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function ch(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(i,a),f!=null&&l.unshift(Kl(i,f,d)),f=ei(i,s),f!=null&&l.push(Kl(i,f,d))),i.tag===3)return l;i=i.return}return[]}function pR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function I_(i,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,G=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||G===null||(N=G,f?(G=ei(a,d),G!=null&&_.unshift(Kl(a,G,N))):f||(G=ei(a,d),G!=null&&_.push(Kl(a,G,N)))),a=a.return}_.length!==0&&i.push({event:s,listeners:_})}var gR=/\r\n?/g,yR=/\u0000|\uFFFD/g;function D_(i){return(typeof i=="string"?i:""+i).replace(gR,`
`).replace(yR,"")}function N_(i,s){return s=D_(s),D_(i)===s}function te(i,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||pn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&pn(i,""+l);break;case"className":An(i,"class",l);break;case"tabIndex":An(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,a,l);break;case"style":hl(i,l,d);break;case"data":if(s!=="object"){An(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ma(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&te(i,s,"name",f.name,f,null),te(i,s,"formEncType",f.formEncType,f,null),te(i,s,"formMethod",f.formMethod,f,null),te(i,s,"formTarget",f.formTarget,f,null)):(te(i,s,"encType",f.encType,f,null),te(i,s,"method",f.method,f,null),te(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ma(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ti);break;case"onScroll":l!=null&&Pt("scroll",i);break;case"onScrollEnd":l!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ma(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),Da(i,"popover",l);break;case"xlinkActuate":xe(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cc.get(a)||a,Da(i,a,l))}}function Im(i,s,a,l,f,d){switch(a){case"style":hl(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?pn(i,l):(typeof l=="number"||typeof l=="bigint")&&pn(i,""+l);break;case"onScroll":l!=null&&Pt("scroll",i);break;case"onScrollEnd":l!=null&&Pt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[Be]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Da(i,a,l)}}}function $e(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(i,s,d,_,a,null)}}f&&te(i,s,"srcSet",a.srcSet,a,null),l&&te(i,s,"src",a.src,a,null);return;case"input":Pt("invalid",i);var S=d=_=f=null,N=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":N=Z;break;case"defaultChecked":G=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:te(i,s,l,Z,a,null)}}oc(i,d,S,N,G,_,f,!1);return;case"select":Pt("invalid",i),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:te(i,s,f,S,a,null)}s=d,a=_,i.multiple=!!l,s!=null?Rs(i,!!l,s,!1):a!=null&&Rs(i,!!l,a,!0);return;case"textarea":Pt("invalid",i),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:te(i,s,_,S,a,null)}Cs(i,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(i,s,N,l,a,null)}return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Pt(Gl[l],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(i,s,G,l,a,null)}return;default:if(Va(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Im(i,s,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&te(i,s,S,l,a,null))}function vR(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,N=null,G=null,Z=null;for(X in a){var it=a[X];if(a.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=it;default:l.hasOwnProperty(X)||te(i,s,X,null,l,it)}}for(var Y in l){var X=l[Y];if(it=a[Y],l.hasOwnProperty(Y)&&(X!=null||it!=null))switch(Y){case"type":d=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":Z=X;break;case"value":_=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==it&&te(i,s,Y,X,l,it)}}Na(i,_,S,N,G,Z,d,f);return;case"select":X=_=S=Y=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":X=N;default:l.hasOwnProperty(d)||te(i,s,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&te(i,s,f,d,l,N)}s=S,a=_,l=X,Y!=null?Rs(i,!!a,Y,!1):!!l!=!!a&&(s!=null?Rs(i,!!a,s,!0):Rs(i,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:te(i,s,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&te(i,s,_,f,l,d)}lc(i,Y,X);return;case"option":for(var pt in a)if(Y=a[pt],a.hasOwnProperty(pt)&&Y!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":i.selected=!1;break;default:te(i,s,pt,null,l,Y)}for(N in l)if(Y=l[N],X=a[N],l.hasOwnProperty(N)&&Y!==X&&(Y!=null||X!=null))switch(N){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:te(i,s,N,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)Y=a[bt],a.hasOwnProperty(bt)&&Y!=null&&!l.hasOwnProperty(bt)&&te(i,s,bt,null,l,Y);for(G in l)if(Y=l[G],X=a[G],l.hasOwnProperty(G)&&Y!==X&&(Y!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:te(i,s,G,Y,l,X)}return;default:if(Va(s)){for(var ee in a)Y=a[ee],a.hasOwnProperty(ee)&&Y!==void 0&&!l.hasOwnProperty(ee)&&Im(i,s,ee,void 0,l,Y);for(Z in l)Y=l[Z],X=a[Z],!l.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||Im(i,s,Z,Y,l,X);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&te(i,s,B,null,l,Y);for(it in l)Y=l[it],X=a[it],!l.hasOwnProperty(it)||Y===X||Y==null&&X==null||te(i,s,it,Y,l,X)}function V_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _R(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&V_(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],G=N.startTime;if(G>S)break;var Z=N.transferSize,it=N.initiatorType;Z&&V_(it)&&(N=N.responseEnd,_+=Z*(N<S?1:(S-G)/(N-G)))}if(--l,s+=8*(d+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Dm=null,Nm=null;function hh(i){return i.nodeType===9?i:i.ownerDocument}function M_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Vm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mm=null;function TR(){var i=window.event;return i&&i.type==="popstate"?i===Mm?!1:(Mm=i,!0):(Mm=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,bR=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,ER=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(i){return O_.resolve(null).then(i).catch(SR)}:P_;function SR(i){setTimeout(function(){throw i})}function Ws(i){return i==="head"}function L_(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),mo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Yl(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Yl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Si]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Yl(i.ownerDocument.body);a=f}while(a);mo(s)}function j_(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function km(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":km(a),Ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function AR(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Si])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=qn(i.nextSibling),i===null)break}return null}function wR(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=qn(i.nextSibling),i===null))return null;return i}function U_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=qn(i.nextSibling),i===null))return null;return i}function Pm(i){return i.data==="$?"||i.data==="$~"}function Om(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function xR(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function qn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Lm=null;function B_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return qn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function z_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function F_(i,s,a){switch(s=hh(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Yl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ia(i)}var Gn=new Map,H_=new Set;function fh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ds=et.d;et.d={f:RR,r:CR,D:IR,C:DR,L:NR,m:VR,X:kR,S:MR,M:PR};function RR(){var i=ds.f(),s=ih();return i||s}function CR(i){var s=kn(i);s!==null&&s.tag===5&&s.type==="form"?av(s):ds.r(i)}var co=typeof document>"u"?null:document;function q_(i,s,a){var l=co;if(l&&typeof s=="string"&&s){var f=mn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),H_.has(f)||(H_.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),$e(s,"link",i),we(s),l.head.appendChild(s)))}}function IR(i){ds.D(i),q_("dns-prefetch",i,null)}function DR(i,s){ds.C(i,s),q_("preconnect",i,s)}function NR(i,s,a){ds.L(i,s,a);var l=co;if(l&&i&&s){var f='link[rel="preload"][as="'+mn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+mn(a.imageSizes)+'"]')):f+='[href="'+mn(i)+'"]';var d=f;switch(s){case"style":d=ho(i);break;case"script":d=fo(i)}Gn.has(d)||(i=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Gn.set(d,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Ql(d))||s==="script"&&l.querySelector(Xl(d))||(s=l.createElement("link"),$e(s,"link",i),we(s),l.head.appendChild(s)))}}function VR(i,s){ds.m(i,s);var a=co;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(i)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fo(i)}if(!Gn.has(d)&&(i=T({rel:"modulepreload",href:i},s),Gn.set(d,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(d)))return}l=a.createElement("link"),$e(l,"link",i),we(l),a.head.appendChild(l)}}}function MR(i,s,a){ds.S(i,s,a);var l=co;if(l&&i){var f=wi(l).hoistableStyles,d=ho(i);s=s||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ql(d)))S.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Gn.get(d))&&jm(i,a);var N=_=l.createElement("link");we(N),$e(N,"link",i),N._p=new Promise(function(G,Z){N.onload=G,N.onerror=Z}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,dh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function kR(i,s){ds.X(i,s);var a=co;if(a&&i){var l=wi(a).hoistableScripts,f=fo(i),d=l.get(f);d||(d=a.querySelector(Xl(f)),d||(i=T({src:i,async:!0},s),(s=Gn.get(f))&&Um(i,s),d=a.createElement("script"),we(d),$e(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function PR(i,s){ds.M(i,s);var a=co;if(a&&i){var l=wi(a).hoistableScripts,f=fo(i),d=l.get(f);d||(d=a.querySelector(Xl(f)),d||(i=T({src:i,async:!0,type:"module"},s),(s=Gn.get(f))&&Um(i,s),d=a.createElement("script"),we(d),$e(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function G_(i,s,a,l){var f=(f=Nt.current)?fh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ho(a.href),a=wi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=ho(a.href);var d=wi(f).hoistableStyles,_=d.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,_),(d=f.querySelector(Ql(i)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(i,a),d||OR(f,i,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fo(a),a=wi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ho(i){return'href="'+mn(i)+'"'}function Ql(i){return'link[rel="stylesheet"]['+i+"]"}function K_(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function OR(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),$e(s,"link",a),we(s),i.head.appendChild(s))}function fo(i){return'[src="'+mn(i)+'"]'}function Xl(i){return"script[async]"+i}function Y_(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+mn(a.href)+'"]');if(l)return s.instance=l,we(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),we(l),$e(l,"style",f),dh(l,a.precedence,i),s.instance=l;case"stylesheet":f=ho(a.href);var d=i.querySelector(Ql(f));if(d)return s.state.loading|=4,s.instance=d,we(d),d;l=K_(a),(f=Gn.get(f))&&jm(l,f),d=(i.ownerDocument||i).createElement("link"),we(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),$e(d,"link",l),s.state.loading|=4,dh(d,a.precedence,i),s.instance=d;case"script":return d=fo(a.src),(f=i.querySelector(Xl(d)))?(s.instance=f,we(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),Um(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),we(f),$e(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,dh(l,a.precedence,i));return s.instance}function dh(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function jm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Um(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var mh=null;function Q_(i,s,a){if(mh===null){var l=new Map,f=mh=new Map;f.set(a,l)}else f=mh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[Si]||d[Ae]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=i+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function X_(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function LR(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function $_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function jR(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ho(l.href),d=s.querySelector(Ql(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=ph.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,we(d);return}d=s.ownerDocument||s,l=K_(l),(f=Gn.get(f))&&jm(l,f),d=d.createElement("link"),we(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),$e(d,"link",l),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=ph.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Bm=0;function UR(i,s){return i.stylesheets&&i.count===0&&yh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&yh(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&Bm===0&&(Bm=62500*_R());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&yh(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>Bm?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gh=null;function yh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gh=new Map,s.forEach(BR,i),gh=null,ph.call(i))}function BR(i,s){if(!(s.state.loading&4)){var a=gh.get(i);if(a)var l=a.get(null);else{a=new Map,gh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=ph.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var $l={$$typeof:z,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function zR(i,s,a,l,f,d,_,S,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function W_(i,s,a,l,f,d,_,S,N,G,Z,it){return i=new zR(i,s,a,_,N,G,Z,it,S),s=1,d===!0&&(s|=24),d=xn(3,null,null,s),i.current=d,d.stateNode=i,s=_d(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Sd(d),i}function J_(i){return i?(i=Ha,i):Ha}function Z_(i,s,a,l,f,d){f=J_(f),l.context===null?l.context=f:l.pendingContext=f,l=Bs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zs(i,l,s),a!==null&&(Tn(a,i,s),Cl(a,i,s))}function tT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function zm(i,s){tT(i,s),(i=i.alternate)&&tT(i,s)}function eT(i){if(i.tag===13||i.tag===31){var s=Xr(i,67108864);s!==null&&Tn(s,i,67108864),zm(i,67108864)}}function nT(i){if(i.tag===13||i.tag===31){var s=Nn();s=Lr(s);var a=Xr(i,s);a!==null&&Tn(a,i,s),zm(i,s)}}var vh=!0;function FR(i,s,a,l){var f=K.T;K.T=null;var d=et.p;try{et.p=2,Fm(i,s,a,l)}finally{et.p=d,K.T=f}}function HR(i,s,a,l){var f=K.T;K.T=null;var d=et.p;try{et.p=8,Fm(i,s,a,l)}finally{et.p=d,K.T=f}}function Fm(i,s,a,l){if(vh){var f=Hm(l);if(f===null)Cm(i,s,l,_h,a),sT(i,l);else if(GR(f,i,s,a,l))l.stopPropagation();else if(sT(i,l),s&4&&-1<qR.indexOf(i)){for(;f!==null;){var d=kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=_i(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-ge(_);S.entanglements[1]|=N,_&=~N}ji(d),(Yt&6)===0&&(eh=ln()+500,ql(0))}}break;case 31:case 13:S=Xr(d,2),S!==null&&Tn(S,d,2),ih(),zm(d,2)}if(d=Hm(l),d===null&&Cm(i,s,l,_h,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Cm(i,s,l,null,a)}}function Hm(i){return i=Pn(i),qm(i)}var _h=null;function qm(i){if(_h=null,i=Ai(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return _h=i,null}function iT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mr()){case Zo:return 2;case tl:return 8;case ws:case $f:return 32;case Wu:return 268435456;default:return 32}default:return 32}}var Gm=!1,Js=null,Zs=null,tr=null,Wl=new Map,Jl=new Map,er=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sT(i,s){switch(i){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Wl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(s.pointerId)}}function Zl(i,s,a,l,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=kn(s),s!==null&&eT(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function GR(i,s,a,l,f){switch(s){case"focusin":return Js=Zl(Js,i,s,a,l,f),!0;case"dragenter":return Zs=Zl(Zs,i,s,a,l,f),!0;case"mouseover":return tr=Zl(tr,i,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Wl.set(d,Zl(Wl.get(d)||null,i,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Jl.set(d,Zl(Jl.get(d)||null,i,s,a,l,f)),!0}return!1}function rT(i){var s=Ai(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Jn(i.priority,function(){nT(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,Jn(i.priority,function(){nT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Th(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Hm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);fl=l,a.target.dispatchEvent(l),fl=null}else return s=kn(a),s!==null&&eT(s),i.blockedOn=a,!1;s.shift()}return!0}function aT(i,s,a){Th(i)&&a.delete(s)}function KR(){Gm=!1,Js!==null&&Th(Js)&&(Js=null),Zs!==null&&Th(Zs)&&(Zs=null),tr!==null&&Th(tr)&&(tr=null),Wl.forEach(aT),Jl.forEach(aT)}function bh(i,s){i.blockedOn===s&&(i.blockedOn=null,Gm||(Gm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,KR)))}var Eh=null;function oT(i){Eh!==i&&(Eh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eh===i&&(Eh=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(qm(l||a)===null)continue;break}var d=kn(a);d!==null&&(i.splice(s,3),s-=3,Hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function mo(i){function s(N){return bh(N,i)}Js!==null&&bh(Js,i),Zs!==null&&bh(Zs,i),tr!==null&&bh(tr,i),Wl.forEach(s),Jl.forEach(s);for(var a=0;a<er.length;a++){var l=er[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<er.length&&(a=er[0],a.blockedOn===null);)rT(a),a.blockedOn===null&&er.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Be]||null;if(typeof d=="function")_||oT(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Be]||null)S=_.formAction;else if(qm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),oT(a)}}}function lT(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Km(i){this._internalRoot=i}Sh.prototype.render=Km.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Nn();Z_(a,l,i,s,null,null)},Sh.prototype.unmount=Km.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Z_(i.current,2,null,i,null,null),ih(),s[Ei]=null}};function Sh(i){this._internalRoot=i}Sh.prototype.unstable_scheduleHydration=function(i){if(i){var s=ic();i={blockedOn:null,target:i,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,i),a===0&&rT(i)}};var uT=t.version;if(uT!=="19.2.0")throw Error(r(527,uT,"19.2.0"));et.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var YR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{$n=Ah.inject(YR),Ge=Ah}catch{}}return eu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=gv,d=yv,_=vv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=W_(i,1,!1,null,null,a,l,null,f,d,_,lT),i[Ei]=s.current,Rm(i),new Km(s)},eu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",d=gv,_=yv,S=vv,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),s=W_(i,1,!0,s,a??null,l,f,N,d,_,S,lT),s.context=J_(null),a=s.current,l=Nn(),l=Lr(l),f=Bs(l),f.callback=null,zs(a,f,l),a=l,s.current.lanes=a,Pr(s,a),ji(s),i[Ei]=s.current,Rm(i),new Sh(s)},eu.version="19.2.0",eu}var _T;function iC(){if(_T)return Xm.exports;_T=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Xm.exports=nC(),Xm.exports}var sC=iC();const rC=()=>{};var TT={};const oS=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},aC=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],m=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,y=u>>2,T=(u&3)<<4|m>>4;let E=(m&15)<<2|g>>6,R=g&63;p||(R=64,c||(E=64)),r.push(e[y],e[T],e[E],e[R])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(oS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):aC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],m=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const T=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new oC;const E=u<<2|m>>4;if(r.push(E),g!==64){const R=m<<4&240|g>>2;if(r.push(R),T!==64){const L=g<<6&192|T;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(n){const t=oS(n);return lS.encodeByteArray(t,!0)},Xh=function(n){return lC(n).replace(/\./g,"")},uS=function(n){try{return lS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function uC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cC=()=>uC().__FIREBASE_DEFAULTS__,hC=()=>{if(typeof process>"u"||typeof TT>"u")return;const n=TT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&uS(n[1]);return t&&JSON.parse(t)},Sf=()=>{try{return rC()||cC()||hC()||fC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cS=n=>Sf()?.emulatorHosts?.[n],dC=n=>{const t=cS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},hS=()=>Sf()?.config,fS=n=>Sf()?.[`_${n}`];class mC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Bo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dS(n){return(await fetch(n,{credentials:"include"})).ok}function pC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Xh(JSON.stringify(e)),Xh(JSON.stringify(c)),""].join(".")}const cu={};function gC(){const n={prod:[],emulator:[]};for(const t of Object.keys(cu))cu[t]?n.emulator.push(t):n.prod.push(t);return n}function yC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let bT=!1;function mS(n,t){if(typeof window>"u"||typeof document>"u"||!Bo(window.location.host)||cu[n]===t||cu[n]||bT)return;cu[n]=t;function e(E){return`__firebase__banner__${E}`}const r="__firebase__banner",u=gC().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{bT=!0,c()},E}function y(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function T(){const E=yC(r),R=e("text"),L=document.getElementById(R)||document.createElement("span"),H=e("learnmore"),O=document.getElementById(H)||document.createElement("a"),j=e("preprendIcon"),W=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;m(z),y(O,H);const $=g();p(W,j),z.append(W,L,O,$),document.body.appendChild(z)}u?(L.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function _C(){const n=Sf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SC(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AC(){return!_C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const RC="FirebaseError";class Ss extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=RC,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?CC(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ss(o,m,r)}}function CC(n,t){return n.replace(IC,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const IC=/\{\$([^}]+)}/g;function DC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function vr(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(ET(u)&&ET(c)){if(!vr(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function ET(n){return n!==null&&typeof n=="object"}function Pu(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function NC(n,t){const e=new VC(n,t);return e.subscribe.bind(e)}class VC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");MC(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Zm),o.error===void 0&&(o.error=Zm),o.complete===void 0&&(o.complete=Zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Zm(){}function dn(n){return n&&n._delegate?n._delegate:n}class ya{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ca="[DEFAULT]";class kC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new mC;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OC(t))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ca){return this.instances.has(t)}getOptions(t=ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ca){return this.component?this.component.multipleInstances?t:ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PC(n){return n===ca?void 0:n}function OC(n){return n.instantiationMode==="EAGER"}class LC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new kC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const jC={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},UC=jt.INFO,BC={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},zC=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=BC[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ag{constructor(t){this.name=t,this._logLevel=UC,this._logHandler=zC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const FC=(n,t)=>t.some(e=>n instanceof e);let ST,AT;function HC(){return ST||(ST=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qC(){return AT||(AT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,Ip=new WeakMap,gS=new WeakMap,tp=new WeakMap,wg=new WeakMap;function GC(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(hr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&pS.set(e,n)}).catch(()=>{}),wg.set(t,n),t}function KC(n){if(Ip.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Ip.set(n,t)}let Dp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Ip.get(n);if(t==="objectStoreNames")return n.objectStoreNames||gS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return hr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function YC(n){Dp=n(Dp)}function QC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(ep(this),t,...e);return gS.set(r,t.sort?t.sort():[t]),hr(r)}:qC().includes(n)?function(...t){return n.apply(ep(this),t),hr(pS.get(this))}:function(...t){return hr(n.apply(ep(this),t))}}function XC(n){return typeof n=="function"?QC(n):(n instanceof IDBTransaction&&KC(n),FC(n,HC())?new Proxy(n,Dp):n)}function hr(n){if(n instanceof IDBRequest)return GC(n);if(tp.has(n))return tp.get(n);const t=XC(n);return t!==n&&(tp.set(n,t),wg.set(t,n)),t}const ep=n=>wg.get(n);function $C(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=hr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(hr(c.result),p.oldVersion,p.newVersion,hr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const WC=["get","getKey","getAll","getAllKeys","count"],JC=["put","add","delete","clear"],np=new Map;function wT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(np.get(t))return np.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=JC.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||WC.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return np.set(t,u),u}YC(n=>({...n,get:(t,e,r)=>wT(t,e)||n.get(t,e,r),has:(t,e)=>!!wT(t,e)||n.has(t,e)}));class ZC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(t2(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function t2(n){return n.getComponent()?.type==="VERSION"}const Np="@firebase/app",xT="0.14.7";const ys=new Ag("@firebase/app"),e2="@firebase/app-compat",n2="@firebase/analytics-compat",i2="@firebase/analytics",s2="@firebase/app-check-compat",r2="@firebase/app-check",a2="@firebase/auth",o2="@firebase/auth-compat",l2="@firebase/database",u2="@firebase/data-connect",c2="@firebase/database-compat",h2="@firebase/functions",f2="@firebase/functions-compat",d2="@firebase/installations",m2="@firebase/installations-compat",p2="@firebase/messaging",g2="@firebase/messaging-compat",y2="@firebase/performance",v2="@firebase/performance-compat",_2="@firebase/remote-config",T2="@firebase/remote-config-compat",b2="@firebase/storage",E2="@firebase/storage-compat",S2="@firebase/firestore",A2="@firebase/ai",w2="@firebase/firestore-compat",x2="firebase",R2="12.8.0";const Vp="[DEFAULT]",C2={[Np]:"fire-core",[e2]:"fire-core-compat",[i2]:"fire-analytics",[n2]:"fire-analytics-compat",[r2]:"fire-app-check",[s2]:"fire-app-check-compat",[a2]:"fire-auth",[o2]:"fire-auth-compat",[l2]:"fire-rtdb",[u2]:"fire-data-connect",[c2]:"fire-rtdb-compat",[h2]:"fire-fn",[f2]:"fire-fn-compat",[d2]:"fire-iid",[m2]:"fire-iid-compat",[p2]:"fire-fcm",[g2]:"fire-fcm-compat",[y2]:"fire-perf",[v2]:"fire-perf-compat",[_2]:"fire-rc",[T2]:"fire-rc-compat",[b2]:"fire-gcs",[E2]:"fire-gcs-compat",[S2]:"fire-fst",[w2]:"fire-fst-compat",[A2]:"fire-vertex","fire-js":"fire-js",[x2]:"fire-js-all"};const $h=new Map,I2=new Map,Mp=new Map;function RT(n,t){try{n.container.addComponent(t)}catch(e){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function No(n){const t=n.name;if(Mp.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;Mp.set(t,n);for(const e of $h.values())RT(e,n);for(const e of I2.values())RT(e,n);return!0}function xg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function fi(n){return n==null?!1:n.settings!==void 0}const D2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new ku("app","Firebase",D2);class N2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const zo=R2;function yS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Vp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(e||(e=hS()),!e)throw fr.create("no-options");const u=$h.get(o);if(u){if(vr(e,u.options)&&vr(r,u.config))return u;throw fr.create("duplicate-app",{appName:o})}const c=new LC(o);for(const p of Mp.values())c.addComponent(p);const m=new N2(e,r,c);return $h.set(o,m),m}function vS(n=Vp){const t=$h.get(n);if(!t&&n===Vp&&hS())return yS();if(!t)throw fr.create("no-app",{appName:n});return t}function dr(n,t,e){let r=C2[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(c.join(" "));return}No(new ya(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const V2="firebase-heartbeat-database",M2=1,Tu="firebase-heartbeat-store";let ip=null;function _S(){return ip||(ip=$C(V2,M2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Tu)}catch(e){console.warn(e)}}}}).catch(n=>{throw fr.create("idb-open",{originalErrorMessage:n.message})})),ip}async function k2(n){try{const e=(await _S()).transaction(Tu),r=await e.objectStore(Tu).get(TS(n));return await e.done,r}catch(t){if(t instanceof Ss)ys.warn(t.message);else{const e=fr.create("idb-get",{originalErrorMessage:t?.message});ys.warn(e.message)}}}async function CT(n,t){try{const r=(await _S()).transaction(Tu,"readwrite");await r.objectStore(Tu).put(t,TS(n)),await r.done}catch(e){if(e instanceof Ss)ys.warn(e.message);else{const r=fr.create("idb-set",{originalErrorMessage:e?.message});ys.warn(r.message)}}}function TS(n){return`${n.name}!${n.options.appId}`}const P2=1024,O2=30;class L2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new U2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=IT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>O2){const o=B2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=IT(),{heartbeatsToSend:e,unsentEntries:r}=j2(this._heartbeatsCache.heartbeats),o=Xh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ys.warn(t),""}}}function IT(){return new Date().toISOString().substring(0,10)}function j2(n,t=P2){const e=[];let r=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),DT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),DT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class U2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await k2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return CT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return CT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function DT(n){return Xh(JSON.stringify({version:2,heartbeats:n})).length}function B2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function z2(n){No(new ya("platform-logger",t=>new ZC(t),"PRIVATE")),No(new ya("heartbeat",t=>new L2(t),"PRIVATE")),dr(Np,xT,n),dr(Np,xT,"esm2020"),dr("fire-js","")}z2("");var F2="firebase",H2="12.8.0";dr(F2,H2,"app");function bS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q2=bS,ES=new ku("auth","Firebase",bS());const Wh=new Ag("@firebase/auth");function G2(n,...t){Wh.logLevel<=jt.WARN&&Wh.warn(`Auth (${zo}): ${n}`,...t)}function Ph(n,...t){Wh.logLevel<=jt.ERROR&&Wh.error(`Auth (${zo}): ${n}`,...t)}function vs(n,...t){throw Rg(n,...t)}function Bi(n,...t){return Rg(n,...t)}function SS(n,t,e){const r={...q2(),[t]:e};return new ku("auth","Firebase",r).create(t,{appName:n.name})}function mr(n){return SS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rg(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return ES.create(n,...t)}function St(n,t,...e){if(!n)throw Rg(t,...e)}function ms(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Ph(t),new Error(t)}function _s(n,t){n||ms(t)}function kp(){return typeof self<"u"&&self.location?.href||""}function K2(){return NT()==="http:"||NT()==="https:"}function NT(){return typeof self<"u"&&self.location?.protocol||null}function Y2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K2()||bC()||"connection"in navigator)?navigator.onLine:!0}function Q2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Ou{constructor(t,e){this.shortDelay=t,this.longDelay=e,_s(e>t,"Short delay should be less than long delay!"),this.isMobile=vC()||EC()}get(){return Y2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cg(n,t){_s(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class AS{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W2=new Ou(3e4,6e4);function Af(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Fo(n,t,e,r,o={}){return wS(n,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Pu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return TC()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Bo(n.emulatorConfig.host)&&(g.credentials="include"),AS.fetch()(await RS(n,n.config.apiHost,e,m),g)})}async function wS(n,t,e){n._canInitEmulator=!1;const r={...X2,...t};try{const o=new J2(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw wh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw wh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw wh(n,"user-disabled",c);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw SS(n,y,g);vs(n,y)}}catch(o){if(o instanceof Ss)throw o;vs(n,"network-request-failed",{message:String(o)})}}async function xS(n,t,e,r,o={}){const u=await Fo(n,t,e,r,o);return"mfaPendingCredential"in u&&vs(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function RS(n,t,e,r){const o=`${t}${e}?${r}`,u=n,c=u.config.emulator?Cg(n.config,o):`${n.config.apiScheme}://${o}`;return $2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class J2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),W2.get())})}}function wh(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Bi(n,t,r);return o.customData._tokenResponse=e,o}async function Z2(n,t){return Fo(n,"POST","/v1/accounts:delete",t)}async function Jh(n,t){return Fo(n,"POST","/v1/accounts:lookup",t)}function hu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tI(n,t=!1){const e=dn(n),r=await e.getIdToken(t),o=Ig(r);St(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:hu(sp(o.auth_time)),issuedAtTime:hu(sp(o.iat)),expirationTime:hu(sp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sp(n){return Number(n)*1e3}function Ig(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=uS(e);return o?JSON.parse(o):(Ph("Failed to decode base64 JWT payload"),null)}catch(o){return Ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function VT(n){const t=Ig(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function bu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Ss&&eI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function eI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class nI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zh(n){const t=n.auth,e=await n.getIdToken(),r=await bu(n,Jh(t,{idToken:e}));St(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?CS(o.providerUserInfo):[],c=sI(n.providerData,u),m=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=m?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function iI(n){const t=dn(n);await Zh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sI(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function CS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function rI(n,t){const e=await wS(n,{},async()=>{const r=Pu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await RS(n,o,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return n.emulatorConfig&&Bo(n.emulatorConfig.host)&&(p.credentials="include"),AS.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function aI(n,t){return Fo(n,"POST","/v2/accounts:revokeToken",Af(n,t))}class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):VT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=VT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await rI(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new Ao;return r&&(St(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(St(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return ms("not implemented")}}function ir(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class di{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new nI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await bu(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return tI(this,t)}reload(){return iI(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new di({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(mr(this.auth));const t=await this.getIdToken();return await bu(this,Z2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:T,emailVerified:E,isAnonymous:R,providerData:L,stsTokenManager:H}=e;St(T&&H,t,"internal-error");const O=Ao.fromJSON(this.name,H);St(typeof T=="string",t,"internal-error"),ir(r,t.name),ir(o,t.name),St(typeof E=="boolean",t,"internal-error"),St(typeof R=="boolean",t,"internal-error"),ir(u,t.name),ir(c,t.name),ir(m,t.name),ir(p,t.name),ir(g,t.name),ir(y,t.name);const j=new di({uid:T,auth:t,email:o,emailVerified:E,displayName:r,isAnonymous:R,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:O,createdAt:g,lastLoginAt:y});return L&&Array.isArray(L)&&(j.providerData=L.map(W=>({...W}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(t,e,r=!1){const o=new Ao;o.updateFromServerResponse(e);const u=new di({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Zh(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Ao;m.updateFromIdToken(r);const p=new di({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const MT=new Map;function ps(n){_s(n instanceof Function,"Expected a class definition");let t=MT.get(n);return t?(_s(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,MT.set(n,t),t)}class IS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}IS.type="NONE";const kT=IS;function Oh(n,t,e){return`firebase:${n}:${t}:${e}`}class wo{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Oh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Jh(this.auth,{idToken:t}).catch(()=>{});return e?di._fromGetAccountInfoResponse(this.auth,e,t):null}return di._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new wo(ps(kT),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ps(kT);const c=Oh(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const E=await Jh(t,{idToken:y}).catch(()=>{});if(!E)break;T=await di._fromGetAccountInfoResponse(t,E,y)}else T=di._fromJSON(t,y);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new wo(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new wo(u,t,r))}}function PT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(MS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(PS(t))return"Blackberry";if(OS(t))return"Webos";if(NS(t))return"Safari";if((t.includes("chrome/")||VS(t))&&!t.includes("edge/"))return"Chrome";if(kS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function DS(n=on()){return/firefox\//i.test(n)}function NS(n=on()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function VS(n=on()){return/crios\//i.test(n)}function MS(n=on()){return/iemobile/i.test(n)}function kS(n=on()){return/android/i.test(n)}function PS(n=on()){return/blackberry/i.test(n)}function OS(n=on()){return/webos/i.test(n)}function Dg(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oI(n=on()){return Dg(n)&&!!window.navigator?.standalone}function lI(){return SC()&&document.documentMode===10}function LS(n=on()){return Dg(n)||kS(n)||OS(n)||PS(n)||/windows phone/i.test(n)||MS(n)}function jS(n,t=[]){let e;switch(n){case"Browser":e=PT(on());break;case"Worker":e=`${PT(on())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${zo}/${r}`}class uI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function cI(n,t={}){return Fo(n,"GET","/v2/passwordPolicy",Af(n,t))}const hI=6;class fI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??hI,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class dI{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OT(this),this.idTokenSubscription=new OT(this),this.beforeStateQueue=new uI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ES,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ps(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Jh(this,{idToken:t}),r=await di._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(fi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Zh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Q2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fi(this.app))return Promise.reject(mr(this));const e=t?dn(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fi(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cI(this),e=new fI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ku("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await aI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ps(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[ps(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&G2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function wf(n){return dn(n)}class OT{constructor(t){this.auth=t,this.observer=null,this.addObserver=NC(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mI(n){Ng=n}function pI(n){return Ng.loadJS(n)}function gI(){return Ng.gapiScript}function yI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function vI(n,t){const e=xg(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(vr(u,t??{}))return o;vs(o,"already-initialized")}return e.initialize({options:t})}function _I(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(ps);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function TI(n,t,e){const r=wf(n);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=US(t),{host:c,port:m}=bI(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},y=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(vr(g,r.config.emulator)&&vr(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Bo(c)?(dS(`${u}//${c}${p}`),mS("Auth",!0)):EI()}function US(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function bI(n){const t=US(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:LT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:LT(c)}}}function LT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function EI(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class BS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ms("not implemented")}_getIdTokenResponse(t){return ms("not implemented")}_linkToIdToken(t,e){return ms("not implemented")}_getReauthenticationResolver(t){return ms("not implemented")}}async function xo(n,t){return xS(n,"POST","/v1/accounts:signInWithIdp",Af(n,t))}const SI="http://localhost";class va extends BS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):vs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new va(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return xo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,xo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,xo(t,e)}buildRequest(){const t={requestUri:SI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Pu(e)}return t}}class zS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Lu extends zS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class rr extends Lu{constructor(){super("facebook.com")}static credential(t){return va._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return va._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return ar.credential(e,r)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class or extends Lu{constructor(){super("github.com")}static credential(t){return va._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";class lr extends Lu{constructor(){super("twitter.com")}static credential(t,e){return va._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return lr.credential(e,r)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function AI(n,t){return xS(n,"POST","/v1/accounts:signUp",Af(n,t))}class _r{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await di._fromIdTokenResponse(t,r,o),c=jT(r);return new _r({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=jT(r);return new _r({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function jT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function FS(n){if(fi(n.app))return Promise.reject(mr(n));const t=wf(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new _r({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await AI(t,{returnSecureToken:!0}),r=await _r._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}class tf extends Ss{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new tf(t,e,r,o)}}function HS(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(n,u,t,r):u})}async function wI(n,t,e=!1){const r=await bu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return _r._forOperation(n,"link",r)}async function xI(n,t,e=!1){const{auth:r}=n;if(fi(r.app))return Promise.reject(mr(r));const o="reauthenticate";try{const u=await bu(n,HS(r,o,t,n),e);St(u.idToken,r,"internal-error");const c=Ig(u.idToken);St(c,r,"internal-error");const{sub:m}=c;return St(n.uid===m,r,"user-mismatch"),_r._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),u}}async function RI(n,t,e=!1){if(fi(n.app))return Promise.reject(mr(n));const r="signIn",o=await HS(n,r,t),u=await _r._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}function CI(n,t,e,r){return dn(n).onIdTokenChanged(t,e,r)}function II(n,t,e){return dn(n).beforeAuthStateChanged(t,e)}const ef="__sak";class qS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const DI=1e3,NI=10;class GS extends qS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);lI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,NI):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}GS.type="LOCAL";const VI=GS;class KS extends qS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}KS.type="SESSION";const YS=KS;function MI(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class xf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new xf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await MI(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xf.receivers=[];function Vg(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}class kI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Vg("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const E=T;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(E.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function zi(){return window}function PI(n){zi().location.href=n}function QS(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function OI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LI(){return navigator?.serviceWorker?.controller||null}function jI(){return QS()?self:null}const XS="firebaseLocalStorageDb",UI=1,nf="firebaseLocalStorage",$S="fbase_key";class ju{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Rf(n,t){return n.transaction([nf],t?"readwrite":"readonly").objectStore(nf)}function BI(){const n=indexedDB.deleteDatabase(XS);return new ju(n).toPromise()}function Op(){const n=indexedDB.open(XS,UI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(nf,{keyPath:$S})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(nf)?t(r):(r.close(),await BI(),t(await Op()))})})}async function UT(n,t,e){const r=Rf(n,!0).put({[$S]:t,value:e});return new ju(r).toPromise()}async function zI(n,t){const e=Rf(n,!1).get(t),r=await new ju(e).toPromise();return r===void 0?null:r.value}function BT(n,t){const e=Rf(n,!0).delete(t);return new ju(e).toPromise()}const FI=800,HI=3;class WS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>HI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xf._getInstance(jI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OI(),!this.activeServiceWorker)return;this.sender=new kI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Op();return await UT(t,ef,"1"),await BT(t,ef),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>UT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>zI(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>BT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Rf(o,!1).getAll();return new ju(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WS.type="LOCAL";const qI=WS;new Ou(3e4,6e4);function GI(n,t){return t?ps(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Mg extends BS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return xo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return xo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function KI(n){return RI(n.auth,new Mg(n),n.bypassAuthState)}function YI(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),xI(e,new Mg(n),n.bypassAuthState)}async function QI(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),wI(e,new Mg(n),n.bypassAuthState)}class JS{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return YI;default:vs(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XI=new Ou(2e3,1e4);class _o extends JS{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,XI.get())};t()}}_o.currentPopupAction=null;const $I="pendingRedirect",Lh=new Map;class WI extends JS{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Lh.get(this.auth._key());if(!t){try{const r=await JI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Lh.set(this.auth._key(),t)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JI(n,t){const e=eD(t),r=tD(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function ZI(n,t){Lh.set(n._key(),t)}function tD(n){return ps(n._redirectPersistence)}function eD(n){return Oh($I,n.config.apiKey,n.name)}async function nD(n,t,e=!1){if(fi(n.app))return Promise.reject(mr(n));const r=wf(n),o=GI(r,t),c=await new WI(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const iD=600*1e3;class sD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!ZS(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Bi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iD&&this.cachedEventUids.clear(),this.cachedEventUids.has(zT(t))}saveEventToCache(t){this.cachedEventUids.add(zT(t)),this.lastProcessedEventTime=Date.now()}}function zT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function ZS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function rD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZS(n);default:return!1}}async function aD(n,t={}){return Fo(n,"GET","/v1/projects",t)}const oD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lD=/^https?/;async function uD(n){if(n.config.emulator)return;const{authorizedDomains:t}=await aD(n);for(const e of t)try{if(cD(e))return}catch{}vs(n,"unauthorized-domain")}function cD(n){const t=kp(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!lD.test(e))return!1;if(oD.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const hD=new Ou(3e4,6e4);function FT(){const n=zi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function fD(n){return new Promise((t,e)=>{function r(){FT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{FT(),e(Bi(n,"network-request-failed"))},timeout:hD.get()})}if(zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zi().gapi?.load)r();else{const o=yI("iframefcb");return zi()[o]=()=>{gapi.load?r():e(Bi(n,"network-request-failed"))},pI(`${gI()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw jh=null,t})}let jh=null;function dD(n){return jh=jh||fD(n),jh}const mD=new Ou(5e3,15e3),pD="__/auth/iframe",gD="emulator/auth/iframe",yD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _D(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Cg(t,gD):`https://${n.config.authDomain}/${pD}`,r={apiKey:t.apiKey,appName:n.name,v:zo},o=vD.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${Pu(r).slice(1)}`}async function TD(n){const t=await dD(n),e=zi().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:_D(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Bi(n,"network-request-failed"),m=zi().setTimeout(()=>{u(c)},mD.get());function p(){zi().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const bD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ED=500,SD=600,AD="_blank",wD="http://localhost";class HT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xD(n,t,e,r=ED,o=SD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...bD,width:r.toString(),height:o.toString(),top:u,left:c},g=on().toLowerCase();e&&(m=VS(g)?AD:e),DS(g)&&(t=t||wD,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[R,L])=>`${E}${R}=${L},`,"");if(oI(g)&&m!=="_self")return RD(t||"",m),new HT(null);const T=window.open(t||"",m,y);St(T,n,"popup-blocked");try{T.focus()}catch{}return new HT(T)}function RD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const CD="__/auth/handler",ID="emulator/auth/handler",DD=encodeURIComponent("fac");async function qT(n,t,e,r,o,u){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:zo,eventId:o};if(t instanceof zS){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",DC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof Lu){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const p=await n._getAppCheckToken(),g=p?`#${DD}=${encodeURIComponent(p)}`:"";return`${ND(n)}?${Pu(m).slice(1)}${g}`}function ND({config:n}){return n.emulator?Cg(n,ID):`https://${n.authDomain}/${CD}`}const rp="webStorageSupport";class VD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YS,this._completeRedirectFn=nD,this._overrideRedirectResult=ZI}async _openPopup(t,e,r,o){_s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await qT(t,e,r,kp(),o);return xD(t,u,Vg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await qT(t,e,r,kp(),o);return PI(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(_s(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await TD(t),r=new sD(t);return e.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(rp,{type:rp},o=>{const u=o?.[0]?.[rp];u!==void 0&&e(!!u),vs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=uD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return LS()||NS()||Dg()}}const MD=VD;var GT="@firebase/auth",KT="1.12.0";class kD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OD(n){No(new ya("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jS(n)},g=new dI(r,o,u,p);return _I(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),No(new ya("auth-internal",t=>{const e=wf(t.getProvider("auth").getImmediate());return(r=>new kD(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(GT,KT,PD(n)),dr(GT,KT,"esm2020")}const LD=300,jD=fS("authIdTokenMaxAge")||LD;let YT=null;const UD=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>jD)return;const o=e?.token;YT!==o&&(YT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BD(n=vS()){const t=xg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=vI(n,{popupRedirectResolver:MD,persistence:[qI,VI,YS]}),r=fS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=UD(u.toString());II(e,c,()=>c(e.currentUser)),CI(e,m=>c(m))}}const o=cS("auth");return o&&TI(e,`http://${o}`),e}function zD(){return document.getElementsByTagName("head")?.[0]??document}mI({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=Bi("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",zD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OD("Browser");var QT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,t1;(function(){var n;function t(C,x){function I(){}I.prototype=x.prototype,C.F=x.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,V,U){for(var D=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)D[ct-2]=arguments[ct];return x.prototype[V].apply(M,D)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,I){I||(I=0);const M=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)M[V]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(V=0;V<16;++V)M[V]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=C.g[0],I=C.g[1],V=C.g[2];let U=C.g[3],D;D=x+(U^I&(V^U))+M[0]+3614090360&4294967295,x=I+(D<<7&4294967295|D>>>25),D=U+(V^x&(I^V))+M[1]+3905402710&4294967295,U=x+(D<<12&4294967295|D>>>20),D=V+(I^U&(x^I))+M[2]+606105819&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(x^V&(U^x))+M[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(U^I&(V^U))+M[4]+4118548399&4294967295,x=I+(D<<7&4294967295|D>>>25),D=U+(V^x&(I^V))+M[5]+1200080426&4294967295,U=x+(D<<12&4294967295|D>>>20),D=V+(I^U&(x^I))+M[6]+2821735955&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(x^V&(U^x))+M[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(U^I&(V^U))+M[8]+1770035416&4294967295,x=I+(D<<7&4294967295|D>>>25),D=U+(V^x&(I^V))+M[9]+2336552879&4294967295,U=x+(D<<12&4294967295|D>>>20),D=V+(I^U&(x^I))+M[10]+4294925233&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(x^V&(U^x))+M[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(U^I&(V^U))+M[12]+1804603682&4294967295,x=I+(D<<7&4294967295|D>>>25),D=U+(V^x&(I^V))+M[13]+4254626195&4294967295,U=x+(D<<12&4294967295|D>>>20),D=V+(I^U&(x^I))+M[14]+2792965006&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(x^V&(U^x))+M[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(V^U&(I^V))+M[1]+4129170786&4294967295,x=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(x^I))+M[6]+3225465664&4294967295,U=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(U^x))+M[11]+643717713&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^x&(V^U))+M[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(V^U&(I^V))+M[5]+3593408605&4294967295,x=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(x^I))+M[10]+38016083&4294967295,U=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(U^x))+M[15]+3634488961&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^x&(V^U))+M[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(V^U&(I^V))+M[9]+568446438&4294967295,x=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(x^I))+M[14]+3275163606&4294967295,U=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(U^x))+M[3]+4107603335&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^x&(V^U))+M[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(V^U&(I^V))+M[13]+2850285829&4294967295,x=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(x^I))+M[2]+4243563512&4294967295,U=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(U^x))+M[7]+1735328473&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^x&(V^U))+M[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(I^V^U)+M[5]+4294588738&4294967295,x=I+(D<<4&4294967295|D>>>28),D=U+(x^I^V)+M[8]+2272392833&4294967295,U=x+(D<<11&4294967295|D>>>21),D=V+(U^x^I)+M[11]+1839030562&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^x)+M[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(I^V^U)+M[1]+2763975236&4294967295,x=I+(D<<4&4294967295|D>>>28),D=U+(x^I^V)+M[4]+1272893353&4294967295,U=x+(D<<11&4294967295|D>>>21),D=V+(U^x^I)+M[7]+4139469664&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^x)+M[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(I^V^U)+M[13]+681279174&4294967295,x=I+(D<<4&4294967295|D>>>28),D=U+(x^I^V)+M[0]+3936430074&4294967295,U=x+(D<<11&4294967295|D>>>21),D=V+(U^x^I)+M[3]+3572445317&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^x)+M[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(I^V^U)+M[9]+3654602809&4294967295,x=I+(D<<4&4294967295|D>>>28),D=U+(x^I^V)+M[12]+3873151461&4294967295,U=x+(D<<11&4294967295|D>>>21),D=V+(U^x^I)+M[15]+530742520&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^x)+M[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(V^(I|~U))+M[0]+4096336452&4294967295,x=I+(D<<6&4294967295|D>>>26),D=U+(I^(x|~V))+M[7]+1126891415&4294967295,U=x+(D<<10&4294967295|D>>>22),D=V+(x^(U|~I))+M[14]+2878612391&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~x))+M[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=x+(V^(I|~U))+M[12]+1700485571&4294967295,x=I+(D<<6&4294967295|D>>>26),D=U+(I^(x|~V))+M[3]+2399980690&4294967295,U=x+(D<<10&4294967295|D>>>22),D=V+(x^(U|~I))+M[10]+4293915773&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~x))+M[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=x+(V^(I|~U))+M[8]+1873313359&4294967295,x=I+(D<<6&4294967295|D>>>26),D=U+(I^(x|~V))+M[15]+4264355552&4294967295,U=x+(D<<10&4294967295|D>>>22),D=V+(x^(U|~I))+M[6]+2734768916&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~x))+M[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=x+(V^(I|~U))+M[4]+4149444226&4294967295,x=I+(D<<6&4294967295|D>>>26),D=U+(I^(x|~V))+M[11]+3174756917&4294967295,U=x+(D<<10&4294967295|D>>>22),D=V+(x^(U|~I))+M[2]+718787259&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~x))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,x){x===void 0&&(x=C.length);const I=x-this.blockSize,M=this.C;let V=this.h,U=0;for(;U<x;){if(V==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<x;)if(M[V++]=C.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<x;)if(M[V++]=C[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=x},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[x++]=this.g[I]>>>M&255;return C};function u(C,x){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=x(C)}function c(C,x){this.h=x;const I=[];let M=!0;for(let V=C.length-1;V>=0;V--){const U=C[V]|0;M&&U==x||(I[V]=U,M=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?u(C,function(x){return new c([x|0],x<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return O(g(-C));const x=[];let I=1;for(let M=0;C>=I;M++)x[M]=C/I|0,I*=4294967296;return new c(x,0)}function y(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return O(y(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(x,8));let M=T;for(let U=0;U<C.length;U+=8){var V=Math.min(8,C.length-U);const D=parseInt(C.substring(U,U+V),x);V<8?(V=g(Math.pow(x,V)),M=M.j(V).add(g(D))):(M=M.j(I),M=M.add(g(D)))}return M}var T=p(0),E=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(H(this))return-O(this).m();let C=0,x=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*x,x*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(L(this))return"0";if(H(this))return"-"+O(this).toString(C);const x=g(Math.pow(C,6));var I=this;let M="";for(;;){const V=$(I,x).g;I=j(I,V.j(x));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=V,L(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function L(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function H(C){return C.h==-1}n.l=function(C){return C=j(this,C),H(C)?-1:L(C)?0:1};function O(C){const x=C.g.length,I=[];for(let M=0;M<x;M++)I[M]=~C.g[M];return new c(I,~C.h).add(E)}n.abs=function(){return H(this)?O(this):this},n.add=function(C){const x=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let V=0;V<=x;V++){let U=M+(this.i(V)&65535)+(C.i(V)&65535),D=(U>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);M=D>>>16,U&=65535,D&=65535,I[V]=D<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function j(C,x){return C.add(O(x))}n.j=function(C){if(L(this)||L(C))return T;if(H(this))return H(C)?O(this).j(O(C)):O(O(this).j(C));if(H(C))return O(this.j(O(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const x=this.g.length+C.g.length,I=[];for(var M=0;M<2*x;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<C.g.length;V++){const U=this.i(M)>>>16,D=this.i(M)&65535,ct=C.i(V)>>>16,vt=C.i(V)&65535;I[2*M+2*V]+=D*vt,W(I,2*M+2*V),I[2*M+2*V+1]+=U*vt,W(I,2*M+2*V+1),I[2*M+2*V+1]+=D*ct,W(I,2*M+2*V+1),I[2*M+2*V+2]+=U*ct,W(I,2*M+2*V+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new c(I,0)};function W(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function z(C,x){this.g=C,this.h=x}function $(C,x){if(L(x))throw Error("division by zero");if(L(C))return new z(T,T);if(H(C))return x=$(O(C),x),new z(O(x.g),O(x.h));if(H(x))return x=$(C,O(x)),new z(O(x.g),x.h);if(C.g.length>30){if(H(C)||H(x))throw Error("slowDivide_ only works with positive integers.");for(var I=E,M=x;M.l(C)<=0;)I=J(I),M=J(M);var V=at(I,1),U=at(M,1);for(M=at(M,2),I=at(I,2);!L(M);){var D=U.add(M);D.l(C)<=0&&(V=V.add(I),U=D),M=at(M,1),I=at(I,1)}return x=j(C,V.j(x)),new z(V,x)}for(V=T;C.l(x)>=0;){for(I=Math.max(1,Math.floor(C.m()/x.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=g(I),D=U.j(x);H(D)||D.l(C)>0;)I-=M,U=g(I),D=U.j(x);L(U)&&(U=E),V=V.add(U),C=j(C,D)}return new z(V,C)}n.B=function(C){return $(this,C).h},n.and=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)&C.i(M);return new c(I,this.h&C.h)},n.or=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)|C.i(M);return new c(I,this.h|C.h)},n.xor=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)^C.i(M);return new c(I,this.h^C.h)};function J(C){const x=C.g.length+1,I=[];for(let M=0;M<x;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(I,C.h)}function at(C,x){const I=x>>5;x%=32;const M=C.g.length-I,V=[];for(let U=0;U<M;U++)V[U]=x>0?C.i(U+I)>>>x|C.i(U+I+1)<<32-x:C.i(U+I);return new c(V,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,t1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,pr=c}).apply(typeof QT<"u"?QT:typeof self<"u"?self:typeof window<"u"?window:{});var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var e1,su,n1,Uh,Lp,i1,s1,r1;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xh=="object"&&xh];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=e(this);function o(h,v){if(v)t:{var b=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var F=h[w];if(!(F in b))break t;b=b[F]}h=h[h.length-1],w=b[h],v=v(w),v!=w&&v!=null&&t(b,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var b=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&b.push([w,v[w]]);return b}});var u=u||{},c=this||self;function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,b){return h.call.apply(h.bind,arguments)}function g(h,v,b){return g=p,g.apply(null,arguments)}function y(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function T(h,v){function b(){}b.prototype=v.prototype,h.Z=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(w,F,Q){for(var ut=Array(arguments.length-2),It=2;It<arguments.length;It++)ut[It-2]=arguments[It];return v.prototype[F].apply(w,ut)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const b=Array(v);for(let w=0;w<v;w++)b[w]=h[w];return b}return[]}function L(h,v){for(let w=1;w<arguments.length;w++){const F=arguments[w];var b=typeof F;if(b=b!="object"?b:F?Array.isArray(F)?"array":b:"null",b=="array"||b=="object"&&typeof F.length=="number"){b=h.length||0;const Q=F.length||0;h.length=b+Q;for(let ut=0;ut<Q;ut++)h[b+ut]=F[ut]}else h.push(F)}}class H{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function O(h){c.setTimeout(()=>{throw h},0)}function j(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,b){const w=z.get();w.set(v,b),this.h?this.h.next=w:this.g=w,this.h=w}}var z=new H(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let J,at=!1,C=new W,x=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(I)}};function I(){for(var h;h=j();){try{h.h.call(h.g)}catch(b){O(b)}var v=z;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}at=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,v),c.removeEventListener("test",b,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ct(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(ct,V),ct.prototype.init=function(h,v){const b=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ct.Z.h.call(this)},ct.prototype.h=function(){ct.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),K=0;function et(h,v,b,w,F){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!w,this.ha=F,this.key=++K,this.da=this.fa=!1}function lt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function At(h,v,b){for(const w in h)v.call(b,h[w],w,h)}function Mt(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function k(h){const v={};for(const b in h)v[b]=h[b];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(h,v){let b,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(b in w)h[b]=w[b];for(let Q=0;Q<nt.length;Q++)b=nt[Q],Object.prototype.hasOwnProperty.call(w,b)&&(h[b]=w[b])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,v,b,w,F){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ut=Nt(h,v,w,F);return ut>-1?(v=h[ut],b||(v.fa=!1)):(v=new et(v,this.src,Q,!!w,F),v.fa=b,h.push(v)),v};function wt(h,v){const b=v.type;if(b in h.g){var w=h.g[b],F=Array.prototype.indexOf.call(w,v,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(w,F,1),Q&&(lt(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Nt(h,v,b,w){for(let F=0;F<h.length;++F){const Q=h[F];if(!Q.da&&Q.listener==v&&Q.capture==!!b&&Q.ha==w)return F}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),ke={};function le(h,v,b,w,F){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)le(h,v[Q],b,w,F);return null}return b=Jo(b),h&&h[vt]?h.J(v,b,m(w)?!!w.capture:!1,F):Nr(h,v,b,!1,w,F)}function Nr(h,v,b,w,F,Q){if(!v)throw Error("Invalid event type");const ut=m(F)?!!F.capture:!!F;let It=Vr(h);if(It||(h[Ft]=It=new dt(h)),b=It.add(v,b,w,ut,Q),b.proxy)return b;if(w=Aa(),b.proxy=w,w.src=h,w.listener=b,h.addEventListener)U||(F=ut),F===void 0&&(F=!1),h.addEventListener(v.toString(),w,F);else if(h.attachEvent)h.attachEvent(yi(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Aa(){function h(b){return v.call(h.src,h.listener,b)}const v=$o;return h}function wa(h,v,b,w,F){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)wa(h,v[Q],b,w,F);else w=m(w)?!!w.capture:!!w,b=Jo(b),h&&h[vt]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],b=Nt(v,b,w,F),b>-1&&(lt(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Vr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Nt(v,b,w,F)),(b=h>-1?v[h]:null)&&xa(b))}function xa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[vt])wt(v.i,h);else{var b=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(b,w,h.capture):v.detachEvent?v.detachEvent(yi(b),w):v.addListener&&v.removeListener&&v.removeListener(w),(b=Vr(v))?(wt(b,h),b.h==0&&(b.src=null,v[Ft]=null)):lt(h)}}}function yi(h){return h in ke?ke[h]:ke[h]="on"+h}function $o(h,v){if(h.da)h=!0;else{v=new ct(v,this);const b=h.listener,w=h.ha||h.src;h.fa&&xa(h),h=b.call(w,v)}return h}function Vr(h){return h=h[Ft],h instanceof dt?h:null}var Wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jo(h){return typeof h=="function"?h:(h[Wo]||(h[Wo]=function(v){return h.handleEvent(v)}),h[Wo])}function Ee(){M.call(this),this.i=new dt(this),this.M=this,this.G=null}T(Ee,M),Ee.prototype[vt]=!0,Ee.prototype.removeEventListener=function(h,v,b,w){wa(this,h,v,b,w)};function Pe(h,v){var b,w=h.G;if(w)for(b=[];w;w=w.G)b.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var F=v;v=new V(w,h),ht(v,F)}F=!0;let Q,ut;if(b)for(ut=b.length-1;ut>=0;ut--)Q=v.g=b[ut],F=As(Q,w,!0,v)&&F;if(Q=v.g=h,F=As(Q,w,!0,v)&&F,F=As(Q,w,!1,v)&&F,b)for(ut=0;ut<b.length;ut++)Q=v.g=b[ut],F=As(Q,w,!1,v)&&F}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const b=h.g[v];for(let w=0;w<b.length;w++)lt(b[w]);delete h.g[v],h.h--}}this.G=null},Ee.prototype.J=function(h,v,b,w){return this.i.add(String(h),v,!1,b,w)},Ee.prototype.K=function(h,v,b,w){return this.i.add(String(h),v,!0,b,w)};function As(h,v,b,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let Q=0;Q<v.length;++Q){const ut=v[Q];if(ut&&!ut.da&&ut.capture==b){const It=ut.listener,ye=ut.ha||ut.src;ut.fa&&wt(h.i,ut),F=It.call(ye,w)!==!1&&F}}return F&&!w.defaultPrevented}function Xf(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function $u(h){h.g=Xf(()=>{h.g=null,h.i&&(h.i=!1,$u(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ln extends M{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$u(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(h){M.call(this),this.h=h,this.g={}}T(Mr,M);var Zo=[];function tl(h){At(h.g,function(v,b){this.g.hasOwnProperty(b)&&xa(v)},h),h.g={}}Mr.prototype.N=function(){Mr.Z.N.call(this),tl(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ws=c.JSON.stringify,$f=c.JSON.parse,Wu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ju(){}function Zu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){V.call(this,"d")}T(Ge,V);function Mn(){V.call(this,"c")}T(Mn,V);var ge={},tc=null;function Ra(){return tc=tc||new Ee}ge.Ia="serverreachability";function ec(h){V.call(this,ge.Ia,h)}T(ec,V);function vi(h){const v=Ra();Pe(v,new ec(v))}ge.STAT_EVENT="statevent";function kr(h,v){V.call(this,ge.STAT_EVENT,h),this.stat=v}T(kr,V);function Se(h){const v=Ra();Pe(v,new kr(v,h))}ge.Ja="timingevent";function _i(h,v){V.call(this,ge.Ja,h),this.size=v}T(_i,V);function Ti(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Wf(h,v,b,w,F,Q){h.info(function(){if(h.g)if(Q){var ut="",It=Q.split("&");for(let Kt=0;Kt<It.length;Kt++){var ye=It[Kt].split("=");if(ye.length>1){const ue=ye[0];ye=ye[1];const Ln=ue.split("_");ut=Ln.length>=2&&Ln[1]=="type"?ut+(ue+"="+ye+"&"):ut+(ue+"=redacted&")}}}else ut=null;else ut=Q;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+v+`
`+b+`
`+ut})}function nc(h,v,b,w,F,Q,ut){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+v+`
`+b+`
`+Q+" "+ut})}function bi(h,v,b,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Jf(h,b)+(w?" "+w:"")})}function Pr(h,v){h.info(function(){return"TIMEOUT: "+v})}Wn.prototype.info=function(){};function Jf(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var b=Q[h];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ut=1;ut<w.length;ut++)w[ut]=""}}}}return ws(Q)}catch{return v}}var Or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nl;function Lr(){}T(Lr,Ju),Lr.prototype.g=function(){return new XMLHttpRequest},nl=new Lr;function Xi(h){return encodeURIComponent(String(h))}function ic(h){var v=1;h=h.split(":");const b=[];for(;v>0&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function Jn(h,v,b,w){this.j=h,this.i=v,this.l=b,this.S=w||1,this.V=new Mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Ae={},Be={};function Ei(h,v,b){h.M=1,h.A=jr(xe(v)),h.u=b,h.R=!0,Ca(h,null)}function Ca(h,v){h.F=Date.now(),Si(h),h.B=xe(h.A);var b=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Va(b.i,"t",w),h.C=0,b=h.j.L,h.h=new Zn,h.g=vc(h.j,b?v:null,!h.u),h.P>0&&(h.O=new ln(g(h.Y,h,h.g),h.P)),v=h.V,b=h.g,w=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Zo[0]=F.toString()),F=Zo);for(let Q=0;Q<F.length;Q++){const ut=le(b,F[Q],w||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),vi(),Wf(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ni(h)==3?v.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)t:{const It=ni(this.g),ye=this.g.ya(),Kt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||It!=4||ye==7||(ye==8||Kt<=0?vi(3):vi(2)),Ai(this);var v=this.g.ca();this.X=v;var b=Zf(this);if(this.o=v==200,nc(this.i,this.v,this.B,this.l,this.S,It,v),this.o){if(this.U&&!this.L){e:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var Q=w;break e}}Q=null}if(h=Q)bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,h);else{this.o=!1,this.m=3,Se(12),Sn(this),kn(this);break t}}if(this.R){h=!0;let ue;for(;!this.K&&this.C<b.length;)if(ue=rc(this,b),ue==Be){It==4&&(this.m=4,Se(14),h=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Ae){this.m=4,Se(15),bi(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else bi(this.i,this.l,ue,null),wi(this,ue);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||b.length!=0||this.h.h||(this.m=1,Se(16),h=!1),this.o=this.o&&h,!h)bi(this.i,this.l,b,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(b.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),yl(ut),ut.P=!0,Se(11))}}else bi(this.i,this.l,b,null),wi(this,b);It==4&&Sn(this),this.o&&!this.K&&(It==4?mc(this.j,this):(this.o=!1,Si(this)))}else Wi(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),Sn(this),kn(this)}}}catch{}finally{}};function Zf(h){if(!sc(h))return h.g.la();const v=Ke(h.g);if(v==="")return"";let b="";const w=v.length,F=ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),kn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<w;Q++)h.h.h=!0,b+=h.h.i.decode(v[Q],{stream:!(F&&Q==w-1)});return v.length=0,h.h.g+=b,h.C=0,h.h.g}function sc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function rc(h,v){var b=h.C,w=v.indexOf(`
`,b);return w==-1?Be:(b=Number(v.substring(b,w)),isNaN(b)?Ae:(w+=1,w+b>v.length?Be:(v=v.slice(w,w+b),h.C=w+b,v)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function Si(h){h.T=Date.now()+h.H,Ia(h,h.H)}function Ia(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ti(g(h.aa,h),v)}function Ai(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Pr(this.i,this.B),this.M!=2&&(vi(),Se(17)),Sn(this),this.m=2,kn(this)):Ia(this,this.T-h)};function kn(h){h.j.I==0||h.K||mc(h.j,h)}function Sn(h){Ai(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,tl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function wi(h,v){try{var b=h.j;if(b.I!=0&&(b.g==h||Ri(b.h,h))){if(!h.L&&Ri(b.h,h)&&b.I==3){try{var w=b.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)La(b),Ms(b);else break t;Gr(b),Se(18)}}else b.xa=F[1],0<b.xa-b.K&&F[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ti(g(b.Va,b),6e3));xi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Mi(b,11)}else if((h.L||b.g==h)&&La(b),!D(v))for(F=b.Ba.g.parse(v),v=0;v<F.length;v++){let Kt=F[v];const ue=Kt[0];if(!(ue<=b.K))if(b.K=ue,Kt=Kt[1],b.I==2)if(Kt[0]=="c"){b.M=Kt[1],b.ba=Kt[2];const Ln=Kt[3];Ln!=null&&(b.ka=Ln,b.j.info("VER="+b.ka));const ki=Kt[4];ki!=null&&(b.za=ki,b.j.info("SVER="+b.za));const ii=Kt[5];ii!=null&&typeof ii=="number"&&ii>0&&(w=1.5*ii,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const si=h.g;if(si){const Kr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var Q=w.h;Q.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(rl(Q,Q.h),Q.h=null))}if(w.G){const ja=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(w.wa=ja,Xt(w.J,w.G,ja))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ut=h;if(w.na=yc(w,w.L?w.ba:null,w.W),ut.L){al(w.h,ut);var It=ut,ye=w.O;ye&&(It.H=ye),It.D&&(Ai(It),Si(It)),w.g=ut}else fc(w);b.i.length>0&&Vi(b)}else Kt[0]!="stop"&&Kt[0]!="close"||Mi(b,7);else b.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Mi(b,7):pl(b):Kt[0]!="noop"&&b.l&&b.l.qa(Kt),b.A=0)}}vi(4)}catch{}}var we=class{constructor(h,v){this.g=h,this.map=v}};function il(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function xi(h){return h.h?1:h.g?h.g.size:0}function Ri(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function rl(h,v){h.g?h.g.add(v):h.h=v}function al(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}il.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ol(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.G);return v}return R(h.i)}var ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(h,v){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const w=h[b].indexOf("=");let F,Q=null;w>=0?(F=h[b].substring(0,w),Q=h[b].substring(w+1)):F=h[b],v(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,ze(this,h.j),this.o=h.o,this.g=h.g,xs(this,h.u),this.h=h.h,ll(this,cc(h.i)),this.m=h.m):h&&(v=String(h).match(ac))?(this.l=!1,ze(this,v[1]||"",!0),this.o=Ci(v[2]||""),this.g=Ci(v[3]||"",!0),xs(this,v[4]),this.h=Ci(v[5]||"",!0),ll(this,v[6]||"",!0),this.m=Ci(v[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Ur(v,Na,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ur(v,Na,!0),"@"),h.push(Xi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Ur(b,b.charAt(0)=="/"?ul:oc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Ur(b,lc)),h.join("")},An.prototype.resolve=function(h){const v=xe(this);let b=!!h.j;b?ze(v,h.j):b=!!h.o,b?v.o=h.o:b=!!h.g,b?v.g=h.g:b=h.u!=null;var w=h.h;if(b)xs(v,h.u);else if(b=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=v.h.lastIndexOf("/");F!=-1&&(w=v.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let ut=0;ut<F.length;){const It=F[ut++];It=="."?w&&ut==F.length&&Q.push(""):It==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&ut==F.length&&Q.push("")):(Q.push(It),w=!0)}w=Q.join("/")}else w=F}return b?v.h=w:b=h.i.toString()!=="",b?ll(v,cc(h.i)):b=!!h.m,b&&(v.m=h.m),v};function xe(h){return new An(h)}function ze(h,v,b){h.j=b?Ci(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function xs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function ll(h,v,b){v instanceof Cs?(h.i=v,Ma(h.i,h.l)):(b||(v=Ur(v,Rs)),h.i=new Cs(v,h.l))}function Xt(h,v,b){h.i.set(v,b)}function jr(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ci(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ur(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,mn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Na=/[#\/\?@]/g,oc=/[#\?:]/g,ul=/[#\?]/g,Rs=/[#\?@]/g,lc=/#/g;function Cs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Da(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Cs.prototype,n.add=function(h,v){pn(this),this.i=null,h=Is(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function uc(h,v){pn(h),v=Is(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function cl(h,v){return pn(h),v=Is(h,v),h.g.has(v)}n.forEach=function(h,v){pn(this),this.g.forEach(function(b,w){b.forEach(function(F){h.call(v,F,w,this)},this)},this)};function hl(h,v){pn(h);let b=[];if(typeof v=="string")cl(h,v)&&(b=b.concat(h.g.get(Is(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)b=b.concat(h[v]);return b}n.set=function(h,v){return pn(this),this.i=null,h=Is(this,h),cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=hl(this,h),h.length>0?String(h[0]):v):v};function Va(h,v,b){uc(h,v),b.length>0&&(h.i=null,h.g.set(Is(h,v),R(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var b=v[w];const F=Xi(b);b=hl(this,b);for(let Q=0;Q<b.length;Q++){let ut=F;b[Q]!==""&&(ut+="="+Xi(b[Q])),h.push(ut)}}return this.i=h.join("&")};function cc(h){const v=new Cs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Is(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ma(h,v){v&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(b,w){const F=w.toLowerCase();w!=F&&(uc(this,w),Va(this,F,b))},h)),h.j=v}function ti(h,v){const b=new Wn;if(c.Image){const w=new Image;w.onload=y(Pn,b,"TestLoadImage: loaded",!0,v,w),w.onerror=y(Pn,b,"TestLoadImage: error",!1,v,w),w.onabort=y(Pn,b,"TestLoadImage: abort",!1,v,w),w.ontimeout=y(Pn,b,"TestLoadImage: timeout",!1,v,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function fl(h,v){const b=new Wn,w=new AbortController,F=setTimeout(()=>{w.abort(),Pn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(Q=>{clearTimeout(F),Q.ok?Pn(b,"TestPingServer: ok",!0,v):Pn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Pn(b,"TestPingServer: error",!1,v)})}function Pn(h,v,b,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(b)}catch{}}function Ds(){this.g=new Wu}function Ii(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ii,Ju),Ii.prototype.g=function(){return new Br(this.i,this.h)};function Br(h,v){Ee.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Br,Ee),n=Br.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ei(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ns(this):ei(this),this.readyState==3&&ka(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ns(this))},n.Na=function(h){this.g&&(this.response=h,Ns(this))},n.ga=function(){this.g&&Ns(this)};function Ns(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function On(h){let v="";return At(h,function(b,w){v+=w,v+=":",v+=b,v+=`\r
`}),v}function zr(h,v,b){t:{for(w in b){var w=!1;break t}w=!0}w||(b=On(b),typeof h=="string"?b!=null&&Xi(b):Xt(h,v,b))}function Jt(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Jt,Ee);var Di=/^https?$/i,dl=["POST","PUT"];n=Jt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nl.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Fr(this,Q);return}if(h=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)b.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())b.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(dl,v,void 0)>=0)||w||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ut]of b)this.g.setRequestHeader(Q,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Fr(this,Q)}};function Fr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ml(h),$i(h)}function ml(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Jt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},n.Xa=function(){Hr(this)};function Hr(h){if(h.h&&typeof u<"u"){if(h.v&&ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),ni(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var b;if(!(b=v)){var w;if(w=Q===0){let ut=String(h.D).match(ac)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),w=!Di.test(ut?ut.toLowerCase():"")}b=w}if(b)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var F=ni(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",ml(h)}}finally{$i(h)}}}}function $i(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,v||Pe(h,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}n.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),$f(v)}};function Ke(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(h){const v={};h=(h.g&&ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(D(h[w]))continue;var b=ic(h[w]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=v[F]||[];v[F]=Q,Q.push(b)}Mt(v,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Vs(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,h),this.Za=Ni("retryDelaySeedMs",1e4,h),this.Ta=Ni("forwardChannelMaxRetries",2,h),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new il(h&&h.concurrentRequestLimit),this.Ba=new Ds,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Vs.prototype,n.ka=8,n.I=1,n.connect=function(h,v,b,w){Se(0),this.W=h,this.H=v||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=yc(this,null,this.W),Vi(this)};function pl(h){if(Pa(h),h.I==3){var v=h.V++,b=xe(h.J);if(Xt(b,"SID",h.M),Xt(b,"RID",v),Xt(b,"TYPE","terminate"),qr(h,b),v=new Jn(h,h.j,v),v.M=2,v.A=jr(xe(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=v.A,b=!0),b||(v.g=vc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Si(v)}gc(h)}function Ms(h){h.g&&(yl(h),h.g.cancel(),h.g=null)}function Pa(h){Ms(h),h.v&&(c.clearTimeout(h.v),h.v=null),La(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Vi(h){if(!sl(h.h)&&!h.m){h.m=!0;var v=h.Ea;J||x(),at||(J(),at=!0),C.add(v,h),h.D=0}}function Oa(h,v){return xi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ti(g(h.Ea,h,v),pc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Jn(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=k(Q),ht(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)t:{for(var v=0,b=0;b<this.i.length;b++){e:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=b;break t}if(v===4096||b===this.i.length-1){v=b+1;break t}}v=1e3}else v=1e3;v=hc(this,F,v),b=xe(this.J),Xt(b,"RID",h),Xt(b,"CVER",22),this.G&&Xt(b,"X-HTTP-Session-Id",this.G),qr(this,b),Q&&(this.R?v="headers="+Xi(On(Q))+"&"+v:this.u&&zr(b,this.u,Q)),rl(this.h,F),this.Ra&&Xt(b,"TYPE","init"),this.S?(Xt(b,"$req",v),Xt(b,"SID","null"),F.U=!0,Ei(F,b,null)):Ei(F,b,v),this.I=2}}else this.I==3&&(h?gl(this,h):this.i.length==0||sl(this.h)||gl(this))};function gl(h,v){var b;v?b=v.l:b=h.V++;const w=xe(h.J);Xt(w,"SID",h.M),Xt(w,"RID",b),Xt(w,"AID",h.K),qr(h,w),h.u&&h.o&&zr(w,h.u,h.o),b=new Jn(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),v&&(h.i=v.G.concat(h.i)),v=hc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),rl(h.h,b),Ei(b,w,v)}function qr(h,v){h.H&&At(h.H,function(b,w){Xt(v,w,b)}),h.l&&At({},function(b,w){Xt(v,w,b)})}function hc(h,v,b){b=Math.min(h.i.length,b);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var F=h.i;let It=-1;for(;;){const ye=["count="+b];It==-1?b>0?(It=F[0].g,ye.push("ofs="+It)):It=0:ye.push("ofs="+It);let Kt=!0;for(let ue=0;ue<b;ue++){var Q=F[ue].g;const Ln=F[ue].map;if(Q-=It,Q<0)It=Math.max(0,F[ue].g-100),Kt=!1;else try{Q="req"+Q+"_"||"";try{var ut=Ln instanceof Map?Ln:Object.entries(Ln);for(const[ki,ii]of ut){let si=ii;m(ii)&&(si=ws(ii)),ye.push(Q+ki+"="+encodeURIComponent(si))}}catch(ki){throw ye.push(Q+"type="+encodeURIComponent("_badmap")),ki}}catch{w&&w(Ln)}}if(Kt){ut=ye.join("&");break t}}ut=void 0}return h=h.i.splice(0,b),v.G=h,ut}function fc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;J||x(),at||(J(),at=!0),C.add(v,h),h.A=0}}function Gr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ti(g(h.Da,h),pc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,dc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ti(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Ms(this),dc(this))};function yl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function dc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=xe(h.na);Xt(v,"RID","rpc"),Xt(v,"SID",h.M),Xt(v,"AID",h.K),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(v,"TO",h.ia),Xt(v,"TYPE","xmlhttp"),qr(h,v),h.u&&h.o&&zr(v,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=jr(xe(v)),b.u=null,b.R=!0,Ca(b,h)}n.Va=function(){this.C!=null&&(this.C=null,Ms(this),Gr(this),Se(19))};function La(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function mc(h,v){var b=null;if(h.g==v){La(h),yl(h),h.g=null;var w=2}else if(Ri(h.h,v))b=v.G,al(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var F=h.D;w=Ra(),Pe(w,new _i(w,b)),Vi(h)}else fc(h);else if(F=v.m,F==3||F==0&&v.X>0||!(w==1&&Oa(h,v)||w==2&&Gr(h)))switch(b&&b.length>0&&(v=h.h,v.i=v.i.concat(b)),F){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function pc(h,v){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*v}function Mi(h,v){if(h.j.info("Error code "+v),v==2){var b=g(h.bb,h),w=h.Ua;const F=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ze(w,"https"),jr(w),F?ti(w.toString(),b):fl(w.toString(),b)}else Se(2);h.I=0,h.l&&h.l.pa(v),gc(h),Pa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function gc(h){if(h.I=0,h.ja=[],h.l){const v=ol(h.h);(v.length!=0||h.i.length!=0)&&(L(h.ja,v),L(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function yc(h,v,b){var w=b instanceof An?xe(b):new An(b);if(w.g!="")v&&(w.g=v+"."+w.g),xs(w,w.u);else{var F=c.location;w=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const Q=new An(null);w&&ze(Q,w),v&&(Q.g=v),F&&xs(Q,F),b&&(Q.h=b),w=Q}return b=h.G,v=h.wa,b&&v&&Xt(w,b,v),Xt(w,"VER",h.ka),qr(h,w),w}function vc(h,v,b){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Jt(new Ii({ab:b})):new Jt(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}n=_c.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ks(){}ks.prototype.g=function(h,v){return new un(h,v)};function un(h,v){Ee.call(this),this.g=new Vs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ji(this)}T(un,Ee),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){pl(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=ws(h),h=b);v.i.push(new we(v.Ya++,h)),v.I==3&&Vi(v)},un.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,un.Z.N.call(this)};function Tc(h){Ge.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const b in v){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(Tc,Ge);function bc(){Mn.call(this),this.status=1}T(bc,Mn);function Ji(h){this.g=h}T(Ji,_c),Ji.prototype.ra=function(){Pe(this.g,"a")},Ji.prototype.qa=function(h){Pe(this.g,new Tc(h))},Ji.prototype.pa=function(h){Pe(this.g,new bc)},Ji.prototype.oa=function(){Pe(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,r1=function(){return new ks},s1=function(){return Ra()},i1=ge,Lp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,Uh=Or,el.COMPLETE="complete",n1=el,Zu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,su=Zu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,e1=Jt}).apply(typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Ho="12.8.0";function FD(n){Ho=n}const _a=new Ag("@firebase/firestore");function po(){return _a.logLevel}function ft(n,...t){if(_a.logLevel<=jt.DEBUG){const e=t.map(kg);_a.debug(`Firestore (${Ho}): ${n}`,...e)}}function Ts(n,...t){if(_a.logLevel<=jt.ERROR){const e=t.map(kg);_a.error(`Firestore (${Ho}): ${n}`,...e)}}function Vo(n,...t){if(_a.logLevel<=jt.WARN){const e=t.map(kg);_a.warn(`Firestore (${Ho}): ${n}`,...e)}}function kg(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Et(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,a1(n,r,e)}function a1(n,t,e){let r=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Ts(r),new Error(r)}function Qt(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||a1(t,o,r)}function Ct(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Ss{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class o1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(sn.UNAUTHENTICATED)))}shutdown(){}}class qD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class GD{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new o1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class KD{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class YD{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new KD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class XT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const r=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new XT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new XT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class Pg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=XD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Ut(n,t){return n<t?-1:n>t?1:0}function jp(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return ap(o)===ap(u)?Ut(o,u):ap(o)?1:-1}return Ut(n.length,t.length)}const $D=55296,WD=57343;function ap(n){const t=n.charCodeAt(0);return t>=$D&&t<=WD}function Mo(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}const $T="__name__";class Ui{constructor(t,e,r){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Et(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Ui.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ui?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Ui.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Ut(t.length,e.length)}static compareSegments(t,e){const r=Ui.isNumericId(t),o=Ui.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Ui.extractNumericId(t).compare(Ui.extractNumericId(e)):jp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return pr.fromString(t.substring(4,t.length-2))}}class re extends Ui{construct(t,e,r){return new re(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new re(e)}static emptyPath(){return new re([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ui{construct(t,e,r){return new Ze(t,e,r)}static isValidIdentifier(t){return JD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$T}static keyField(){return new Ze([$T])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new yt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new yt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new yt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(re.fromString(t))}static fromName(t){return new Tt(re.fromString(t).popFirst(5))}static empty(){return new Tt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new re(t.slice()))}}function l1(n,t,e){if(!e)throw new yt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function ZD(n,t,e,r){if(t===!0&&r===!0)throw new yt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function WT(n){if(!Tt.isDocumentKey(n))throw new yt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JT(n){if(Tt.isDocumentKey(n))throw new yt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function u1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Og(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function mi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Og(n);throw new yt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Me(n,t){const e={typeString:n};return t&&(e.value=t),e}function Uu(n,t){if(!u1(n))throw new yt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new yt(rt.INVALID_ARGUMENT,e);return!0}const ZT=-62135596800,tb=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*tb);return new ae(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<ZT)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tb}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uu(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ZT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Me("string",ae._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new ae(0,0))}static max(){return new xt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function tN(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=xt.fromTimestamp(r===1e9?new ae(e+1,0):new ae(e,r));return new Tr(o,Tt.empty(),t)}function eN(n){return new Tr(n.readTime,n.key,Eu)}class Tr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Tr(xt.min(),Tt.empty(),Eu)}static max(){return new Tr(xt.max(),Tt.empty(),Eu)}}function nN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Tt.comparator(n.documentKey,t.documentKey),e!==0?e:Ut(n.largestBatchId,t.largestBatchId))}const iN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function qo(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==iN)throw n;ft("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,r)=>{e(t)}))}static reject(t){return new st(((e,r)=>{r(t)}))}static waitFor(t){return new st(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=st.resolve(!1);for(const r of t)e=e.next((o=>o?st.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new st(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((y=>{c[g]=y,++m,m===u&&r(c)}),(y=>o(y)))}}))}static doWhile(t,e){return new st(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function rN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Go(n){return n.name==="IndexedDbTransactionError"}class Cf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Cf.ce=-1;const Lg=-1;function If(n){return n==null}function sf(n){return n===0&&1/n==-1/0}function aN(n){return typeof n=="number"&&Number.isInteger(n)&&!sf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const c1="";function oN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=eb(t)),t=lN(n.get(e),t);return eb(t)}function lN(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case c1:e+="";break;default:e+=u}}return e}function eb(n){return n+c1+""}function nb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Cr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function h1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class fe{constructor(t,e){this.comparator=t,this.root=e||Je.EMPTY}insert(t,e){return new fe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rh(this.root,t,this.comparator,!0)}}class Rh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Je.RED,this.left=o??Je.EMPTY,this.right=u??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Je(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Je(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ib(this.data.getIterator())}getIteratorFrom(t){return new ib(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ue(this.comparator);return e.data=t,e}}class ib{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Vn([])}unionWith(t){let e=new Ue(Ze.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Vn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Mo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class f1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new f1("Invalid base64 string: "+u):u}})(t);return new tn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const uN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=uN.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Er(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}const d1="server_timestamp",m1="__type__",p1="__previous_value__",g1="__local_write_time__";function jg(n){return(n?.mapValue?.fields||{})[m1]?.stringValue===d1}function Df(n){const t=n.mapValue.fields[p1];return jg(t)?Df(t):t}function Su(n){const t=br(n.mapValue.fields[g1].timestampValue);return new ae(t.seconds,t.nanos)}class cN{constructor(t,e,r,o,u,c,m,p,g,y,T){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=T}}const rf="(default)";class Au{constructor(t,e){this.projectId=t,this.database=e||rf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===rf}isEqual(t){return t instanceof Au&&t.projectId===this.projectId&&t.database===this.database}}function hN(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new yt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(n.options.projectId,t)}const y1="__type__",fN="__max__",Ch={mapValue:{}},v1="__vector__",af="value";function Sr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jg(n)?4:mN(n)?9007199254740991:dN(n)?10:11:Et(28295,{value:n})}function Ki(n,t){if(n===t)return!0;const e=Sr(n);if(e!==Sr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Su(n).isEqual(Su(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=br(o.timestampValue),m=br(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Er(o.bytesValue).isEqual(Er(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Te(o.doubleValue),m=Te(u.doubleValue);return c===m?sf(c)===sf(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return Mo(n.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(nb(c)!==nb(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Ki(c[p],m[p])))return!1;return!0})(n,t);default:return Et(52216,{left:n})}}function wu(n,t){return(n.values||[]).find((e=>Ki(e,t)))!==void 0}function ko(n,t){if(n===t)return 0;const e=Sr(n),r=Sr(t);if(e!==r)return Ut(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return sb(n.timestampValue,t.timestampValue);case 4:return sb(Su(n),Su(t));case 5:return jp(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=Er(u),p=Er(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const y=Ut(m[g],p[g]);if(y!==0)return y}return Ut(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Ut(Te(u.latitude),Te(c.latitude));return m!==0?m:Ut(Te(u.longitude),Te(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return rb(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[af]?.arrayValue,y=p[af]?.arrayValue,T=Ut(g?.values?.length||0,y?.values?.length||0);return T!==0?T:rb(g,y)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Ch.mapValue&&c===Ch.mapValue)return 0;if(u===Ch.mapValue)return 1;if(c===Ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let T=0;T<p.length&&T<y.length;++T){const E=jp(p[T],y[T]);if(E!==0)return E;const R=ko(m[p[T]],g[y[T]]);if(R!==0)return R}return Ut(p.length,y.length)})(n.mapValue,t.mapValue);default:throw Et(23264,{he:e})}}function sb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const e=br(n),r=br(t),o=Ut(e.seconds,r.seconds);return o!==0?o:Ut(e.nanos,r.nanos)}function rb(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=ko(e[o],r[o]);if(u)return u}return Ut(e.length,r.length)}function Po(n){return Up(n)}function Up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=br(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Er(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Tt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Up(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Up(e.fields[c])}`;return o+"}"})(n.mapValue):Et(61005,{value:n})}function Bh(n){switch(Sr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Df(n);return t?16+Bh(t):16;case 5:return 2*n.stringValue.length;case 6:return Er(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Bh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Cr(r.fields,((u,c)=>{o+=u.length+Bh(c)})),o})(n.mapValue);default:throw Et(13486,{value:n})}}function Bp(n){return!!n&&"integerValue"in n}function Ug(n){return!!n&&"arrayValue"in n}function ab(n){return!!n&&"nullValue"in n}function ob(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zh(n){return!!n&&"mapValue"in n}function dN(n){return(n?.mapValue?.fields||{})[y1]?.stringValue===v1}function fu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Cr(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=fu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=fu(n.arrayValue.values[e]);return t}return{...n}}function mN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fN}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!zh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=fu(e)}setAll(t){let e=Ze.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=fu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());zh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Cr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new En(fu(this.value))}}function _1(n){const t=[];return Cr(n.fields,((e,r)=>{const o=new Ze([e]);if(zh(r)){const u=_1(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Vn(t)}class rn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new rn(t,0,xt.min(),xt.min(),xt.min(),En.empty(),0)}static newFoundDocument(t,e,r,o){return new rn(t,1,e,xt.min(),r,o,0)}static newNoDocument(t,e){return new rn(t,2,e,xt.min(),xt.min(),En.empty(),0)}static newUnknownDocument(t,e){return new rn(t,3,e,xt.min(),xt.min(),En.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(t,e){this.position=t,this.inclusive=e}}function lb(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=Tt.comparator(Tt.fromName(c.referenceValue),e.key):r=ko(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ub(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ki(n.position[e],t.position[e]))return!1;return!0}class lf{constructor(t,e="asc"){this.field=t,this.dir=e}}function pN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class T1{}class je extends T1{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new yN(t,e,r):e==="array-contains"?new TN(t,r):e==="in"?new bN(t,r):e==="not-in"?new EN(t,r):e==="array-contains-any"?new SN(t,r):new je(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new vN(t,r):new _N(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(ko(e,this.value)):e!==null&&Sr(this.value)===Sr(e)&&this.matchesComparison(ko(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends T1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Yi(t,e)}matches(t){return b1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b1(n){return n.op==="and"}function E1(n){return gN(n)&&b1(n)}function gN(n){for(const t of n.filters)if(t instanceof Yi)return!1;return!0}function zp(n){if(n instanceof je)return n.field.canonicalString()+n.op.toString()+Po(n.value);if(E1(n))return n.filters.map((t=>zp(t))).join(",");{const t=n.filters.map((e=>zp(e))).join(",");return`${n.op}(${t})`}}function S1(n,t){return n instanceof je?(function(r,o){return o instanceof je&&r.op===o.op&&r.field.isEqual(o.field)&&Ki(r.value,o.value)})(n,t):n instanceof Yi?(function(r,o){return o instanceof Yi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&S1(c,o.filters[m])),!0):!1})(n,t):void Et(19439)}function A1(n){return n instanceof je?(function(e){return`${e.field.canonicalString()} ${e.op} ${Po(e.value)}`})(n):n instanceof Yi?(function(e){return e.op.toString()+" {"+e.getFilters().map(A1).join(" ,")+"}"})(n):"Filter"}class yN extends je{constructor(t,e,r){super(t,e,r),this.key=Tt.fromName(r.referenceValue)}matches(t){const e=Tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class vN extends je{constructor(t,e){super(t,"in",e),this.keys=w1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class _N extends je{constructor(t,e){super(t,"not-in",e),this.keys=w1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function w1(n,t){return(t.arrayValue?.values||[]).map((e=>Tt.fromName(e.referenceValue)))}class TN extends je{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ug(e)&&wu(e.arrayValue,this.value)}}class bN extends je{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&wu(this.value.arrayValue,e)}}class EN extends je{constructor(t,e){super(t,"not-in",e)}matches(t){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!wu(this.value.arrayValue,e)}}class SN extends je{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ug(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>wu(this.value.arrayValue,r)))}}class AN{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function cb(n,t=null,e=[],r=[],o=null,u=null,c=null){return new AN(n,t,e,r,o,u,c)}function Bg(n){const t=Ct(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>zp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),If(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Po(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Po(r))).join(",")),t.Te=e}return t.Te}function zg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!pN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!S1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ub(n.startAt,t.startAt)&&ub(n.endAt,t.endAt)}function Fp(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Nf{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wN(n,t,e,r,o,u,c,m){return new Nf(n,t,e,r,o,u,c,m)}function Vf(n){return new Nf(n)}function hb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xN(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function RN(n){return n.collectionGroup!==null}function du(n){const t=Ct(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ue(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new lf(u,r))})),e.has(Ze.keyField().canonicalString())||t.Ie.push(new lf(Ze.keyField(),r))}return t.Ie}function Fi(n){const t=Ct(n);return t.Ee||(t.Ee=CN(t,du(n))),t.Ee}function CN(n,t){if(n.limitType==="F")return cb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new lf(o.field,u)}));const e=n.endAt?new of(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new of(n.startAt.position,n.startAt.inclusive):null;return cb(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Hp(n,t,e){return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Mf(n,t){return zg(Fi(n),Fi(t))&&n.limitType===t.limitType}function x1(n){return`${Bg(Fi(n))}|lt:${n.limitType}`}function go(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>A1(o))).join(", ")}]`),If(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Po(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Po(o))).join(",")),`Target(${r})`})(Fi(n))}; limitType=${n.limitType})`}function kf(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Tt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of du(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=lb(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,du(r),o)||r.endAt&&!(function(c,m,p){const g=lb(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,du(r),o))})(n,t)}function IN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R1(n){return(t,e)=>{let r=!1;for(const o of du(n)){const u=DN(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function DN(n,t,e){const r=n.field.isKeyField()?Tt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ko(p,g):Et(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:n.dir})}}class Ea{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Cr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return h1(this.inner)}size(){return this.innerSize}}const NN=new fe(Tt.comparator);function bs(){return NN}const C1=new fe(Tt.comparator);function ru(...n){let t=C1;for(const e of n)t=t.insert(e.key,e);return t}function I1(n){let t=C1;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function fa(){return mu()}function D1(){return mu()}function mu(){return new Ea((n=>n.toString()),((n,t)=>n.isEqual(t)))}const VN=new fe(Tt.comparator),MN=new Ue(Tt.comparator);function Bt(...n){let t=MN;for(const e of n)t=t.add(e);return t}const kN=new Ue(Ut);function PN(){return kN}function Fg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(t)?"-0":t}}function N1(n){return{integerValue:""+n}}function ON(n,t){return aN(t)?N1(t):Fg(n,t)}class Pf{constructor(){this._=void 0}}function LN(n,t,e){return n instanceof xu?(function(o,u){const c={fields:{[m1]:{stringValue:d1},[g1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jg(u)&&(u=Df(u)),u&&(c.fields[p1]=u),{mapValue:c}})(e,t):n instanceof Oo?M1(n,t):n instanceof Ru?k1(n,t):(function(o,u){const c=V1(o,u),m=fb(c)+fb(o.Ae);return Bp(c)&&Bp(o.Ae)?N1(m):Fg(o.serializer,m)})(n,t)}function jN(n,t,e){return n instanceof Oo?M1(n,t):n instanceof Ru?k1(n,t):e}function V1(n,t){return n instanceof uf?(function(r){return Bp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class xu extends Pf{}class Oo extends Pf{constructor(t){super(),this.elements=t}}function M1(n,t){const e=P1(t);for(const r of n.elements)e.some((o=>Ki(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Ru extends Pf{constructor(t){super(),this.elements=t}}function k1(n,t){let e=P1(t);for(const r of n.elements)e=e.filter((o=>!Ki(o,r)));return{arrayValue:{values:e}}}class uf extends Pf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function fb(n){return Te(n.integerValue||n.doubleValue)}function P1(n){return Ug(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class O1{constructor(t,e){this.field=t,this.transform=e}}function UN(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Oo&&o instanceof Oo||r instanceof Ru&&o instanceof Ru?Mo(r.elements,o.elements,Ki):r instanceof uf&&o instanceof uf?Ki(r.Ae,o.Ae):r instanceof xu&&o instanceof xu})(n.transform,t.transform)}class BN{constructor(t,e){this.version=t,this.transformResults=e}}class pi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new pi}static exists(t){return new pi(void 0,t)}static updateTime(t){return new pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Of{}function L1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new U1(n.key,pi.none()):new Bu(n.key,n.data,pi.none());{const e=n.data,r=En.empty();let o=new Ue(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Ir(n.key,r,new Vn(o.toArray()),pi.none())}}function zN(n,t,e){n instanceof Bu?(function(o,u,c){const m=o.value.clone(),p=mb(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):n instanceof Ir?(function(o,u,c){if(!Fh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=mb(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(j1(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function pu(n,t,e,r){return n instanceof Bu?(function(u,c,m,p){if(!Fh(u.precondition,c))return m;const g=u.value.clone(),y=pb(u.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,r):n instanceof Ir?(function(u,c,m,p){if(!Fh(u.precondition,c))return m;const g=pb(u.fieldTransforms,p,c),y=c.data;return y.setAll(j1(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(n,t,e,r):(function(u,c,m){return Fh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,e)}function FN(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=V1(r.transform,o||null);u!=null&&(e===null&&(e=En.empty()),e.set(r.field,u))}return e||null}function db(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Mo(r,o,((u,c)=>UN(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Bu extends Of{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ir extends Of{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function j1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function mb(n,t,e){const r=new Map;Qt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,jN(c,m,e[o]))}return r}function pb(n,t,e){const r=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);r.set(o.field,LN(u,c,t))}return r}class U1 extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HN extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qN{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&zN(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=pu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=pu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=D1();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=L1(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(xt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&Mo(this.mutations,t.mutations,((e,r)=>db(e,r)))&&Mo(this.baseMutations,t.baseMutations,((e,r)=>db(e,r)))}}class Hg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return VN})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Hg(t,e,r,o)}}class GN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KN{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ne,Ht;function YN(n){switch(n){case rt.OK:return Et(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function B1(n){if(n===void 0)return Ts("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Ne.OK:return rt.OK;case Ne.CANCELLED:return rt.CANCELLED;case Ne.UNKNOWN:return rt.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return rt.INTERNAL;case Ne.UNAVAILABLE:return rt.UNAVAILABLE;case Ne.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ne.NOT_FOUND:return rt.NOT_FOUND;case Ne.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ne.ABORTED:return rt.ABORTED;case Ne.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ne.DATA_LOSS:return rt.DATA_LOSS;default:return Et(39323,{code:n})}}(Ht=Ne||(Ne={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function QN(){return new TextEncoder}const XN=new pr([4294967295,4294967295],0);function gb(n){const t=QN().encode(n),e=new t1;return e.update(t),new Uint8Array(e.digest())}function yb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new pr([e,r],0),new pr([o,u],0)]}class qg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new au(`Invalid padding: ${e}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new au(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=pr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(pr.fromNumber(r)));return o.compare(XN)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=gb(t),[r,o]=yb(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new qg(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=gb(t),[r,o]=yb(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,zu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Lf(xt.min(),o,new fe(Ut),bs(),Bt())}}class zu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new zu(r,e,Bt(),Bt(),Bt())}}class Hh{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=o}}class z1{constructor(t,e){this.targetId=t,this.Ce=e}}class F1{constructor(t,e,r=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class vb{constructor(){this.ve=0,this.Fe=_b(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),e=Bt(),r=Bt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Et(38017,{changeType:u})}})),new zu(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=_b()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $N{constructor(t){this.Ge=t,this.ze=new Map,this.je=bs(),this.He=Ih(),this.Je=Ih(),this.Ze=new fe(Ut)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Fp(u))if(r===0){const c=new Tt(u.path);this.et(e,c,rn.newNoDocument(c,xt.min()))}else Qt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=Er(r).toUint8Array()}catch(p){if(p instanceof f1)return Vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new qg(c,o,u)}catch(p){return Vo(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Fp(m.target)){const p=new Tt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,rn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.Ke())}}));let r=Bt();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Lf(t,e,this.Ze,this.je,r);return this.je=bs(),this.He=Ih(),this.Je=Ih(),this.Ze=new fe(Ut),o}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.qe(e,1):o.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new vb,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ue(Ut),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ue(Ut),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new vb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ih(){return new fe(Tt.comparator)}function _b(){return new fe(Tt.comparator)}const WN={asc:"ASCENDING",desc:"DESCENDING"},JN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZN={and:"AND",or:"OR"};class tV{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function qp(n,t){return n.useProto3Json||If(t)?t:{value:t}}function cf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function H1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function eV(n,t){return cf(n,t.toTimestamp())}function Hi(n){return Qt(!!n,49232),xt.fromTimestamp((function(e){const r=br(e);return new ae(r.seconds,r.nanos)})(n))}function Gg(n,t){return Gp(n,t).canonicalString()}function Gp(n,t){const e=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function q1(n){const t=re.fromString(n);return Qt(X1(t),10190,{key:t.toString()}),t}function Kp(n,t){return Gg(n.databaseId,t.path)}function op(n,t){const e=q1(t);if(e.get(1)!==n.databaseId.projectId)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Tt(K1(e))}function G1(n,t){return Gg(n.databaseId,t)}function nV(n){const t=q1(n);return t.length===4?re.emptyPath():K1(t)}function Yp(n){return new re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function K1(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Tb(n,t,e){return{name:Kp(n,t),fields:e.value.mapValue.fields}}function iV(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,y){return g.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const y=g.code===void 0?rt.UNKNOWN:B1(g.code);return new yt(y,g.message||"")})(c);e=new F1(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=op(n,r.document.name),u=Hi(r.document.updateTime),c=r.document.createTime?Hi(r.document.createTime):xt.min(),m=new En({mapValue:{fields:r.document.fields}}),p=rn.newFoundDocument(o,u,c,m),g=r.targetIds||[],y=r.removedTargetIds||[];e=new Hh(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=op(n,r.document),u=r.readTime?Hi(r.readTime):xt.min(),c=rn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Hh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=op(n,r.document),u=r.removedTargetIds||[];e=new Hh([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new KN(o,u),m=r.targetId;e=new z1(m,c)}}return e}function sV(n,t){let e;if(t instanceof Bu)e={update:Tb(n,t.key,t.value)};else if(t instanceof U1)e={delete:Kp(n,t.key)};else if(t instanceof Ir)e={update:Tb(n,t.key,t.data),updateMask:dV(t.fieldMask)};else{if(!(t instanceof HN))return Et(16599,{dt:t.type});e={verify:Kp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Oo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ru)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:eV(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(n,t.precondition)),e}function rV(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?Hi(o.updateTime):Hi(u);return c.isEqual(xt.min())&&(c=Hi(u)),new BN(c,o.transformResults||[])})(e,t)))):[]}function aV(n,t){return{documents:[G1(n,t.path)]}}function oV(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=G1(n,o);const u=(function(g){if(g.length!==0)return Q1(Yi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((y=>(function(E){return{field:yo(E.field),direction:cV(E.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=qp(n,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function lV(n){let t=nV(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Qt(r===1,65062);const y=e.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];e.where&&(u=(function(T){const E=Y1(T);return E instanceof Yi&&E1(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((E=>(function(L){return new lf(vo(L.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(E)))})(e.orderBy));let m=null;e.limit&&(m=(function(T){let E;return E=typeof T=="object"?T.value:T,If(E)?null:E})(e.limit));let p=null;e.startAt&&(p=(function(T){const E=!!T.before,R=T.values||[];return new of(R,E)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const E=!T.before,R=T.values||[];return new of(R,E)})(e.endAt)),wN(t,o,c,u,m,"F",p,g)}function uV(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Y1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=vo(e.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(e.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(e.unaryFilter.field);return je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(e.unaryFilter.field);return je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(n):n.fieldFilter!==void 0?(function(e){return je.create(vo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Yi.create(e.compositeFilter.filters.map((r=>Y1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(e.compositeFilter.op))})(n):Et(30097,{filter:n})}function cV(n){return WN[n]}function hV(n){return JN[n]}function fV(n){return ZN[n]}function yo(n){return{fieldPath:n.canonicalString()}}function vo(n){return Ze.fromServerFormat(n.fieldPath)}function Q1(n){return n instanceof je?(function(e){if(e.op==="=="){if(ob(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NAN"}};if(ab(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ob(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NOT_NAN"}};if(ab(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(e.field),op:hV(e.op),value:e.value}}})(n):n instanceof Yi?(function(e){const r=e.getFilters().map((o=>Q1(o)));return r.length===1?r[0]:{compositeFilter:{op:fV(e.op),filters:r}}})(n):Et(54877,{filter:n})}function dV(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function X1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function $1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ur{constructor(t,e,r,o,u=xt.min(),c=xt.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class mV{constructor(t){this.yt=t}}function pV(n){const t=lV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hp(t,t.limit,"L"):t}class gV{constructor(){this.Sn=new yV}addToCollectionParentIndex(t,e){return this.Sn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Tr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Tr.min())}updateCollectionGroup(t,e,r){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class yV{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Ue(re.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ue(re.comparator)).toArray()}}const bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W1=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(W1,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Lo(0)}static ar(){return new Lo(-1)}}const Eb="LruGarbageCollector",vV=1048576;function Sb([n,t],[e,r]){const o=Ut(n,e);return o===0?Ut(t,r):o}class _V{constructor(t){this.Pr=t,this.buffer=new Ue(Sb),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Sb(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class TV{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ft(Eb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Go(e)?ft(Eb,"Ignoring IndexedDB error during garbage collection: ",e):await qo(e)}await this.Ar(3e5)}))}}class bV{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(Cf.ce);const r=new _V(e);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(bb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bb):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,o,u,c,m,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),po()<=jt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function EV(n,t){return new bV(n,t)}class SV{constructor(){this.changes=new Ea((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?st.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class AV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class wV{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&pu(r.mutation,o,Vn.empty(),ae.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Bt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Bt()){const o=fa();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=ru();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=fa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Bt())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=bs();const c=mu(),m=(function(){return mu()})();return e.forEach(((p,g)=>{const y=r.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Ir)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),pu(y.mutation,g,y.mutation.getFieldMask(),ae.now())):c.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,y)=>c.set(g,y))),e.forEach(((g,y)=>m.set(g,new AV(y,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=mu();let o=new fe(((c,m)=>c-m)),u=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let y=r.get(p)||Vn.empty();y=m.applyToLocalView(g,y),r.set(p,y);const T=(o.get(m.batchId)||Bt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,y=p.value,T=D1();y.forEach((E=>{if(!u.has(E)){const R=L1(e.get(E),r.get(E));R!==null&&T.set(E,R),u=u.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return st.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return xN(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):RN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):st.resolve(fa());let m=Eu,p=u;return c.next((g=>st.forEach(g,((y,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{p=p.insert(y,E)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Bt()))).next((y=>({batchId:m,changes:I1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tt(e)).next((r=>{let o=ru();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(t,u).next((m=>st.forEach(m,(p=>{const g=(function(T,E){return new Nf(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((y=>{y.forEach(((T,E)=>{c=c.insert(T,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,rn.newInvalidDocument(y)))}));let m=ru();return c.forEach(((p,g)=>{const y=u.get(p);y!==void 0&&pu(y.mutation,g,Vn.empty(),ae.now()),kf(e,g)&&(m=m.insert(p,g))})),m}))}}class xV{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return st.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(o){return{name:o.name,query:pV(o.bundledQuery),readTime:Hi(o.readTime)}})(e)),st.resolve()}}class RV{constructor(){this.overlays=new fe(Tt.comparator),this.Lr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const r=fa();return st.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.bt(t,e,u)})),st.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),st.resolve()}getOverlaysForCollection(t,e,r){const o=fa(),u=e.length+1,c=new Tt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return st.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new fe(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let y=u.get(g.largestBatchId);y===null&&(y=fa(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=fa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>m.set(g,y))),!(m.size()>=o)););return st.resolve(m)}bt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new GN(e,r));let u=this.Lr.get(e);u===void 0&&(u=Bt(),this.Lr.set(e,u)),this.Lr.set(e,u.add(r.key))}}class CV{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class Kg{constructor(){this.kr=new Ue(qe.Kr),this.qr=new Ue(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new qe(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new qe(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new Tt(new re([])),r=new qe(e,t),o=new qe(e,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new Tt(new re([])),r=new qe(e,t),o=new qe(e,t+1);let u=Bt();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new qe(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return Tt.comparator(t.key,e.key)||Ut(t.Hr,e.Hr)}static Ur(t,e){return Ut(t.Hr,e.Hr)||Tt.comparator(t.key,e.key)}}class IV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(qe.Kr)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new qN(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Lg:this.Yn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new qe(e,0),o=new qe(e,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ue(Ut);return e.forEach((o=>{const u=new qe(o,0),c=new qe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),st.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;Tt.isDocumentKey(u)||(u=u.child(""));const c=new qe(new Tt(u),0);let m=new Ue(Ut);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),st.resolve(this.Yr(m))}Yr(t){const e=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Qt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return st.forEach(e.mutations,(o=>{const u=new qe(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new qe(e,0),o=this.Jr.firstAfterOrEqual(r);return st.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class DV{constructor(t){this.ti=t,this.docs=(function(){return new fe(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return st.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(e))}getEntries(t,e){let r=bs();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),st.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=bs();const c=e.path,m=new Tt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||nN(eN(y),r)<=0||(o.has(y.key)||kf(e,y))&&(u=u.insert(y.key,y.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,e,r,o){Et(9500)}ni(t,e){return st.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new NV(this)}getSize(t){return st.resolve(this.size)}}class NV extends SV{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),st.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class VV{constructor(t){this.persistence=t,this.ri=new Ea((e=>Bg(e)),zg),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.ii=0,this.si=new Kg,this.targetCount=0,this.oi=Lo._r()}forEachTarget(t,e){return this.ri.forEach(((r,o)=>e(o))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),st.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Lo(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.lr(e),st.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),st.waitFor(u).next((()=>o))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return st.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),st.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),st.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return st.resolve(r)}containsKey(t,e){return st.resolve(this.si.containsKey(e))}}class J1{constructor(t,e){this._i={},this.overlays={},this.ai=new Cf(0),this.ui=!1,this.ui=!0,this.ci=new CV,this.referenceDelegate=t(this),this.li=new VV(this),this.indexManager=new gV,this.remoteDocumentCache=(function(o){return new DV(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new mV(e),this.Pi=new xV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new RV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new IV(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){ft("MemoryPersistence","Starting transaction:",t);const o=new MV(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,e){return st.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class MV extends sN{constructor(t){super(),this.currentSequenceNumber=t}}class Yg{constructor(t){this.persistence=t,this.Ri=new Kg,this.Ai=null}static Vi(t){return new Yg(t)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),st.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(r=>{const o=Tt.fromPath(r);return this.mi(t,o).next((u=>{u||e.removeEntry(o,xt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class hf{constructor(t,e){this.persistence=t,this.fi=new Ea((r=>oN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=EV(this,e)}static Vi(t,e){return new hf(t,e)}Ti(){}Ii(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return st.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?st.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,e).next((m=>{m||(r++,u.removeEntry(c,xt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),st.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),st.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Bh(t.data.value)),e}wr(t,e,r){return st.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.fi.get(e);return st.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Qg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=o}static Es(t,e){let r=Bt(),o=Bt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qg(t,e.fromCache,r,o)}}class kV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class PV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return AC()?8:rN(on())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.gs(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new kV;return this.ys(t,e,c).next((m=>{if(u.result=m,this.As)return this.ws(t,e,c,m.size)}))})).next((()=>u.result))}ws(t,e,r,o){return r.documentReadCount<this.Vs?(po()<=jt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",go(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(po()<=jt.DEBUG&&ft("QueryEngine","Query:",go(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(po()<=jt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",go(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fi(e))):st.resolve())}gs(t,e){if(hb(e))return st.resolve(null);let r=Fi(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Hp(e,null,"F"),r=Fi(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Bt(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(e,m);return this.Ss(e,g,c,p.readTime)?this.gs(t,Hp(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,r,o){return hb(e)||o.isEqual(xt.min())?st.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(e,u);return this.Ss(e,c,r,o)?st.resolve(null):(po()<=jt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),go(e)),this.Ds(t,c,e,tN(o,Eu)).next((m=>m)))}))}bs(t,e){let r=new Ue(R1(t));return e.forEach(((o,u)=>{kf(t,u)&&(r=r.add(u))})),r}Ss(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,e,r){return po()<=jt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",go(e)),this.fs.getDocumentsMatchingQuery(t,e,Tr.min(),r)}Ds(t,e,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Xg="LocalStore",OV=3e8;class LV{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.vs=new fe(Ut),this.Fs=new Ea((u=>Bg(u)),zg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function jV(n,t,e,r){return new LV(n,t,e,r)}async function Z1(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Bt();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of u){m.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function UV(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,y){const T=g.batch,E=T.keys();let R=st.resolve();return E.forEach((L=>{R=R.next((()=>y.getEntry(p,L))).next((H=>{const O=g.docVersions.get(L);Qt(O!==null,48541),H.version.compareTo(O)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),y.addEntry(H)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Bt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function tA(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function BV(n,t){const e=Ct(n),r=t.snapshotVersion;let o=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});o=e.vs;const m=[];t.targetChanges.forEach(((y,T)=>{const E=o.get(T);if(!E)return;m.push(e.li.removeMatchingKeys(u,y.removedDocuments,T).next((()=>e.li.addMatchingKeys(u,y.addedDocuments,T))));let R=E.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?R=R.withResumeToken(tn.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),o=o.insert(T,R),(function(H,O,j){return H.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=OV?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(E,R,y)&&m.push(e.li.updateTargetData(u,R))}));let p=bs(),g=Bt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,y))})),m.push(zV(u,c,t.documentUpdates).next((y=>{p=y.Bs,g=y.Ls}))),!r.isEqual(xt.min())){const y=e.li.getLastRemoteSnapshotVersion(u).next((T=>e.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(y)}return st.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.vs=o,u)))}function zV(n,t,e){let r=Bt(),o=Bt();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=bs();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ft(Xg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function FV(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Lg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function HV(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.li.getTargetData(r,t).next((u=>u?(o=u,st.resolve(o)):e.li.allocateTargetId(r).next((c=>(o=new ur(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function Qp(n,t,e){const r=Ct(n),o=r.vs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Go(c))throw c;ft(Xg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function Ab(n,t,e){const r=Ct(n);let o=xt.min(),u=Bt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const T=Ct(p),E=T.Fs.get(y);return E!==void 0?st.resolve(T.vs.get(E)):T.li.getTargetData(g,y)})(r,c,Fi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?o:xt.min(),e?u:Bt()))).next((m=>(qV(r,IN(t),m),{documents:m,ks:u})))))}function qV(n,t,e){let r=n.Ms.get(t)||xt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Ms.set(t,r)}class wb{constructor(){this.activeTargetIds=PN()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GV{constructor(){this.vo=new wb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new wb,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class KV{Mo(t){}shutdown(){}}const xb="ConnectivityMonitor";class Rb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ft(xb,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ft(xb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dh=null;function Xp(){return Dh===null?Dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dh++,"0x"+Dh.toString(16)}const lp="RestConnection",YV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class QV{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===rf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,u){const c=Xp(),m=this.Qo(t,e.toUriEncodedString());ft(lp,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),y=Bo(g);return this.zo(t,m,p,r,y).then((T=>(ft(lp,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Vo(lp,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(t,e,r,o,u,c){return this.Wo(t,e,r,o,u)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,e){const r=YV[t];let o=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class XV{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const nn="WebChannelConnection",nu=(n,t,e)=>{n.listen(t,(r=>{try{e(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ro extends QV{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ro.c_){const t=s1();nu(t,i1.STAT_EVENT,(e=>{e.stat===Lp.PROXY?ft(nn,"STAT_EVENT: detected buffering proxy"):e.stat===Lp.NOPROXY&&ft(nn,"STAT_EVENT: detected no buffering proxy")})),Ro.c_=!0}}zo(t,e,r,o,u){const c=Xp();return new Promise(((m,p)=>{const g=new e1;g.setWithCredentials(!0),g.listenOnce(n1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const T=g.getResponseJson();ft(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case Uh.TIMEOUT:ft(nn,`RPC '${t}' ${c} timed out`),p(new yt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const E=g.getStatus();if(ft(nn,`RPC '${t}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=R?.error;if(L&&L.status&&L.message){const H=(function(j){const W=j.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(W)>=0?W:rt.UNKNOWN})(L.status);p(new yt(H,L.message))}else p(new yt(rt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new yt(rt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(nn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);ft(nn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",y,r,15)}))}T_(t,e,r){const o=Xp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const g=u.join("");ft(nn,`Creating RPC '${t}' stream ${o}: ${g}`,m);const y=c.createWebChannel(g,m);this.I_(y);let T=!1,E=!1;const R=new XV({Ho:L=>{E?ft(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(T||(ft(nn,`Opening RPC '${t}' stream ${o} transport.`),y.open(),T=!0),ft(nn,`RPC '${t}' stream ${o} sending:`,L),y.send(L))},Jo:()=>y.close()});return nu(y,su.EventType.OPEN,(()=>{E||(ft(nn,`RPC '${t}' stream ${o} transport opened.`),R.i_())})),nu(y,su.EventType.CLOSE,(()=>{E||(E=!0,ft(nn,`RPC '${t}' stream ${o} transport closed`),R.o_(),this.E_(y))})),nu(y,su.EventType.ERROR,(L=>{E||(E=!0,Vo(nn,`RPC '${t}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),R.o_(new yt(rt.UNAVAILABLE,"The operation could not be completed")))})),nu(y,su.EventType.MESSAGE,(L=>{if(!E){const H=L.data[0];Qt(!!H,16349);const O=H,j=O?.error||O[0]?.error;if(j){ft(nn,`RPC '${t}' stream ${o} received error:`,j);const W=j.status;let z=(function(at){const C=Ne[at];if(C!==void 0)return B1(C)})(W),$=j.message;z===void 0&&(z=rt.INTERNAL,$="Unknown error status: "+W+" with message "+j.message),E=!0,R.o_(new yt(z,$)),y.close()}else ft(nn,`RPC '${t}' stream ${o} received:`,H),R.__(H)}})),Ro.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return r1()}}function $V(n){return new Ro(n)}function up(){return typeof document<"u"?document:null}function jf(n){return new tV(n,!0)}Ro.c_=!1;class eA{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Cb="PersistentStream";class nA{constructor(t,e,r,o,u,c,m,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Ts(e.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new yt(rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(Cb,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ft(Cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WV extends nA{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=iV(this.serializer,t),r=(function(u){if(!("targetChange"in u))return xt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?Hi(c.readTime):xt.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=Yp(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=Fp(p)?{documents:aV(u,p)}:{query:oV(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=H1(u,c.resumeToken);const g=qp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(xt.min())>0){m.readTime=cf(u,c.snapshotVersion.toTimestamp());const g=qp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=uV(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=Yp(this.serializer),e.removeTarget=t,this.K_(e)}}class JV extends nA{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=rV(t.writeResults,t.commitTime),r=Hi(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Yp(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>sV(this.serializer,r)))};this.K_(e)}}class ZV{}class tM extends ZV{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,Gp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(rt.UNKNOWN,u.toString())}))}jo(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,Gp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function eM(n,t,e,r){return new tM(n,t,e,r)}class nM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(e),this.aa=!1):ft("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ta="RemoteStore";class iM{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Sa(this)&&(ft(Ta,"Restarting streams for network reachability change."),await(async function(p){const g=Ct(p);g.Ea.add(4),await Fu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Uf(g)})(this))}))})),this.Va=new nM(r,o)}}async function Uf(n){if(Sa(n))for(const t of n.Ra)await t(!0)}async function Fu(n){for(const t of n.Ra)await t(!1)}function iA(n,t){const e=Ct(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Zg(e)?Jg(e):Ko(e).O_()&&Wg(e,t))}function $g(n,t){const e=Ct(n),r=Ko(e);e.Ia.delete(t),r.O_()&&sA(e,t),e.Ia.size===0&&(r.O_()?r.L_():Sa(e)&&e.Va.set("Unknown"))}function Wg(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ko(n).Z_(t)}function sA(n,t){n.da.$e(t),Ko(n).X_(t)}function Jg(n){n.da=new $N({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Ko(n).start(),n.Va.ua()}function Zg(n){return Sa(n)&&!Ko(n).x_()&&n.Ia.size>0}function Sa(n){return Ct(n).Ea.size===0}function rA(n){n.da=void 0}async function sM(n){n.Va.set("Online")}async function rM(n){n.Ia.forEach(((t,e)=>{Wg(n,t)}))}async function aM(n,t){rA(n),Zg(n)?(n.Va.ha(t),Jg(n)):n.Va.set("Unknown")}async function oM(n,t,e){if(n.Va.set("Online"),t instanceof F1&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(n,t)}catch(r){ft(Ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ff(n,r)}else if(t instanceof Hh?n.da.Xe(t):t instanceof z1?n.da.st(t):n.da.tt(t),!e.isEqual(xt.min()))try{const r=await tA(n.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=u.Ia.get(g);y&&u.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const y=u.Ia.get(p);if(!y)return;u.Ia.set(p,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),sA(u,p);const T=new ur(y.target,p,g,y.sequenceNumber);Wg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(n,e)}catch(r){ft(Ta,"Failed to raise snapshot:",r),await ff(n,r)}}async function ff(n,t,e){if(!Go(t))throw t;n.Ea.add(1),await Fu(n),n.Va.set("Offline"),e||(e=()=>tA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ft(Ta,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Uf(n)}))}function aA(n,t){return t().catch((e=>ff(n,e,t)))}async function Bf(n){const t=Ct(n),e=Ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lg;for(;lM(t);)try{const o=await FV(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,uM(t,o)}catch(o){await ff(t,o)}oA(t)&&lA(t)}function lM(n){return Sa(n)&&n.Ta.length<10}function uM(n,t){n.Ta.push(t);const e=Ar(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function oA(n){return Sa(n)&&!Ar(n).x_()&&n.Ta.length>0}function lA(n){Ar(n).start()}async function cM(n){Ar(n).ra()}async function hM(n){const t=Ar(n);for(const e of n.Ta)t.ea(e.mutations)}async function fM(n,t,e){const r=n.Ta.shift(),o=Hg.from(r,t,e);await aA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Bf(n)}async function dM(n,t){t&&Ar(n).Y_&&await(async function(r,o){if((function(c){return YN(c)&&c!==rt.ABORTED})(o.code)){const u=r.Ta.shift();Ar(r).B_(),await aA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Bf(r)}})(n,t),oA(n)&&lA(n)}async function Ib(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),ft(Ta,"RemoteStore received new credentials");const r=Sa(e);e.Ea.add(3),await Fu(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Uf(e)}async function mM(n,t){const e=Ct(n);t?(e.Ea.delete(2),await Uf(e)):t||(e.Ea.add(2),await Fu(e),e.Va.set("Unknown"))}function Ko(n){return n.ma||(n.ma=(function(e,r,o){const u=Ct(e);return u.sa(),new WV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:sM.bind(null,n),Yo:rM.bind(null,n),t_:aM.bind(null,n),J_:oM.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Zg(n)?Jg(n):n.Va.set("Unknown")):(await n.ma.stop(),rA(n))}))),n.ma}function Ar(n){return n.fa||(n.fa=(function(e,r,o){const u=Ct(e);return u.sa(),new JV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:cM.bind(null,n),t_:dM.bind(null,n),ta:hM.bind(null,n),na:fM.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Bf(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(Ta,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class ty{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new ty(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(n,t){if(Ts("AsyncQueue",`${t}: ${n}`),Go(n))return new yt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class Co{static emptySet(t){return new Co(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Tt.comparator(e.key,r.key):(e,r)=>Tt.comparator(e.key,r.key),this.keyedMap=ru(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Co)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Co;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class Db{constructor(){this.ga=new fe(Tt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Et(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class jo{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new jo(t,e,Co.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class pM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class gM{constructor(){this.queries=Nb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Ct(e),u=o.queries;o.queries=Nb(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new yt(rt.ABORTED,"Firestore shutting down"))}}function Nb(){return new Ea((n=>x1(n)),Mf)}async function uA(n,t){const e=Ct(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new pM,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=ey(c,`Initialization of query '${go(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.ba.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&ny(e)}async function cA(n,t){const e=Ct(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function yM(n,t){const e=Ct(n);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&ny(e)}function vM(n,t,e){const r=Ct(n),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(e);r.queries.delete(t)}function ny(n){n.Ca.forEach((t=>{t.next()}))}var $p,Vb;(Vb=$p||($p={})).Ma="default",Vb.Cache="cache";class hA{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new jo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=jo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==$p.Cache}}class fA{constructor(t){this.key=t}}class dA{constructor(t){this.key=t}}class _M{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Bt(),this.mutatedKeys=Bt(),this.eu=R1(t),this.tu=new Co(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new Db,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,T)=>{const E=o.get(y),R=kf(this.query,T)?T:null,L=!!E&&this.mutatedKeys.has(E.key),H=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let O=!1;E&&R?E.data.isEqual(R.data)?L!==H&&(r.track({type:3,doc:R}),O=!0):this.su(E,R)||(r.track({type:2,doc:R}),O=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(m=!0)):!E&&R?(r.track({type:0,doc:R}),O=!0):E&&!R&&(r.track({type:1,doc:E}),O=!0,(p||g)&&(m=!0)),O&&(R?(c=c.add(R),u=H?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,T)=>(function(R,L){const H=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:O})}};return H(R)-H(L)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new jo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Db,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new dA(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new fA(r))})),e}cu(t){this.Za=t.ks,this.Ya=Bt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const iy="SyncEngine";class TM{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class bM{constructor(t){this.key=t,this.hu=!1}}class EM{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ea((m=>x1(m)),Mf),this.Iu=new Map,this.Eu=new Set,this.Ru=new fe(Tt.comparator),this.Au=new Map,this.Vu=new Kg,this.du={},this.mu=new Map,this.fu=Lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SM(n,t,e=!0){const r=_A(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await mA(r,t,e,!0),o}async function AM(n,t){const e=_A(n);await mA(e,t,!0,!1)}async function mA(n,t,e,r){const o=await HV(n.localStore,Fi(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await wM(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&iA(n.remoteStore,o),m}async function wM(n,t,e,r,o){n.pu=(T,E,R)=>(async function(H,O,j,W){let z=O.view.ru(j);z.Ss&&(z=await Ab(H.localStore,O.query,!1).then((({documents:C})=>O.view.ru(C,z))));const $=W&&W.targetChanges.get(O.targetId),J=W&&W.targetMismatches.get(O.targetId)!=null,at=O.view.applyChanges(z,H.isPrimaryClient,$,J);return kb(H,O.targetId,at.au),at.snapshot})(n,T,E,R);const u=await Ab(n.localStore,t,!0),c=new _M(t,u.ks),m=c.ru(u.documents),p=zu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);kb(n,e,g.au);const y=new TM(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function xM(n,t,e){const r=Ct(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Mf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Qp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&$g(r.remoteStore,o.targetId),Wp(r,o.targetId)})).catch(qo)):(Wp(r,o.targetId),await Qp(r.localStore,o.targetId,!0))}async function RM(n,t){const e=Ct(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),$g(e.remoteStore,r.targetId))}async function CM(n,t,e){const r=PM(n);try{const o=await(function(c,m){const p=Ct(c),g=ae.now(),y=m.reduce(((R,L)=>R.add(L.key)),Bt());let T,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let L=bs(),H=Bt();return p.xs.getEntries(R,y).next((O=>{L=O,L.forEach(((j,W)=>{W.isValidDocument()||(H=H.add(j))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,L))).next((O=>{T=O;const j=[];for(const W of m){const z=FN(W,T.get(W.key).overlayedDocument);z!=null&&j.push(new Ir(W.key,z,_1(z.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,j,m)})).next((O=>{E=O;const j=O.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(R,O.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:I1(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new fe(Ut)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,e),await Hu(r,o.changes),await Bf(r.remoteStore)}catch(o){const u=ey(o,"Failed to persist write");e.reject(u)}}async function pA(n,t){const e=Ct(n);try{const r=await BV(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Qt(c.hu,14607):o.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await Hu(e,r,t)}catch(r){await qo(r)}}function Mb(n,t,e){const r=Ct(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ct(c);p.onlineState=m;let g=!1;p.queries.forEach(((y,T)=>{for(const E of T.ba)E.va(m)&&(g=!0)})),g&&ny(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function IM(n,t,e){const r=Ct(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new fe(Tt.comparator);c=c.insert(u,rn.newNoDocument(u,xt.min()));const m=Bt().add(u),p=new Lf(xt.min(),new Map,new fe(Ut),c,m);await pA(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(t),sy(r)}else await Qp(r.localStore,t,!1).then((()=>Wp(r,t,e))).catch(qo)}async function DM(n,t){const e=Ct(n),r=t.batch.batchId;try{const o=await UV(e.localStore,t);yA(e,r,null),gA(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(e,o)}catch(o){await qo(o)}}async function NM(n,t,e){const r=Ct(n);try{const o=await(function(c,m){const p=Ct(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qt(T!==null,37113),y=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(r.localStore,t);yA(r,t,e),gA(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Hu(r,o)}catch(o){await qo(o)}}function gA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function yA(n,t,e){const r=Ct(n);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function Wp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||vA(n,r)}))}function vA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&($g(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),sy(n))}function kb(n,t,e){for(const r of e)r instanceof fA?(n.Vu.addReference(r.key,t),VM(n,r)):r instanceof dA?(ft(iy,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||vA(n,r.key)):Et(19791,{wu:r})}function VM(n,t){const e=t.key,r=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(r)||(ft(iy,"New document in limbo: "+e),n.Eu.add(r),sy(n))}function sy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Tt(re.fromString(t)),r=n.fu.next();n.Au.set(r,new bM(e)),n.Ru=n.Ru.insert(e,r),iA(n.remoteStore,new ur(Fi(Vf(e.path)),r,"TargetPurposeLimboResolution",Cf.ce))}}async function Hu(n,t,e){const r=Ct(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){o.push(g);const y=Qg.Es(p.targetId,g);u.push(y)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const y=Ct(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>st.forEach(g,(E=>st.forEach(E.Ts,(R=>y.persistence.referenceDelegate.addReference(T,E.targetId,R))).next((()=>st.forEach(E.Is,(R=>y.persistence.referenceDelegate.removeReference(T,E.targetId,R)))))))))}catch(T){if(!Go(T))throw T;ft(Xg,"Failed to update sequence numbers: "+T)}for(const T of g){const E=T.targetId;if(!T.fromCache){const R=y.vs.get(E),L=R.snapshotVersion,H=R.withLastLimboFreeSnapshotVersion(L);y.vs=y.vs.insert(E,H)}}})(r.localStore,u))}async function MM(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){ft(iy,"User change. New user:",t.toKey());const r=await Z1(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new yt(rt.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Hu(e,r.Ns)}}function kM(n,t){const e=Ct(n),r=e.Au.get(t);if(r&&r.hu)return Bt().add(r.key);{let o=Bt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function _A(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IM.bind(null,t),t.Pu.J_=yM.bind(null,t.eventManager),t.Pu.yu=vM.bind(null,t.eventManager),t}function PM(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NM.bind(null,t),t}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return jV(this.persistence,new PV,t.initialUser,this.serializer)}Cu(t){return new J1(Yg.Vi,this.serializer)}Du(t){return new GV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class OM extends df{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof hf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TV(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new J1((r=>hf.Vi(r,e)),this.serializer)}}class Jp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MM.bind(null,this.syncEngine),await mM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gM})()}createDatastore(t){const e=jf(t.databaseInfo.databaseId),r=$V(t.databaseInfo);return eM(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new iM(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>Mb(this.syncEngine,e,0)),(function(){return Rb.v()?new Rb:new KV})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,y){const T=new EM(o,u,c,m,p,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Ct(e);ft(Ta,"RemoteStore shutting down."),r.Ea.add(5),await Fu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jp.provider={build:()=>new Jp};class TA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const wr="FirestoreClient";class LM{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Pg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ft(wr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ft(wr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=ey(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function cp(n,t){n.asyncQueue.verifyOperationInProgress(),ft(wr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Z1(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Pb(n,t){n.asyncQueue.verifyOperationInProgress();const e=await jM(n);ft(wr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>Ib(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Ib(t.remoteStore,o))),n._onlineComponents=t}async function jM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(wr,"Using user provided OfflineComponentProvider");try{await cp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Vo("Error using user provided cache. Falling back to memory cache: "+e),await cp(n,new df)}}else ft(wr,"Using default OfflineComponentProvider"),await cp(n,new OM(void 0));return n._offlineComponents}async function bA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(wr,"Using user provided OnlineComponentProvider"),await Pb(n,n._uninitializedComponentsProvider._online)):(ft(wr,"Using default OnlineComponentProvider"),await Pb(n,new Jp))),n._onlineComponents}function UM(n){return bA(n).then((t=>t.syncEngine))}async function Zp(n){const t=await bA(n),e=t.eventManager;return e.onListen=SM.bind(null,t.syncEngine),e.onUnlisten=xM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=AM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=RM.bind(null,t.syncEngine),e}function BM(n,t,e,r){const o=new TA(r),u=new hA(t,o,e);return n.asyncQueue.enqueueAndForget((async()=>uA(await Zp(n),u))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>cA(await Zp(n),u)))}}function zM(n,t,e={}){const r=new gr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const y=new TA({next:E=>{y.Nu(),c.enqueueAndForget((()=>cA(u,T)));const R=E.docs.has(m);!R&&E.fromCache?g.reject(new yt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&p&&p.source==="server"?g.reject(new yt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),T=new hA(Vf(m.path),y,{includeMetadataChanges:!0,Ka:!0});return uA(u,T)})(await Zp(n),n.asyncQueue,t,e,r))),r.promise}function FM(n,t){const e=new gr;return n.asyncQueue.enqueueAndForget((async()=>CM(await UM(n),t,e))),e.promise}function EA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const HM="ComponentProvider",Ob=new Map;function qM(n,t,e,r,o){return new cN(n,t,e,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,EA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const SA="firestore.googleapis.com",Lb=!0;class jb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SA,this.ssl=Lb}else this.host=t.host,this.ssl=t.ssl??Lb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=W1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vV)throw new yt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zf{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HD;switch(r.type){case"firstParty":return new YD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Ob.get(e);r&&(ft(HM,"Removing Datastore"),Ob.delete(e),r.terminate())})(this),Promise.resolve()}}function GM(n,t,e,r={}){n=mi(n,zf);const o=Bo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${e}`;o&&(dS(`https://${m}`),mS("Firestore",!0)),u.host!==SA&&u.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!vr(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=sn.MOCK_USER;else{g=pC(r.mockUserToken,n._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new yt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(T)}n._authCredentials=new qD(new o1(g,y))}}class Ff{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ff(this.firestore,t,this._query)}}class be{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Uu(e,be._jsonSchema))return new be(t,r||null,new Tt(re.fromString(e.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:Me("string",be._jsonSchemaVersion),referencePath:Me("string")};class yr extends Ff{constructor(t,e,r){super(t,e,Vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new Tt(t))}withConverter(t){return new yr(this.firestore,t,this._path)}}function KM(n,t,...e){if(n=dn(n),l1("collection","path",t),n instanceof zf){const r=re.fromString(t,...e);return JT(r),new yr(n,null,r)}{if(!(n instanceof be||n instanceof yr))throw new yt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(re.fromString(t,...e));return JT(r),new yr(n.firestore,null,r)}}function hi(n,t,...e){if(n=dn(n),arguments.length===1&&(t=Pg.newId()),l1("doc","path",t),n instanceof zf){const r=re.fromString(t,...e);return WT(r),new be(n,null,new Tt(r))}{if(!(n instanceof be||n instanceof yr))throw new yt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(re.fromString(t,...e));return WT(r),new be(n.firestore,n instanceof yr?n.converter:null,new Tt(r))}}const Ub="AsyncQueue";class Bb{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eA(this,"async_queue_retry"),this._c=()=>{const r=up();r&&ft(Ub,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=up();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=up();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Go(t))throw t;ft(Ub,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",zb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=ty.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:zb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function zb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class ba extends zf{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new Bb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Bb(t),this._firestoreClient=void 0,await t}}}function YM(n,t){const e=typeof n=="object"?n:vS(),r=typeof n=="string"?n:rf,o=xg(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=dC("firestore");u&&GM(o,...u)}return o}function ry(n){if(n._terminated)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QM(n),n._firestoreClient}function QM(n){const t=n._freezeSettings(),e=qM(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new LM(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(tn.fromBase64String(t))}catch(e){throw new yt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uu(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Me("string",Yn._jsonSchemaVersion),bytes:Me("string")};class ay{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qu{constructor(t){this._methodName=t}}class qi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(t){if(Uu(t,qi._jsonSchema))return new qi(t.latitude,t.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Me("string",qi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class gi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uu(t,gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new gi(t.vectorValues);throw new yt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Me("string",gi._jsonSchemaVersion),vectorValues:Me("object")};const XM=/^__.*__$/;class $M{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Ir(t,this.data,this.fieldMask,e,this.fieldTransforms):new Bu(t,this.data,e,this.fieldTransforms)}}class AA{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Ir(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function wA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:n})}}class Hf{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Hf({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return mf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(wA(this.dataSource)&&XM.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class WM{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||jf(t)}createContext(t,e,r,o=!1){return new Hf({dataSource:t,methodName:e,targetDoc:r,path:Ze.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oy(n){const t=n._freezeSettings(),e=jf(n._databaseId);return new WM(n._databaseId,!!t.ignoreUndefinedProperties,e)}function xA(n,t,e,r,o,u={}){const c=n.createContext(u.merge||u.mergeFields?2:0,t,e,o);cy("Data must be an object, but it was:",c,r);const m=RA(r,c);let p,g;if(u.merge)p=new Vn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const T of u.mergeFields){const E=Cu(t,T,e);if(!c.contains(E))throw new yt(rt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);DA(y,E)||y.push(E)}p=new Vn(y),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new $M(new En(m),p,g)}class qf extends qu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qf}}function JM(n,t,e){return new Hf({dataSource:3,targetDoc:t.settings.targetDoc,methodName:n._methodName,arrayElement:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ly extends qu{_toFieldTransform(t){return new O1(t.path,new xu)}isEqual(t){return t instanceof ly}}class uy extends qu{constructor(t,e){super(t),this.Ac=e}_toFieldTransform(t){const e=JM(this,t,!0),r=this.Ac.map((u=>Gu(u,e))),o=new Oo(r);return new O1(t.path,o)}isEqual(t){return t instanceof uy&&vr(this.Ac,t.Ac)}}function ZM(n,t,e,r){const o=n.createContext(1,t,e);cy("Data must be an object, but it was:",o,r);const u=[],c=En.empty();Cr(r,((p,g)=>{const y=IA(t,p,e);g=dn(g);const T=o.childContextForFieldPath(y);if(g instanceof qf)u.push(y);else{const E=Gu(g,T);E!=null&&(u.push(y),c.set(y,E))}}));const m=new Vn(u);return new AA(c,m,o.fieldTransforms)}function tk(n,t,e,r,o,u){const c=n.createContext(1,t,e),m=[Cu(t,r,e)],p=[o];if(u.length%2!=0)throw new yt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<u.length;E+=2)m.push(Cu(t,u[E])),p.push(u[E+1]);const g=[],y=En.empty();for(let E=m.length-1;E>=0;--E)if(!DA(g,m[E])){const R=m[E];let L=p[E];L=dn(L);const H=c.childContextForFieldPath(R);if(L instanceof qf)g.push(R);else{const O=Gu(L,H);O!=null&&(g.push(R),y.set(R,O))}}const T=new Vn(g);return new AA(y,T,c.fieldTransforms)}function Gu(n,t){if(CA(n=dn(n)))return cy("Unsupported field value:",t,n),RA(n,t);if(n instanceof qu)return(function(r,o){if(!wA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=Gu(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ON(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ae.fromDate(r);return{timestampValue:cf(o.serializer,u)}}if(r instanceof ae){const u=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cf(o.serializer,u)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:H1(o.serializer,r._byteString)};if(r instanceof be){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof gi)return(function(c,m){const p=c instanceof gi?c.toArray():c;return{mapValue:{fields:{[y1]:{stringValue:v1},[af]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw m.createError("VectorValues must only contain numeric values.");return Fg(m.serializer,y)}))}}}}}})(r,o);if($1(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Og(r)}`)})(n,t)}function RA(n,t){const e={};return h1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cr(n,((r,o)=>{const u=Gu(o,t.childContextForField(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function CA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ae||n instanceof qi||n instanceof Yn||n instanceof be||n instanceof qu||n instanceof gi||$1(n))}function cy(n,t,e){if(!CA(e)||!u1(e)){const r=Og(e);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function Cu(n,t,e){if((t=dn(t))instanceof ay)return t._internalPath;if(typeof t=="string")return IA(n,t);throw mf("Field path arguments must be of type string or ",n,!1,void 0,e)}const ek=new RegExp("[~\\*/\\[\\]]");function IA(n,t,e){if(t.search(ek)>=0)throw mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ay(...t.split("."))._internalPath}catch{throw mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function mf(n,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new yt(rt.INVALID_ARGUMENT,m+n+p)}function DA(n,t){return n.some((e=>e.isEqual(t)))}class nk{convertValue(t,e="none"){switch(Sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Cr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[af].arrayValue?.values?.map((r=>Te(r.doubleValue)));return new gi(e)}convertGeoPoint(t){return new qi(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Df(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Su(t));default:return null}}convertTimestamp(t){const e=br(t);return new ae(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=re.fromString(t);Qt(X1(r),9688,{name:t});const o=new Au(r.get(1),r.get(3)),u=new Tt(r.popFirst(5));return o.isEqual(e)||Ts(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}class NA extends nk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,e)}}function pf(){return new ly("serverTimestamp")}function ik(...n){return new uy("arrayUnion",n)}const Fb="@firebase/firestore",Hb="4.10.0";function qb(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class VA{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Cu("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class sk extends VA{data(){return super.data()}}function rk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function MA(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class ou{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pa extends VA{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Cu("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=pa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Me("string",pa._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class qh extends pa{data(t={}){return super.data(t)}}class Io{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new qh(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:ak(m.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ak(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:Me("string",Io._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};function ok(n){n=mi(n,be);const t=mi(n.firestore,ba),e=ry(t);return zM(e,n._key).then((r=>kA(t,n,r)))}function lk(n,t,e){n=mi(n,be);const r=mi(n.firestore,ba),o=MA(n.converter,t,e),u=oy(r);return hy(r,[xA(u,"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,pi.none())])}function la(n,t,e,...r){n=mi(n,be);const o=mi(n.firestore,ba),u=oy(o);let c;return c=typeof(t=dn(t))=="string"||t instanceof ay?tk(u,"updateDoc",n._key,t,e,r):ZM(u,"updateDoc",n._key,t),hy(o,[c.toMutation(n._key,pi.exists(!0))])}function uk(n,t){const e=mi(n.firestore,ba),r=hi(n),o=MA(n.converter,t),u=oy(n.firestore);return hy(e,[xA(u,"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,pi.exists(!1))]).then((()=>r))}function ck(n,...t){n=dn(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||qb(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(qb(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,m;if(n instanceof be)c=mi(n.firestore,ba),m=Vf(n._key.path),u={next:g=>{t[r]&&t[r](kA(c,n,g))},error:t[r+1],complete:t[r+2]};else{const g=mi(n,Ff);c=mi(g.firestore,ba),m=g._query;const y=new NA(c);u={next:T=>{t[r]&&t[r](new Io(c,y,g,T))},error:t[r+1],complete:t[r+2]},rk(n._query)}const p=ry(c);return BM(p,m,o,u)}function hy(n,t){const e=ry(n);return FM(e,t)}function kA(n,t,e){const r=e.docs.get(t._key),o=new NA(n);return new pa(n,o,t._key,r,new ou(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){FD(zo),No(new ya("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new ba(new GD(r.getProvider("auth-internal")),new QD(c,r.getProvider("app-check-internal")),hN(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),dr(Fb,Hb,t),dr(Fb,Hb,"esm2020")})();const hk={apiKey:"AIzaSyAMYFQeR-nSXC5TrC1_EG8O1dvV72grdPk",authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:"G-3L2YMD21VG"},PA=yS(hk),He=BD(PA),ui=YM(PA),fk=({setMode:n,joinId:t,setJoinId:e})=>A.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[A.jsx("h1",{className:"text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 mb-6 py-2",children:"GatheringFun"}),A.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-16",children:"Decide where and when to meet, the fun way!"}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all cursor-pointer border-2 border-transparent hover:border-blue-500",onClick:()=>n("create"),children:[A.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:A.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),A.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Create Gathering"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Host a new meeting and invite friends."})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl border-2 border-transparent hover:border-purple-500",children:[A.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:A.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),A.jsx("h3",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Join Gathering"}),A.jsx("input",{type:"text",placeholder:"Enter Session ID",value:t,onChange:r=>e(r.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:bg-gray-700 dark:border-gray-600 mb-4 focus:ring-2 focus:ring-purple-500 outline-none dark:text-white"}),A.jsx("button",{onClick:()=>t&&n("join"),className:"w-full py-3 bg-purple-600 text-white font-bold rounded-xl shadow-lg hover:bg-purple-700 transition-all",children:"Join Now"})]})]})]}),Gb={Malaysia:{Johor:["Batu Pahat","Johor Bahru","Kluang","Kota Tinggi","Kulai","Muar","Pasir Gudang","Pontian","Segamat","Skudai"],Kedah:["Alor Setar","Baling","Kubang Pasu","Kulim","Kuala Muda","Langkawi","Padang Terap","Pendang","Sik","Sungai Petani","Yan"],Kelantan:["Bachok","Gua Musang","Kota Bharu","Kuala Krai","Machang","Pasir Mas","Pasir Puteh","Tanah Merah","Tumpat"],"Kuala Lumpur":["Bandar Tun Razak","Bukit Bintang","Cheras","Kepong","Lembah Pantai","Segambut","Seputeh","Setapak","Titiwangsa","Wangsa Maju"],Labuan:["Labuan Town"],Melaka:["Alor Gajah","Jasin","Melaka City"],"Negeri Sembilan":["Jelebu","Jempol","Kuala Pilah","Port Dickson","Rembau","Seremban","Tampin"],Pahang:["Bentong","Cameron Highlands","Jerantut","Kuala Lipis","Kuantan","Maran","Mentakab","Pekan","Raub","Rompin","Temerloh"],Perak:["Batu Gajah","Bidor","Ipoh","Kampar","Kuala Kangsar","Sitiawan","Sungai Siput","Taiping","Tanjung Malim","Teluk Intan"],Perlis:["Arau","Kangar","Kuala Perlis","Padang Besar"],"Pulau Pinang":["Bayan Lepas","Bukit Mertajam","Butterworth","Gelugor","George Town","Kepala Batas","Nibong Tebal","Seberang Perai"],Putrajaya:["Presint 1","Presint 2","Presint 3","Presint 4","Presint 5"],Sabah:["Keningau","Kota Kinabalu","Kudat","Lahad Datu","Papar","Penampang","Sandakan","Semporna","Tawau","Tuaran"],Sarawak:["Bau","Bintulu","Kapit","Kuching","Limbang","Miri","Mukah","Sarikei","Sibu","Sri Aman"],Selangor:["Ampang","Cyberjaya","Kajang","Klang","Petaling Jaya","Puchong","Rawang","Semenyih","Shah Alam","Subang Jaya"],Terengganu:["Besut","Chukai","Dungun","Jerteh","Kemaman","Kuala Berang","Kuala Terengganu","Marang"]},Taiwan:{"Changhua County ()":["Changhua ()","Hehua ()","Lukang ()","Yuanlin ()"],"Chiayi City ()":["East ()","West ()"],"Chiayi County ()":["Minxiong ()","Puzi ()","Taibao ()"],"Hsinchu City ()":["East ()","North ()","Xiangshan ()"],"Hsinchu County ()":["Hukou ()","Kuanhsi ()","Xinfeng ()","Xinpu ()","Zhubei ()","Zhudong ()"],"Hualien County ()":["Hualien ()","Ji'an ()","Xincheng ()"],"Kaohsiung City ()":["Cianjin ()","Fongshan ()","Gushan ()","Lingya ()","Nanzih ()","Sanmin ()","Sinsing ()","Yancheng ()","Zuoying ()"],"Keelung City ()":["Anle ()","Nuannuan ()","Qiandu ()","Ren'ai ()","Xinyi ()","Zhongshan ()","Zhongzheng ()"],"Kinmen County ()":["Jincheng ()","Jinning ()"],"Lienchiang County ()":["Beigan ()","Nangan ()"],"Nantou County ()":["Caotun ()","Nantou ()","Puli ()"],"New Taipei City ()":["Banqiao ()","Luzhou ()","Sanxia ()","Sanchong ()","Tamsui ()","Tucheng ()","Wugu ()","Xindian ()","Xinzhuang ()","Xizhi ()","Yingge ()","Yonghe ()","Zhonghe ()"],"Penghu County ()":["Huxi ()","Magong ()"],"Pingtung County ()":["Chaozhou ()","Donggang ()","Pingtung ()"],"Taichung City ()":["Beitun ()","Central ()","Dali ()","East ()","Nantun ()","North ()","South ()","Taiping ()","West ()","Xitun ()"],"Tainan City ()":["Annan ()","Anping ()","East ()","North ()","South ()","West Central ()","Yongkang ()"],"Taipei City ()":["Beitou ()","Da'an ()","Datong ()","Nangang ()","Neihu ()","Shilin ()","Songshan ()","Wanhua ()","Wenshan ()","Xinyi ()","Zhongshan ()","Zhongzheng ()"],"Taitung County ()":["Beinan ()","Taitung ()"],"Taoyuan City ()":["Bade ()","Daxi ()","Dayuan ()","Guishan ()","Longtan ()","Luzhu ()","Taoyuan ()","Yangmei ()","Zhongli ()"],"Yilan County ()":["Luodong ()","Su'ao ()","Yilan ()"],"Yunlin County ()":["Douliu ()","Huwei ()","Xiluo ()"]}},dk=["Taiwanese","Chinese","Western","Japanese","Korean","Thai","Indian","Italian","Malay","Nyonya"],hp=({onSubmit:n,loading:t,session:e,setSession:r,setMode:o,timeLeft:u})=>{const[c,m]=ot.useState(e?2:1),[p,g]=ot.useState({name:"",startDate:"",endDate:"",country:"Taiwan",locations:[],cuisines:[],timePeriods:[],minPrice:100,maxPrice:1e3,waitMinutes:10}),[y,T]=ot.useState({start:"",end:""}),[E,R]=ot.useState(""),L=$=>{const{name:J,value:at}=$.target;J==="country"?(g(C=>({...C,[J]:at,locations:[]})),R("")):g(C=>({...C,[J]:at}))},H=($,J)=>{g(at=>{const C=at[$],x=C.includes(J)?C.filter(I=>I!==J):[...C,J];return{...at,[$]:x}})},O=()=>{if(!y.start||!y.end){alert("Please select both start and end times");return}const $=`${y.start} - ${y.end}`;if(p.timePeriods.length>=5){alert("Maximum 5 time periods allowed");return}if(p.timePeriods.includes($)){alert("This time period already exists");return}g(J=>({...J,timePeriods:[...J.timePeriods,$]})),T({start:"",end:""})},j=$=>{g(J=>({...J,timePeriods:J.timePeriods.filter(at=>at!==$)}))},W=$=>{$.preventDefault();let J=[...p.timePeriods];if(y.start&&y.end){const at=`${y.start} - ${y.end}`;!J.includes(at)&&J.length<5&&J.push(at)}if(!p.name||!p.startDate||!p.endDate||p.locations.length===0){alert("Please fill in required fields and select at least one location");return}if(J.length===0){alert("Please add at least one time period for the gathering");return}n({...p,timePeriods:J})},z=Object.keys(Gb[p.country]).sort();return e||c===2?A.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white transition-all transform animate-in fade-in zoom-in duration-500",children:[A.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full",children:A.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),A.jsx("h2",{className:"text-3xl font-black mb-2",children:"Gathering is LIVE!"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 font-medium",children:"Share the ID below with your friends to start the fun."}),A.jsxs("div",{className:"mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800 shadow-inner",children:[A.jsx("p",{className:"text-[10px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-[0.2em] mb-1",children:"Phase 1 Time Limit"}),A.jsx("p",{className:"text-4xl font-mono font-black text-blue-700 dark:text-blue-300",children:u||"--:--"})]}),A.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-2xl border-2 border-dashed border-gray-200 dark:border-gray-700 mb-8 group cursor-pointer hover:border-blue-400 transition-colors",onClick:()=>{navigator.clipboard.writeText(e?.id),alert("Session ID copied to clipboard!")},children:[A.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Click to copy ID"}),A.jsx("code",{className:"text-3xl font-mono font-black text-blue-600 dark:text-blue-400 break-all",children:e?.id||"......"})]}),A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("button",{onClick:()=>{r(null),o("home")},className:"w-full py-4 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 font-bold rounded-2xl hover:bg-gray-200 transition-all text-sm mb-2",children:" Back to Menu"}),A.jsx("button",{onClick:()=>{o("join")},className:"w-full py-5 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-black rounded-2xl shadow-xl hover:scale-[1.02] active:scale-95 transition-all text-lg",children:"Enter Your Name & Preferences "})]})]}):A.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center",id:"form-title",children:"Start a New Gathering"}),A.jsxs("form",{onSubmit:W,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Gathering Name"}),A.jsx("input",{type:"text",name:"name",value:p.name,onChange:L,placeholder:"e.g., Friday Dinner Party",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),A.jsx("input",{type:"date",name:"startDate",value:p.startDate,onChange:L,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),A.jsx("input",{type:"date",name:"endDate",value:p.endDate,onChange:L,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),A.jsxs("select",{name:"country",value:p.country,onChange:L,className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[A.jsx("option",{value:"Taiwan",children:"Taiwan"}),A.jsx("option",{value:"Malaysia",children:"Malaysia"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min Price"}),A.jsx("input",{type:"number",name:"minPrice",value:p.minPrice,onChange:L,min:"100",max:"1000",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Max Price"}),A.jsx("input",{type:"number",name:"maxPrice",value:p.maxPrice,onChange:L,min:"100",max:"1000",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Locations (Step 1: Choose State/City)"}),A.jsx("div",{className:"flex flex-wrap gap-2 mb-4 max-h-40 overflow-y-auto p-2 border border-gray-100 dark:border-gray-700 rounded-lg",children:z.map($=>A.jsx("button",{type:"button",onClick:()=>R($),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${E===$?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 hover:bg-gray-200"}`,children:$},$))}),E&&A.jsxs(A.Fragment,{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Locations (Step 2: Select Districts/Areas in ",E,")"]}),A.jsx("div",{className:"flex flex-wrap gap-2 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-900/30",children:Gb[p.country][E].map($=>A.jsxs("button",{type:"button",onClick:()=>H("locations",`${E} - ${$}`),className:`px-3 py-1.5 rounded-md border transition-all text-xs font-medium ${p.locations.includes(`${E} - ${$}`)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 shadow-sm":"border-gray-200 dark:border-gray-600 text-gray-600 bg-white dark:bg-gray-800"}`,children:[p.locations.includes(`${E} - ${$}`)&&" ",$]},$))})]}),p.locations.length>0&&A.jsxs("div",{className:"mt-4",children:[A.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Selected Areas:"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:p.locations.map($=>A.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-200 border border-blue-200 dark:border-blue-800",children:[$,A.jsx("button",{type:"button",onClick:()=>H("locations",$),className:"ml-1.5 inline-flex text-blue-400 hover:text-blue-600",children:A.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:A.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},$))})]})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",p.cuisines.length>0&&A.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[p.cuisines.length," selected"]})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:dk.map($=>A.jsxs("button",{type:"button",onClick:()=>H("cuisines",$),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${p.cuisines.includes($)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.cuisines.includes($)&&" ",$]},$))}),p.cuisines.length===0&&A.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"Click to select multiple cuisines (optional)"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wait Duration (Minutes)"}),A.jsx("input",{type:"number",name:"waitMinutes",value:p.waitMinutes,onChange:L,min:"1",className:"w-full px-4 py-3 rounded-lg border border-gray-300 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Wait for participants to join before generating results."})]}),A.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-700",children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Specify Gathering Time Slots (Max 5)"}),A.jsxs("div",{className:"flex gap-2 mb-4",children:[A.jsx("div",{className:"flex-1",children:A.jsx("input",{type:"time",value:y.start,onChange:$=>T(J=>({...J,start:$.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),A.jsx("div",{className:"flex items-center text-gray-400",children:"to"}),A.jsx("div",{className:"flex-1",children:A.jsx("input",{type:"time",value:y.end,onChange:$=>T(J=>({...J,end:$.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),A.jsx("button",{type:"button",onClick:O,disabled:!y.start||!y.end,className:`px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-all ${!y.start||!y.end?"opacity-50 cursor-not-allowed":""}`,children:"+ Add"})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:p.timePeriods.map($=>A.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl text-sm font-bold bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-200 border border-orange-200 dark:border-orange-800",children:[A.jsx("span",{className:"mr-2 italic",children:""}),$,A.jsx("button",{type:"button",onClick:()=>j($),className:"ml-2 inline-flex text-orange-400 hover:text-orange-600",children:A.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:A.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},$))})]}),A.jsx("button",{type:"submit",disabled:t,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${t?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600"}`,children:t?"Creating...":"Create Gathering Link"})]})]})},mk=({sessionId:n,onJoined:t})=>{const[e,r]=ot.useState(null),[o,u]=ot.useState(!1),[c,m]=ot.useState(null),[p,g]=ot.useState({nickname:"",dates:[],timePeriods:[],locations:[],cuisines:[]});ot.useEffect(()=>{n&&y()},[n]);const y=async()=>{u(!0);try{const O=hi(ui,"sessions",n),j=await ok(O);j.exists()?r({id:j.id,...j.data()}):m("Session not found")}catch{m("Error fetching session")}finally{u(!1)}},T=(O,j)=>{g(W=>{const z=W[O],$=z.includes(j)?z.filter(J=>J!==j):[...z,j];return{...W,[O]:$}})},E=async O=>{if(O.preventDefault(),!p.nickname||p.dates.length===0||p.timePeriods.length===0||p.locations.length===0){alert("Please fill in all fields including your nickname");return}u(!0);try{He.currentUser||await FS(He);const j=hi(ui,"sessions",n);await lk(j,{participants:ik(He.currentUser.uid),participantPreferences:{[He.currentUser.uid]:{...p,submittedAt:pf()}}},{merge:!0}),t(n,{...p,submittedAt:pf()})}catch(j){console.error(j),alert("Failed to join session")}finally{u(!1)}},R=O=>{const j=new Date(O),W=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${W[j.getDay()]}, ${z[j.getMonth()]} ${j.getDate()}`},L=()=>{if(!e)return[];const O=[],j=new Date(e.startDate),W=new Date(e.endDate);for(let z=new Date(j);z<=W;z.setDate(z.getDate()+1))O.push(new Date(z).toISOString().split("T")[0]);return O};if(o&&!e)return A.jsx("div",{className:"text-center py-20 text-blue-600 font-bold",children:"Loading Session..."});if(c)return A.jsx("div",{className:"text-center py-20 text-red-500 font-bold",children:c});if(!e)return null;const H=L();return A.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[A.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:['Join "',e.name,'"']}),A.jsx("p",{className:"text-gray-500 text-center mb-8 italic",children:"Choose your preferences from the host's list"}),A.jsxs("form",{onSubmit:E,className:"space-y-8",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Your Nickname"}),A.jsx("input",{type:"text",placeholder:"Enter your name",value:p.nickname,onChange:O=>g(j=>({...j,nickname:O.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Available Dates",p.dates.length>0&&A.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[p.dates.length," selected"]})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(O=>A.jsxs("button",{type:"button",onClick:()=>T("dates",O),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.dates.includes(O)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.dates.includes(O)&&" ",R(O)]},O))})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Time Periods",p.timePeriods.length>0&&A.jsxs("span",{className:"ml-2 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded-full",children:[p.timePeriods.length," selected"]})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:(e.timePeriods&&e.timePeriods.length>0?e.timePeriods:["Morning","Afternoon","Evening","Night"]).map(O=>A.jsxs("button",{type:"button",onClick:()=>T("timePeriods",O),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.timePeriods.includes(O)?"bg-orange-500 text-white shadow-lg ring-2 ring-orange-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.timePeriods.includes(O)&&" ",O]},O))})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Locations",p.locations.length>0&&A.jsxs("span",{className:"ml-2 text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-0.5 rounded-full",children:[p.locations.length," selected"]})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:e.locations.map(O=>A.jsxs("button",{type:"button",onClick:()=>T("locations",O),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${p.locations.includes(O)?"bg-green-600 text-white shadow-lg ring-2 ring-green-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.locations.includes(O)&&" ",O]},O))})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",p.cuisines.length>0&&A.jsxs("span",{className:"ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-0.5 rounded-full",children:[p.cuisines.length," selected"]})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:e.cuisines.map(O=>A.jsxs("button",{type:"button",onClick:()=>T("cuisines",O),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${p.cuisines.includes(O)?"bg-purple-600 text-white shadow-lg ring-2 ring-purple-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.cuisines.includes(O)&&" ",O]},O))})]}),A.jsx("button",{type:"submit",disabled:o,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${o?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:o?"Joining...":"Submit Preferences & Join "})]})]})},pk=({sessionData:n,onSubmit:t,loading:e})=>{const[r,o]=ot.useState({dates:[],timePeriods:[],locations:[],cuisines:[]}),u=(y,T)=>{o(E=>{const R=E[y],L=R.includes(T)?R.filter(H=>H!==T):[...R,T];return{...E,[y]:L}})},c=y=>{if(y.preventDefault(),r.dates.length===0||r.locations.length===0){alert("Please select at least one date, time period, and location");return}t(r)},m=y=>{const T=new Date(y),E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${E[T.getDay()]}, ${R[T.getMonth()]} ${T.getDate()}`},g=(()=>{const y=[],T=new Date(n.startDate),E=new Date(n.endDate);for(let R=new Date(T);R<=E;R.setDate(R.getDate()+1))y.push(new Date(R).toISOString().split("T")[0]);return y})();return A.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-xl dark:bg-gray-800 transition-all duration-300 text-left",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:"Select Your Preferences"}),A.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-8",children:"Choose from the options set by the host"}),A.jsxs("form",{onSubmit:c,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Available Dates",r.dates.length>0&&A.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:[r.dates.length," selected"]})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>A.jsxs("button",{type:"button",onClick:()=>u("dates",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.dates.includes(y)?"bg-blue-600 text-white shadow-lg ring-2 ring-blue-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.dates.includes(y)&&" ",m(y)]},y))})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Time Periods",r.timePeriods.length>0&&A.jsxs("span",{className:"ml-2 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded-full",children:[r.timePeriods.length," selected"]})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:["Morning","Afternoon","Evening","Night"].map(y=>A.jsxs("button",{type:"button",onClick:()=>u("timePeriods",y),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r.timePeriods.includes(y)?"bg-orange-500 text-white shadow-lg ring-2 ring-orange-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.timePeriods.includes(y)&&" ",y]},y))})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Locations",r.locations.length>0&&A.jsxs("span",{className:"ml-2 text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-0.5 rounded-full",children:[r.locations.length," selected"]})]}),A.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto p-4 border border-gray-100 dark:border-gray-700 rounded-2xl bg-gray-50/50 dark:bg-gray-900/20",children:Object.entries(n.locations.reduce((y,T)=>{const[E,R]=T.split(" - ");return y[E]||(y[E]=[]),y[E].push({full:T,city:R}),y},{})).sort(([y],[T])=>y.localeCompare(T)).map(([y,T])=>A.jsxs("div",{className:"space-y-2",children:[A.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:y}),A.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(E=>A.jsxs("button",{type:"button",onClick:()=>u("locations",E.full),className:`px-3 py-1.5 rounded-xl text-xs font-bold transition-all border ${r.locations.includes(E.full)?"bg-green-600 text-white border-green-600 shadow-md scale-105":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700 hover:border-green-300"}`,children:[r.locations.includes(E.full)&&" ",E.city]},E.full))})]},y))})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Preferred Cuisines",r.cuisines.length>0&&A.jsxs("span",{className:"ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-0.5 rounded-full",children:[r.cuisines.length," selected"]})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:n.cuisines.map(y=>A.jsxs("button",{type:"button",onClick:()=>u("cuisines",y),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${r.cuisines.includes(y)?"bg-purple-600 text-white shadow-lg ring-2 ring-purple-300 scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 dark:bg-gray-700 dark:text-gray-300"}`,children:[r.cuisines.includes(y)&&" ",y]},y))}),A.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"Cuisine selection is optional"})]}),A.jsx("button",{type:"submit",disabled:e,className:`w-full py-4 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 mt-4 ${e?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:e?"Saving...":"Submit Preferences & Start Swiping "})]})]})},fy=ot.createContext({});function dy(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const OA=typeof window<"u",LA=OA?ot.useLayoutEffect:ot.useEffect,Gf=ot.createContext(null);function my(n,t){n.indexOf(t)===-1&&n.push(t)}function py(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Qi=(n,t,e)=>e>t?t:e<n?n:e;let gy=()=>{};const Es={},jA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function UA(n){return typeof n=="object"&&n!==null}const BA=n=>/^0[^.\s]+$/u.test(n);function yy(n){let t;return()=>(t===void 0&&(t=n()),t)}const Xn=n=>n,gk=(n,t)=>e=>t(n(e)),Ku=(...n)=>n.reduce(gk),Iu=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class vy{constructor(){this.subscriptions=[]}add(t){return my(this.subscriptions,t),()=>py(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gs=n=>n*1e3,Qn=n=>n/1e3;function zA(n,t){return t?n*(1e3/t):0}const FA=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,yk=1e-7,vk=12;function _k(n,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=FA(c,r,o)-n,u>0?e=c:t=c;while(Math.abs(u)>yk&&++m<vk);return c}function Yu(n,t,e,r){if(n===t&&e===r)return Xn;const o=u=>_k(u,0,1,n,e);return u=>u===0||u===1?u:FA(o(u),t,r)}const HA=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,qA=n=>t=>1-n(1-t),GA=Yu(.33,1.53,.69,.99),_y=qA(GA),KA=HA(_y),YA=n=>(n*=2)<1?.5*_y(n):.5*(2-Math.pow(2,-10*(n-1))),Ty=n=>1-Math.sin(Math.acos(n)),QA=qA(Ty),XA=HA(Ty),Tk=Yu(.42,0,1,1),bk=Yu(0,0,.58,1),$A=Yu(.42,0,.58,1),Ek=n=>Array.isArray(n)&&typeof n[0]!="number",WA=n=>Array.isArray(n)&&typeof n[0]=="number",Sk={linear:Xn,easeIn:Tk,easeInOut:$A,easeOut:bk,circIn:Ty,circInOut:XA,circOut:QA,backIn:_y,backInOut:KA,backOut:GA,anticipate:YA},Ak=n=>typeof n=="string",Kb=n=>{if(WA(n)){gy(n.length===4);const[t,e,r,o]=n;return Yu(t,e,r,o)}else if(Ak(n))return Sk[n];return n},Nh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wk(n,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),n()),y(m)}const g={schedule:(y,T=!1,E=!1)=>{const L=E&&o?e:r;return T&&c.add(y),L.has(y)||L.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(m=y,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const xk=40;function JA(n,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Nh.reduce((z,$)=>(z[$]=wk(u),z),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:y,update:T,preRender:E,render:R,postRender:L}=c,H=()=>{const z=Es.useManualTiming?o.timestamp:performance.now();e=!1,Es.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(z-o.timestamp,xk),1)),o.timestamp=z,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),y.process(o),T.process(o),E.process(o),R.process(o),L.process(o),o.isProcessing=!1,e&&t&&(r=!1,n(H))},O=()=>{e=!0,r=!0,o.isProcessing||n(H)};return{schedule:Nh.reduce((z,$)=>{const J=c[$];return z[$]=(at,C=!1,x=!1)=>(e||O(),J.schedule(at,C,x)),z},{}),cancel:z=>{for(let $=0;$<Nh.length;$++)c[Nh[$]].cancel(z)},state:o,steps:c}}const{schedule:oe,cancel:xr,state:We,steps:fp}=JA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let Gh;function Rk(){Gh=void 0}const hn={now:()=>(Gh===void 0&&hn.set(We.isProcessing||Es.useManualTiming?We.timestamp:performance.now()),Gh),set:n=>{Gh=n,queueMicrotask(Rk)}},ZA=n=>t=>typeof t=="string"&&t.startsWith(n),tw=ZA("--"),Ck=ZA("var(--"),by=n=>Ck(n)?Ik.test(n.split("/*")[0].trim()):!1,Ik=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Yb(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Yo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Du={...Yo,transform:n=>Qi(0,1,n)},Vh={...Yo,default:1},gu=n=>Math.round(n*1e5)/1e5,Ey=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Dk(n){return n==null}const Nk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sy=(n,t)=>e=>!!(typeof e=="string"&&Nk.test(e)&&e.startsWith(n)||t&&!Dk(e)&&Object.prototype.hasOwnProperty.call(e,t)),ew=(n,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Ey);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},Vk=n=>Qi(0,255,n),dp={...Yo,transform:n=>Math.round(Vk(n))},da={test:Sy("rgb","red"),parse:ew("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+dp.transform(n)+", "+dp.transform(t)+", "+dp.transform(e)+", "+gu(Du.transform(r))+")"};function Mk(n){let t="",e="",r="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const tg={test:Sy("#"),parse:Mk,transform:da.transform},Qu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),sr=Qu("deg"),Gi=Qu("%"),mt=Qu("px"),kk=Qu("vh"),Pk=Qu("vw"),Qb={...Gi,parse:n=>Gi.parse(n)/100,transform:n=>Gi.transform(n*100)},To={test:Sy("hsl","hue"),parse:ew("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+Gi.transform(gu(t))+", "+Gi.transform(gu(e))+", "+gu(Du.transform(r))+")"},Ve={test:n=>da.test(n)||tg.test(n)||To.test(n),parse:n=>da.test(n)?da.parse(n):To.test(n)?To.parse(n):tg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?da.transform(n):To.transform(n),getAnimatableNone:n=>{const t=Ve.parse(n);return t.alpha=0,Ve.transform(t)}},Ok=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Lk(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ey)?.length||0)+(n.match(Ok)?.length||0)>0}const nw="number",iw="color",jk="var",Uk="var(",Xb="${}",Bk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nu(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(Bk,p=>(Ve.test(p)?(r.color.push(u),o.push(iw),e.push(Ve.parse(p))):p.startsWith(Uk)?(r.var.push(u),o.push(jk),e.push(p)):(r.number.push(u),o.push(nw),e.push(parseFloat(p))),++u,Xb)).split(Xb);return{values:e,split:m,indexes:r,types:o}}function sw(n){return Nu(n).values}function rw(n){const{split:t,types:e}=Nu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===nw?u+=gu(o[c]):m===iw?u+=Ve.transform(o[c]):u+=o[c]}return u}}const zk=n=>typeof n=="number"?0:Ve.test(n)?Ve.getAnimatableNone(n):n;function Fk(n){const t=sw(n);return rw(n)(t.map(zk))}const Rr={test:Lk,parse:sw,createTransformer:rw,getAnimatableNone:Fk};function mp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function Hk({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=mp(p,m,n+1/3),u=mp(p,m,n),c=mp(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function gf(n,t){return e=>e>0?t:n}const he=(n,t,e)=>n+(t-n)*e,pp=(n,t,e)=>{const r=n*n,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},qk=[tg,da,To],Gk=n=>qk.find(t=>t.test(n));function $b(n){const t=Gk(n);if(!t)return!1;let e=t.parse(n);return t===To&&(e=Hk(e)),e}const Wb=(n,t)=>{const e=$b(n),r=$b(t);if(!e||!r)return gf(n,t);const o={...e};return u=>(o.red=pp(e.red,r.red,u),o.green=pp(e.green,r.green,u),o.blue=pp(e.blue,r.blue,u),o.alpha=he(e.alpha,r.alpha,u),da.transform(o))},eg=new Set(["none","hidden"]);function Kk(n,t){return eg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function Yk(n,t){return e=>he(n,t,e)}function Ay(n){return typeof n=="number"?Yk:typeof n=="string"?by(n)?gf:Ve.test(n)?Wb:$k:Array.isArray(n)?aw:typeof n=="object"?Ve.test(n)?Wb:Qk:gf}function aw(n,t){const e=[...n],r=e.length,o=n.map((u,c)=>Ay(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function Qk(n,t){const e={...n,...t},r={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Ay(n[o])(n[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function Xk(n,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;e[o]=m,r[u]++}return e}const $k=(n,t)=>{const e=Rr.createTransformer(t),r=Nu(n),o=Nu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?eg.has(n)&&!o.values.length||eg.has(t)&&!r.values.length?Kk(n,t):Ku(aw(Xk(r,o),o.values),e):gf(n,t)};function ow(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?he(n,t,e):Ay(n)(n,t)}const Wk=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>oe.update(t,e),stop:()=>xr(t),now:()=>We.isProcessing?We.timestamp:hn.now()}},lw=(n,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},yf=2e4;function wy(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<yf;)t+=e,r=n.next(t);return t>=yf?1/0:t}function Jk(n,t=100,e){const r=e({...n,keyframes:[0,t]}),o=Math.min(wy(r),yf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Qn(o)}}const Zk=5;function uw(n,t,e){const r=Math.max(t-Zk,0);return zA(e-n(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gp=.001;function t4({duration:n=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=Qi(pe.minDamping,pe.maxDamping,c),n=Qi(pe.minDuration,pe.maxDuration,Qn(n)),c<1?(o=g=>{const y=g*c,T=y*n,E=y-e,R=ng(g,c),L=Math.exp(-T);return gp-E/R*L},u=g=>{const T=g*c*n,E=T*e+e,R=Math.pow(c,2)*Math.pow(g,2)*n,L=Math.exp(-T),H=ng(Math.pow(g,2),c);return(-o(g)+gp>0?-1:1)*((E-R)*L)/H}):(o=g=>{const y=Math.exp(-g*n),T=(g-e)*n+1;return-gp+y*T},u=g=>{const y=Math.exp(-g*n),T=(e-g)*(n*n);return y*T});const m=5/n,p=n4(o,u,m);if(n=gs(n),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const e4=12;function n4(n,t,e){let r=e;for(let o=1;o<e4;o++)r=r-n(r)/t(r);return r}function ng(n,t){return n*Math.sqrt(1-t*t)}const i4=["duration","bounce"],s4=["stiffness","damping","mass"];function Jb(n,t){return t.some(e=>n[e]!==void 0)}function r4(n){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...n};if(!Jb(n,s4)&&Jb(n,i4))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Qi(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const e=t4(n);t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function vf(n=pe.visualDuration,t=pe.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:T,velocity:E,isResolvedFromDuration:R}=r4({...e,velocity:-Qn(e.velocity||0)}),L=E||0,H=g/(2*Math.sqrt(p*y)),O=c-u,j=Qn(Math.sqrt(p/y)),W=Math.abs(O)<5;r||(r=W?pe.restSpeed.granular:pe.restSpeed.default),o||(o=W?pe.restDelta.granular:pe.restDelta.default);let z;if(H<1){const J=ng(j,H);z=at=>{const C=Math.exp(-H*j*at);return c-C*((L+H*j*O)/J*Math.sin(J*at)+O*Math.cos(J*at))}}else if(H===1)z=J=>c-Math.exp(-j*J)*(O+(L+j*O)*J);else{const J=j*Math.sqrt(H*H-1);z=at=>{const C=Math.exp(-H*j*at),x=Math.min(J*at,300);return c-C*((L+H*j*O)*Math.sinh(x)+J*O*Math.cosh(x))/J}}const $={calculatedDuration:R&&T||null,next:J=>{const at=z(J);if(R)m.done=J>=T;else{let C=J===0?L:0;H<1&&(C=J===0?gs(L):uw(z,J,at));const x=Math.abs(C)<=r,I=Math.abs(c-at)<=o;m.done=x&&I}return m.value=m.done?c:at,m},toString:()=>{const J=Math.min(wy($),yf),at=lw(C=>$.next(J*C).value,J,30);return J+"ms "+at},toTransition:()=>{}};return $}vf.applyToOptions=n=>{const t=Jk(n,100,vf);return n.ease=t.ease,n.duration=gs(t.duration),n.type="keyframes",n};function ig({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:y}){const T=n[0],E={done:!1,value:T},R=x=>m!==void 0&&x<m||p!==void 0&&x>p,L=x=>m===void 0?p:p===void 0||Math.abs(m-x)<Math.abs(p-x)?m:p;let H=e*t;const O=T+H,j=c===void 0?O:c(O);j!==O&&(H=j-T);const W=x=>-H*Math.exp(-x/r),z=x=>j+W(x),$=x=>{const I=W(x),M=z(x);E.done=Math.abs(I)<=g,E.value=E.done?j:M};let J,at;const C=x=>{R(E.value)&&(J=x,at=vf({keyframes:[E.value,L(E.value)],velocity:uw(z,x,E.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:x=>{let I=!1;return!at&&J===void 0&&(I=!0,$(x),C(x)),J!==void 0&&x>=J?at.next(x-J):(!I&&$(x),E)}}}function a4(n,t,e){const r=[],o=e||Es.mix||ow,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Xn:t;m=Ku(p,m)}r.push(m)}return r}function o4(n,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=n.length;if(gy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=a4(t,r,o),p=m.length,g=y=>{if(c&&y<n[0])return t[0];let T=0;if(p>1)for(;T<n.length-2&&!(y<n[T+1]);T++);const E=Iu(n[T],n[T+1],y);return m[T](E)};return e?y=>g(Qi(n[0],n[u-1],y)):g}function l4(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const o=Iu(0,t,r);n.push(he(e,1,o))}}function u4(n){const t=[0];return l4(t,n.length-1),t}function c4(n,t){return n.map(e=>e*t)}function h4(n,t){return n.map(()=>t||$A).splice(0,n.length-1)}function yu({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=Ek(r)?r.map(Kb):Kb(r),u={done:!1,value:t[0]},c=c4(e&&e.length===t.length?e:u4(t),n),m=o4(c,t,{ease:Array.isArray(o)?o:h4(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const f4=n=>n!==null;function xy(n,{repeat:t,repeatType:e="loop"},r,o=1){const u=n.filter(f4),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const d4={decay:ig,inertia:ig,tween:yu,keyframes:yu,spring:vf};function cw(n){typeof n.type=="string"&&(n.type=d4[n.type])}class Ry{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const m4=n=>n/100;class Cy extends Ry{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;cw(t);const{type:e=yu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||yu;p!==yu&&typeof m[0]!="number"&&(this.mixKeyframes=Ku(m4,ow(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=wy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:E,repeatDelay:R,type:L,onUpdate:H,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const j=this.currentTime-g*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let z=this.currentTime,$=r;if(T){const x=Math.min(this.currentTime,o)/m;let I=Math.floor(x),M=x%1;!M&&x>=1&&(M=1),M===1&&I--,I=Math.min(I,T+1),!!(I%2)&&(E==="reverse"?(M=1-M,R&&(M-=R/m)):E==="mirror"&&($=c)),z=Qi(0,1,M)*m}const J=W?{done:!1,value:y[0]}:$.next(z);u&&(J.value=u(J.value));let{done:at}=J;!W&&p!==null&&(at=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return C&&L!==ig&&(J.value=xy(y,this.options,O,this.speed)),H&&H(J.value),C&&this.finish(),J}then(t,e){return this.finished.then(t,e)}get duration(){return Qn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(this.currentTime)}set time(t){t=gs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Qn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Wk,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function p4(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ma=n=>n*180/Math.PI,sg=n=>{const t=ma(Math.atan2(n[1],n[0]));return rg(t)},g4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:sg,rotateZ:sg,skewX:n=>ma(Math.atan(n[1])),skewY:n=>ma(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},rg=n=>(n=n%360,n<0&&(n+=360),n),Zb=sg,tE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),eE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),y4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tE,scaleY:eE,scale:n=>(tE(n)+eE(n))/2,rotateX:n=>rg(ma(Math.atan2(n[6],n[5]))),rotateY:n=>rg(ma(Math.atan2(-n[2],n[0]))),rotateZ:Zb,rotate:Zb,skewX:n=>ma(Math.atan(n[4])),skewY:n=>ma(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function ag(n){return n.includes("scale")?1:0}function og(n,t){if(!n||n==="none")return ag(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=y4,o=e;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=g4,o=m}if(!o)return ag(t);const u=r[t],c=o[1].split(",").map(_4);return typeof u=="function"?u(c):c[u]}const v4=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return og(e,t)};function _4(n){return parseFloat(n.trim())}const Qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xo=new Set(Qo),nE=n=>n===Yo||n===mt,T4=new Set(["x","y","z"]),b4=Qo.filter(n=>!T4.has(n));function E4(n){const t=[];return b4.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const cr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>og(t,"x"),y:(n,{transform:t})=>og(t,"y")};cr.translateX=cr.x;cr.translateY=cr.y;const ga=new Set;let lg=!1,ug=!1,cg=!1;function hw(){if(ug){const n=Array.from(ga).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=E4(r);o.length&&(e.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ug=!1,lg=!1,ga.forEach(n=>n.complete(cg)),ga.clear()}function fw(){ga.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ug=!0)})}function S4(){cg=!0,fw(),hw(),cg=!1}class Iy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ga.add(this),lg||(lg=!0,oe.read(fw),oe.resolveKeyframes(hw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}p4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ga.delete(this)}cancel(){this.state==="scheduled"&&(ga.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const A4=n=>n.startsWith("--");function w4(n,t,e){A4(t)?n.style.setProperty(t,e):n.style[t]=e}const x4=yy(()=>window.ScrollTimeline!==void 0),R4={};function C4(n,t){const e=yy(n);return()=>R4[t]??e()}const dw=C4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,iE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lu([0,.65,.55,1]),circOut:lu([.55,0,1,.45]),backIn:lu([.31,.01,.66,-.59]),backOut:lu([.33,1.53,.69,.99])};function mw(n,t){if(n)return typeof n=="function"?dw()?lw(n,t):"ease-out":WA(n)?lu(n):Array.isArray(n)?n.map(e=>mw(e,t)||iE.easeOut):iE[n]}function I4(n,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const y={[t]:e};p&&(y.offset=p);const T=mw(m,o);Array.isArray(T)&&(y.easing=T);const E={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),n.animate(y,E)}function pw(n){return typeof n=="function"&&"applyToOptions"in n}function D4({type:n,...t}){return pw(n)&&dw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class N4 extends Ry{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,gy(typeof t.type!="string");const g=D4(t);this.animation=I4(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=xy(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(y):w4(e,r,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Qn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=gs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&x4()?(this.animation.timeline=t,Xn):e(this)}}const gw={anticipate:YA,backInOut:KA,circInOut:XA};function V4(n){return n in gw}function M4(n){typeof n.ease=="string"&&V4(n.ease)&&(n.ease=gw[n.ease])}const yp=10;class k4 extends N4{constructor(t){M4(t),cw(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new Cy({...c,autoplay:!1}),p=Math.max(yp,hn.now()-this.startTime),g=Qi(0,yp,p-yp);e.setWithVelocity(m.sample(Math.max(0,p-g)).value,m.sample(p).value,g),m.stop()}}const sE=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Rr.test(n)||n==="0")&&!n.startsWith("url("));function P4(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function O4(n,t,e,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=sE(o,t),m=sE(u,t);return!c||!m?!1:P4(n)||(e==="spring"||pw(e))&&r}function hg(n){n.duration=0,n.type="keyframes"}const L4=new Set(["opacity","clipPath","filter","transform"]),j4=yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U4(n){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return j4()&&e&&L4.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const B4=40;class z4 extends Ry{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hn.now();const E={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:y,...T},R=y?.KeyframeResolver||Iy;this.keyframeResolver=new R(m,(L,H,O)=>this.onKeyframesResolved(L,H,E,!O),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:y}=r;this.resolvedAt=hn.now(),O4(t,u,c,m)||((Es.instantAnimations||!p)&&y?.(xy(t,r,e)),t[0]=t[t.length-1],hg(r),r.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>B4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},R=!g&&U4(E),L=E.motionValue?.owner?.current,H=R?new k4({...E,element:L}):new Cy(E);H.finished.then(()=>{this.notifyFinished()}).catch(Xn),this.pendingTimeline&&(this.stopTimeline=H.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=H}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),S4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function yw(n,t,e,r=0,o=1){const u=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=n.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}const F4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H4(n){const t=F4.exec(n);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function vw(n,t,e=1){const[r,o]=H4(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return jA(c)?parseFloat(c):c}return by(o)?vw(o,t,e+1):o}const q4={type:"spring",stiffness:500,damping:25,restSpeed:10},G4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),K4={type:"keyframes",duration:.8},Y4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q4=(n,{keyframes:t})=>t.length>2?K4:Xo.has(n)?n.startsWith("scale")?G4(t[1]):q4:Y4,X4=n=>n!==null;function $4(n,{repeat:t,repeatType:e="loop"},r){const o=n.filter(X4),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}function Dy(n,t){return n?.[t]??n?.default??n}function W4({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Ny=(n,t,e,r={},o,u)=>c=>{const m=Dy(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-gs(p);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:E=>{t.set(E),m.onUpdate&&m.onUpdate(E)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};W4(m)||Object.assign(y,Q4(n,y)),y.duration&&(y.duration=gs(y.duration)),y.repeatDelay&&(y.repeatDelay=gs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(hg(y),y.delay===0&&(T=!0)),(Es.instantAnimations||Es.skipAnimations)&&(T=!0,hg(y),y.delay=0),y.allowFlatten=!m.type&&!m.ease,T&&!u&&t.get()!==void 0){const E=$4(y.keyframes,m);if(E!==void 0){oe.update(()=>{y.onUpdate(E),y.onComplete()});return}}return m.isSync?new Cy(y):new z4(y)};function rE(n){const t=[{},{}];return n?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Vy(n,t,e,r){if(typeof t=="function"){const[o,u]=rE(r);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=rE(r);t=t(e!==void 0?e:n.custom,o,u)}return t}function Do(n,t,e){const r=n.getProps();return Vy(r,t,e!==void 0?e:r.custom,n)}const _w=new Set(["width","height","top","left","right","bottom",...Qo]),aE=30,J4=n=>!isNaN(parseFloat(n));class Z4{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=hn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=J4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new vy);const r=this.events[t].add(e);return t==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>aE)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,aE);return zA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uo(n,t){return new Z4(n,t)}const fg=n=>Array.isArray(n);function tP(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Uo(e))}function eP(n){return fg(n)?n[n.length-1]||0:n}function nP(n,t){const e=Do(n,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=eP(u[c]);tP(n,c,m)}}const an=n=>!!(n&&n.getVelocity);function iP(n){return!!(an(n)&&n.add)}function dg(n,t){const e=n.getValue("willChange");if(iP(e))return e.add(t);if(!e&&Es.WillChange){const r=new Es.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function My(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const sP="framerAppearId",Tw="data-"+My(sP);function bw(n){return n.props[Tw]}function rP({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function Ew(n,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const y in m){const T=n.getValue(y,n.latestValues[y]??null),E=m[y];if(E===void 0||g&&rP(g,y))continue;const R={delay:e,...Dy(u||{},y)},L=T.get();if(L!==void 0&&!T.isAnimating&&!Array.isArray(E)&&E===L&&!R.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const j=bw(n);if(j){const W=window.MotionHandoffAnimation(j,y,oe);W!==null&&(R.startTime=W,H=!0)}}dg(n,y),T.start(Ny(y,T,E,n.shouldReduceMotion&&_w.has(y)?{type:!1}:R,n,H));const O=T.animation;O&&p.push(O)}return c&&Promise.all(p).then(()=>{oe.update(()=>{c&&nP(n,c)})}),p}function mg(n,t,e={}){const r=Do(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(Ew(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=o;return aP(n,t,p,g,y,T,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function aP(n,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(mg(p,t,{...c,delay:e+(typeof r=="function"?0:r)+yw(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function oP(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>mg(n,u,e));r=Promise.all(o)}else if(typeof t=="string")r=mg(n,t,e);else{const o=typeof t=="function"?Do(n,t,e.custom):t;r=Promise.all(Ew(n,o,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}const lP={test:n=>n==="auto",parse:n=>n},Sw=n=>t=>t.test(n),Aw=[Yo,mt,Gi,sr,Pk,kk,lP],oE=n=>Aw.find(Sw(n));function uP(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||BA(n):!0}const cP=new Set(["brightness","contrast","saturate","opacity"]);function hP(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(Ey)||[];if(!r)return n;const o=e.replace(r,"");let u=cP.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const fP=/\b([a-z-]*)\(.*?\)/gu,pg={...Rr,getAnimatableNone:n=>{const t=n.match(fP);return t?t.map(hP).join(" "):n}},lE={...Yo,transform:Math.round},dP={rotate:sr,rotateX:sr,rotateY:sr,rotateZ:sr,scale:Vh,scaleX:Vh,scaleY:Vh,scaleZ:Vh,skew:sr,skewX:sr,skewY:sr,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Du,originX:Qb,originY:Qb,originZ:mt},ky={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,inset:mt,insetBlock:mt,insetBlockStart:mt,insetBlockEnd:mt,insetInline:mt,insetInlineStart:mt,insetInlineEnd:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,paddingBlock:mt,paddingBlockStart:mt,paddingBlockEnd:mt,paddingInline:mt,paddingInlineStart:mt,paddingInlineEnd:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,marginBlock:mt,marginBlockStart:mt,marginBlockEnd:mt,marginInline:mt,marginInlineStart:mt,marginInlineEnd:mt,backgroundPositionX:mt,backgroundPositionY:mt,...dP,zIndex:lE,fillOpacity:Du,strokeOpacity:Du,numOctaves:lE},mP={...ky,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:pg,WebkitFilter:pg},ww=n=>mP[n];function xw(n,t){let e=ww(n);return e!==pg&&(e=Rr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const pP=new Set(["auto","none","0"]);function gP(n,t,e){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!pP.has(u)&&Nu(u).values.length&&(o=n[r]),r++}if(o&&e)for(const u of t)n[u]=xw(e,o)}class yP extends Iy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let T=t[y];if(typeof T=="string"&&(T=T.trim(),by(T))){const E=vw(T,e.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!_w.has(r)||t.length!==2)return;const[o,u]=t,c=oE(o),m=oE(u),p=Yb(o),g=Yb(u);if(p!==g&&cr[r]){this.needsMeasurement=!0;return}if(c!==m)if(nE(c)&&nE(m))for(let y=0;y<t.length;y++){const T=t[y];typeof T=="string"&&(t[y]=parseFloat(T))}else cr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||uP(t[o]))&&r.push(o);r.length&&gP(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=cr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function vP(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=e?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Rw=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Cw(n){return UA(n)&&"offsetHeight"in n}const{schedule:Py}=JA(queueMicrotask,!1),ci={x:!1,y:!1};function Iw(){return ci.x||ci.y}function _P(n){return n==="x"||n==="y"?ci[n]?null:(ci[n]=!0,()=>{ci[n]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function Dw(n,t){const e=vP(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function uE(n){return!(n.pointerType==="touch"||Iw())}function TP(n,t,e={}){const[r,o,u]=Dw(n,e),c=m=>{if(!uE(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const y=T=>{uE(T)&&(g(T),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const Nw=(n,t)=>t?n===t?!0:Nw(n,t.parentElement):!1,Oy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,bP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Vw(n){return bP.has(n.tagName)||n.isContentEditable===!0}const Kh=new WeakSet;function cE(n){return t=>{t.key==="Enter"&&n(t)}}function vp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const EP=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=cE(()=>{if(Kh.has(e))return;vp(e,"down");const o=cE(()=>{vp(e,"up")}),u=()=>vp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function hE(n){return Oy(n)&&!Iw()}function SP(n,t,e={}){const[r,o,u]=Dw(n,e),c=m=>{const p=m.currentTarget;if(!hE(m))return;Kh.add(p);const g=t(p,m),y=(R,L)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",E),Kh.has(p)&&Kh.delete(p),hE(R)&&typeof g=="function"&&g(R,{success:L})},T=R=>{y(R,p===window||p===document||e.useGlobalTarget||Nw(p,R.target))},E=R=>{y(R,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",E,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),Cw(m)&&(m.addEventListener("focus",g=>EP(g,o)),!Vw(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Mw(n){return UA(n)&&"ownerSVGElement"in n}function AP(n){return Mw(n)&&n.tagName==="svg"}const wP=[...Aw,Ve,Rr],xP=n=>wP.find(Sw(n)),fE=()=>({translate:0,scale:1,origin:0,originPoint:0}),bo=()=>({x:fE(),y:fE()}),dE=()=>({min:0,max:0}),Le=()=>({x:dE(),y:dE()}),gg={current:null},kw={current:!1},RP=typeof window<"u";function CP(){if(kw.current=!0,!!RP)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>gg.current=n.matches;n.addEventListener("change",t),t()}else gg.current=!1}const IP=new WeakMap;function Kf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Vu(n){return typeof n=="string"||Array.isArray(n)}const Ly=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jy=["initial",...Ly];function Yf(n){return Kf(n.animate)||jy.some(t=>Vu(n[t]))}function Pw(n){return!!(Yf(n)||n.variants)}function DP(n,t,e){for(const r in t){const o=t[r],u=e[r];if(an(o))n.addValue(r,o);else if(an(u))n.addValue(r,Uo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Uo(c!==void 0?c:o,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const mE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let _f={};function Ow(n){_f=n}function NP(){return _f}class VP{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Iy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=hn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,oe.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Yf(e),this.isVariantNode=Pw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const E in T){const R=T[E];p[E]!==void 0&&an(R)&&R.set(p[E])}}mount(t){this.current=t,IP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(kw.current||CP(),this.shouldReduceMotion=gg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Xo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _f){const e=_f[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<mE.length;r++){const o=mE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=DP(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Uo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(jA(r)||BA(r))?r=parseFloat(r):!xP(r)&&Rr.test(e)&&(r=xw(t,e)),this.setBaseTarget(t,an(r)?r.get():r)),an(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Vy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!an(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new vy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Py.render(this.render)}}class Lw extends VP{constructor(){super(...arguments),this.KeyframeResolver=yP}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const r=t.style;return r?r[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Dr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function jw({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function MP({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function kP(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function _p(n){return n===void 0||n===1}function yg({scale:n,scaleX:t,scaleY:e}){return!_p(n)||!_p(t)||!_p(e)}function ha(n){return yg(n)||Uw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Uw(n){return pE(n.x)||pE(n.y)}function pE(n){return n&&n!=="0%"}function Tf(n,t,e){const r=n-e,o=t*r;return e+o}function gE(n,t,e,r,o){return o!==void 0&&(n=Tf(n,o,r)),Tf(n,e,r)+t}function vg(n,t=0,e=1,r,o){n.min=gE(n.min,t,e,r,o),n.max=gE(n.max,t,e,r,o)}function Bw(n,{x:t,y:e}){vg(n.x,t.translate,t.scale,t.originPoint),vg(n.y,e.translate,e.scale,e.originPoint)}const yE=.999999999999,vE=1.0000000000001;function PP(n,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&So(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Bw(n,c)),r&&ha(u.latestValues)&&So(n,u.latestValues))}t.x<vE&&t.x>yE&&(t.x=1),t.y<vE&&t.y>yE&&(t.y=1)}function Eo(n,t){n.min=n.min+t,n.max=n.max+t}function _E(n,t,e,r,o=.5){const u=he(n.min,n.max,o);vg(n,t,e,u,r)}function So(n,t){_E(n.x,t.x,t.scaleX,t.scale,t.originX),_E(n.y,t.y,t.scaleY,t.scale,t.originY)}function zw(n,t){return jw(kP(n.getBoundingClientRect(),t))}function OP(n,t,e){const r=zw(n,e),{scroll:o}=t;return o&&(Eo(r.x,o.offset.x),Eo(r.y,o.offset.y)),r}const LP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jP=Qo.length;function UP(n,t,e){let r="",o=!0;for(let u=0;u<jP;u++){const c=Qo[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=Rw(m,ky[c]);if(!p){o=!1;const y=LP[c]||c;r+=`${y}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Uy(n,t,e){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(Xo.has(p)){c=!0;continue}else if(tw(p)){o[p]=g;continue}else{const y=Rw(g,ky[p]);p.startsWith("origin")?(m=!0,u[p]=y):r[p]=y}}if(t.transform||(c||e?r.transform=UP(t,n.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;r.transformOrigin=`${p} ${g} ${y}`}}function Fw(n,{style:t,vars:e},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function TE(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const iu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(mt.test(n))n=parseFloat(n);else return n;const e=TE(n,t.target.x),r=TE(n,t.target.y);return`${e}% ${r}%`}},BP={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,o=Rr.parse(n);if(o.length>5)return r;const u=Rr.createTransformer(n),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=he(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},_g={borderRadius:{...iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iu,borderTopRightRadius:iu,borderBottomLeftRadius:iu,borderBottomRightRadius:iu,boxShadow:BP};function Hw(n,{layout:t,layoutId:e}){return Xo.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!_g[n]||n==="opacity")}function By(n,t,e){const r=n.style,o=t?.style,u={};if(!r)return u;for(const c in r)(an(r[c])||o&&an(o[c])||Hw(c,n)||e?.getValue(c)?.liveStyle!==void 0)&&(u[c]=r[c]);return u}function zP(n){return window.getComputedStyle(n)}class FP extends Lw{constructor(){super(...arguments),this.type="html",this.renderInstance=Fw}readValueFromInstance(t,e){if(Xo.has(e))return this.projection?.isProjecting?ag(e):v4(t,e);{const r=zP(t),o=(tw(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return zw(t,e)}build(t,e,r){Uy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return By(t,e,r)}}const HP={offset:"stroke-dashoffset",array:"stroke-dasharray"},qP={offset:"strokeDashoffset",array:"strokeDasharray"};function GP(n,t,e=1,r=0,o=!0){n.pathLength=1;const u=o?HP:qP;n[u.offset]=mt.transform(-r);const c=mt.transform(t),m=mt.transform(e);n[u.array]=`${c} ${m}`}const KP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function qw(n,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,y){if(Uy(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:E}=n;T.transform&&(E.transform=T.transform,delete T.transform),(E.transform||T.transformOrigin)&&(E.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete T.transformBox);for(const R of KP)T[R]!==void 0&&(E[R]=T[R],delete T[R]);t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),r!==void 0&&(T.scale=r),o!==void 0&&GP(T,o,u,c,!1)}const Gw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Kw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function YP(n,t,e,r){Fw(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(Gw.has(o)?o:My(o),t.attrs[o])}function Yw(n,t,e){const r=By(n,t,e);for(const o in n)if(an(n[o])||an(t[o])){const u=Qo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}class QP extends Lw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Xo.has(e)){const r=ww(e);return r&&r.default||0}return e=Gw.has(e)?e:My(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return Yw(t,e,r)}build(t,e,r){qw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){YP(t,e,r,o)}mount(t){this.isSVGTag=Kw(t.tagName),super.mount(t)}}const XP=jy.length;function Qw(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?Qw(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<XP;e++){const r=jy[e],o=n.props[r];(Vu(o)||o===!1)&&(t[r]=o)}return t}function Xw(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const $P=[...Ly].reverse(),WP=Ly.length;function JP(n){return t=>Promise.all(t.map(({animation:e,options:r})=>oP(n,e,r)))}function ZP(n){let t=JP(n),e=bE(),r=!0;const o=p=>(g,y)=>{const T=Do(n,y,p==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:E,transitionEnd:R,...L}=T;g={...g,...L,...R}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,y=Qw(n.parent)||{},T=[],E=new Set;let R={},L=1/0;for(let O=0;O<WP;O++){const j=$P[O],W=e[j],z=g[j]!==void 0?g[j]:y[j],$=Vu(z),J=j===p?W.isActive:null;J===!1&&(L=O);let at=z===y[j]&&z!==g[j]&&$;if(at&&r&&n.manuallyAnimateOnMount&&(at=!1),W.protectedKeys={...R},!W.isActive&&J===null||!z&&!W.prevProp||Kf(z)||typeof z=="boolean")continue;const C=tO(W.prevProp,z);let x=C||j===p&&W.isActive&&!at&&$||O>L&&$,I=!1;const M=Array.isArray(z)?z:[z];let V=M.reduce(o(j),{});J===!1&&(V={});const{prevResolvedValues:U={}}=W,D={...U,...V},ct=et=>{x=!0,E.has(et)&&(I=!0,E.delete(et)),W.needsAnimating[et]=!0;const lt=n.getValue(et);lt&&(lt.liveStyle=!1)};for(const et in D){const lt=V[et],At=U[et];if(R.hasOwnProperty(et))continue;let Mt=!1;fg(lt)&&fg(At)?Mt=!Xw(lt,At):Mt=lt!==At,Mt?lt!=null?ct(et):E.add(et):lt!==void 0&&E.has(et)?ct(et):W.protectedKeys[et]=!0}W.prevProp=z,W.prevResolvedValues=V,W.isActive&&(R={...R,...V}),r&&n.blockInitialAnimation&&(x=!1);const vt=at&&C;x&&(!vt||I)&&T.push(...M.map(et=>{const lt={type:j};if(typeof et=="string"&&r&&!vt&&n.manuallyAnimateOnMount&&n.parent){const{parent:At}=n,Mt=Do(At,et);if(At.enteringChildren&&Mt){const{delayChildren:k}=Mt.transition||{};lt.delay=yw(At.enteringChildren,n,k)}}return{animation:et,options:lt}}))}if(E.size){const O={};if(typeof g.initial!="boolean"){const j=Do(n,Array.isArray(g.initial)?g.initial[0]:g.initial);j&&j.transition&&(O.transition=j.transition)}E.forEach(j=>{const W=n.getBaseTarget(j),z=n.getValue(j);z&&(z.liveStyle=!0),O[j]=W??null}),T.push({animation:O})}let H=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(H=!1),r=!1,H?t(T):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const y=c(p);for(const T in e)e[T].protectedKeys={};return y}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=bE()}}}function tO(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Xw(t,n):!1}function ua(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bE(){return{animate:ua(!0),whileInView:ua(),whileHover:ua(),whileTap:ua(),whileDrag:ua(),whileFocus:ua(),exit:ua()}}function EE(n,t){n.min=t.min,n.max=t.max}function li(n,t){EE(n.x,t.x),EE(n.y,t.y)}function SE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const $w=1e-4,eO=1-$w,nO=1+$w,Ww=.01,iO=0-Ww,sO=0+Ww;function fn(n){return n.max-n.min}function rO(n,t,e){return Math.abs(n-t)<=e}function AE(n,t,e,r=.5){n.origin=r,n.originPoint=he(t.min,t.max,n.origin),n.scale=fn(e)/fn(t),n.translate=he(e.min,e.max,n.origin)-n.originPoint,(n.scale>=eO&&n.scale<=nO||isNaN(n.scale))&&(n.scale=1),(n.translate>=iO&&n.translate<=sO||isNaN(n.translate))&&(n.translate=0)}function vu(n,t,e,r){AE(n.x,t.x,e.x,r?r.originX:void 0),AE(n.y,t.y,e.y,r?r.originY:void 0)}function wE(n,t,e){n.min=e.min+t.min,n.max=n.min+fn(t)}function aO(n,t,e){wE(n.x,t.x,e.x),wE(n.y,t.y,e.y)}function xE(n,t,e){n.min=t.min-e.min,n.max=n.min+fn(t)}function bf(n,t,e){xE(n.x,t.x,e.x),xE(n.y,t.y,e.y)}function RE(n,t,e,r,o){return n-=t,n=Tf(n,1/e,r),o!==void 0&&(n=Tf(n,1/o,r)),n}function oO(n,t=0,e=1,r=.5,o,u=n,c=n){if(Gi.test(t)&&(t=parseFloat(t),t=he(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=he(u.min,u.max,r);n===u&&(m-=t),n.min=RE(n.min,t,e,m,o),n.max=RE(n.max,t,e,m,o)}function CE(n,t,[e,r,o],u,c){oO(n,t[e],t[r],t[o],t.scale,u,c)}const lO=["x","scaleX","originX"],uO=["y","scaleY","originY"];function IE(n,t,e,r){CE(n.x,t,lO,e?e.x:void 0,r?r.x:void 0),CE(n.y,t,uO,e?e.y:void 0,r?r.y:void 0)}function DE(n){return n.translate===0&&n.scale===1}function Jw(n){return DE(n.x)&&DE(n.y)}function NE(n,t){return n.min===t.min&&n.max===t.max}function cO(n,t){return NE(n.x,t.x)&&NE(n.y,t.y)}function VE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function Zw(n,t){return VE(n.x,t.x)&&VE(n.y,t.y)}function ME(n){return fn(n.x)/fn(n.y)}function kE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Kn(n){return[n("x"),n("y")]}function hO(n,t,e){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:E,skewX:R,skewY:L}=e;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),T&&(r+=`rotateX(${T}deg) `),E&&(r+=`rotateY(${E}deg) `),R&&(r+=`skewX(${R}deg) `),L&&(r+=`skewY(${L}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const tx=["TopLeft","TopRight","BottomLeft","BottomRight"],fO=tx.length,PE=n=>typeof n=="string"?parseFloat(n):n,OE=n=>typeof n=="number"||mt.test(n);function dO(n,t,e,r,o,u){o?(n.opacity=he(0,e.opacity??1,mO(r)),n.opacityExit=he(t.opacity??1,0,pO(r))):u&&(n.opacity=he(t.opacity??1,e.opacity??1,r));for(let c=0;c<fO;c++){const m=`border${tx[c]}Radius`;let p=LE(t,m),g=LE(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||OE(p)===OE(g)?(n[m]=Math.max(he(PE(p),PE(g),r),0),(Gi.test(g)||Gi.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||e.rotate)&&(n.rotate=he(t.rotate||0,e.rotate||0,r))}function LE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const mO=ex(0,.5,QA),pO=ex(.5,.95,Xn);function ex(n,t,e){return r=>r<n?0:r>t?1:e(Iu(n,t,r))}function gO(n,t,e){const r=an(n)?n:Uo(n);return r.start(Ny("",r,t,e)),r.animation}function Mu(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}const yO=(n,t)=>n.depth-t.depth;class vO{constructor(){this.children=[],this.isDirty=!1}add(t){my(this.children,t),this.isDirty=!0}remove(t){py(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yO),this.isDirty=!1,this.children.forEach(t)}}function _O(n,t){const e=hn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(xr(r),n(u-t))};return oe.setup(r,!0),()=>xr(r)}function Yh(n){return an(n)?n.get():n}class TO{constructor(){this.members=[]}add(t){my(this.members,t),t.scheduleRender()}remove(t){if(py(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Tp=["","X","Y","Z"],bO=1e3;let EO=0;function bp(n,t,e,r){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function nx(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=bw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",oe,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&nx(r)}function ix({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=EO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wO),this.nodes.forEach(IO),this.nodes.forEach(DO),this.nodes.forEach(xO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new vO)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new vy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Mw(c)&&!AP(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let y,T=0;const E=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{T=window.innerWidth}),n(c,()=>{const R=window.innerWidth;R!==T&&(T=R,this.root.updateBlockedByResize=!0,y&&y(),y=_O(E,250),Qh.hasAnimatedSinceResize&&(Qh.hasAnimatedSinceResize=!1,this.nodes.forEach(BE)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:E,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||PO,{onLayoutAnimationStart:H,onLayoutAnimationComplete:O}=g.getProps(),j=!this.targetLayout||!Zw(this.targetLayout,R),W=!T&&E;if(this.options.layoutRoot||this.resumeFrom||W||T&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...Dy(L,"layout"),onPlay:H,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(y,W)}else T||BE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(UE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CO),this.nodes.forEach(SO),this.nodes.forEach(AO)):this.nodes.forEach(UE),this.clearAllSnapshots();const m=hn.now();We.delta=Qi(0,1e3/60,m-We.timestamp),We.timestamp=m,We.isProcessing=!0,fp.update.process(We),fp.preRender.process(We),fp.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Py.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RO),this.sharedNodes.forEach(VO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Jw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||ha(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),OO(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Le();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(LO))){const{scroll:g}=this.root;g&&(Eo(m.x,g.offset.x),Eo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Le();if(li(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&li(m,c),Eo(m.x,y.offset.x),Eo(m.y,y.offset.y))}return m}applyTransform(c,m=!1){const p=Le();li(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&So(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ha(y.latestValues)&&So(p,y.latestValues)}return ha(this.latestValues)&&So(p,this.latestValues),p}removeTransform(c){const m=Le();li(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ha(g.latestValues))continue;yg(g.latestValues)&&g.updateSnapshot();const y=Le(),T=g.measurePageBox();li(y,T),IE(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ha(this.latestValues)&&IE(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=We.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),Bw(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||yg(this.parent.latestValues)||Uw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),bf(this.relativeTargetOrigin,m,p),li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===We.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;li(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,E=this.treeScale.y;PP(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Le());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SE(this.prevProjectionDelta.x,this.projectionDelta.x),SE(this.prevProjectionDelta.y,this.projectionDelta.y)),vu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==E||!kE(this.projectionDelta.x,this.prevProjectionDelta.x)||!kE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bo(),this.projectionDelta=bo(),this.projectionDeltaWithTransform=bo()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},T=bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const E=Le(),R=p?p.source:void 0,L=this.layout?this.layout.source:void 0,H=R!==L,O=this.getStack(),j=!O||O.members.length<=1,W=!!(H&&!j&&this.options.crossfade===!0&&!this.path.some(kO));this.animationProgress=0;let z;this.mixTargetDelta=$=>{const J=$/1e3;zE(T.x,c.x,J),zE(T.y,c.y,J),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bf(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MO(this.relativeTarget,this.relativeTargetOrigin,E,J),z&&cO(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Le()),li(z,this.relativeTarget)),H&&(this.animationValues=y,dO(y,g,this.latestValues,J,W,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Qh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uo(0)),this.currentAnimation=gO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:y}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&sx(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Le();const T=fn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const E=fn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+E}li(m,p),So(m,y),vu(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new TO),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&bp("z",c,g,this.animationValues);for(let y=0;y<Tp.length;y++)bp(`rotate${Tp[y]}`,c,g,this.animationValues),bp(`skew${Tp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Yh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Yh(m?.pointerEvents)||""),this.hasProjected&&!ha(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=hO(this.projectionDeltaWithTransform,this.treeScale,y);p&&(T=p(y,T)),c.transform=T;const{x:E,y:R}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const L in _g){if(y[L]===void 0)continue;const{correct:H,applyTo:O,isCSSVariable:j}=_g[L],W=T==="none"?y[L]:H(y[L],g);if(O){const z=O.length;for(let $=0;$<z;$++)c[O[$]]=W}else j?this.options.visualElement.renderState.vars[L]=W:c[L]=W}this.options.layoutId&&(c.pointerEvents=g===this?Yh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(jE),this.root.sharedNodes.clear()}}}function SO(n){n.updateLayout()}function AO(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?Kn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],E=fn(T);T.min=e[y].min,T.max=T.min+E}):sx(o,t.layoutBox,e)&&Kn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],E=fn(e[y]);T.max=T.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const c=bo();vu(c,e,t.layoutBox);const m=bo();u?vu(m,n.applyTransform(r,!0),t.measuredBox):vu(m,e,t.layoutBox);const p=!Jw(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:E}=y;if(T&&E){const R=Le();bf(R,t.layoutBox,T.layoutBox);const L=Le();bf(L,e,E.layoutBox),Zw(R,L)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=L,n.relativeTargetOrigin=R,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function wO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function RO(n){n.clearSnapshot()}function jE(n){n.clearMeasurements()}function UE(n){n.isLayoutDirty=!1}function CO(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function BE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function IO(n){n.resolveTargetDelta()}function DO(n){n.calcProjection()}function NO(n){n.resetSkewAndRotation()}function VO(n){n.removeLeadSnapshot()}function zE(n,t,e){n.translate=he(t.translate,0,e),n.scale=he(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function FE(n,t,e,r){n.min=he(t.min,e.min,r),n.max=he(t.max,e.max,r)}function MO(n,t,e,r){FE(n.x,t.x,e.x,r),FE(n.y,t.y,e.y,r)}function kO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const PO={duration:.45,ease:[.4,0,.1,1]},HE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),qE=HE("applewebkit/")&&!HE("chrome/")?Math.round:Xn;function GE(n){n.min=qE(n.min),n.max=qE(n.max)}function OO(n){GE(n.x),GE(n.y)}function sx(n,t,e){return n==="position"||n==="preserve-aspect"&&!rO(ME(t),ME(e),.2)}function LO(n){return n!==n.root&&n.scroll?.wasRoot}const jO=ix({attachResizeListener:(n,t)=>Mu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ep={current:void 0},rx=ix({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ep.current){const n=new jO({});n.mount(window),n.setOptions({layoutScroll:!0}),Ep.current=n}return Ep.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),zy=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function KE(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function UO(...n){return t=>{let e=!1;const r=n.map(o=>{const u=KE(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():KE(n[o],null)}}}}function BO(...n){return ot.useCallback(UO(...n),n)}class zO extends ot.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=Cw(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FO({children:n,isPresent:t,anchorX:e,root:r}){const o=ot.useId(),u=ot.useRef(null),c=ot.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=ot.useContext(zy),p=n.props?.ref??n?.ref,g=BO(u,p);return ot.useInsertionEffect(()=>{const{width:y,height:T,top:E,left:R,right:L}=c.current;if(t||!u.current||!y||!T)return;const H=e==="left"?`left: ${R}`:`right: ${L}`;u.current.dataset.motionPopId=o;const O=document.createElement("style");m&&(O.nonce=m);const j=r??document.head;return j.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${T}px !important;
            ${H}px !important;
            top: ${E}px !important;
          }
        `),()=>{j.contains(O)&&j.removeChild(O)}},[t]),A.jsx(zO,{isPresent:t,childRef:u,sizeRef:c,children:ot.cloneElement(n,{ref:g})})}const HO=({children:n,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=dy(qO),y=ot.useId();let T=!0,E=ot.useMemo(()=>(T=!1,{id:y,initial:t,isPresent:e,custom:o,onExitComplete:R=>{g.set(R,!0);for(const L of g.values())if(!L)return;r&&r()},register:R=>(g.set(R,!1),()=>g.delete(R))}),[e,g,r]);return u&&T&&(E={...E}),ot.useMemo(()=>{g.forEach((R,L)=>g.set(L,!1))},[e]),ot.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(n=A.jsx(FO,{isPresent:e,anchorX:m,root:p,children:n})),A.jsx(Gf.Provider,{value:E,children:n})};function qO(){return new Map}function ax(n=!0){const t=ot.useContext(Gf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=ot.useId();ot.useEffect(()=>{if(n)return o(u)},[n]);const c=ot.useCallback(()=>n&&r&&r(u),[u,r,n]);return!e&&r?[!1,c]:[!0]}const Mh=n=>n.key||"";function YE(n){const t=[];return ot.Children.forEach(n,e=>{ot.isValidElement(e)&&t.push(e)}),t}const GO=({children:n,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,y]=ax(c),T=ot.useMemo(()=>YE(n),[n]),E=c&&!g?[]:T.map(Mh),R=ot.useRef(!0),L=ot.useRef(T),H=dy(()=>new Map),O=ot.useRef(new Set),[j,W]=ot.useState(T),[z,$]=ot.useState(T);LA(()=>{R.current=!1,L.current=T;for(let C=0;C<z.length;C++){const x=Mh(z[C]);E.includes(x)?(H.delete(x),O.current.delete(x)):H.get(x)!==!0&&H.set(x,!1)}},[z,E.length,E.join("-")]);const J=[];if(T!==j){let C=[...T];for(let x=0;x<z.length;x++){const I=z[x],M=Mh(I);E.includes(M)||(C.splice(x,0,I),J.push(I))}return u==="wait"&&J.length&&(C=J),$(YE(C)),W(T),null}const{forceRender:at}=ot.useContext(fy);return A.jsx(A.Fragment,{children:z.map(C=>{const x=Mh(C),I=c&&!g?!1:T===z||E.includes(x),M=()=>{if(O.current.has(x))return;if(O.current.add(x),H.has(x))H.set(x,!0);else return;let V=!0;H.forEach(U=>{U||(V=!1)}),V&&(at?.(),$(L.current),c&&y?.(),r&&r())};return A.jsx(HO,{isPresent:I,initial:!R.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:I?void 0:M,anchorX:m,children:C},x)})})},ox=ot.createContext({strict:!1}),QE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let XE=!1;function KO(){if(XE)return;const n={};for(const t in QE)n[t]={isEnabled:e=>QE[t].some(r=>!!e[r])};Ow(n),XE=!0}function lx(){return KO(),NP()}function YO(n){const t=lx();for(const e in n)t[e]={...t[e],...n[e]};Ow(t)}const QO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ef(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||QO.has(n)}let ux=n=>!Ef(n);function XO(n){typeof n=="function"&&(ux=t=>t.startsWith("on")?!Ef(t):n(t))}try{XO(require("@emotion/is-prop-valid").default)}catch{}function $O(n,t,e){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(ux(o)||e===!0&&Ef(o)||!t&&!Ef(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Qf=ot.createContext({});function WO(n,t){if(Yf(n)){const{initial:e,animate:r}=n;return{initial:e===!1||Vu(e)?e:void 0,animate:Vu(r)?r:void 0}}return n.inherit!==!1?t:{}}function JO(n){const{initial:t,animate:e}=WO(n,ot.useContext(Qf));return ot.useMemo(()=>({initial:t,animate:e}),[$E(t),$E(e)])}function $E(n){return Array.isArray(n)?n.join(" "):n}const Fy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cx(n,t,e){for(const r in t)!an(t[r])&&!Hw(r,e)&&(n[r]=t[r])}function ZO({transformTemplate:n},t){return ot.useMemo(()=>{const e=Fy();return Uy(e,t,n),Object.assign({},e.vars,e.style)},[t])}function t3(n,t){const e=n.style||{},r={};return cx(r,e,n),Object.assign(r,ZO(n,t)),r}function e3(n,t){const e={},r=t3(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const hx=()=>({...Fy(),attrs:{}});function n3(n,t,e,r){const o=ot.useMemo(()=>{const u=hx();return qw(u,t,Kw(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};cx(u,n.style,n),o.style={...u,...o.style}}return o}const i3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hy(n){return typeof n!="string"||n.includes("-")?!1:!!(i3.indexOf(n)>-1||/[A-Z]/u.test(n))}function s3(n,t,e,{latestValues:r},o,u=!1,c){const p=(c??Hy(n)?n3:e3)(t,r,o,n),g=$O(t,typeof n=="string",u),y=n!==ot.Fragment?{...g,...p,ref:e}:{},{children:T}=t,E=ot.useMemo(()=>an(T)?T.get():T,[T]);return ot.createElement(n,{...y,children:E})}function r3({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,o){return{latestValues:a3(e,r,o,n),renderState:t()}}function a3(n,t,e,r){const o={},u=r(n,{});for(const E in u)o[E]=Yh(u[E]);let{initial:c,animate:m}=n;const p=Yf(n),g=Pw(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const T=y?m:c;if(T&&typeof T!="boolean"&&!Kf(T)){const E=Array.isArray(T)?T:[T];for(let R=0;R<E.length;R++){const L=Vy(n,E[R]);if(L){const{transitionEnd:H,transition:O,...j}=L;for(const W in j){let z=j[W];if(Array.isArray(z)){const $=y?z.length-1:0;z=z[$]}z!==null&&(o[W]=z)}for(const W in H)o[W]=H[W]}}}return o}const fx=n=>(t,e)=>{const r=ot.useContext(Qf),o=ot.useContext(Gf),u=()=>r3(n,t,r,o);return e?u():dy(u)},o3=fx({scrapeMotionValuesFromProps:By,createRenderState:Fy}),l3=fx({scrapeMotionValuesFromProps:Yw,createRenderState:hx}),u3=Symbol.for("motionComponentSymbol");function c3(n,t,e){const r=ot.useRef(e);ot.useInsertionEffect(()=>{r.current=e});const o=ot.useRef(null);return ot.useCallback(u=>{u&&n.onMount?.(u),t&&(u?t.mount(u):t.unmount());const c=r.current;if(typeof c=="function")if(u){const m=c(u);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const dx=ot.createContext({});function uu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function h3(n,t,e,r,o,u){const{visualElement:c}=ot.useContext(Qf),m=ot.useContext(ox),p=ot.useContext(Gf),g=ot.useContext(zy).reducedMotion,y=ot.useRef(null);r=r||m.renderer,!y.current&&r&&(y.current=r(n,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:u}));const T=y.current,E=ot.useContext(dx);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&f3(y.current,e,o,E);const R=ot.useRef(!1);ot.useInsertionEffect(()=>{T&&R.current&&T.update(e,p)});const L=e[Tw],H=ot.useRef(!!L&&!window.MotionHandoffIsComplete?.(L)&&window.MotionHasOptimisedAnimation?.(L));return LA(()=>{T&&(R.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),H.current&&T.animationState&&T.animationState.animateChanges())}),ot.useEffect(()=>{T&&(!H.current&&T.animationState&&T.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(L)}),H.current=!1),T.enteringChildren=void 0)}),T}function f3(n,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:mx(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&uu(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:p,layoutRoot:g})}function mx(n){if(n)return n.options.allowProjection!==!1?n.projection:mx(n.parent)}function Sp(n,{forwardMotionProps:t=!1,type:e}={},r,o){r&&YO(r);const u=e?e==="svg":Hy(n),c=u?l3:o3;function m(g,y){let T;const E={...ot.useContext(zy),...g,layoutId:d3(g)},{isStatic:R}=E,L=JO(g),H=c(g,R);if(!R&&OA){m3();const O=p3(E);T=O.MeasureLayout,L.visualElement=h3(n,H,E,o,O.ProjectionNode,u)}return A.jsxs(Qf.Provider,{value:L,children:[T&&L.visualElement?A.jsx(T,{visualElement:L.visualElement,...E}):null,s3(n,g,c3(H,L.visualElement,y),H,R,t,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=ot.forwardRef(m);return p[u3]=n,p}function d3({layoutId:n}){const t=ot.useContext(fy).id;return t&&n!==void 0?t+"-"+n:n}function m3(n,t){ot.useContext(ox).strict}function p3(n){const t=lx(),{drag:e,layout:r}=t;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e?.isEnabled(n)||r?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function g3(n,t){if(typeof Proxy>"u")return Sp;const e=new Map,r=(u,c)=>Sp(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,Sp(c,void 0,n,t)),e.get(c))})}const y3=(n,t)=>t.isSVG??Hy(n)?new QP(t):new FP(t,{allowProjection:n!==ot.Fragment});class v3 extends Dr{constructor(t){super(t),t.animationState||(t.animationState=ZP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Kf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let _3=0;class T3 extends Dr{constructor(){super(...arguments),this.id=_3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const b3={animation:{Feature:v3},exit:{Feature:T3}};function Xu(n){return{point:{x:n.pageX,y:n.pageY}}}const E3=n=>t=>Oy(t)&&n(t,Xu(t));function _u(n,t,e,r){return Mu(n,t,E3(e),r)}const px=({current:n})=>n?n.ownerDocument.defaultView:null,WE=(n,t)=>Math.abs(n-t);function S3(n,t){const e=WE(n.x,t.x),r=WE(n.y,t.y);return Math.sqrt(e**2+r**2)}const JE=new Set(["auto","scroll"]);class gx{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=wp(this.lastMoveEventInfo,this.history),L=this.startEvent!==null,H=S3(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!L&&!H)return;const{point:O}=R,{timestamp:j}=We;this.history.push({...O,timestamp:j});const{onStart:W,onMove:z}=this.handlers;L||(W&&W(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,R)},this.handlePointerMove=(R,L)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=Ap(L,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(R,L)=>{this.end();const{onEnd:H,onSessionEnd:O,resumeAnimation:j}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=wp(R.type==="pointercancel"?this.lastMoveEventInfo:Ap(L,this.transformPagePoint),this.history);this.startEvent&&H&&H(R,W),O&&O(R,W)},!Oy(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=Xu(t),g=Ap(p,this.transformPagePoint),{point:y}=g,{timestamp:T}=We;this.history=[{...y,timestamp:T}];const{onSessionStart:E}=e;E&&E(t,wp(g,this.history)),this.removeListeners=Ku(_u(this.contextWindow,"pointermove",this.handlePointerMove),_u(this.contextWindow,"pointerup",this.handlePointerUp),_u(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let e=t.parentElement;for(;e;){const r=getComputedStyle(e);(JE.has(r.overflowX)||JE.has(r.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-e.x,y:o.y-e.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),oe.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),xr(this.updatePoint)}}function Ap(n,t){return t?{point:t(n.point)}:n}function ZE(n,t){return{x:n.x-t.x,y:n.y-t.y}}function wp({point:n},t){return{point:n,delta:ZE(n,yx(t)),offset:ZE(n,A3(t)),velocity:w3(t,.1)}}function A3(n){return n[0]}function yx(n){return n[n.length-1]}function w3(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const o=yx(n);for(;e>=0&&(r=n[e],!(o.timestamp-r.timestamp>gs(t)));)e--;if(!r)return{x:0,y:0};const u=Qn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function x3(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?he(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?he(e,n,r.max):Math.min(n,e)),n}function tS(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function R3(n,{top:t,left:e,bottom:r,right:o}){return{x:tS(n.x,e,o),y:tS(n.y,t,r)}}function eS(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function C3(n,t){return{x:eS(n.x,t.x),y:eS(n.y,t.y)}}function I3(n,t){let e=.5;const r=fn(n),o=fn(t);return o>r?e=Iu(t.min,t.max-r,n.min):r>o&&(e=Iu(n.min,n.max-o,t.min)),Qi(0,1,e)}function D3(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Tg=.35;function N3(n=Tg){return n===!1?n=0:n===!0&&(n=Tg),{x:nS(n,"left","right"),y:nS(n,"top","bottom")}}function nS(n,t,e){return{min:iS(n,t),max:iS(n,e)}}function iS(n,t){return typeof n=="number"?n:n[t]||0}const V3=new WeakMap;class M3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{e?(this.stopAnimation(),this.snapToCursor(Xu(T).point)):this.pauseAnimation()},c=(T,E)=>{this.stopAnimation();const{drag:R,dragPropagation:L,onDragStart:H}=this.getProps();if(R&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_P(R),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(j=>{let W=this.getAxisMotionValue(j).get()||0;if(Gi.test(W)){const{projection:z}=this.visualElement;if(z&&z.layout){const $=z.layout.layoutBox[j];$&&(W=fn($)*(parseFloat(W)/100))}}this.originPoint[j]=W}),H&&oe.postRender(()=>H(T,E)),dg(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},m=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E;const{dragPropagation:R,dragDirectionLock:L,onDirectionLock:H,onDrag:O}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:j}=E;if(L&&this.currentDirection===null){this.currentDirection=k3(j),this.currentDirection!==null&&H&&H(this.currentDirection);return}this.updateAxis("x",E.point,j),this.updateAxis("y",E.point,j),this.visualElement.render(),O&&O(T,E)},p=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E,this.stop(T,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Kn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new gx(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:px(this.visualElement),element:this.visualElement.current})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&oe.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!kh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=x3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&uu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=R3(r.layoutBox,t):this.constraints=!1,this.elastic=N3(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=D3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!uu(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=OP(r,o.root,this.visualElement.getTransformPagePoint());let c=C3(o.layout.layoutBox,u);if(e){const m=e(MP(c));this.hasMutatedConstraints=!!m,m&&(c=jw(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Kn(y=>{if(!kh(y,e,this.currentDirection))return;let T=p&&p[y]||{};c&&(T={min:0,max:0});const E=o?200:1e6,R=o?40:1e7,L={type:"inertia",velocity:r?t[y]:0,bounceStiffness:E,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(y,L)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return dg(this.visualElement,t),r.start(Ny(t,r,0,e,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(e=>{const{drag:r}=this.getProps();if(!kh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e],p=u.get()||0;u.set(t[e]-he(c,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!uu(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Kn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=I3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!kh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(he(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;V3.set(this.visualElement,this);const t=this.visualElement.current,e=_u(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&!Vw(p.target)&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();uu(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),oe.read(r);const c=Mu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Kn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=p[y].translate,T.set(T.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Tg,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function kh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function k3(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class P3 extends Dr{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new M3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const sS=n=>(t,e)=>{n&&oe.postRender(()=>n(t,e))};class O3 extends Dr{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new gx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:px(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:sS(t),onStart:sS(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&oe.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let xp=!1;class L3 extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),xp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,xp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||oe.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Py.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;xp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vx(n){const[t,e]=ax(),r=ot.useContext(fy);return A.jsx(L3,{...n,layoutGroup:r,switchLayoutGroup:ot.useContext(dx),isPresent:t,safeToRemove:e})}const j3={pan:{Feature:O3},drag:{Feature:P3,ProjectionNode:rx,MeasureLayout:vx}};function rS(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&oe.postRender(()=>u(t,Xu(t)))}class U3 extends Dr{mount(){const{current:t}=this.node;t&&(this.unmount=TP(t,(e,r)=>(rS(this.node,r,"Start"),o=>rS(this.node,o,"End"))))}unmount(){}}class B3 extends Dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ku(Mu(this.node.current,"focus",()=>this.onFocus()),Mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aS(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&oe.postRender(()=>u(t,Xu(t)))}class z3 extends Dr{mount(){const{current:t}=this.node;t&&(this.unmount=SP(t,(e,r)=>(aS(this.node,r,"Start"),(o,{success:u})=>aS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bg=new WeakMap,Rp=new WeakMap,F3=n=>{const t=bg.get(n.target);t&&t(n)},H3=n=>{n.forEach(F3)};function q3({root:n,...t}){const e=n||document;Rp.has(e)||Rp.set(e,{});const r=Rp.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(H3,{root:n,...t})),r[o]}function G3(n,t,e){const r=q3(t);return bg.set(n,e),r.observe(n),()=>{bg.delete(n),r.unobserve(n)}}const K3={some:0,all:1};class Y3 extends Dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:K3[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),E=g?y:T;E&&E(p)};return G3(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(Q3(t,e))&&this.startObserver()}unmount(){}}function Q3({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const X3={inView:{Feature:Y3},tap:{Feature:z3},focus:{Feature:B3},hover:{Feature:U3}},$3={layout:{ProjectionNode:rx,MeasureLayout:vx}},W3={...b3,...X3,...j3,...$3},Eg=g3(W3,y3),J3=({restaurants:n,onFinish:t})=>{const[e,r]=ot.useState(0),[o,u]=ot.useState({like:[],pass:[]}),c=n[e],m=p=>{const g=n[e];u(y=>({...y,[p]:[...y[p],g.id]})),e<n.length-1?r(e+1):t({like:[...o.like,p==="like"?g.id:null].filter(Boolean)})};return c?A.jsxs("div",{className:"relative w-full max-w-sm mx-auto h-[500px] flex flex-col items-center justify-center",children:[A.jsxs("div",{className:"absolute top-[-40px] flex justify-between w-full px-4 text-xs font-black uppercase tracking-widest text-gray-400",children:[A.jsx("span",{className:"text-red-500",children:" Swipe Left to Pass"}),A.jsx("span",{className:"text-green-500",children:"Swipe Right to Like "})]}),A.jsx(GO,{mode:"wait",children:A.jsxs(Eg.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(p,g)=>{g.offset.x>100?m("like"):g.offset.x<-100&&m("pass")},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{x:200,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"w-full h-full bg-white dark:bg-gray-800 rounded-3xl shadow-2xl relative overflow-hidden flex flex-col cursor-grab active:cursor-grabbing border border-gray-100 dark:border-gray-700",children:[A.jsxs("div",{className:"w-full h-2/3 bg-gray-200 dark:bg-gray-700 relative",children:[A.jsx("img",{src:c.photoUrl||`https://via.placeholder.com/400x600?text=${encodeURIComponent(c.name)}`,alt:c.name,className:"w-full h-full object-cover"}),A.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:A.jsxs("span",{className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full shadow-lg",children:[c.priceLevel||"$$","  ",c.rating," "]})})]}),A.jsxs("div",{className:"p-6 flex flex-col h-1/3 justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white truncate",children:c.name}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-1",children:c.address})]}),A.jsx("div",{className:"flex gap-4",children:A.jsxs("a",{href:c.mapsUrl||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${c.name}, ${c.address}`)}`,target:"_blank",rel:"noreferrer",className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 dark:text-gray-300 text-gray-700 text-center rounded-xl text-sm font-bold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",onClick:p=>p.stopPropagation(),children:[A.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"})}),"Google Maps"]})})]})]},c.id)}),A.jsxs("div",{className:"mt-12 flex gap-8",children:[A.jsx("button",{onClick:()=>m("pass"),className:"w-16 h-16 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg text-red-500 hover:scale-110 active:scale-95 transition-all border border-red-100 dark:border-red-900/30",children:A.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),A.jsx("button",{onClick:()=>m("like"),className:"w-16 h-16 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg text-green-500 hover:scale-110 active:scale-95 transition-all border border-green-100 dark:border-green-900/30",children:A.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),A.jsxs("p",{className:"mt-8 text-sm text-gray-500",children:[e+1," / ",n.length]})]}):A.jsx("div",{className:"text-center py-20 font-bold",children:"No restaurants to display"})},Z3=({session:n,timeLeft:t,currentUser:e,handleEndVotingEarly:r,loading:o})=>{const u=n.participants||[],c=n.participantPreferences||{},m=n.restaurantVotes||{},p=n.hostId===e?.uid;return A.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white mt-12",children:[A.jsxs("div",{className:"mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800",children:[A.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Time Remaining"}),A.jsx("p",{className:"text-4xl font-mono font-black text-blue-700 dark:text-blue-300",children:t||"--:--"})]}),A.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full text-blue-600",children:A.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),A.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Votes Being Cast!"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Waiting for everyone to finish swiping. Next: The Amidakuji Game!"}),A.jsx("div",{className:"space-y-4 mb-8",children:u.map(g=>{const y=!!m[g],E=(c[g]||{}).nickname||(g===e?.uid?"You":`Player ${g.slice(0,4)}`),R=g===e?.uid;return A.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border-2 transition-all duration-500 ${y?"bg-blue-50 dark:bg-blue-900/10 border-blue-100 dark:border-blue-800 opacity-100":"bg-gray-50 dark:bg-gray-900/30 border-transparent opacity-40 grayscale"}`,children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${y?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"}`,children:E.charAt(0).toUpperCase()}),A.jsxs("div",{className:"text-left",children:[A.jsx("p",{className:`font-bold ${R?"text-blue-600":""}`,children:E}),A.jsx("p",{className:"text-[10px] uppercase font-black tracking-widest text-gray-400",children:y?" Ready":" Swiping..."})]})]}),y?A.jsx("span",{className:"text-blue-500",children:A.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:A.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}):A.jsxs("div",{className:"flex gap-1",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-gray-300 rounded-full animate-bounce"}),A.jsx("span",{className:"w-1.5 h-1.5 bg-gray-300 rounded-full animate-bounce",style:{animationDelay:"200ms"}})]})]},g)})}),p&&A.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-700",children:[A.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You can end the voting phase early if everyone is ready!"}),A.jsx("button",{onClick:r,disabled:o,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl shadow-lg hover:scale-[1.02] transition-all",children:o?"Processing...":"End Voting Phase Early "})]})]})},t6=({sessionId:n,restaurants:t,currentUser:e,sessionData:r,onFinish:o})=>{const[u,c]=ot.useState([]),[m,p]=ot.useState(null),[g,y]=ot.useState(!1),[T,E]=ot.useState([]),[R,L]=ot.useState(null),H=600,O=800,j=100,W=150,z=5,$=H/z,J=Array.from({length:z},(ct,vt)=>$*vt+$/2),at=j+20,C=O-W-20,x=Array.from({length:z},(ct,vt)=>{const K=r.amidakuji?.results?.[vt];return K?t.find(et=>et.id===K)||{name:"???"}:t[vt%t.length]||{name:"???"}}),I=()=>{const ct=[],vt=z-1,K=5;for(let et=0;et<vt;et++){let lt=0;for(;lt<K;){const At=at+Math.random()*(C-at);ct.filter(k=>k.lane===et).some(k=>Math.abs(k.y-At)<25)||(ct.push({lane:et,y:At}),lt++)}}c(ct.sort((et,lt)=>et.y-lt.y))};ot.useEffect(()=>{I()},[]);const M=ct=>{if(g||R)return;const vt=ct.currentTarget,K=vt.createSVGPoint();K.x=ct.clientX,K.y=ct.clientY;const et=K.matrixTransform(vt.getScreenCTM().inverse());if(et.y<at||et.y>C)return;const lt=Math.floor(et.x/$);if(lt>=0&&lt<z-1){const At={lane:lt,y:et.y};c(Mt=>[...Mt,At].sort((k,nt)=>k.y-nt.y))}},V=ct=>{const vt=[];let K=ct,et=j;vt.push({x:J[K],y:j});for(const lt of u)lt.y<et||(lt.lane===K?(vt.push({x:J[K],y:lt.y}),K=K+1,vt.push({x:J[K],y:lt.y}),et=lt.y):lt.lane===K-1&&(vt.push({x:J[K],y:lt.y}),K=K-1,vt.push({x:J[K],y:lt.y}),et=lt.y));return vt.push({x:J[K],y:O-W}),{points:vt,finalIndex:K}},U=()=>{if(m===null){alert("Please select a starting lane (tap a number at the top)!");return}const{points:ct,finalIndex:vt}=V(m);E(ct),y(!0),L(null);const K=ct.length*.3;setTimeout(()=>{y(!1);const et=x[vt];L(et),o(et)},K*1e3)},D=T.map(ct=>`${ct.x},${ct.y}`).join(" ");return A.jsxs("div",{className:"flex flex-col items-center w-full h-full max-w-4xl mx-auto",children:[A.jsxs("div",{className:"flex gap-4 mb-4 z-10",children:[A.jsx("button",{onClick:()=>{c([]),I(),E([]),L(null),p(null)},disabled:g,className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-bold rounded-xl shadow hover:bg-gray-300 transition-all",children:"Reset Board"}),A.jsx("button",{onClick:U,disabled:g||m===null,className:"px-8 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold rounded-xl shadow-lg hover:scale-105 disabled:opacity-50 disabled:scale-100 transition-all",children:"Start Game"})]}),A.jsx("div",{className:"relative w-full aspect-[3/4] bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden border-4 border-gray-100 dark:border-gray-700",children:A.jsxs("svg",{viewBox:`0 0 ${H} ${O}`,className:"w-full h-full cursor-pointer",onClick:M,preserveAspectRatio:"xMidYMid meet",children:[A.jsx("defs",{children:A.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[A.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),A.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),J.map((ct,vt)=>A.jsx("line",{x1:ct,y1:j,x2:ct,y2:O-W,stroke:"currentColor",strokeWidth:"4",className:"text-gray-300 dark:text-gray-600",strokeLinecap:"round"},`lane-${vt}`)),u.map((ct,vt)=>{const K=J[ct.lane],et=J[ct.lane+1];return A.jsx("line",{x1:K,y1:ct.y,x2:et,y2:ct.y,stroke:"#3B82F6",strokeWidth:"6",strokeLinecap:"round"},`rung-${vt}`)}),J.map((ct,vt)=>A.jsxs("g",{onClick:K=>{K.stopPropagation(),p(vt)},className:"cursor-pointer hover:opacity-80",children:[A.jsx("circle",{cx:ct,cy:j-40,r:"25",fill:m===vt?"#2563EB":"#E5E7EB",className:"transition-colors duration-200"}),A.jsx("text",{x:ct,y:j-32,textAnchor:"middle",fill:m===vt?"white":"#6B7280",fontSize:"20",fontWeight:"bold",pointerEvents:"none",children:vt+1})]},`btn-${vt}`)),x.map((ct,vt)=>A.jsxs("g",{children:[A.jsx("line",{x1:J[vt],y1:O-W,x2:J[vt],y2:O-W+20,stroke:"currentColor",strokeWidth:"2",className:"text-gray-300"}),A.jsx("foreignObject",{x:J[vt]-$/2+2,y:O-W+20,width:$-4,height:"120",children:A.jsxs("div",{className:"flex flex-col items-center justify-start h-full p-1 text-center",children:[A.jsx("div",{className:`w-12 h-12 rounded-xl mb-1 flex items-center justify-center overflow-hidden shadow-sm border-2 ${R?.id===ct.id?"border-yellow-500 ring-2 ring-yellow-300":"border-gray-200"}`,children:ct.photoUrl?A.jsx("img",{src:ct.photoUrl,alt:ct.name,className:"w-full h-full object-cover"}):A.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-xl",children:""})}),A.jsx("span",{className:`text-[10px] font-bold leading-tight line-clamp-2 ${R?.id===ct.id?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400"}`,children:ct.name})]})})]},`target-${vt}`)),g&&A.jsx(A.Fragment,{children:A.jsx(Eg.polyline,{points:D,fill:"none",stroke:"#FBBF24",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:T.length*.3,ease:"linear"},filter:"url(#glow)"})})]})}),R&&A.jsxs(Eg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-2xl border-4 border-yellow-400 text-center z-50 pointer-events-none",children:[A.jsx("p",{className:"text-gray-500 uppercase tracking-widest font-bold mb-2",children:"The Chosen One"}),A.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:R.name}),A.jsx("p",{className:"text-xl",children:""})]})]})},e6=({session:n,timeLeft:t,restaurants:e,currentUser:r})=>{const o=n.participants||[],u=n.participantPreferences||{},c=n.amidakujiResults||{};return A.jsxs("div",{className:"max-w-xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl text-center text-gray-900 dark:text-white mt-12",children:[A.jsxs("div",{className:"mb-8 p-6 bg-red-50 dark:bg-red-900/20 rounded-2xl border-2 border-red-100 dark:border-red-800 shadow-inner",children:[A.jsx("p",{className:"text-xs font-black text-red-500 dark:text-red-400 uppercase tracking-[0.2em] mb-2",children:"Final Countdown"}),A.jsx("p",{className:"text-6xl font-mono font-black text-red-600 dark:text-red-400 animate-pulse drop-shadow-sm",children:t||"00:00"})]}),A.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[A.jsx("div",{className:"h-[2px] w-8 bg-gray-200 dark:bg-gray-700"}),A.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight italic",children:"Waiting Room"}),A.jsx("div",{className:"h-[2px] w-8 bg-gray-200 dark:bg-gray-700"})]}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 text-sm",children:"Fate is being decided. Once the timer ends, the group winner will be revealed!"}),A.jsx("div",{className:"space-y-4",children:o.map(m=>{const p=!!c[m],y=(u[m]||{}).nickname||(m===r?.uid?"You":`Player ${m.slice(0,4)}`),T=c[m],E=n.amidakuji?.ranking?.find(L=>L.id===T),R=m===r?.uid;return A.jsxs("div",{className:`flex items-center justify-between p-5 rounded-2xl transition-all duration-500 border-2 ${p?"bg-green-50 dark:bg-green-900/10 border-green-100 dark:border-green-800 opacity-100":"bg-gray-50 dark:bg-gray-900/30 border-transparent opacity-40 grayscale-[0.5]"}`,children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-black text-lg ${p?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:y.charAt(0).toUpperCase()}),A.jsxs("div",{className:"text-left",children:[A.jsxs("p",{className:`font-black ${R?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:[y," ",R&&"(Me)"]}),A.jsx("p",{className:`text-xs font-bold uppercase ${p?"text-green-600":"text-gray-500"}`,children:p?" Finished":" Playing..."})]})]}),p?A.jsxs("div",{className:"flex flex-col items-end max-w-[150px]",children:[A.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-tighter mb-1",children:"Won Slot"}),A.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700",children:[A.jsx("div",{className:"w-6 h-6 rounded bg-gray-100 dark:bg-gray-900 overflow-hidden flex-shrink-0",children:E?.photoUrl?A.jsx("img",{src:E.photoUrl,alt:"Won",className:"w-full h-full object-cover"}):A.jsx("span",{className:"text-[10px] flex items-center justify-center h-full",children:""})}),A.jsx("p",{className:"text-xs font-black truncate",children:E?.name||"???"})]})]}):A.jsxs("div",{className:"flex gap-1",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-gray-300 rounded-full animate-bounce"}),A.jsx("span",{className:"w-1.5 h-1.5 bg-gray-300 rounded-full animate-bounce",style:{animationDelay:"200ms"}}),A.jsx("span",{className:"w-1.5 h-1.5 bg-gray-300 rounded-full animate-bounce",style:{animationDelay:"400ms"}})]})]},m)})}),A.jsxs("div",{className:"mt-12 flex flex-col items-center",children:[A.jsx("div",{className:"w-12 h-1 shadow-inner bg-gray-100 dark:bg-gray-700 rounded-full mb-4"}),A.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"GatheringFun Engine v1.0"})]})]})},n6=({session:n,setMode:t})=>{const{finalChoice:e,finalRanking:r,startDate:o,name:u}=n,c=()=>{const p=e.mapsUrl||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${e.name} ${e.address}`)}`;window.open(p,"_blank")},m=()=>{const p=encodeURIComponent(`Gathering: ${u}`),g=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${e.name} ${e.address}`)}`,y=e.mapsUrl||g,T=encodeURIComponent(`Restaurant: ${e.name}
Address: ${e.address}
Map: ${y}`),R=(n.finalDate||o).replace(/-/g,""),L=`${R}T120000Z`,H=`${R}T140000Z`,O=`https://www.google.com/calendar/render?action=TEMPLATE&text=${p}&details=${T}&location=${encodeURIComponent(e.address)}&dates=${L}/${H}`;window.open(O,"_blank")};return A.jsxs("div",{className:"max-w-2xl mx-auto p-12 bg-white dark:bg-gray-800 rounded-[3rem] shadow-2xl text-center border-4 border-yellow-400",children:[A.jsx("div",{className:"mb-8",children:A.jsx("span",{className:"px-6 py-2 bg-yellow-400 text-yellow-900 text-sm font-black rounded-full uppercase tracking-tighter",children:"Your Solemate!"})}),A.jsx("h1",{className:"text-6xl font-black text-gray-900 dark:text-white mb-4",children:e.name}),A.jsx("p",{className:"text-xl text-gray-500 dark:text-gray-400 mb-8",children:e.address}),A.jsx("div",{className:"grid grid-cols-3 gap-2 mb-8",children:e.images&&e.images.length>0?e.images.slice(0,3).map((p,g)=>A.jsx("div",{className:"aspect-square rounded-xl overflow-hidden shadow-md",children:A.jsx("img",{src:p,alt:"Food",className:"w-full h-full object-cover hover:scale-110 transition-transform duration-500"})},g)):[1,2,3].map(p=>A.jsx("div",{className:"aspect-square rounded-xl bg-gray-200 dark:bg-gray-700 animate-pulse"},p))}),A.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-8 rounded-[2rem] mb-10 border border-blue-100/50 dark:border-blue-800/30 shadow-xl relative overflow-hidden group text-left",children:[A.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:A.jsx("span",{className:"text-6xl",children:""})}),A.jsx("h3",{className:"text-gray-400 dark:text-gray-500 uppercase font-black tracking-[0.2em] text-[10px] mb-4 flex items-center gap-2",children:"Winning Schedule"}),A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsx("div",{className:"flex items-center justify-between",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 bg-white dark:bg-gray-800 rounded-xl shadow-sm flex items-center justify-center text-xl",children:""}),A.jsxs("div",{className:"text-left",children:[A.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Selected Date"}),A.jsx("p",{className:"font-black text-gray-900 dark:text-white",children:n.finalDate||o})]})]})}),A.jsx("div",{className:"flex items-center justify-between",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 bg-white dark:bg-gray-800 rounded-xl shadow-sm flex items-center justify-center text-xl",children:""}),A.jsxs("div",{className:"text-left",children:[A.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Selected Time"}),A.jsx("p",{className:"font-black text-gray-900 dark:text-white",children:n.finalTime||"TBD"})]})]})})]})]}),A.jsxs("div",{className:"mb-10 text-left",children:[A.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[A.jsx("span",{className:"p-1 bg-blue-100 dark:bg-blue-900/30 rounded text-blue-600 dark:text-blue-400",children:""}),"Popularity Ranking"]}),A.jsx("div",{className:"space-y-2",children:r&&r.map((p,g)=>A.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-transparent hover:border-gray-200 transition-all",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:`w-6 h-6 flex items-center justify-center rounded-full text-xs font-black ${g===0?"bg-yellow-400 text-yellow-900":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-400"}`,children:g+1}),A.jsx("span",{className:"font-medium dark:text-white",children:p.name||"Unknown"})]}),A.jsxs("span",{className:"text-xs font-black text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-3 py-1 rounded-full border border-blue-100 dark:border-blue-800",children:[p.votes," ",p.votes===1?"vote":"votes"]})]},p.id))})]}),A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsxs("button",{onClick:c,className:"w-full py-5 bg-gradient-to-r from-red-500 to-pink-500 text-white font-black rounded-2xl shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all flex items-center justify-center gap-3",children:[A.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"})}),"View on Google Maps"]}),A.jsxs("button",{onClick:m,className:"w-full py-5 bg-blue-600 text-white font-black rounded-2xl shadow-xl hover:bg-blue-700 hover:scale-[1.02] transition-all flex items-center justify-center gap-3",children:[A.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM7 11h5v5H7z"})}),"Add to Google Calendar"]}),A.jsx("button",{onClick:()=>t("home"),className:"py-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-sm font-bold uppercase tracking-widest",children:" Start New Gathering"})]})]})},i6=async n=>{try{if(!window.google||!window.google.maps)return console.warn("Google Maps SDK not loaded, falling back to mock data"),await Cp(n);const{Place:t}=await google.maps.importLibrary("places"),e=n.locations&&n.locations.length>0?n.locations.slice(0,3):["Taiwan"],r=n.cuisines?.length>0?n.cuisines.join(" "):"restaurant",o=[];console.log(`Starting Live Search for: ${r} in ${e.join(", ")}`);for(const g of e){const y={textQuery:`${r} in ${g}`,fields:["id","displayName","formattedAddress","rating","priceLevel","photos","googleMapsURI"],maxResultCount:20};try{const{places:T}=await t.searchByText(y);if(T&&T.length>0){const E=T.map(R=>{const L=typeof R.displayName=="object"?R.displayName.text:R.displayName||"Unnamed Restaurant",O={PRICE_LEVEL_FREE:0,PRICE_LEVEL_INEXPENSIVE:200,PRICE_LEVEL_MODERATE:400,PRICE_LEVEL_EXPENSIVE:700,PRICE_LEVEL_VERY_EXPENSIVE:1e3}[R.priceLevel]||400;return{id:R.id,name:L,rating:R.rating||0,priceLevel:O,address:R.formattedAddress||"Address not available",cuisine:n.cuisines?.[0]||"Restaurant",location:g,mapsUrl:R.googleMapsURI||`https://www.google.com/maps/search/?api=1&query=google_place_id:${R.id}`,photoUrl:R.photos?.[0]?.getURI({maxWidth:600,maxHeight:400})||`https://via.placeholder.com/400x300?text=${encodeURIComponent(L)}`,images:R.photos&&R.photos.length>0?R.photos.slice(0,3).map(j=>j.getURI({maxWidth:800,maxHeight:600})):[`https://via.placeholder.com/400x300?text=${encodeURIComponent(L)}`]}});o.push(...E)}}catch(T){if(console.error(`Search failed for ${g}. Error Details:`,T),T.name==="MapsRequestError"&&T.message.includes("PERMISSION_DENIED"))throw T}}const u=Array.from(new Map(o.map(g=>[g.id,g])).values());if(u.length===0)return console.warn("Live Search returned no results. Falling back to mock."),await Cp(n);const c=n.minPrice||0,m=n.maxPrice||5e3,p=u.filter(g=>g.rating>=4&&g.priceLevel>=c&&g.priceLevel<=m);return console.log(`Process Complete. Found ${u.length} unique, ${p.length} matching preferences.`),p.length>0?p.slice(0,20):u.slice(0,20)}catch(t){return console.error("Critical error in fetchRestaurantsLive:",t),await Cp(n)}},Cp=n=>new Promise(t=>{setTimeout(()=>{const r=[{id:"m1",name:"Tasty Taiwan (Mock)",rating:4.5,priceLevel:200,address:"Xinyi District, Taipei",cuisine:"Taiwanese",location:"Taipei City () - Xinyi ()",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/FF6B6B/FFFFFF?text=Tasty+Taiwan",images:["https://via.placeholder.com/400x300/FF6B6B/FFFFFF?text=Tasty+Taiwan"]},{id:"m2",name:"Malay Feast (Mock)",rating:4.2,priceLevel:150,address:"Bukit Bintang, KL",cuisine:"Malay",location:"Kuala Lumpur - Bukit Bintang",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/4ECDC4/FFFFFF?text=Malay+Feast",images:["https://via.placeholder.com/400x300/4ECDC4/FFFFFF?text=Malay+Feast"]},{id:"m3",name:"Ipoh Bean Chicken (Mock)",rating:4.9,priceLevel:100,address:"Ipoh, Perak",cuisine:"Chinese",location:"Perak - Ipoh",mapsUrl:"",photoUrl:"https://via.placeholder.com/400x300/F38181/FFFFFF?text=Ipoh+Chicken",images:["https://via.placeholder.com/400x300/F38181/FFFFFF?text=Ipoh+Chicken"]}].filter(o=>{const u=n.minPrice||0,c=n.maxPrice||1e4;return o.rating>=4&&o.priceLevel>=u&&o.priceLevel<=c});t(r)},500)});function s6(){const[n,t]=ot.useState(null),[e,r]=ot.useState(!1),[o,u]=ot.useState("home"),[c,m]=ot.useState(""),[p,g]=ot.useState(""),[y,T]=ot.useState([]);ot.useEffect(()=>{const W=new URLSearchParams(window.location.search).get("id");W&&(m(W),u("join"))},[]),ot.useEffect(()=>{let j=()=>{};const W=n?.id||(c&&!["home","create","join"].includes(o)?c:null);return W&&(j=ck(hi(ui,"sessions",W),z=>{if(z.exists()){const $=z.data();t({id:z.id,...$});const J=He.currentUser?.uid,at=$.participantPreferences?.[J];$.status==="recruiting"&&at&&o!=="swiping"&&o!=="waiting_amidakuji"&&(E({id:z.id,...$}),u("swiping")),$.status==="amidakuji"&&o!=="amidakuji"&&o!=="waiting_result"&&o!=="finished"&&u("amidakuji"),$.status==="finished"&&o!=="finished"&&u("finished");const C=Object.keys($.amidakujiResults||{}).length,x=($.participants||[]).length;$.status==="amidakuji"&&C>=x&&x>0&&$.hostId===J&&y.length>0&&R($);const I=["swiping","waiting_amidakuji","amidakuji","waiting_result"].includes(o),M=o==="created"&&$.hostId===J;(I||M)&&y.length===0&&E($)}})),()=>j()},[n?.id,c,o]);const E=async j=>{if(!j)return;r(!0);const W=He.currentUser.uid,z=j.participantPreferences?.[W],$=z?.locations&&z.locations.length>0?z.locations:j.locations,J=z?.cuisines&&z.cuisines.length>0?z.cuisines:j.cuisines,at={minPrice:Number(j.minPrice),maxPrice:Number(j.maxPrice),locations:$||[],cuisines:J||[]},C=await i6(at);T(C),r(!1)};ot.useEffect(()=>{if(!n?.waitDeadline)return;const j=setInterval(()=>{const $=(n.waitDeadline.toDate?n.waitDeadline.toDate():new Date(n.waitDeadline))-new Date;if($<=0)g("00:00"),clearInterval(j),n.hostId===He.currentUser?.uid&&(n.status==="recruiting"?H():(n.status==="amidakuji"||n.status==="waiting_result")&&(y.length>0?R(n):console.warn("Timer reached 0 but restaurants not loaded. Waiting for background sync...")));else{const J=Math.floor($/6e4),at=Math.floor($%6e4/1e3);g(`${J}:${at<10?"0":""}${at}`)}},1e3);return()=>clearInterval(j)},[n,o]);const R=async j=>{let W=null;const z={};Object.values(j.restaurantVotes||{}).forEach(D=>{D.forEach(ct=>{z[ct]=(z[ct]||0)+1})});const $=Object.keys(z).sort((D,ct)=>z[ct]-z[D]).map(D=>{const ct=y.find(vt=>vt.id===D);return{id:D,votes:z[D],name:ct?.name||"Unknown Restaurant"}}),J=j.amidakujiResults||{},at={};Object.keys(J).length>0?(Object.values(J).forEach(D=>{at[D]=(at[D]||0)+1}),W=Object.keys(at).sort((D,ct)=>at[ct]-at[D])[0]):W=$[0]?.id||(y.length>0?y[0].id:null),!W&&y.length>0&&(W=y[0].id);const x=y.find(D=>D.id===W)||(y.length>0?y[0]:null),I={},M={};Object.values(j.participantPreferences||{}).forEach(D=>{(D.dates||[]).forEach(ct=>{I[ct]=(I[ct]||0)+1}),(D.timePeriods||[]).forEach(ct=>{M[ct]=(M[ct]||0)+1})});const V=Object.keys(I).sort((D,ct)=>I[ct]-I[D])[0]||j.startDate,U=Object.keys(M).sort((D,ct)=>M[ct]-M[D])[0]||j.timePeriods?.[0]||"TBD";x?await la(hi(ui,"sessions",j.id),{status:"finished",finalChoice:x,finalRanking:$,finalDate:V,finalTime:U}):await la(hi(ui,"sessions",j.id),{status:"finished",finalDate:V,finalTime:U})},L=async j=>{r(!0);try{He.currentUser||await FS(He);const W={...j,hostId:He.currentUser?.uid,status:"recruiting",createdAt:pf(),participants:[He.currentUser?.uid],waitDeadline:new Date(Date.now()+Number(j.waitMinutes)*6e4)},z=await uk(KM(ui,"sessions"),W);t({id:z.id,...W}),m(z.id),u("created")}catch(W){console.error("Error creating session:",W),W.code==="auth/unauthorized-domain"?alert(` DEPLOYMENT ERROR: This website is not authorized to use Firebase Authentication.

Please go to your Firebase Console -> Authentication -> Settings -> Authorized Domains and add 'llffhh.github.io' to the list.`):alert("Error creating session: "+W.message)}finally{r(!1)}},H=async()=>{if(!(!n?.id||n.status==="amidakuji")){r(!0);try{const j={};n.restaurantVotes&&Object.values(n.restaurantVotes).forEach(J=>{J.forEach(at=>{j[at]=(j[at]||0)+1})});const z=Object.keys(j).sort((J,at)=>j[at]-j[J]).slice(0,5);for(;z.length<5&&y.length>z.length;){const J=y.find(at=>!z.includes(at.id));if(J)z.push(J.id);else break}const $=z.map(J=>({id:J,name:y.find(at=>at.id===J)?.name||"Unknown",votes:j[J]||0}));await la(hi(ui,"sessions",n.id),{status:"amidakuji",amidakuji:{results:z,ranking:$},waitDeadline:new Date(Date.now()+18e4)})}catch(j){console.error("Error starting amidakuji:",j)}finally{r(!1)}}},O=async()=>{if(!(!n?.id||n.status!=="recruiting")){r(!0);try{await la(hi(ui,"sessions",n.id),{waitDeadline:new Date})}catch(j){console.error("Error ending voting early:",j)}finally{r(!1)}}};return A.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:[o==="home"&&A.jsx(fk,{setMode:u,joinId:c,setJoinId:m}),o==="create"&&A.jsxs("div",{className:"text-center",children:[A.jsx("button",{onClick:()=>u("home"),className:"mb-8 text-gray-500 hover:text-blue-500 mx-auto text-sm",children:" Back"}),A.jsx(hp,{onSubmit:L,loading:e})]}),o==="created"&&A.jsx(hp,{session:n,setSession:t,setMode:u,timeLeft:p}),o==="join"&&A.jsxs("div",{className:"text-center",children:[A.jsx("button",{onClick:()=>u("home"),className:"mb-8 text-gray-500 hover:text-purple-500 mx-auto text-sm",children:" Back"}),A.jsx(mk,{sessionId:c,onJoined:j=>u("waiting")})]}),o==="waiting"&&A.jsx(hp,{session:n,setSession:t,setMode:u,timeLeft:p}),o==="preferences"&&A.jsx(pk,{sessionData:n,onSubmit:async j=>{await la(hi(ui,"sessions",n.id),{[`participantPreferences.${He.currentUser.uid}`]:{...j,submittedAt:pf()}},{merge:!0}),await E({...n,participantPreferences:{[He.currentUser.uid]:j}}),u("swiping")},loading:e}),o==="swiping"&&A.jsxs("div",{className:"text-center",children:[A.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-12",children:"Vote for Restaurants"}),e?A.jsx("p",{className:"animate-pulse",children:"Loading menu..."}):A.jsx(J3,{restaurants:y,onFinish:async j=>{await la(hi(ui,"sessions",n.id),{[`restaurantVotes.${He.currentUser.uid}`]:j.like},{merge:!0}),u("waiting_amidakuji")}})]}),o==="waiting_amidakuji"&&A.jsx(Z3,{session:n,timeLeft:p,currentUser:He.currentUser,handleEndVotingEarly:O,loading:e}),o==="amidakuji"&&A.jsx(t6,{sessionId:n.id,restaurants:y,currentUser:He.currentUser,sessionData:n,onFinish:async j=>{await la(hi(ui,"sessions",n.id),{[`amidakujiResults.${He.currentUser.uid}`]:j.id},{merge:!0}),u("waiting_result")}}),o==="waiting_result"&&A.jsx(e6,{session:n,timeLeft:p,restaurants:y,currentUser:He.currentUser}),o==="finished"&&n?.finalChoice&&A.jsx(n6,{session:n,setMode:u})]})}sC.createRoot(document.getElementById("root")).render(A.jsx(ot.StrictMode,{children:A.jsx(s6,{})}));
